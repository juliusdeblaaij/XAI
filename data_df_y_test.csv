Refactor srctestresources in Dirt In the testmodulessource Rename source-config to packaged-source Rename source-config to packaged-source-no-lib All xml files should be prefixed with test ie testsource testsink Make sure all tests pass with new configuration,0
As a user Id like to be able to understand the root cause of an error on the http shell command When an exception occurs on an http shell command the user gets Failed to access http endpoint s target No information from the exception is conveyed to the user nor is it logged by the admin,1
As a user Id like to have an optional trace as inline deployment properties for stream so that I can declare which module in the stream needs to be traced for logging or notifications This gives the flexibility to track the stage progress between individual modules Example codexml xd stream create foo http log xd stream deploy foo --properties modulehttptracemodulelogtrace or xd stream deploy foo --properties moduletrace code Wildcard wiretap config httpdocsspringiospring-integrationreferencehtmlmessaging-channels-sectionhtmlchannel-global-wiretap,8
replace testsource with time and testsink with log This should facilitate testing while avoiding any class dependencies Also log is a generally useful sink by itself and time is a more interesting source for testing should accept --interval for the seconds between time messages,0
XD EC2 needs to bootstrap ZOOKEEPER at installation time Startup zookeeper on EC2 cluster instances,0
Separate Lifecycle of Input and Output adapter endpoints Described in httpsgithubcomspring-cloudspring-cloud-streamissues144 As a developer I want Input enpoints to be started after all the beans in the context so that received messages can be delivered to components,0
Add Spring IO Plugin to XD Gradle httpsgithubcomspring-projectsgradle-pluginstreemasterspring-io-plugin Allows us to create a springIoCheck that will verify the status of XDs dependencies as it stands with SpringIO We would need to add the dependencies as show in the document But we would need to add the if projecthasPropertyplatformVersion code segment to the configurejavaProjects,0
Refactor to use RestOperations The current implementation makes use of cf-java-client which is relatively heavy for our needs It should be removed in favour of a bespoke RestOperations wrapper See httpsgithubcomZtevetest-cc-oauth for sample code,0
Make in-memory meta data stores persistent Just wanted to create story for this - so we can consider whether this should be addressed In at least 2 modules we use non-persisted states We may want to consider making them persistent Twitter Search uses an in-memory MetadataStore that keeps track of the twitter ids There exists a corresponding issue for Spring Integration Create a Redis-backed MetadataStore See httpsjiraspringsourceorgbrowseINT-3085 File Soures File Inbound Channel Adapter uses a AcceptOnceFileListFilter which uses an in-memory Queue to keep track of duplicate files,0
As a s-c-d user Id like to have the option to choose Hadoop distribution of choice so I can load the right Hadoop libraries in the CP,5
File Sink should support Replace as an option currently the file sink only supports append User should support an overwrite feature,0
Add support for stream creation For stream creation we need to be able to specify source sink processor - filter - transformer - script etc,0
Container with redis as transport emits stack trace on shutdown This is harmless the attempt to brpop continues even after the connection itself has been closed but ugly code 124515084 ERROR redisInboundAdapter-redisqueue-inbound-channel-adapter1 inboundRedisQueueMessageDrivenEndpoint181 - Failed to execute listening task Will attempt to resubmit in 5000 milliseconds orgspringframeworkdataredisRedisSystemException Redis exception nested exception is comlambdaworksredisRedisException Connection closed orgspringframeworkdataredisconnectionlettuceLettuceExceptionConverterconvertLettuceExceptionConverterjava46 orgspringframeworkdataredisconnectionlettuceLettuceExceptionConverterconvertLettuceExceptionConverterjava36 orgspringframeworkdataredisconnectionlettuceLettuceConverterstoDataAccessExceptionLettuceConvertersjava159 orgspringframeworkdataredisconnectionlettuceLettuceConnectionconvertLettuceAccessExceptionLettuceConnectionjava253 orgspringframeworkdataredisconnectionlettuceLettuceConnectionbRPopLettuceConnectionjava1508 orgspringframeworkdatarediscoreDefaultListOperations12inRedisDefaultListOperationsjava163 orgspringframeworkdatarediscoreAbstractOperationsValueDeserializingRedisCallbackdoInRedisAbstractOperationsjava51 orgspringframeworkdatarediscoreRedisTemplateexecuteRedisTemplatejava185 orgspringframeworkdatarediscoreRedisTemplateexecuteRedisTemplatejava153 orgspringframeworkdatarediscoreAbstractOperationsexecuteAbstractOperationsjava86 orgspringframeworkdatarediscoreDefaultListOperationsrightPopDefaultListOperationsjava160 orgspringframeworkdatarediscoreDefaultBoundListOperationsrightPopDefaultBoundListOperationsjava105 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointpopMessageAndSendRedisQueueMessageDrivenEndpointjava178 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointaccess300RedisQueueMessageDrivenEndpointjava51 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointListenerTaskrunRedisQueueMessageDrivenEndpointjava286 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 javalangThreadrunThreadjava724 Caused by comlambdaworksredisRedisException Connection closed comlambdaworksredisRedisAsyncConnectionawaitRedisAsyncConnectionjava1079 comlambdaworksredisRedisConnectionawaitRedisConnectionjava820 comlambdaworksredisRedisConnectionbrpopRedisConnectionjava101 orgspringframeworkdataredisconnectionlettuceLettuceConnectionbRPopLettuceConnectionjava1506 12 more code We should shutdown the consumer gracefully ie before the connection is closed,0
Error in correlation strategy in aggregatorxml noformat correlation-strategy-expressioncorrelationxdstreamname noformat should be noformat correlation-strategy-expressioncorrelationxdstreamname noformat Add a test to make sure correlation expressions here work,0
Output modules cannot use minPartitionCount when sending to named channels If the output module is connected to a named channel cannot be set up the property minPartitionCount it is giving an exception Streams stream create f --definition queuefoo transform --expressionpayload-foo log stream create b --definition queuebar transform --expressionpayload-bar log stream deploy --name f --properties moduletransformcount2 stream deploy --name b --properties moduletransformcount2 stream create r --definition time router --expressionpayloadcontains10queuefooqueuebar stream deploy --name r --properties modulerouterproducerminPartitionCount20 The error is Caused by javalangIllegalArgumentException KafkaMessageBus does not support producer property minPartitionCount for queuebar at orgspringframeworkxddirtintegrationbusMessageBusSupportvalidatePropertiesMessageBusSupportjava781 spring-xd-messagebus-spi-121RELEASEjar121RELEASE,0
As a s-c-s developer Id like to investigate the right approach to port PHD as the provider to support HDFS module from XD so I can decide better handling of HDFS dependencies which needs loaded and available in root CP at the runtime,5
Upgrade to Spring Integration 410 As to prepare for 11 release we would like to upgrade to Spring Integration 410 RC so that we can leverage the new features enhancement and bug fixes,0
In ZooKeeperStreamRepositoryfindAllInRange the boolean parameters are not supported In ZooKeeperStreamRepositoryfindAllInRange the parameters boolean fromInclusive boolean toInclusive Dont have any effect implicitly true Are they needed Do we need to support it,0
Add Spring Cloud Config to SPI Module Parent Enable spring cloud config for all modules Add spring cloud config client to pom dependencies Add bootstrapyml to scs project,0
Provide an --override option to the module upload command When uploading a new version of a module the admin container if there is already an existing module the behavior should be to delete the existing contents of the module directory and replace it with that of the new upload jar This would be an optional parameter,0
As a PM Id like to have a static ghpages to organize the collateral such as samples tutorials links perf benchmarks and ref architectures so that its easy for anyone to quickly get up and running on XD,8
XD container doesnt need embedded servlet container if it uses specific management port Currently the XD container uses embedded tomcat only to support management server that acts as the RESTful server for boots actuator MVC and jolokia endpoints If the configuration is set to use a specific management port using the fixes addressed via XD-1122 then we dont need to have embedded tomcat servlet container in XD container,0
Create EC2 AMI for single-node install of Pivotal HD 11,0
JDBC property settings need to be made externally configurable We need to have a properties section documented as well so that users can setup their jdbc connections for the various components,0
As a developer Id like to refactor streamjob definition repository so I can decouple from module deployment concerns,8
Add JMS Acceptance Tests,0
Initial XD on CloudFoundry support First take on this involves - being able to deploy the two separate applications xd-admin xd-container - being able to CF-service provided redis rabbit for internal needs of XD - to some extent make modules smart and CF aware eg http source uses correct port,0
As a XD developer Id like to refactor and replace codec code from XD with SI library so I dont have to maintain duplicate code,3
Create subproject spring-xd-machine-learning-analytics This project contains core abstractions that will allow for multiple implementations of a machine learning algorithm to be implemented via integration with various existing libraries or custom code implementations The initial code for this has been developed in a separate github repo and is located here httpsgithubcomthomasdarimontspring-xdtreefeatureadvanced-analytics-supportspring-xd-analyticssrcmainjavaorgspringframeworkxdanalyticsmodel The model can assume its use in evaluation of the model inside a stream where the data structure is a Tuple Note it maybe useful to consider MessageTuple in case any metadata outside the core input data is required to help guide the evaluation The buildgradle file should be updated such that there is a new build artifact spring-xd-machine-learning-analyticsjar along the lines of our other build artifacts Open to other naming suggestions,0
As a developer Id like to add undeployed status for Mesos SPI so I can represent the correct status instead of the current unknown state,3
As a user Id like to refer to the analytics tab docs so I can understand how to use various widgets from streaming pipeline,2
Update to Spring Batch 30 RELEASE,0
Improve module deployment distribution When a container joins the XD cluster via ZooKeeper it triggers streamjob module deployments for modules that need to be deployed If multiple containers are being started at around the same time this can result in the first few containers taking all of the deployments while leaving the rest without any deployments To solve this we will introduce a quiet period where no deployments will be triggered within n seconds of a container joining where n will have a default value perhaps 5 to 10 seconds This value will be configurable,0
Add initialDelay to sourcetrigger Currently the sourcetrigger module is based on 3 profiles date cron or fixedDelay where the latter has precedence over the former in TriggerSourceOptionsMetadata codejava Override public String profilesToActivate if cron null return new String use-cron else if fixedDelay null return new String use-delay else return new String use-date code Therefore it is not possible to combine date and fixedDelay to start off at a specific point in time and then repeat every X seconds This is a request to provide another parameter to sourcetrigger such as initialDelay to be able to achieve the desired behaviour,0
StreamServer Context Lifecycle Issues The ModuleDeployer calls getBeansOfType before the context has had its PropertySourcesPlaceholderConfigurer attached This can cause issues with FactoryBean s with placeholders in constructor args because the unresolved placeholder is used when the FactoryBean is pre-instantiated to determine the type of object it will serve up,0
Create XD module for tail file adapter,0
Investigate running Camus as a batch job Similar to Sqoop where we move data from RDBMS to HDFS we should look at integrating with Camus to load data from Kafka to HDFS,0
REST endpointcommand interface for runtime module deployment properties We need a way to access the deployment properties for the deployed modules For example runtime module foosinkbar-2,0
Add stage to Acceptance Test EC2 build plan that runs a basic acceptance test application against the single-node deployment Run test application developed in XD-1245,0
KafkaSourceSinkTests to use embedded Kafka server Test is failing since Kafka isnt installed on the CI server Using an embedded server will make the testing more robust vs needing an external server,0
Enforce consistent naming across CLI options and commandtemplateoperations method names eg see comment on PR 390 httpsgithubcomspring-projectsspring-xdpull390filesr7563787 In that case its delete in one place and destroy in another There are other cases as well,0
Push xdstreamname into POJO defaults See XD-1283 Weve been waiting for 1283 to change constructs like noformat attrnamexdstreamname to just noformat attrname noformat Turns out we can simply push down the xdstreamname bit in the default value most likely initialization of a field in a POJO metadata class and it will work just fine We can also consider - providing a fake value for those placeholders to use when doing module info ie user will see name of the stream instead of xdstreamname,0
Update Batch Job docs to cover triggers as a source,0
Logging improvements Propose the following changes to our logging Create unique file names by including the pid in the file name - this allows each process in particular containers to maintain its own log file Use DailyRollingFileAppender to roll files over on a daily basis,0
Fix failing script integration test See httpsbuildspringiobrowseXD-SCRIPTS-723,0
Update to Spring Platform 101,0
Fix Sonar build Caused by that weird annotation dependency problem that I worked around for compile But Sonar complains One solution would be to add Jackson 2 to the Sonar classpath but I did not manage to do that,0
Add options for supporting compression on the message bus with RabbitMQ httpsjiraspringiobrowseAMQP-453 Added support for compression with RabbitMQ XD should expose configuration options to enable and configure compression on the message bus Note some options may be specific for brokers or require additional functionality in XD This issue should not address adding additional functionality to make the feature set as common as possible across msg bus implementations but expose what makes sense with the current code base for rabbitmq As an example Kafka supports compressedtopics which lets you pick a subset of topics to be compressed,0
Redis backed containers RedisQueueInboundChannelAdapter is not performant Currently the RedisQueueInboundChannelAdapter has blocking operation when pulling the messages out of redis queue and this is not performant There are few ideas from the discussion to make it better 1 Get more items from the redis queue per connection 2 We will also have compression of messagesat the channel registry before being sent to the redis queue We also need to investigate what redis connection strategy makes the RedisQueueInboundAdapter better,0
As a user Im trying to delete the custom module using the module delete command via shell though the command is successfully Im still seeing the associated artifact jar file present in the custommodules folder Refer to SO threadhttpstackoverflowcomquestions30984922springxd-module-delete-command-does-not-delete-the-uploaded-jar-file for more details,5
Basic Performance Test For syslog injestion,0
Create stories to enable the use of Spring Shells 20 branch testing facilities We need a few steps 1 Investigate if we need to move off Spring Shell 10 dependency eg need to use code in Spring Shell 20 branch 2 If we need to use code in Spring Shell 20 branch we need to release a Spring Shell 11 M1 release with appropriate code changes Create stories related to Shell release 3 Determine and document the basic recipe for doing integration tests 4 Create stories to provide integration tests for each existing command,0
Remove jersey test framework for xdlib distribution The jars jersey-test-framework-core-19jar jersey-test-framework-grizzly2-19jar are incorrectly classified as compile time deps in hadoop vs testCompile,0
EmbeddedHeadersMessageConverter Buffer Overflow See httpsgithubcomspring-projectsspring-xdissues1871,0
Fix hardcoded redis port from tests kparikh-mbprospring-xd kparikh grep -r 6379 grep java spring-xd-analyticssrctestjavaorgspringframeworkxdanalyticsmetricscommonRedisRepositoriesConfigjavacfsetPort6379 spring-xd-analyticssrctestjavaorgspringframeworkxdanalyticsmetricsintegrationGaugeHandlerTestsjavacfsetPort6379 spring-xd-analyticssrctestjavaorgspringframeworkxdanalyticsmetricsintegrationRichGaugeHandlerTestsjavacfsetPort6379 spring-xd-dirtsrctestjavaorgspringframeworkxddirtlistenerRedisContainerEventListenerTestjavacfsetPort6379,0
As a developer Id like to troubleshoot the performance issues with Rabbit as message bus implementation so I can isolate the bottleneck and fix as appropriate,8
Add test for filejdbc to test scripts The filejdbc jobs isnt included in the test scripts,0
JSR303 validation of options interferes with dsl completion When using a JSR303 annotated class for module options the binding failures should be bypassed as they interfere with completion proposals,0
Add support for tap foobar syntax in the DSL,0
Implement XDMODULECONFIGLOCATION NAME The description in the google doc httpsdocsgooglecomagopivotalcomdocumentd12Cboa7nyVVKVxDIsHLJ-68m5f78ayXn14EJLrclJYVgedituspsharing describes the usage of XDMODULECONFIGLOCATION and XDMODULECONFIGNAME,0
Apply JavaDoc HotFix,0
Remove Usage of IntegrationEvaluationContextAware This deprecated in SI 42 Use thisevaluationContext ExpressionUtilscreateStandardEvaluationContextgetBeanFactory in afterPropertiesSet instead Not that this can safely be done in 12x - the preferred mechanism is available in SI 41x too,0
Add admin-ui to YARN zip packaging,0
Remove container entry in Redis when the application context event to shutdown the container is fired,0
Deploy multiple instances of a module Currently we deploy a single instance and ignore the ModuleDeploymentRequest instances setting It is easy to change this in the ModuleDeployer but there is no guarantee this will work in the ModuleLauncher so we hold off until that can be verified,0
Use HATEOAS Link templates HATEOAS 09 introduced some support for templated links This should be leveraged to properly handle eg streamsid instead of using string concatenation,0
Rebase UI on top of new batch admin API Now that the new batch admin api is taking shape we need to rebase the XD web UI to use this Its more than just changing the http urls sent to the xd server since the new API is not identical to the old one,0
Create a trigger from Shell,0
Partitioned job throws javalangRuntimeException Could not serialize lambda Running a partitioned jdbchdfs job with 12 partitions and 3 xd-containers Some steps fail with the jdbc connection pool exception XD-2720 I also sometimes see a serialization exception This results in the partitioner never getting the status for some of the steps so it keeps running until it times out even though all steps are either complete of failed code 2015-02-13 131836294 110RELEASE ERROR inboundfiles40-redisqueue-inbound-channel-adapter1 redisRedisMessageBus1 - Failed to deliver message retries exhausted message sent to queue ERRORSname orgspringframeworkmessagingMessageHandlingException error occurred in message handler files40bridgehandler nested exception is comesotericsoftwarekryoKryoException javalangRuntimeException Could not serialize lambda Serialization trace stepExecutions orgspringframeworkbatchcoreJobExecution jobExecution orgspringframeworkbatchcoreStepExecution orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava84 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkxddirtintegrationredisRedisMessageBus11doWithRetryRedisMessageBusjava267 orgspringframeworkxddirtintegrationredisRedisMessageBus11doWithRetryRedisMessageBusjava263 orgspringframeworkretrysupportRetryTemplatedoExecuteRetryTemplatejava263 orgspringframeworkretrysupportRetryTemplateexecuteRetryTemplatejava168 orgspringframeworkxddirtintegrationredisRedisMessageBus1doSendRedisMessageBusjava263 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava239 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava101 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointpopMessageAndSendRedisQueueMessageDrivenEndpointjava220 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointaccess300RedisQueueMessageDrivenEndpointjava50 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointListenerTaskrunRedisQueueMessageDrivenEndpointjava314 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 javalangThreadrunThreadjava745 Caused by comesotericsoftwarekryoKryoException javalangRuntimeException Could not serialize lambda Serialization trace stepExecutions orgspringframeworkbatchcoreJobExecution jobExecution orgspringframeworkbatchcoreStepExecution comesotericsoftwarekryoserializersObjectFieldreadObjectFieldjava125 comesotericsoftwarekryoserializersFieldSerializerreadFieldSerializerjava528 comesotericsoftwarekryoKryoreadObjectKryojava704 comesotericsoftwarekryoserializersObjectFieldreadObjectFieldjava106 comesotericsoftwarekryoserializersFieldSerializerreadFieldSerializerjava528 comesotericsoftwarekryoKryoreadObjectKryojava682 orgspringframeworkxddirtintegrationbusserializerkryoPojoCodecdoDeserializePojoCodecjava41 orgspringframeworkxddirtintegrationbusserializerkryoAbstractKryoMultiTypeCodec1executeAbstractKryoMultiTypeCodecjava63 comesotericsoftwarekryopoolKryoPoolQueueImplrunKryoPoolQueueImpljava43 orgspringframeworkxddirtintegrationbusserializerkryoAbstractKryoMultiTypeCodecdeserializeAbstractKryoMultiTypeCodecjava60 orgspringframeworkxddirtintegrationbusserializerkryoPojoCodecdeserializePojoCodecjava30 orgspringframeworkxddirtintegrationbusserializerCompositeCodecdeserializeCompositeCodecjava72 orgspringframeworkxddirtintegrationbusserializerCompositeCodecdeserializeCompositeCodecjava78 orgspringframeworkxddirtintegrationbusMessageBusSupportdeserializePayloadMessageBusSupportjava588 orgspringframeworkxddirtintegrationbusMessageBusSupportdeserializePayloadMessageBusSupportjava573 orgspringframeworkxddirtintegrationbusMessageBusSupportdeserializePayloadIfNecessaryMessageBusSupportjava556 orgspringframeworkxddirtintegrationredisRedisMessageBusaccess1000RedisMessageBusjava68 orgspringframeworkxddirtintegrationredisRedisMessageBusReceivingHandlerhandleRequestMessageRedisMessageBusjava465 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava99 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 21 more Caused by javalangRuntimeException Could not serialize lambda comesotericsoftwarekryoserializersClosureSerializerreadClosureSerializerjava52 comesotericsoftwarekryoKryoreadClassAndObjectKryojava786 comesotericsoftwarekryoserializersCollectionSerializerreadCollectionSerializerjava116 comesotericsoftwarekryoserializersCollectionSerializerreadCollectionSerializerjava22 comesotericsoftwarekryoKryoreadObjectKryojava704 comesotericsoftwarekryoserializersObjectFieldreadObjectFieldjava106 40 more Caused by javalangArrayIndexOutOfBoundsException -2 javautilArrayListelementDataArrayListjava418 javautilArrayListgetArrayListjava431 comesotericsoftwarekryoutilMapReferenceResolvergetReadObjectMapReferenceResolverjava42 comesotericsoftwarekryoKryoreadReferenceOrNullKryojava830 comesotericsoftwarekryoKryoreadObjectKryojava680 comesotericsoftwarekryoserializersClosureSerializerreadClosureSerializerjava49 45 more code,0
As a developer Id like to update to the 415 SI release so I can pickup the latest improvements to message channels,1
As a developer Id like to upgrade to Reactor 20 RC1 release so that we can synchronize with stable dependencies,5
As a developer Id like to resolve remaining gaps wrt CI pipelines for Data Flow and the family so I can continuously evaluate functionalities on every commit,8
SSL Config for RabbitMessageBus Connections is Ignored,0
Use repospringio as NPM repository In order to improve the build reliability we should be using the NPM repo provided by repospringio See spring-xd-uiREADMEmd for further details,0
Update TwitterSearchTest to use katyperry TwitterSearchTest is the only test that is dependent on an external system for its success As such there are times that the service is running slower than the test expects thus the test fails un-necessarily Once XD-1814 is merged we can utilize the waitForFile feature to wait for the result file from the stream to be written But the wait time for twitter will be extended to 1 min AAAAND make the the search string configurable Some tests fail because the springio is not consistently present,0
Create small documentation section on jmxmonitoring functionalty Should mention jolokia how to turn onoff bootjolokia http metricmonitoring and jmx Mention the naming strategy to identify modules running in a stream,0
Web UI is not displayed Web UI management interface does not display the stream list data or deploy status js ERROR definitionsjs28 Uncaught TypeError undefined is not a function eghttp1202744699393admin-uistreamsdefinitions,0
stack overflow when trying to create a stream with the same name as a module NOTE even if we do want to prevent the use of module names for stream names we obviously need to avoid a StackOverflowError to reproduce start the xd-singlenode container start the xd-shell and type the following code xdstream create time --definition time log code that should produce an Internal Server Error output message check the xd-singlenode console and find code SEVERE Servletservice for servlet xd in context with path threw exception Handler processing failed nested exception is javalangStackOverflowError with root cause javalangStackOverflowError javalangStringValuefromStringValuejava24 javalangStringinitStringjava178 orgspringframeworkxddirtstreamdslTokeninitTokenjava46 orgspringframeworkxddirtstreamdslTokenizerlexIdentifierTokenizerjava195 orgspringframeworkxddirtstreamdslTokenizerprocessTokenizerjava62 orgspringframeworkxddirtstreamdslTokenizerinitTokenizerjava41 orgspringframeworkxddirtstreamdslStreamConfigParserparseStreamConfigParserjava65 orgspringframeworkxddirtstreamdslStreamConfigParserparseStreamConfigParserjava55 orgspringframeworkxddirtstreamdslStreamConfigParserlookupStreamStreamConfigParserjava545 orgspringframeworkxddirtstreamdslStreamNoderesolveModuleNodesStreamNodejava135 orgspringframeworkxddirtstreamdslStreamNoderesolveStreamNodejava122 orgspringframeworkxddirtstreamdslStreamsNoderesolveStreamsNodejava53 orgspringframeworkxddirtstreamdslStreamConfigParserparseStreamConfigParserjava74 orgspringframeworkxddirtstreamdslStreamConfigParserparseStreamConfigParserjava55 orgspringframeworkxddirtstreamdslStreamConfigParserlookupStreamStreamConfigParserjava545 orgspringframeworkxddirtstreamdslStreamNoderesolveModuleNodesStreamNodejava135 orgspringframeworkxddirtstreamdslStreamNoderesolveStreamNodejava122 orgspringframeworkxddirtstreamdslStreamsNoderesolveStreamsNodejava53 orgspringframeworkxddirtstreamdslStreamConfigParserparseStreamConfigParserjava74 orgspringframeworkxddirtstreamdslStreamConfigParserparseStreamConfigParserjava55 orgspringframeworkxddirtstreamdslStreamConfigParserlookupStreamStreamConfigParserjava545 orgspringframeworkxddirtstreamdslStreamNoderesolveModuleNodesStreamNodejava135 orgspringframeworkxddirtstreamdslStreamNoderesolveStreamNodejava122 orgspringframeworkxddirtstreamdslStreamsNoderesolveStreamsNodejava53 ad nauseum code,0
As a user I would like to have an option to write data into Hive sink so that I can query and manage large datasets in distributed storage,5
Packaging of Guava 17 results in failure to deploy mapreduce job to Hadoop 24 based distros Trying to deploy the hashtagcount batch sample 1 to Hadoop 241 or Hortonworks HDP 21 fails with an IllegalAccessError exception Looks like a Guava versioning issue - Swapping out guava-170jar for guava-1102jar in the xdlib directory solves it Mark P suggested we try 1601 which is what Curator uses and that seems to work as well Looking into changing the build to not force 170 which is the IO platform version httpupstream-trackerorgjavacompatreportsguava1601to170srccompatreporthtml I get the following exception code 164222214 INFO Deployer serverJobDeploymentListener - Deployment status for job hashtagCountJob DeploymentStatusstatedeployed 164227315 WARN task-scheduler-2 mapreduceJobSubmitter - No job jar file set User classes may not be found See Job or JobsetJarString 164227325 ERROR task-scheduler-2 stepAbstractStep - Encountered an error executing step hashtagcount in job hashtagCountJob javalangIllegalAccessError tried to access method comgooglecommonbaseStopwatchinitV from class orgapachehadoopmapreducelibinputFileInputFormat orgapachehadoopmapreducelibinputFileInputFormatgetSplitsFileInputFormatjava369 orgapachehadoopmapreduceJobSubmitterwriteNewSplitsJobSubmitterjava493 orgapachehadoopmapreduceJobSubmitterwriteSplitsJobSubmitterjava510 orgapachehadoopmapreduceJobSubmittersubmitJobInternalJobSubmitterjava394 orgapachehadoopmapreduceJob10runJobjava1285 orgapachehadoopmapreduceJob10runJobjava1282 javasecurityAccessControllerdoPrivilegedNative Method javaxsecurityauthSubjectdoAsSubjectjava415 orgapachehadoopsecurityUserGroupInformationdoAsUserGroupInformationjava1556 orgapachehadoopmapreduceJobsubmitJobjava1282 orgapachehadoopmapreduceJobwaitForCompletionJobjava1303 orgapachehadoopmapreduceJobFastClassBySpringCGLIBa048cbfeinvokegenerated orgspringframeworkcglibproxyMethodProxyinvokeMethodProxyjava204 orgspringframeworkaopframeworkCglibAopProxyCglibMethodInvocationinvokeJoinpointCglibAopProxyjava708 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkaopsupportDelegatingIntroductionInterceptordoProceedDelegatingIntroductionInterceptorjava133 orgspringframeworkaopsupportDelegatingIntroductionInterceptorinvokeDelegatingIntroductionInterceptorjava121 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkCglibAopProxyDynamicAdvisedInterceptorinterceptCglibAopProxyjava644 orgapachehadoopmapreduceJobEnhancerBySpringCGLIB875ec891waitForCompletiongenerated orgspringframeworkdatahadoopmapreduceJobExecutor2runJobExecutorjava199 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 orgspringframeworkdatahadoopmapreduceJobExecutorstartJobsJobExecutorjava170 orgspringframeworkdatahadoopbatchmapreduceJobTaskletexecuteJobTaskletjava90 orgspringframeworkbatchcoresteptaskletTaskletStepChunkTransactionCallbackdoInTransactionTaskletStepjava406 orgspringframeworkbatchcoresteptaskletTaskletStepChunkTransactionCallbackdoInTransactionTaskletStepjava330 orgspringframeworktransactionsupportTransactionTemplateexecuteTransactionTemplatejava133 orgspringframeworkbatchcoresteptaskletTaskletStep2doInChunkContextTaskletStepjava271 orgspringframeworkbatchcorescopecontextStepContextRepeatCallbackdoInIterationStepContextRepeatCallbackjava77 orgspringframeworkbatchrepeatsupportRepeatTemplategetNextResultRepeatTemplatejava368 orgspringframeworkbatchrepeatsupportRepeatTemplateexecuteInternalRepeatTemplatejava215 orgspringframeworkbatchrepeatsupportRepeatTemplateiterateRepeatTemplatejava144 orgspringframeworkbatchcoresteptaskletTaskletStepdoExecuteTaskletStepjava257 orgspringframeworkbatchcorestepAbstractStepexecuteAbstractStepjava198 orgspringframeworkbatchcorejobSimpleStepHandlerhandleStepSimpleStepHandlerjava148 orgspringframeworkbatchcorejobflowJobFlowExecutorexecuteStepJobFlowExecutorjava64 orgspringframeworkbatchcorejobflowsupportstateStepStatehandleStepStatejava67 orgspringframeworkbatchcorejobflowsupportSimpleFlowresumeSimpleFlowjava162 orgspringframeworkbatchcorejobflowsupportSimpleFlowstartSimpleFlowjava141 orgspringframeworkbatchcorejobflowFlowJobdoExecuteFlowJobjava134 orgspringframeworkbatchcorejobAbstractJobexecuteAbstractJobjava304 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncher1runSimpleJobLauncherjava135 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncherrunSimpleJobLauncherjava128 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkbatchcoreconfigurationannotationSimpleBatchConfigurationPassthruAdviceinvokeSimpleBatchConfigurationjava127 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy44runUnknown Source orgspringframeworkbatchintegrationlaunchJobLaunchingMessageHandlerlaunchJobLaunchingMessageHandlerjava50 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkexpressionspelsupportReflectiveMethodExecutorexecuteReflectiveMethodExecutorjava63 orgspringframeworkexpressionspelastMethodReferencegetValueInternalMethodReferencejava122 orgspringframeworkexpressionspelastMethodReferenceaccess000MethodReferencejava44 orgspringframeworkexpressionspelastMethodReferenceMethodValueRefgetValueMethodReferencejava258 orgspringframeworkexpressionspelastCompoundExpressiongetValueInternalCompoundExpressionjava84 orgspringframeworkexpressionspelastSpelNodeImplgetTypedValueSpelNodeImpljava114 orgspringframeworkexpressionspelstandardSpelExpressiongetValueSpelExpressionjava111 orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava159 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessInternalMessagingMethodInvokerHelperjava268 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessMessagingMethodInvokerHelperjava142 orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava75 orgspringframeworkintegrationhandlerServiceActivatingHandlerhandleRequestMessageServiceActivatingHandlerjava71 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava170 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 sunreflectGeneratedMethodAccessor98invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricshandleMessageSimpleMessageHandlerMetricsjava106 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricsinvokeSimpleMessageHandlerMetricsjava86 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy125handleMessageUnknown Source orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 sunreflectGeneratedMethodAccessor97invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava113 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava97 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava91 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy123sendUnknown Source orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava109 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava94 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava260 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava241 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava205 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava199 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava177 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 sunreflectGeneratedMethodAccessor98invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricshandleMessageSimpleMessageHandlerMetricsjava106 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricsinvokeSimpleMessageHandlerMetricsjava86 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy125handleMessageUnknown Source orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 sunreflectGeneratedMethodAccessor97invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava113 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava97 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava91 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy123sendUnknown Source orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava109 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava94 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava260 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava241 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava205 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava199 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava177 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationendpointPollingConsumerhandleMessagePollingConsumerjava74 orgspringframeworkintegrationendpointAbstractPollingEndpointdoPollAbstractPollingEndpointjava205 orgspringframeworkintegrationendpointAbstractPollingEndpointaccess000AbstractPollingEndpointjava55 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava149 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava146 orgspringframeworkintegrationendpointAbstractPollingEndpointPoller1runAbstractPollingEndpointjava284 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 orgspringframeworkintegrationutilErrorHandlingTaskExecutorexecuteErrorHandlingTaskExecutorjava49 orgspringframeworkintegrationendpointAbstractPollingEndpointPollerrunAbstractPollingEndpointjava278 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava54 orgspringframeworkschedulingconcurrentReschedulingRunnablerunReschedulingRunnablejava81 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 code 1 httpsgithubcomspring-projectsspring-xd-samples,0
Add Kafka Native Metadata Store,0
minPartitionCount is ignored by the consumer minPartitionCount is ignored by the consumer so downstream modules end up listening to fewer partitions,0
As a Spring XD developer Id like to port splitter module from XD to s-c-s repo so I can use it as processor module to build streaming pipeline,2
As a developer Id like to have a maintenance branch so that I can commit MINOR release ex 102 code changes instead of committing to MASTER,5
Ensure that each controllers list returns PagedResources,0
Add Documentation Chapter on Executing Batch Jobs,0
Switch CAPITALLETTERS to systemproperty style in application config,0
Release 101,0
Display errors in a persistent way When a validation error occurs in the UI it is displayed as a small box then fades away If it is a larger form or a less specific error the user may not catch everything before it fades away We should display the error in a way that they can refer to as they are fixing it,0
Version XD dependencies with Spring IO platform versioning All the XD artifacts dependencies need to be updated with the versions that in line with Spring IO platforms standard versioning,0
change accepted-media-types to accpted-content-types,0
Create documentation for how to extend the XD containers httpsjiraspringiobrowseXD-1343 and related issues,0
install-redis script should not use relative path to determine redis source dist Currently the install-redis script uses relative path to determine redis source dist file Since this is error prone we need to fix it,0
Create project for model that is common between client and server this would elminate dependencies that are currently in the codebase such as RESTModuleType and ModuleType enums ModuleOption and DetailedModuleDefinitionResourceOption,0
As a user Id like to have the option of kerberized HDFS sink so that I can leverage Kerberos open source distributed authentication system for secured data writes into Hadoop,3
Tipsy tooltip hovers are not responsive after jobs list is refreshed from server In the XD UI the list of jobs is refreshed from the server every 5 seconds There are also tooltips that are activated when hovering over a job execution These tooltips are no longer responsive ie- they remain on the page and dont disappear after the list of jobs is refreshed,0
Direct binding with singlenode leaves stream broken xdstream create --name foo --definition timelog xdstream deploy --name foo --properties modulecount0 code 164235121 110SNAP ERROR DeploymentsPathChildrenCache-0 serverDeploymentListener - Exception deploying module javalangIllegalArgumentException LocalMessageBus does not support consumer property directBindingAllowed for foo0 code Ok thats cool Lets destroy and create again xdstream destroy --name foo xdstream create --name foo --definition timelog --deploy code orgspringframeworkcontextApplicationContextException Failed to start bean orgspringframeworkintegrationmonitorIntegrationMBeanExporter09363c963-41db-4cd6-b273-b52b02aba80d nested exception is orgspringframeworkjmxexportUnableToRegisterMBeanException Unable to register MBean MessageChannelMonitor nameoutput sends0 with key orgspringframeworkintegrationtypeMessageChannelnameoutput nested exception is javaxmanagementInstanceAlreadyExistsException xdfoomoduletime0componentMessageChannelnameoutput code code xdruntime modules Module Id Container Id Options Deployment Properties Unit status -------------- ------------------------------------ ------------------------------------------ --------------------- ----------- foosinklog1 ce5cf83f-3e62-4960-8d46-e5cb06203992 namefoo expressionpayload levelINFO count1 sequence1 failed code,0
As a s-c-d developer Id like to refactor CC SPI deployer with CF java-client so I can improve the overall design and performance,8
Have counters use Double arithmetic instead of Long Now that we have --incrementExpression we often want to increment by some domain specific value that may not be integral eg Watts in smartgrid demo,0
Add http get command to shell This will allow for some easy demonstration of how HATEOS works via links in our REST API There are probably some quite useful commands here that could be used from the Spring Data REST shell longer term but a good place to take a look at now Goal is to show how metrics such as counters are accessible wo having to switch tabs to use wget The pretty printing of the returned JSON is an important feature to help understand the response this functionality can be taken fromreused from the Spring Data REST shell,0
As a user Id like to have an option of AWS source module so that I can ingest data from Amazon S3 or use the Simple Email Service SES Reference Spring Integration AWS Extensionhttpsgithubcomspring-projectsspring-integration-extensionstreemasterspring-integration-aws,5
Remove enum for transport options The enum unnecessarily restricts the ability to add new transport MessageBus implementations whereas the config location path is open for extensions since it uses wildcards in message-busxml code import resourcetransportsXDTRANSPORT-busxml code,0
As a user Id like to have the option to supply data partitioning strategy so that I can parallelize ingest of data from RDBMS to HDFS,8
As a developer Id like to configure HADOOPUSERNAME environment variable to implement and run-as-user for kerberos secured clusters This would need some additional work in SHDP,5
Create aggregator module that uses redis as a message store There is a need for a persistent store for messages so that they can survive the crash of a container node The redis implementation in SI is useful since users may already be using redis for other features such as analytics This module would sit alongside the current in-memory based aggregator It brings in redis as a dependency and there should be configuration options exposed so that one can use a different version of redis as compared to the one that maybe used for analytics Due to the need to have redis on the CP and the large number of different options that each message store implementation provides and the different 3rd party library dependencies I would like to avoid going down the path of using a profile here as it would seem to go beyond what we had discussed for profile support We can revisit as the module contribution story based on boot unfolds,0
Create a spring cloud stream timestamp task module Create a timestamp job that will be used a a sample for users to create their own spring boot based jobs,0
As a s-c-d developer Id like to produce ref documentation for s-c-d architecture so I could define 1x and 2x deployment differences,8
Add authentication support to the mongo sink,0
As a user Id like to have a config parameter preferably in serversyml file so that I can enabledisable message rates in the cluster view,2
Basic implementation of a reactor based tcp server,0
Create XDAdmin server to start container launcher This will launch the RedisContainerLauncher in future will be able to select from a variety of middleware options,0
module delete command should only provide completions with composed modules There is no point in providing completion with something that will fail when the user tries it The information about a module being a composed is now available at the REST layer so should be used,0
Create sample module in spring-xd-modules for a Reactor Stream processor A sample perhaps taken from Pivotal Labs use-case in Denver that would calculate some time window averages for a many individual senor values,0
Add support for dynamic routing It should be possible to create streams like the following which rely upon named channel support and dynamic routing capabilities code http somerouter x xtransformer hdfs y ytransformer hdfs code The somerouter processor could return x or y which determines the downstream path for each message This should be implemented in such a way that any developer adding a router module would only need to deal with existing Spring Integration semantics in this case only considering the return of x or y - whether it be SpEL or a POJO method invocation Perhaps in the plugin that modifies a module context we could simply add a new ChannelResolver implementation by adding that ChannelResolver as a bean andor a BeanPostProcessor that configures that as the resolver for any router if necessary That ChannelResolver would have a reference to the ChannelRegistry so that the router actually sends its messages to those shared channels The shared channels themselves would have been created as long as a valid downstream flow has been defined,0
Test integration with jboss queue message I am new to Spring XD I want to read the jboss queue message and then want to write it into text file by using stream create comment ie stream create --name TEST-LOG --definition jms file --deploy I am trying to configure the spring-xd-100M6xdmodulescommonjms-jbossmq-infrastructure-contextxml to invoke the jboss queue and read the queue message Can you help me to do the configuration and resolve my objective,0
Retrieve description of all registered modules GET streamsstreamnamemodules and GET streamsstreamnamemodulesmodulename The former returning links to the latter,0
Assess if GemfireJsonServer gemfireServer sinks should close the client cache OS - Mac XD Deployment Type - Singlenode SHA - bb4dd58 Required Software - XD Gemfire Sample Server Description After creating and destroying 3 streams with gemfireJsonServer sink the 4th will fail with this error 44707 refused connection The number of clients 4 exceeded the limit of 3 allowed by the default evaluation license Steps to reproduce From your shell execute the following 4 times stream create --name stocks --definition http --port9090 gemfire-json-server --regionNameStocks --hostec2-54-221-32-82compute-1amazonawscom --port40404 --keyExpressionpayloadgetFieldsymbol --deploy stream destroy stocks,0
Parser blows on modules names with - Tried to create a module named tcp-poll and got this XD108Epos 3 missing expected character - tcp-poll --host5420822193 --port8081 log I believe this should be supported and indeed we have several module names of this form already,0
Update payload-conversion demo to latest module spec Upload payload conversion demo such that a user can use the module upload feature against the sample,0
Profile byte array on In-Memory and Kafka Transport Identify and report hotspots while running the load-generator source and the throughput sink on Singlenode - In Memory Transport Singlenode - Kafka Transport AdminContainer - Kafka Transport,0
As a s-c-d developer Id like to add support to deploy YARN App into HDFS automatically so I can have the xd-admin orchestrate overall deployment by leveraging the manifest to deploy where and with what assets,3
Add Service Activator Processor Would be nice to have a ServiceActivator Processor available so that if one had an existing Spring bean they could simply describe the bean id and method name - without going through the full complexity of creating a processing module,0
As a user I logged in with ROLECREATE and I get an error while trying job creation from adminui I can create job from the shell successfully Trying the same workflow with ROLEADMIN results with the same error as well I dont see anything in the admincontainer logs about the error itself,1
Retrieve information for a Rich Gauge TODO as part of this see XD-537 Get rid of so-called Service layer in analytics project doesnt do much right now and logic would better live in the Handler IMO Have REST controllers depend on XRepository in all cases,0
Change module placeholder names and remove contextproperty-placeholder usage eg rabbitxml source contextproperty-placeholder locationxdconfighomeconfigPropertiesrabbitproperties ignore-resource-not-foundtrue would be removed and rabbitconnection-factory idrabbitConnectionFactory hosthostspringrabbitmqhostlocalhost portportspringrabbitmqport5672 virtual-hostvhostspringrabbitmqvirtualHost usernameusernamespringrabbitmqusernameguest passwordpasswordspringrabbitmqpasswordguest would look like portport and a property file in the module directory or POJO in the module lib would specify the default value of the port For POJO it would be optionsclass orgspringframeworkxddirtmodulesmetadataRabbitSourceOptionsMetadata For property file it would be optionportdefault5672 optionportdescriptioncool port number This needs to be consistently done across all the modules,0
As a user Id like to have the OOTB module to consume database changes as event streams so I can incrementally synchronize with real-time DB updates with various destinations such as Brokers Hadoop DB etc,8
CLI error when not specifying module type in module commands is cryptic an not helpful All of the CLI module commands that require the module name eg module display sourcemqtt require that you preface the name with the module type If you forget to do this eg module display mqtt you get a fairly cryptic exception which can confuse end users The exception is javalangStringIndexOutOfBoundsException Failed to convert mqtt to type QualifiedModuleName for option name String index out of range -1,0
Add to Acceptance Test EC2 job a stage that uses XD distributed mode with redis See httpsquickstartatlassiancomdownloadbambooget-startedbamboo-elements Stages are comprised of one or more Jobs which run in parallel we would like the tests across the rabbit and redis transport to occur in parallel,0
As a performance tester Id like to rerun baseline benchmarks with batching enabled on Rabbit so that I can compare the results with previous performance snapshots Note - batchingEnabled true - batchingSize 100 default We could also vary default size to compute and record at granular level,3
Clean up unused JSON mapping classes There are a few obsolete classes lurking around TypedJsonMapper comes to mind but there are likely some others,0
Create way to deploy custom modules for XD on YARN Need a way for end-user to package and add custom modulesscripts when deploying XD on YARN Currently we have a zip file containing all code including modules Its not convenient to un-zipre-zip this archive to add custom modulesscripts See - httpsgithubcomspring-projectsspring-xdissues931,0
configuration conflict when using --transport local --store redis --disableJmx true --analytics redis results in both in-memory and redis based definitions of RichGaugeService - cant satisfy autowiring because there are two candidates Had to change --analyticsmemory to get the application context to load,0
Create shell command for getting information on a given job instance,0
Add spring-xd-hadoop distro specific sub-projects we need to modify build adding two sub-projects for spring-xd-hadoop one for hadoop 112 and one for phd1 Pivotal HD to pull in transitive dependencies for correct Hadoop distro,0
Add visual representation of job workflow in executions list page As an XD user Id like to be able to visually differentiate between job-composition workflow and single job,0
As a user Id like to implement the core interface contract so that I can create a processor module that uses RxJava API,1
As a user Id like to have the option of compression for both Rabbit source and sink modules so that can further enhance the performance characteristics,8
Copy spring-xd-messagebus- to SCS as spring-cloud-binding-,0
As a pre-requisite for XD-2835 and a continuation of XD-2671 split apart the concepts of repository and deployment This will affect the ResourceDeployer interface and the classes that implement it,8
Exclude slf4j Transitive Dependencies,0
Add support for creating a spring batch job that references a named trigger,0
As a s-c-d user Id like to deploy data flow on YARN so I can reuse the existing Hadoop cluster and leverage data flow features to build streaming or batch pipelines,2
Update deprecated jackson methods in TupleToJsonStringConverter warning options bootstrap class path not set in conjunction with -source 16 homedturanskispring-xdspring-xd-tuplesrcmainjavaorgspringframeworkxdtupleTupleToJsonStringConverterjava53 warning deprecation putStringJsonNode in ObjectNode has been deprecated rootputname toObjectNodeTuple value homedturanskispring-xdspring-xd-tuplesrcmainjavaorgspringframeworkxdtupleTupleToJsonStringConverterjava57 warning deprecation putStringJsonNode in ObjectNode has been deprecated rootputname rootpojoNodevalue,0
Modify startup script of xd shell to allow specifying hadoop distro to use,0
Remove work around Spring HATEOAS89 See httpsgithubcomspring-projectsspring-hateoasissues89 Updating HATEOAS version and removing in a lot of controllers should be possible now See eg httpsgithubcomspring-projectsspring-xdblob4919ea2498a13ef47aaa9437937308fb26a7a24fspring-xd-dirtsrcmainjavaorgspringframeworkxddirtrestXDControllerjavaL219,0
Exception handling at Module info command When not prefixing with appropriate module type module info command throws StringIndexOutOfBoundsException xdmodule info file javalangStringIndexOutOfBoundsException Failed to convert file to type QualifiedModuleName for option name String index out of range -1,0
Investigate missing boots actuator endpoints in XD Currently few of the boots actuator endpoints go missing in the EndpointHandler mapping They are BeansEndpoint dumpEndpoint traceEndpoint healthEndpoint infoEndpoint Also the EndpointHandler mapping doesnt even happen in case of LauncherApplication I think this is because the LauncherApplication context starts with port 0 and the TomcatEmbeddedServletContainer sets the local port for it later With port 0 the Endpointhandler mapping is disabled during the EndpointHandler mapping bean creation,0
As a s-c-d developer Id like to experiment how do we resolve and then add module dependent JARs to Boot loader so I have an approach to handle external libraries required by OOTB modules,5
As a developer I in the new development of component sourceprocessorsink how to get the module id and container id Because components need to generate log log information must include the unique identifier xdruntime modules,1
As a developer Id like to design and document the approach towards deploying stream in a single container so I can have all modules within a stream colocated,5
File sink filename should default to having a out suffix,0
Acceptance test for Kafka source and sink,0
HadoopDistroOptionHandler fails when XDHOME ends with a Also the approach may not work as expected on windows,0
Create shell integration tests for job lifeycle creating job defs deploying jobs undeploying jobs deleting job defs,0
Add support to retrieve job details As an XD user Id like to click to go the detail page of the job page whether or not the selected entity is singular or part of a composed job,0
Add dynamic addition to module registry As an s-c-d user Id like to contribute modules that immediately reflects in module registry so I can create stream or task definitions using the shellrest-apis Currently the registry isnt flexible as it is pretty much hard-coded at registry bootstrap levelhttpsgithubcomspring-cloudspring-cloud-dataflowblobmasterspring-cloud-dataflow-adminsrcmainjavaorgspringframeworkclouddataflowadminconfigModuleRegistryPopulatorjavaL75,0
Surface better exception information to client In trying to upgrade to latest SI I encountered a failing test because it expects an error message to contain something but SI changes make it disappear the problem is an SI exception now has an explicit message and so does not expose its cause message anymore This however is the manifest of a deeper problem We currently expose the getMessage of any generic Exception caught in the VndError REST construct But this is not enough Things that we can consider are 1 adding the whole stacktrace of the caught exception as a String This is not very good at it leaks java specific details 2 unwrap the caught exception to get to the deepest cause This may not be what we want everytime 3 construct a VndErrors note the s made of each layered exception 4 similar to 1 but not using the stacktrace only the messages of each cause etc,0
As a s-c-d developer Id like to investigate how to includeexclude msg busbinding jars so I can decide the binding selection and fallback mechanism when there is none setup,5
XD Gemfire modules fail to deploy in Yarn 1 admin on slave1 1 container on slave2 Gemfire modules fail to deploy with the following exception Caused by javaioFileNotFoundException nullmodulescommongemfire-sinkgroovy This is because the modules require a XDHOME environment variable and this is not set by the yarn deployment noformat Offending resource URL filenullmodulescommongemfire-sinkgroovy nested exception is javaioFileNotFoundException nullmodulescommongemfire-sinkgroovy No such file or directory orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderloadBeanDefinitionsGroovyBeanDefinitionReaderjava247 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderloadBeanDefinitionsGroovyBeanDefinitionReaderjava202 orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava178 orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava138 orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava127 orgspringframeworkbootSpringApplicationloadSpringApplicationjava620 orgspringframeworkbootSpringApplicationrunSpringApplicationjava315 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava211 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by orgspringframeworkbeansfactoryparsingBeanDefinitionParsingException Configuration problem Error evaluating Groovy script nullmodulescommongemfire-sinkgroovy No such file or directory Offending resource URL filenullmodulescommongemfire-sinkgroovy nested exception is javaioFileNotFoundException nullmodulescommongemfire-sinkgroovy No such file or directory orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderloadBeanDefinitionsGroovyBeanDefinitionReaderjava247 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderloadBeanDefinitionsGroovyBeanDefinitionReaderjava202 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava181 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava217 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava188 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderimportBeansGroovyBeanDefinitionReaderjava337 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgcodehausgroovyreflectionCachedMethodinvokeCachedMethodjava90 groovylangMetaMethoddoMethodInvokeMetaMethodjava324 orgcodehausgroovyruntimemetaclassClosureMetaClassinvokeMethodClosureMetaClassjava368 groovylangMetaClassImplinvokeMethodMetaClassImpljava1016 orgcodehausgroovyruntimecallsitePogoMetaClassSitecallCurrentPogoMetaClassSitejava66 orgcodehausgroovyruntimecallsiteCallSiteArraydefaultCallCurrentCallSiteArrayjava49 orgcodehausgroovyruntimecallsiteAbstractCallSitecallCurrentAbstractCallSitejava133 orgcodehausgroovyruntimecallsiteAbstractCallSitecallCurrentAbstractCallSitejava141 beansrunclosure1doCallbeans4 beansrunclosure1doCallbeans sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgcodehausgroovyreflectionCachedMethodinvokeCachedMethodjava90 groovylangMetaMethoddoMethodInvokeMetaMethodjava324 orgcodehausgroovyruntimemetaclassClosureMetaClassinvokeMethodClosureMetaClassjava278 groovylangMetaClassImplinvokeMethodMetaClassImpljava1016 groovylangClosurecallClosurejava423 groovylangClosurecallClosurejava417 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderinvokeBeanDefiningClosureGroovyBeanDefinitionReaderjava426 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReader1callGroovyBeanDefinitionReaderjava223 groovylangClosurecallClosurejava439 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgcodehausgroovyreflectionCachedMethodinvokeCachedMethodjava90 groovylangMetaMethoddoMethodInvokeMetaMethodjava324 groovylangMetaClassImplinvokeMethodMetaClassImpljava1207 groovylangMetaClassImplinvokeMethodMetaClassImpljava1016 groovylangMetaClassImplinvokePropertyOrMissingMetaClassImpljava1253 groovylangMetaClassImplinvokeMethodMetaClassImpljava1209 groovylangMetaClassImplinvokeMethodMetaClassImpljava1016 orgcodehausgroovyruntimecallsitePogoMetaClassSitecallCurrentPogoMetaClassSitejava66 orgcodehausgroovyruntimecallsiteCallSiteArraydefaultCallCurrentCallSiteArrayjava49 orgcodehausgroovyruntimecallsiteAbstractCallSitecallCurrentAbstractCallSitejava133 orgcodehausgroovyruntimecallsiteAbstractCallSitecallCurrentAbstractCallSitejava141 beansrunbeans1 groovylangGroovyShellevaluateGroovyShelljava649 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderloadBeanDefinitionsGroovyBeanDefinitionReaderjava243 29 more Caused by javaioFileNotFoundException nullmodulescommongemfire-sinkgroovy No such file or directory javaioFileInputStreamopenNative Method javaioFileInputStreaminitFileInputStreamjava146 javaioFileInputStreaminitFileInputStreamjava101 sunnetwwwprotocolfileFileURLConnectionconnectFileURLConnectionjava90 sunnetwwwprotocolfileFileURLConnectiongetInputStreamFileURLConnectionjava188 orgspringframeworkcoreioUrlResourcegetInputStreamUrlResourcejava168 orgspringframeworkcoreiosupportEncodedResourcegetReaderEncodedResourcejava132 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderloadBeanDefinitionsGroovyBeanDefinitionReaderjava243 79 more noformat,0
Update to Reactor 20 build snapshots,0
Investigate failing LocalSingleNodeStreamDeploymentIntegrationTests Investigate the failing test LocalSingleNodeStreamDeploymentIntegrationTestsmoduleChannelsRegisteredWithMessageBus noformat javalangAssertionError expected3 but was0 orgjunitAssertfailAssertjava88 orgjunitAssertfailNotEqualsAssertjava743 orgjunitAssertassertEqualsAssertjava118 orgjunitAssertassertEqualsAssertjava555 orgjunitAssertassertEqualsAssertjava542 orgspringframeworkxddirtstreamAbstractSingleNodeStreamDeploymentIntegrationTestsmoduleChannelsRegisteredWithMessageBusAbstractSingleNodeStreamDeploymentIntegrationTestsjava270 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgjunitrunnersmodelFrameworkMethod1runReflectiveCallFrameworkMethodjava47 orgjunitinternalrunnersmodelReflectiveCallablerunReflectiveCallablejava12 orgjunitrunnersmodelFrameworkMethodinvokeExplosivelyFrameworkMethodjava44 orgjunitinternalrunnersstatementsInvokeMethodevaluateInvokeMethodjava17 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgjunitrunnersParentRunnerrunLeafParentRunnerjava271 noformat This can be most easily reproduced on Ubuntu,0
Add JDBC Sink to acceptance tests,0
As a user Id like to stream ingest audio and video data so that I can apply predictive analytics algorithms for facial detection Spike scope Research the feasibility of implementing Motion-JPEGhttpenwikipediaorgwikiMotionJPEG Design specs on Motion-JPEG format Note opencvhttpdocsopencvorgtrunkdocpytutorialspyobjdetectpyfacedetectionpyfacedetectionhtml although having OOTB support it is not platform compatible,8
Remove the Tabulation characters should not be used from Sonar,0
Admin UI deploys job with wrong module count When deploying a job through admin UI with a count of 0 the module is actually deployed with count 1 More info here httpstackoverflowcomquestions31858631how-to-define-named-channel-consumer-module-deployment-properties,0
As a user I want to be able to provide the partitioning logic for a named destination so that I can control the ordering of outbound messages,1
REST API for job listing should provide details on last execution A user should be able to view some important details of the last execution of a job from a job list The batchjobs REST endpoint should provide extra fields not currently available in the JobInfo class At a minimum I would like to see startTime startDate last job parameters duration last job status,0
JMX MBean name clash when using labels with s-c-d deployment We need to make sure that JMX MBean names are unique even in the case of labeled modules The following stream fails for example http filter filter2 filter log A good candidate could be stream name group module label,0
Batching JDBC channel adapter we need a batching JDBC channel adapter int-jdbcoutbound-channel-adapter is not batching statements AFAICT,0
Provide an XD Starter POM for module projects Provide A maven pom to support module projects that will declare the Spring XD dependencies as provided configure the boot plugin for MODULE layout and other boilerplate build configuration This should include a similar feature for gradle,0
Upgrade SCSM hdfs sink to SHDP 230M3,0
Destroying XD job should remove jobs entries at batch job repositoriesbatch job locator When an XD job is destroyeddeleted the batch jobRepository entries for the job associated JobInstances JobExecutions etc and the BatchJobLocator entries,0
Add a new source module to capture video frame from camera or video files This is a source module for video ingestion the modules captures video frames from a camera or from a video file For camera the frames are grabbed from the rtsp video stream This module will generate message with the frame image encoded with JPEG as the payload,0
Move config files in RPM install to etcspring-xd directory We need better controll over how config files are preserved during upgrades The RPM process handles that better for files that are designated as config and they should reside outside of the directory where the software is installed so they can be kept around during version upgrades,0
Fail fast admin server if admins embedded tomcat couldnt start During admin server startup if it fails due to embedded tomcat failure then the admin server instance still up and running Since its tomcat isnt running it can not handle any REST client requests In this scenario we need fail fast the admin server process itself with better error message,0
Extra job queues being created for all streams This is most likely an issue for any transport since its probably happening within the JobPlugin but I noticed when using Rabbit that every stream I created also triggered creation of jobstreamname Queues,0
Make Batch Job controllers HATEOAS compliant Currently the BatchJobsController and BatchJobExecutionsController are not HATEOAS compliant and we need make them so,0
Saving a metric Counter Gauge with an existing name should throw an exception The difference between saving a new metric and updating an existing one needs to be defined Suggest that if we try to save when an existing counter is already in the database to throw exception such as DataIntegrityViolationException,0
Validate that topics used for storing offsets are compacted,0
Support Configuring the RabbitMessageBus MessagePropertiesConverter LongString Limit httpstackoverflowcomquestions34053997passing-headerinformation-as-jsonobject-in-header-in-spring-xd,0
SqoopTasklet doesnt use keytab configuration from hadoopproperties file Hey Guys I have been using the sqoopTasklet for a while but I found an unexpected problem Basically Im not able to configure kerberos authentication from hadoopproperties file as follow utilproperties idhadoopProperties locationxdconfighomehadoopproperties bean idsqoopTasklet classorgspringframeworkxdsqoopSqoopTasklet property namearguments list valueimportvalue value--connect otheroptionsvalue list property property namehadoopProperties refhadoopProperties bean hadoopproperties file fsdefaultFShdfshdfshost8020 yarnresourcemanagerhostnamehost001 yarnresourcemanageraddresshost0018032 yarnresourcemanagerscheduleraddresshost0018030 mapreducejobhistoryaddresshost00310020 yarnapplicationclasspathHADOOPCLIENTCONFDIRHADOOPCONFDIRHADOOPCOMMONHOMEHADOOPCOMMONHOMElibHADOOPHDFSHOMEHADOOPHDFSHOMElibHADOOPYARNHOMEHADOOPYARNHOMElibHADOOPMAPREDHOMEHADOOPMAPREDHOMElib mapreduceframeworknameyarn springhadoopsecurityauthMethodkerberos springhadoopsecurityuserPrincipaluser1COMPANYCOM springhadoopsecurityuserKeytabhomeuser1user1keytab springhadoopsecuritynamenodePrincipalhdfsHOSTCOMPANYCOM springhadoopsecurityrmManagerPrincipalyarnHOSTCOMPANYCOM springhadoopsecurityjobHistoryPrincipalmapredHOSTCOMPANYCOM or fsdefaultFShdfshdfshost8020 yarnresourcemanagerhostnamehost001 yarnresourcemanageraddresshost0018032 yarnresourcemanagerscheduleraddresshost0018030 mapreducejobhistoryaddresshost00310020 yarnapplicationclasspathHADOOPCLIENTCONFDIRHADOOPCONFDIRHADOOPCOMMONHOMEHADOOPCOMMONHOMElibHADOOPHDFSHOMEHADOOPHDFSHOMElibHADOOPYARNHOMEHADOOPYARNHOMElibHADOOPMAPREDHOMEHADOOPMAPREDHOMElib mapreduceframeworknameyarn securityauthMethodkerberos securityuserPrincipaluser1COMPANYCOM securityuserKeytabhomeuser1user1keytab securitynamenodePrincipalhdfsHOSTCOMPANYCOM securityrmManagerPrincipalyarnHOSTCOMPANYCOM securityjobHistoryPrincipalmapredHOSTCOMPANYCOM Running the job Im getting the following error Encountered IOException running import job orgapachehadoopsecurityAccessControlException SIMPLE authentication is not enabled AvailableTOKEN KERBEROS So it means the sqooptasklet isnt setting the kerberos authentication this basically because in the SqoopTasklet class is adding some prefix to the configurations SPRINGHADOOPCONFIGPREFIX httpsgithubcomspring-projectsspring-xdblobmasterextensionsspring-xd-extension-sqoopsrcmainjavaorgspringframeworkxdsqoopSqoopTaskletjava Really doesnt make sense for me add those prefix and remove it later in the next call in the SqoopRunner class httpsgithubcomspring-projectsspring-xdblobmasterextensionsspring-xd-extension-sqoopsrcmainjavaorgspringframeworkxdsqoopSqoopRunnerjava If I inject the security configurations directly to the list arguments it works Im sure you guys have a good reason to add the prefix but I dont see why Unfortunately is annoying when you are developing in a local VM where you can test the simple authentication and after move the job to devprod environments with kerberos auth the above because you must change your sqooptasklet configuration injecting the new parameters If the SqoopTasklet allows inject those parameters directly from the hadoopproperties file you dont need change tasklet configurations to run your jobs with different authentication methods Thanks in advance Hctor,0
Update READMEtxt to include instructions on how to build Building XD should not be part of the out first out of the box experience but we should include some instructions on what targets are available such as distXD,0
Move Redis connection metadata logging into the code closest to establishing that connection XD-106 included detailed logging about the Redis metadata within the RedisContainerListener but it seems as though that info could be logged somewhere closer to the establishment of a Redis connection for the XD runtime and could be logged even if this listener whose main role is to capture Container-related events is not enabled,0
Set Bean Name in ConsumerEndpointFactoryBean LocalMessageBus and CompositeModule,0
ModulesSCD Deployers How to provide cloud connector support Currently s-c-s modules all come with baked in support for multiple cloud binding technologies codexml -- Lattice core dependency that activates cloudlattice profiles when running on Lattice -- dependency groupIdorgspringframeworkcloudgroupId artifactIdspring-cloud-lattice-coreartifactId versionspring-cloud-latticeversionversion optionaltrueoptional dependency -- Cloud connector dependencies -- -- Lattice connector dependency to create services info from lattice -- dependency groupIdorgspringframeworkcloudgroupId artifactIdspring-cloud-lattice-connectorartifactId versionspring-cloud-latticeversionversion optionaltrueoptional dependency -- CF connector dependency to create services info from CF -- dependency groupIdorgspringframeworkcloudgroupId artifactIdspring-cloud-cloudfoundry-connectorartifactId optionaltrueoptional dependency -- dependency to connect to detected cloud services -- dependency groupIdorgspringframeworkcloudgroupId artifactIdspring-cloud-spring-service-connectorartifactId optionaltrueoptional dependency code Should the deployers add those at runtime instead,0
Update Sources twitter search section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmltwittersearch,0
Remove Timestamp task from SCSM,0
Provided console output of started server Shouldnt we have something like a ContextRefreshedEvent Listener and output some informational messages to the console so the user knows the Container is up Which contexts Maybe even print a link to the docs Maybe even some simple ascii art for demos Right now it looks somewhat barren Redis provides something similar This may even go hand in hand to provided a better configuration model storing common config parameters centrally code V v100M1 eXtreme Data Using Redis at localhost6379 The Server PID 12345 is now ready on httpmyserver123streams Documentation httpsgithubcomSpringSourcespring-xdwiki code,0
Test connection pooling on Redis blockingnonblocking operations,0
XD Cluster view create container details page Please see the discussion here httpsgithubcomspring-projectsspring-xdpull1183issuecomment-55917701,0
Admin servers should write streams to and delete them from ZooKeeper This should also enable removal of any StreamDefinitionRepository code The state should be written as a data node at the stream level eg xdstreamsmystream state For now we at least need to support the boolean --deploytruefalse flag If that is true then the leader Admin will deploy the modules of the stream across available containers XD-1399,0
As a developer Id like to create separate repo for YARN SPI so I dont have to bundle all SPI variants under one admin project,5
As a performance tester Id like to investigate why theres high CPU startup time for both admin and container servers Perhaps profiling would assist isolating the bottlenecks Scope Identify the bottlenecks Document reasons List proscons,8
Test coverage for RuntimeModuleDeploymentPropertiesProvider There are more calculations done at the RuntimeModuleDeploymentPropertiesProvider implementations and would be good to have some tests to cover them,0
Add Named Channel API We need an abstraction in place to retrieve messages from a named channel programmatically Right now there is no implementation agnostic way of doing this such as receiveMessage queueSize This could be quite useful for integration tests of streams Eg to do more focussed tests without resorting to temp-files and non-essential sinks or sources etc - eg code routeit router --expressionpayloadcontainsafoobar code,0
The lib directory for hadoop12 contains mix of hadoop versions This causes issues depending on which version of the corecommon jar gets loaded first - like xdhadoop fs ls -ls Fatal internal error javalangUnsupportedOperationException Not implemented by the DistributedFileSystem FileSystem implementation at orgapachehadoopfsFileSystemgetSchemeFileSystemjava213 at orgapachehadoopfsFileSystemloadFileSystemsFileSystemjava2401 at orgapachehadoopfsFileSystemgetFileSystemClassFileSystemjava2411 at orgapachehadoopfsFileSystemcreateFileSystemFileSystemjava2428 at orgapachehadoopfsFileSystemaccess200FileSystemjava88 at orgapachehadoopfsFileSystemCachegetInternalFileSystemjava2467 at orgapachehadoopfsFileSystemCachegetFileSystemjava2449 at orgapachehadoopfsFileSystemgetFileSystemjava367 at orgapachehadoopfsFileSystemgetFileSystemjava166 at orgapachehadoopfsFileSystemgetFileSystemjava351 at orgapachehadoopfsPathgetFileSystemPathjava287 at orgapachehadoopfsshellPathDataexpandAsGlobPathDatajava325 at orgapachehadoopfsshellCommandexpandArgumentCommandjava224 at orgapachehadoopfsshellCommandexpandArgumentsCommandjava207 at orgapachehadoopfsshellCommandprocessRawArgumentsCommandjava190 at orgapachehadoopfsshellCommandrunCommandjava154 at orgapachehadoopfsFsShellrunFsShelljava255 at orgspringframeworkxdshellhadoopFsShellCommandsrunFsShellCommandsjava412 at orgspringframeworkxdshellhadoopFsShellCommandsrunCommandFsShellCommandsjava407 at orgspringframeworkxdshellhadoopFsShellCommandslsFsShellCommandsjava110 at sunreflectNativeMethodAccessorImplinvoke0Native Method at sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 at sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 at javalangreflectMethodinvokeMethodjava606 at orgspringframeworkutilReflectionUtilsinvokeMethodReflectionUtilsjava191 at orgspringframeworkshellcoreSimpleExecutionStrategyinvokeSimpleExecutionStrategyjava64 at orgspringframeworkshellcoreSimpleExecutionStrategyexecuteSimpleExecutionStrategyjava48 at orgspringframeworkshellcoreAbstractShellexecuteCommandAbstractShelljava127 at orgspringframeworkshellcoreJLineShellpromptLoopJLineShelljava483 at orgspringframeworkshellcoreJLineShellrunJLineShelljava157 at javalangThreadrunThreadjava724,0
As a module author I want to be able to test my code in next to real world conditions ie Integration Testing but not really - I want all my module wiring to be testable - I want all my module configuration ConfigurationProperties to be in effect and I want to be able to test various combination of props - I want to be able to send data to my module and assert what is coming at the other end - I want an idiomatic way of asserting the above eg integration with Hamcrest etc - I DONT want to have to send data to an actual bus redis rabbit etc,5
As a developer Id like to have the option of extending the Trigger abstraction so that I can implement my own trigger,8
As a system administrator I need to connect to SonicMQ as jms provider When setting up the correct spring xml file and added the correct jar files to the lib directory I received the following exception--- Question is there a spot I should be defining the conversion strategy code Spring Boot v050M6 150436092 ERROR http-bio-9393-exec-1 restRestControllerAdvice157 - Caught exception while handling a request orgspringframeworkintegrationMessageHandlingException error occurred in message handler moduleDeployer orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava79 orgspringframeworkintegrationconfigServiceActivatorFactoryBean1handleRequestMessageServiceActivatorFactoryBeanjava83 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava142 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava94 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava42 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava86 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava228 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava212 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava177 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava171 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava149 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkxddirtstreamDeploymentMessageSendersendDeploymentRequestsDeploymentMessageSenderjava57 orgspringframeworkxddirtstreamAbstractDeployersendDeploymentRequestsAbstractDeployerjava137 orgspringframeworkxddirtstreamAbstractDeployerbasicDeployAbstractDeployerjava157 orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerdeployAbstractInstancePersistingDeployerjava78 orgspringframeworkxddirtrestXDControllersaveXDControllerjava242 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeInvocableHandlerMethodjava214 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava132 orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava104 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava748 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava689 orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava83 orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava947 orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava878 orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava946 orgspringframeworkwebservletFrameworkServletdoPostFrameworkServletjava848 javaxservlethttpHttpServletserviceHttpServletjava647 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava822 javaxservlethttpHttpServletserviceHttpServletjava728 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava305 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava88 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgapachecatalinacoreStandardWrapperValveinvokeStandardWrapperValvejava222 orgapachecatalinacoreStandardContextValveinvokeStandardContextValvejava123 orgapachecatalinaauthenticatorAuthenticatorBaseinvokeAuthenticatorBasejava472 orgapachecatalinacoreStandardHostValveinvokeStandardHostValvejava171 orgapachecatalinavalvesErrorReportValveinvokeErrorReportValvejava99 orgapachecatalinacoreStandardEngineValveinvokeStandardEngineValvejava118 orgapachecatalinaconnectorCoyoteAdapterserviceCoyoteAdapterjava407 orgapachecoyotehttp11AbstractHttp11ProcessorprocessAbstractHttp11Processorjava1004 orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava589 orgapachetomcatutilnetJIoEndpointSocketProcessorrunJIoEndpointjava310 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 Caused by orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name connectionFactory defined in file Usersdmarleysandboxspring-xdbuilddistspring-xdxdmodulessourcejmsconfigcommonjms-sonic-infrastructure-contextxml Initialization of bean failed nested exception is orgspringframeworkbeansConversionNotSupportedException Failed to convert property value of type progressmessagejclientConnectionFactory to required type javaxjmsConnectionFactory for property targetConnectionFactory nested exception is javalangIllegalStateException Cannot convert value of type progressmessagejclientConnectionFactory to required type javaxjmsConnectionFactory for property targetConnectionFactory no matching editors or conversion strategy found orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava547 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava475 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava300 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava228 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava296 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava195 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava660 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava760 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava482 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava552 orgspringframeworkbootSpringApplicationrunSpringApplicationjava293 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava130 orgspringframeworkxdmoduleSimpleModuleinitializeSimpleModulejava135 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava239 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleModuleDeployerjava229 orgspringframeworkxddirtmoduleModuleDeployerhandleDeployModuleDeployerjava214 orgspringframeworkxddirtmoduleModuleDeployerhandleDeploymentRequestModuleDeployerjava196 orgspringframeworkxddirtmoduleModuleDeployerhandleMessageInternalModuleDeployerjava137 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 63 more Caused by orgspringframeworkbeansConversionNotSupportedException Failed to convert property value of type progressmessagejclientConnectionFactory to required type javaxjmsConnectionFactory for property targetConnectionFactory nested exception is javalangIllegalStateException Cannot convert value of type progressmessagejclientConnectionFactory to required type javaxjmsConnectionFactory for property targetConnectionFactory no matching editors or conversion strategy found orgspringframeworkbeansBeanWrapperImplconvertIfNecessaryBeanWrapperImpljava474 orgspringframeworkbeansBeanWrapperImplconvertForPropertyBeanWrapperImpljava505 orgspringframeworkbeansBeanWrapperImplconvertForPropertyBeanWrapperImpljava499 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryconvertForPropertyAbstractAutowireCapableBeanFactoryjava1497 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryapplyPropertyValuesAbstractAutowireCapableBeanFactoryjava1456 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorypopulateBeanAbstractAutowireCapableBeanFactoryjava1192 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava537 81 more Caused by javalangIllegalStateException Cannot convert value of type progressmessagejclientConnectionFactory to required type javaxjmsConnectionFactory for property targetConnectionFactory no matching editors or conversion strategy found orgspringframeworkbeansTypeConverterDelegateconvertIfNecessaryTypeConverterDelegatejava267 orgspringframeworkbeansBeanWrapperImplconvertIfNecessaryBeanWrapperImpljava459 87 more code,4
Create integration test script for JMS MQTT Create a script to sanity check JMS and MQTT,0
JDBC driver classpath issues for custom job modules There is a class-loader issue when defining JDBC driverpool dataSource for a custom job module If I use the Tomcat DataSource it pulls the driver classes from xdlib but if I use a DataSource class thats not loaded by the XD runtime like SimpleDriverDataSource then it pulls the jdbc driver jars from my job modules lib directory which I was expecting since the JDBC drivers Im using are not delivered as part of XD The whole class-loading scheme for custom modules needs either better documentation or improvement Currently its difficult to tell where classes will be loaded from and what classes are available on the server classpath and which classes have already been loaded,0
Verify use of JMX managed bean to shutdown cleanly the xd-admin and xd-container servers In both cases there are multiple application contexts that can be running in the process The JMX Managed bean should call close on those application contexts The more detailed lifecycle of cleanly shutting down components within those application contexts is another story,0
Rabbit Tests need to use another another account besides guest Need to update the Rabbit MQTT test to use the Acctest account instead of guest As of Rabbit 33 the guest account can only accept connections from localhost For now Ive setup a loop back so that guest can be accessed from other manchines,0
Naming consistency for named channels There seems to be some inconsistency with the naming strategy for the named channels For example If we create a job j1 the job launching request queue name in the message broker would jobj1 To send a launching request we can either use queuejobj1 or jobj1 both seems to work If we create a stream with the named p2p channel foo we expect to use the syntax queuefoo and the message broker will have the queue name queuefoo The StreamConfigParser resolves the sourcesink channel names for tap to deduce the module index from the channel component ChannelNoderesolveStreamLookupEnvironment env But in case of the named channels that have prefix topic or queue their names are used as is the only exception in a case where From StreamConfigParsers eatChannelReferenceboolean tapAllowed codejava queueXXX topicXXX if firstTokendataequalsIgnoreCasequeue channelType ChannelTypeQUEUE else if firstTokendataequalsIgnoreCasetopic channelType ChannelTypeTOPIC TODO DT not sure if this is the best way to handle StreamConfigParserTestssubstreamsWithSourceChannels if channelScopeComponentssize 3 channelScopeComponentsremove0 code The above code makes sure queuejobjobname still points jobjobname We need some consistency when referring to the names of queues for the named channels above Something like this queuejobj1 for job launching request queue and queuefoo for the named p2p channel queue or a better strategy the has consistency across the named channels,0
Create spike of web app that maps UI design docs to MVC components in Angluar,0
Support for DELETE of taps,0
As a developer Id like to move the project reactor based data processor modulehttpsgithubcomspring-projectsspring-xd-modulestreemasterspring-xd-reactor from spring-xd-module repo to the core so I can natively use Reactors Stream API to build processor modules,3
As a developer Id like to upgrade to SI milestoneGA release so I can synchronize with JMX improvements This is dependent on SI Milestone and GA release timelines,1
As a user Id like to have the option to stop an existing Spark job so that I can clean-up resources at the time of completion,3
As a developer Id like to brainstorm and investigate various techniques around installation of XD modules from a maven repo so I could define the module artifactId from CLI to have the module downloaded from the repo and installed to a running Spring XD runtime,8
CommandLine default values from container admin options can not be overridden If we have default values from ContainerAdmin options then they can not be overridden by the system properties or system environment Currently the only default we have for the ContainerAdmin options is for jmxEnabled option and since it is a boolean it can never be overridden by sysenv property XDJMXENABLED I think we need to make sure there are no default values assigned for the non-boolean ContainerAdmin options and handle the boolean type option separately,0
With Security - Unable to upload module Once security is enabled one cannot upload modules using the shell any longer,0
Batch Basic Fails to launch job when rabbit is data transport Deployed the batch basic as instructions prescribe Tests work for both singlenode and redis as a data transport However while the job does deploy using rabbit it does not launch,0
As a user Id like to have a sample app GitHub project so that I can use it as a reference while provisioning Spring XD cluster with Kafka Consider Kafka as message bus Kafka as source,8
As a Spring XD developer Id like to move gemfire module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,2
Cant use webhdfs with hdfs sink When using springhadoopfsUri set to webhdfslocalhost Im getting an error javalangNoClassDefFoundError javaxwsrscoreMediaType including the following in xdlib seems to fix this - jersey-core-19jar - jersey-server-19jar,0
Suppress DeliveryMode Header in RabbitMQ Source Related to XD-2567 which fixed this problem but only in the bus quote 2016-02-19T182524-0500 121RELEASE WARN SimpleAsyncTaskExecutor-1 supportDefaultAmqpHeaderMapper - skipping header amqpdeliveryMode since it is not of expected type class orgspringframeworkamqpcoreMessageDeliveryMode it is class orgspringframeworkamqpcoreMessageDeliveryMode quote,0
Add stress test To enrich acceptance test coverage Id like to have stress test scenario that includes ingesting data from HTTP and then writing it to Log sink,0
Proactively handle failed deployments When a deployment fails on a container due to a misconfiguration the container does not notify the admin Instead the admin waits for the container to write out an ephemeral node to the definition path xdstreams or xdjobs to indicate a successful deployment and if the path isnt written in 10 seconds the deployment is considered failed This timeout should be considered a heuristic failure meaning that the container was not able to write out a response of success or failure If the deployment fails the container needs to indicate this by writing a node to ZK,0
Move Back button to top right The Back button is at lower left of the page which requires scrolling all the way to the bottom - could we move it to top right Would make clicking back and forth for job executions much easier,0
Standardize DateTimeTimeZone handling We should we centrally standardize on datetime formats so that we dont create inconsistencies and follow ISO 8601 internally Internally we should only work with UTC or make that the default config option Ultimately whatever the user sees is just a formatting concern,0
filejdbc job broken in distributed mode The filejdbc job is broken in distributed mode redis and rabbit To reproduce export XDTRANSPORTrabbit start xd-admin start xd-container start shell and create this job code job create mydata --definition filejdbc --namescol1col2col3 --resourcesfilehometrisbergTestinputcsv --initializeDatabasetrue --deploy job launch mydata code results in JOB starting but never completing code job execution list Id Job Name Start Time Step Execution Count Execution Status Deployment Status Definition Status -- -------- ------------------------------------ -------------------- ---------------- ----------------- ----------------- 0 mydata 2014-07-11 154433 AmericaNewYork 0 STARTED Deployed Exists code Steps code Step IdStep NameReadsWritesCommitsRollbacksDurationStatusDetails 0step1-master0000-1405349644032 msEXECUTING 1step1-masterpartition029229230302 msCOMPLETED 2step1-masterpartition129229230203 msCOMPLETED 3step1-masterpartition229229230193 msCOMPLETED code When using Redis I also get this stacktrace in container code 154051220 INFO DeploymentsPathChildrenCache-0 bootSpringApplication - Started application in 1965 seconds JVM running for 66949 154051220 INFO DeploymentsPathChildrenCache-0 coreSimpleModule - initialized module SimpleModule namefilejdbc typejob groupjob1 index0 64a28a58 154051233 INFO DeploymentsPathChildrenCache-0 redisRedisMessageBus - binding requestor job10 154051236 INFO DeploymentsPathChildrenCache-0 redisRedisMessageBus - binding replier job10 154051243 INFO DeploymentsPathChildrenCache-0 moduleModuleDeployer - deployed SimpleModule namefilejdbc typejob groupjob1 index0 64a28a58 154057110 ERROR inboundjob10-redisqueue-inbound-channel-adapter1 redisRedisMessageBus1 - Failed to deliver message retries exhausted message sent to queue ERRORSname orgspringframeworkmessagingMessageHandlingException error occurred in message handler orgspringframeworkintegrationaggregatorAggregatingMessageHandler0 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava84 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricshandleMessageSimpleMessageHandlerMetricsjava106 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricsinvokeSimpleMessageHandlerMetricsjava86 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy84handleMessageUnknown Source orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 sunreflectGeneratedMethodAccessor89invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava113 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava97 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava91 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy78sendUnknown Source orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava109 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava94 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava260 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava241 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava205 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava199 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava177 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkxddirtintegrationredisRedisMessageBus11doWithRetryRedisMessageBusjava251 orgspringframeworkxddirtintegrationredisRedisMessageBus11doWithRetryRedisMessageBusjava247 orgspringframeworkretrysupportRetryTemplatedoExecuteRetryTemplatejava263 orgspringframeworkretrysupportRetryTemplateexecuteRetryTemplatejava168 orgspringframeworkxddirtintegrationredisRedisMessageBus1doSendRedisMessageBusjava247 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava109 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava94 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava98 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointpopMessageAndSendRedisQueueMessageDrivenEndpointjava211 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointaccess300RedisQueueMessageDrivenEndpointjava50 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointListenerTaskrunRedisQueueMessageDrivenEndpointjava290 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 javalangThreadrunThreadjava744 Caused by javalangIllegalStateException Null correlation not allowed Maybe the CorrelationStrategy is failing orgspringframeworkutilAssertstateAssertjava385 orgspringframeworkintegrationaggregatorAbstractCorrelatingMessageHandlerhandleMessageInternalAbstractCorrelatingMessageHandlerjava383 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 60 more 154100129 ERROR inboundjob10-redisqueue-inbound-channel-adapter1 redisRedisMessageBus1 - Failed to deliver message retries exhausted message sent to queue ERRORSname orgspringframeworkmessagingMessageHandlingException error occurred in message handler orgspringframeworkintegrationaggregatorAggregatingMessageHandler0 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava84 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricshandleMessageSimpleMessageHandlerMetricsjava106 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricsinvokeSimpleMessageHandlerMetricsjava86 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy84handleMessageUnknown Source orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 sunreflectGeneratedMethodAccessor89invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava113 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava97 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava91 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy78sendUnknown Source orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava109 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava94 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava260 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava241 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava205 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava199 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava177 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkxddirtintegrationredisRedisMessageBus11doWithRetryRedisMessageBusjava251 orgspringframeworkxddirtintegrationredisRedisMessageBus11doWithRetryRedisMessageBusjava247 orgspringframeworkretrysupportRetryTemplatedoExecuteRetryTemplatejava263 orgspringframeworkretrysupportRetryTemplateexecuteRetryTemplatejava168 orgspringframeworkxddirtintegrationredisRedisMessageBus1doSendRedisMessageBusjava247 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava109 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava94 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava98 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointpopMessageAndSendRedisQueueMessageDrivenEndpointjava211 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointaccess300RedisQueueMessageDrivenEndpointjava50 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointListenerTaskrunRedisQueueMessageDrivenEndpointjava290 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 javalangThreadrunThreadjava744 Caused by javalangIllegalStateException Null correlation not allowed Maybe the CorrelationStrategy is failing orgspringframeworkutilAssertstateAssertjava385 orgspringframeworkintegrationaggregatorAbstractCorrelatingMessageHandlerhandleMessageInternalAbstractCorrelatingMessageHandlerjava383 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 60 more code,0
Hide the passwords used as module properties in streams from being displayed This type is used in password field in the jdbc sink module provided by Spring XD defined in orgspringframeworkxdjdbcJdbcConnectionMixin class It seems that Spring XD Admin UI is always displaying the password in plain text please see attached screen shot Is there a way to somehow hide the passwords used as module properties in streams from being displayed in Spring XD Admin UI This is similar issue as below and fixed in batch jobs but not in streams httpsgithubcomspring-projectsspring-xdpull1325,0
Resolve compile warnings For example noformat spring-xd-dirtcompileTestJava warning options bootstrap class path not set in conjunction with -source 17 DSpringIOspring-xdspring-xd-dirtsrctestjavaorgspringframeworkxddirtintegrationbusLocalMessageBusTestsjava95 warning overrides Class Foo overrides equals but neither it nor any superclass overrides hashCode method static class Foo DSpringIOspring-xdspring-xd-dirtsrctestjavaorgspringframeworkxddirtintegrationbusserializerkryoCompositeCodecTestsjava77 warning overrides Class SomeClassWithNoDefaultConstructors overrides equals but neither it nor any superclass override s hashCode method static class SomeClassWithNoDefaultConstructors DSpringIOspring-xdspring-xd-dirtsrctestjavaorgspringframeworkxddirtintegrationbusserializerkryoKryoCodecTestsjava77 warning overrides Class SomeClassWithNoDefaultConstructors overrides equals but neither it nor any superclass overrides has hCode method static class SomeClassWithNoDefaultConstructors DSpringIOspring-xdspring-xd-dirtsrctestjavaorgspringframeworkxddirtintegrationredisKryoMessageSerializerTestsjava64 warning overrides Class Foo overrides equals but neither it nor any superclass overrides hashCode method public static class Foo DSpringIOspring-xdspring-xd-dirtsrctestjavaorgspringframeworkxddirtstreamTypeConvertingStreamTestsjava181 warning rawtypes found raw type Map Map map Map messagegetPayload missing type arguments for generic class MapKV where KV are type-variables K extends Object declared in interface Map V extends Object declared in interface Map 6 warnings noformat,0
Copy latest build to S3 after a XD Build,0
Sourcefile module read file line by line I have a stream that watch output of multi file in a directory process data and put it to HDFS Here is my stream creat command stream create --name fileHdfs --definition file --dirvarlogsupervisor --patterntrackerout-log --outputTypetextplain logHdfsTransformer hdfs --fsUrihdfs19216811158020 --directorydatalogappsync --fileNamelog --partitionPathpathdateFormatyyyyMMdd --deploy Problem is sourcefile module send all data read from file to log processing module instead of one line each turn becase of that payload string have millions of char i cant process it Ex --- PAYLOAD LENGTH---- 9511284 Please tell me how to read line by line when use sourcefile module thanks,0
As a user I want to be able to provide my own RowMapperTuple implementation to enrich the jdbc data My use case requires me to add timestamp field and a delete flag field to records before they get written to HDFS To do it I have to implement a ItemReaderFactory and perhaps extend NameColumnJdbcItemReader This is to override the afterPropertySet method to change the default implementation Otherwise I have to write my own Processor that can add these fields to Tuples and since tuples are immutable I would have to recreate the tuples with additional fields in the processor For large load this could be big overhead I would love to know any other technique to implement such a use case,1
OS commands no longer supports whitespacearguments in M6 OS commands ie doesnt support arguments in M6 it did in M5 The following gives an error xd ls You cannot specify option more than once in a single command No arguments or whitespace works xd ls command isls spring-shelllog xd-shell xd-shellbat,0
Restore XD Banner Migrating to boot dropped the XD banner and its info Can be restored using eg a boot Initializer and removing the default boot banner,0
Create REST API for restarting a specific job instance Functionality adopted from spring-batch admin Should include springmvc test framework style tests POST batchjobsjobNamejobInstanceIdexecutions - restart a specific job instance,0
SCS - Replace Binder XML config with Configuration Create Confguration and ConfigurationProperties Configuration must support replacing the default Kryo Codec implementation with something else,0
Expose restful services that allow users to view job statuses This story utilizes BatchAdmin and its restful interfaces to show the state of jobs in Spring XD Steps - Create a Branch in the BatchAdmin we dont want to lose history - Update the restful APIs to XD standards - Create bamboo task to push jars to artifactory - Update gradlebuild to pull in the Batchadmin jars - Expose the restful calls,0
As a developer Id like to bench Kafka as message bus using in-built perf-testing producerconsumer utilities so that I can use that as a foundation to build XD use-cases and measure performance Id like to reproduce baseline performance metrics as identified by the Kafka engineering teamhttpsengineeringlinkedincomkafkabenchmarking-apache-kafka-2-million-writes-second-three-cheap-machines,8
As a QA Id like to include acceptance test coverage for SFTP source module so that I can validate the functionality as part of every CI build,3
As a user I would like to be able to configure the logging directory to be outside of what is defined as xdhome The logging directory is currently hard coded as codexdhomelogscode This would be useful for RPM installations where the logs really should be going to varlogsspring-xd instead of the current optpivotalspring-xdxdlogs location,3
Refactor tests with FileSinkFileSource to use eventually matcher Some tests esp ModuleClasspathTeststestModuleWithClasspathAfterServerStarted seem to fail because of a race condition Add a Hamcrest matcher that knows how to read the content of a FileSinkSource and refactor those to read like eg assertThatfileSink eventuallyhasContentfoo,0
Kafka source should not try to decode payloads as Strings Currently the Kafka source uses a StringDecoder by default - which is an invalid assumption if the payload is not the result of String conversion,0
Add JDBC source As an user Id like to have a native JDBC source module to ingest data directly from various databases,0
Scala processor module executor trims messages How to reproduce 1 Run xd-singlenode for which setting the Spark master URL to local is a requirement Use more than 1 worker thread eg local4 2 Deploy the word-count example 3 Create a stream stream create spark-streaming-word-count --definition http word-count log --deploy 4 Send data xdhttp post --data a b c d e f g xdhttp post --data a b c 5Observe the result 2015-02-24 151246018 120SNAP INFO Executor task launch worker-3 sinkspark-streaming-word-count - e1 2015-02-24 151246018 120SNAP INFO Executor task launch worker-1 sinkspark-streaming-word-count - d1 2015-02-24 151246019 120SNAP INFO Executor task launch worker-2 sinkspark-streaming-word-count - b1 2015-02-24 151246020 120SNAP INFO Executor task launch worker-1 sinkspark-streaming-word-count - g1 2015-02-24 151340020 120SNAP INFO Executor task launch worker-1 sinkspark-streaming-word-count - a1 2015-02-24 151340020 120SNAP INFO Executor task launch worker-2 sinkspark-streaming-word-count - b1 2015-02-24 151340021 120SNAP INFO Executor task launch worker-3 sinkspark-streaming-word-count - c1 the last three results are coming from the second invocation Note there seems to be a correlation between the number of values emitted and the number of workers as in all the attempts there arent more values emitted than the number of workers,0
XD Shell Should be lenient in regards to specified datestimes for triggers Ideally we could try out best if there was a date that didnt have the TZD format on it eg figure what the local time zone is AdminUI or Shell and figure out if we are aheadbehind UTC So YYYY-MM-DDThhmm would say try to use local time zone YYYY-MM-DDThhmmZ would be UTC YYYY-MM-DDThhmm400 would be 4 hrs ahead of UTC However we need to ultimately submit an ISO compliant time to the XD server The UIshell should try to be as accommodating as possibleeg postels law httpenwikipediaorgwikiRobustnessprinciple Be conservative in what you do be liberal in what you accept from others,0
Deploying Custom Code When a module is deployed it should run in its own isolated classpath The current code has all dependencies in a single classpath taken from the lib directory at startup This has a number of drawbacks one of the most important is the batch jobs can not be contributed to the system at runtime The work for this epic is decoupled from any module deployment story The assumption is that there will be a directory layout as shown below Current layout modules -- common -- job -- processor -- sink -- source -- trigger And inside source -- source -- filexml -- gemfire-cqxml -- gemfirexml -- httpxml -- jmsxml -- mqttxml -- rabbitxml -- syslog-tcpxml -- syslog-udpxml -- tailxml -- tapxml -- tcpxml -- timexml -- twittersearchxml -- twitterstreamxml Using an example of the source directory from the current layouteg modulessourcefile the new layout would be modulessourcefilelibspring-integration-filejar modulessourcefileconfigfilexml We should support both the new and old layout styles simultaneously There what is under file directory is the package No zip war is required,0
Modify Acceptance tests to give a pause time for deployment different than default Kafka deployments take nearly 4 times as long as other transports because of the creation of the topic an partitions Currently all test use the same wait time whether it is for waiting for connections or file writes So to get a CI build for kafka build would take a long period of time The goal of the Story is to allow deployments to have a different pausetime to give Kafka bus the extra time it needs but not affect the timeout for other stages of the tests,0
module delete tab completion includes undeletable modules See my comment on httpsgithubcomspring-projectsspring-xdpull1295 for details,0
twittersearch and twitterstream should support compatible formats Currently twitterstream emits native twitter json whereas twittersearch uses SISpring Social and emits spring social Tweet types This makes it difficult to replace twitter sources and reuse XD stream definitions This requires coordination with SS 110 and SI 40 GA releases NOTE I think its a good idea to continue to support native twitter JSON keep as an option for twitterstream but the default should be Tweet types,0
Intermittent TcpModulesTeststestTcpSink test failure noformat orgjunitComparisonFailure orgjunitComparisonFailure expectedHi there but was orgjunitComparisonFailure expectedHi there but was orgjunitAssertassertEqualsAssertjava115 orgjunitAssertassertEqualsAssertjava144 orgspringframeworkxdshellcommandTcpModulesTeststestTcpSinkTcpModulesTestsjava63 sunreflectNativeMethodAccessorImplinvoke0Native Method 60 more lines noformat httpsbuildspringiobrowseXD-JDK8-JOB1-1162test,0
As a developer I would like to create DSL based jobs using Spring XD Currently BatchJobRegistryBeanPostProcessor implementation has an assumption in postProcessAfterInitialization method line 92 It checks if the beans are instanceof StepParserStepFactoryBean which is XML based steps Therefore any XD step listeners for tap events are not getting registered effectively Im not getting any Step events out of my DSL based jobs Apparently everything else is working alright for the Java DSL job Java DSL jobs are far easier to write TestIntegration Tests with Please review issue type - I was not sure if this was a bug or improvement i supposed it is an improvement,1
Enable --refresh-dependencies into be present when executing gradlew This could be inside gradlew or a settings file,0
Create aggregator module that uses an embedded database stored in the local filesystem Similar to XD-1100 SI has the jdbc based message store int-jdbcmessage-store idmessageStore data-sourcedataSource table-prefixMYINT The configuration of this aggregator would be configured so that it uses an embedded database hsqldb or H2 depending if there is any real perf benefit to one or the other and store the data on the local file system,0
Create documentation for Job listeners support,0
As a developer Id like to bench test cases around TupleBuilder so I can identify the bottlenecks and tune for performance optimizations,8
Add JUnit Rule so Tests Fail Fast with Clear Messaging if Redis Not Available,0
As a s-c-d developer Id like to establish the foundation to expose REST-APIs to interact with the xd-admin and likewise perform CRUD operations to maneuver streaming and batch pipelines,5
Documentation for gauge taps Put on the guide as a section in an input-stream wiki page,0
Add a test for xdstreamname inside the DSL definition of a stream,0
User wants ability to create a in-process sink or tap So that we can validate the message content in the stream,0
Rename xd-global-beansxml The above config contains beans that must be in a common parent context for the AdminServer and Modules Hence not really global since the Node doesnt need them itself So the name is a bit misleading Come up with something better,0
UI Automatically close notification messages Automatically close notification messages Polish UI,0
Support Bus Producer Properties for Dynamic Producers Pass module properties from stream plugin to MessageBusAwareChannelResolver Disallow partitioning properties,0
Provide a http source stream should be able to ingest data from http,0
Add ModuleOptions support for Rabbit sink We need to add ModuleOptions support for Rabbit sink,0
Create AbstractStreamIntegrationTest that will destory streams that were created during test method execution Keep track of named streams that were create and use After to destroy them,0
As a Spring XD developer Id like to self-register xd-admin server with Eureka so I could have admin server exposed as discoverable endpoint,3
Stream partitioning metadata should allow updating at runtime - dynamically anytime In a running system some times the algorithm for partitioning the data might overload a given server with work When that happens we might need to rebalance the partitioned work data to achieve a even balance of stream throughput across servers in a given compute group We can think of this dynamic rebalancing behavior as an extension of a failure use case In the failure scenario we need to re-partition the stream to other servers in the group We should allow third parties to plug-in to help with this capability As an example GemFire will report the new partitioning meta-data when this type failure rebalance happens,0
modulecount 1 duplicates messages on taps Using modulenamecount 1 when deploying taps causes duplication of messages in those modules This impacts balancing of the containers and modules in a cluster as messages should not be duplicated across modules if the same module is deployed twice to two containers in order to spread the load We use taps quite heavily in our project mainly for analytics of the life feed in real time but due to issue we have discovered and described in this bug we are currently facing a limitation where heavily processing modules can not be load balanced across the cluster as they are causing duplication of the messages and therefore the same module deployed to two containers would still process the same message twice To demonstrate the problem please see test case scenario set up below h4 1 Environment - Spring-XD version 111-RELEASE - Running two spring-xd containers and one spring-xd admin h4 2 Set up Stream definition is as follows quotestream create --name test-module-count --definition syslog-udp --port5140 transform log stream deploy --name test-module-count --properties modulecount2 stream create --name tap-test-module-count --definition tapstreamtest-module-countsyslog-udp transform --expressionpayloadtoString TAPPED log stream deploy --name tap-test-module-count --properties modulecount2quote Please refer to the screen shots attached to see that after deploying those two streams we have - streams successfully deployed module-count-spring-xd-streamspng - streams successfully deployed with count2 to both containers module-count-spring-xd-containerspng - 5 queues created in Rabbit module-count-rabbitpng where two were created for the syslog-udp collector as a result of using modulesyslog-udpcount2 - this is causing messages to be duplicated Normally the expectation would be to have only one queue for the tap h4 3 Test input data I have sent a very simple UDP message to the listening udp collector running on second container quoteecho test-module-count devudphost025140quote h4 4 Test output data in the logs module-count-container01log and module-count-container02log h5 Expected result Below messages logged only on 1 container it does not matter which one quote2015-05-26 095221630 111RELEASE INFO xdbustest-module-count1-1 sinktest-module-count - UNDECODEDtest-module-countquote Below message logged only on one container it does not matter which one quote2015-05-26 095221843 111RELEASE INFO xdbustap-test-module-count0-1 sinktap-test-module-count - UNDECODEDtest-module-count TAPPEDquote h5 Actual result Stream that has been create as a tap has duplicated the same message and as a result the same message was proccessed twice on both containers by the same module transformer and logged twice to the console on both containers Container01 quote2015-05-26 145221143 111RELEASE INFO xdbustap-test-module-count0-1 sinktap-test-module-count - UNDECODEDtest-module-count TAPPEDquote Container02 quote2015-05-26 095221630 111RELEASE INFO xdbustest-module-count1-1 sinktest-module-count - UNDECODEDtest-module-count 2015-05-26 095221843 111RELEASE INFO xdbustap-test-module-count0-1 sinktap-test-module-count - UNDECODEDtest-module-count TAPPEDquote,0
Containers stopped responding to Admin SHA a205d43f0b59e1984bf55c3368b031a373a03712 Environment Rabbit Transport Test 1 admin 2 containers Initial Event During the run of FileJdbcTesttestPartitionedFileJdbcJob the containers quit responding to the admin server After the initial failure at 122646 no other streams can be deployed Secondary Event When shutting down one of the container 1 the following exception occurs on the admin server 125112004 INFO DeploymentSupervisorCacheListener-0 serverDepartingContainerModuleRedeployer - Container departed Containername5353dc4b-6068-49a0-8981-fa175869edf0 attributesid5353dc4b-6068-49a0-8981-fa175869edf0 hostdomU-12-31-39-07-81-02 pid1270 groups ip10209130240 125112004 ERROR DeploymentSupervisorCacheListener-0 cachePathChildrenCache - orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsmodulesallocated5353dc4b-6068-49a0-8981-fa175869edf0 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 orgapachezookeeperZooKeepergetChildrenZooKeeperjava1590 orgapachecuratorframeworkimpsGetChildrenBuilderImpl3callGetChildrenBuilderImpljava214 orgapachecuratorframeworkimpsGetChildrenBuilderImpl3callGetChildrenBuilderImpljava203 orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 orgapachecuratorframeworkimpsGetChildrenBuilderImplpathInForegroundGetChildrenBuilderImpljava199 orgapachecuratorframeworkimpsGetChildrenBuilderImplforPathGetChildrenBuilderImpljava191 orgapachecuratorframeworkimpsGetChildrenBuilderImplforPathGetChildrenBuilderImpljava38 orgspringframeworkxddirtserverDepartingContainerModuleRedeployerdeployModulesDepartingContainerModuleRedeployerjava101 orgspringframeworkxddirtserverContainerListenerchildEventContainerListenerjava104 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 The attached container logs are only partial because they have rolled over The attached admin log is fairly complete,0
Password for Sqoop Job definition is in the open While creation sqoop and providing the password for the sqoop jobs the guid does not mask the password with a,0
Make hdfs configurable via applicationyml We currently pull all hdfs config properties from hdfsproperties - change that to use applicationyml,0
Add SingleNodeMain class SingleNodeMain parent new AC AdminMainlaunchparent ContainerMainlaunchparent This should make startup processing more consistent and symmetrical,0
Update diagrams that show control transport The first 2 images in the documentation section linked below should no longer show redis rabbit or local for the communication between Admins and Containers Rather we need to show ZooKeeper httpsgithubcomspring-projectsspring-xdwikiArchitecture,0
As a user Id like to have the option to read the file line by line so I get the optional OOTB optimum file reading experience,8
Support daily query resolution in redis aggregate counter,0
As a developer I want to be able to connect to multiple external systems for the same binding type so that I can read data from a system and write it to another,5
UI Add support for stoppable notifications Update Angular Growl to v2 Allowing for stoppable notifications in case you want to see it for longer than 5 secs,0
Documentation for fixed rate triggers,0
Running Job with time delay non cron launches 2 instances before job is supposed to fire,0
Rabbit PubSub Consumers Should Support Concurrency PubSub consumers can support concurrency since the threads are competing consumers on the queue,0
As a user I would like to have an option to write data into HBase sink so that I can perform random realtime readwrite access on Big Data,8
Writing to HDFS - 1x,0
As a developer Id like to handle module options via pure boot property source management so I can leverage Boots module METADATAhttpdocsspringiospring-bootdocscurrent-SNAPSHOTreferencehtmlsingleconfiguration-metadata option to inject module options as opposed to maintaining them in core Spring XD runtime CP,8
User requires wiki page on how to use the XD EC2 Installer Add instructions to github wiki on the usage of the installer,0
Update to spring-data-hadoop 220M1 We should update to use spring-data-hadoop 220M1in order to use the fixes available for the HDFS writing there syncable writes timeout A few things to keep in mind - this updates Cloudera CDH to 533 - Kite version is now 10 - need to test the hdfs-dataset sink,0
Trigger - Add support for fixed-delay interval Trigger - Add support for fixed-delay interval,0
As a developer I would like to connect to the broker that hosts the Rabbit queue so I can connect to a Rabbit cluster thats setup for HAFT Perhaps consider having this feature natively supported in spring amqp itself,3
Stream-lib - analytics operators We would like to experiment with stream-lib a stream summarizer and cardinality counting distinct elements estimator to further enrich Spring XDs analytics feature-set GitHub - httpsgithubcomaddthisstream-lib,0
Streams section of doc should explicitly mention that labels are required for ambiguous modules Currently I believe we only mention labels in this section of the doc httpsgithubcomspring-projectsspring-xdwikiDSL-Referencelabels And it is not even clear there that they are required when 2 or more module names would otherwise be ambiguous It was probably written before we made that a mandatory part of the definition We should mention this somewhere in the streams section of the manual Even if none of the examples there currently have more than one occurrence of the same module we should add one to illustrate this point,0
Change http command to post data by putting http as the main command option The current http command is of the form httplocalhost8080post httpsource --target httplocalhost9090 --data 10 It isnt intuitive to think post rather the command can be http post --target httplocalhost9090 --data 10 which will allow us to have support for other http verbs and cleanly separate the namespace from hadoop etc The RestShell from which this came was only concerned with http actions so the leading command classification probably seemed superfluous,0
Weird behavior of the transform module When trying some of the examples of XD-159 came up with weird behavior of the transform module This boils down to noformat stream create foo --definition http transform --expressionnew javalangIntegerpayload transform --expressionpayloadgetClass log http post --data 42 Integer OK http post --data WTH WTH noformat Seems that when the expression can not be evaluated the incoming payload is transmitted as is,0
Using hdfs sink throwing an error I am trying to use HDFS as sink while creating streams and I am encountering the following error Please refer attached document Exception - localhost - 8020txt The fsdefaultname set in hadoopproperties is fsdefaultnamehdfslocalhost8020 I have also tried the following variation in the hadoopproperties file fsdefaultnamehdfs1270028020 fsdefaultnamehdfs12700250070 Using these values are also throwing me exceptions as mentioned in the following files attached Exception - 127002 - 8020txt Exception - 127002 - 50070txt We are using Pivotal HD 101 spring-xd-100M5-dist Kindly let us know the way around for this issue,0
As a field engineer Id like to have a comparison of Spark Streaming examples in Spring XD so that it is easy to relate from implementation standpoint,8
Add tap support to DIRT syntax code tap somechannel --keyvalue somecounter code,0
Investigate and create ModuleId class for ModuleMetadata The id field in ModuleMetadata is using module id that is derived from module parameters which varies between stream and job modules We can come up with ModuleId class that applies for both streamjob modules and can be used in ModuleMetadata,0
Container and Grid Control 1 Well need a system which give better control of what yarnxd containers are out there and what is a status of those containers 2 We also need grouping of containers order to choose prioritize and scale tasks 3 We need heartbeating of the grid nodes Hadoop Yarn itself doesnt give enough tools to know if container is alive,0
Make RabbitMessageBus RabbitMQ Config Properties Optional When the bus is used outside of the XD container eg spring-bus the inheritance from Spring Boot configuration is broken no applicationyml or serversyml on the cp Make the bus properties optional Add,0
Refactoring to JdbcMessagePayloadTransformer to extends from AbstractPayloadTransformer not JsonToObjectTransformer,0
Fix classpath issues for RabbitMQ sourcesink RabbitMQ Sink is throwing quote 094416031 110SNAP ERROR DeploymentsPathChildrenCache-0 bootSpringApplication - Application startup failed orgspringframeworkbeansfactoryxmlXmlBeanDefinitionStoreException Line 19 in XML document from class path resource configrabbitxml is invalid nested exception is orgxmlsaxSAXParseException lineNumber 19 columnNumber 53 cvc-complex-type322 Attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter at orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadBeanDefinitionsXmlBeanDefinitionReaderjava399 at orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava336 at orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava304 at orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava180 at orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava138 at orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava127 at orgspringframeworkbootSpringApplicationloadSpringApplicationjava620 at orgspringframeworkbootSpringApplicationrunSpringApplicationjava315 at orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 at orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava211 at orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 at orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 at orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 at orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 at orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 at orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 at orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 at comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 at orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 at orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 at orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 at orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 at javalangThreadrunThreadjava745 Caused by orgxmlsaxSAXParseException lineNumber 19 columnNumber 53 cvc-complex-type322 Attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter at comsunorgapachexercesinternalutilErrorHandlerWrappercreateSAXParseExceptionErrorHandlerWrapperjava198 at comsunorgapachexercesinternalutilErrorHandlerWrappererrorErrorHandlerWrapperjava134 at comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava437 at comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava368 at comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava325 at comsunorgapachexercesinternalimplxsXMLSchemaValidatorXSIErrorReporterreportErrorXMLSchemaValidatorjava458 at comsunorgapachexercesinternalimplxsXMLSchemaValidatorreportSchemaErrorXMLSchemaValidatorjava3237 at comsunorgapachexercesinternalimplxsXMLSchemaValidatorprocessAttributesXMLSchemaValidatorjava2714 at comsunorgapachexercesinternalimplxsXMLSchemaValidatorhandleStartElementXMLSchemaValidatorjava2056 at comsunorgapachexercesinternalimplxsXMLSchemaValidatoremptyElementXMLSchemaValidatorjava766 at comsunorgapachexercesinternalimplXMLNSDocumentScannerImplscanStartElementXMLNSDocumentScannerImpljava356 at comsunorgapachexercesinternalimplXMLDocumentFragmentScannerImplFragmentContentDrivernextXMLDocumentFragmentScannerImpljava2786 at comsunorgapachexercesinternalimplXMLDocumentScannerImplnextXMLDocumentScannerImpljava606 at comsunorgapachexercesinternalimplXMLNSDocumentScannerImplnextXMLNSDocumentScannerImpljava117 at comsunorgapachexercesinternalimplXMLDocumentFragmentScannerImplscanDocumentXMLDocumentFragmentScannerImpljava510 at comsunorgapachexercesinternalparsersXML11ConfigurationparseXML11Configurationjava848 at comsunorgapachexercesinternalparsersXML11ConfigurationparseXML11Configurationjava777 at comsunorgapachexercesinternalparsersXMLParserparseXMLParserjava141 at comsunorgapachexercesinternalparsersDOMParserparseDOMParserjava243 at comsunorgapachexercesinternaljaxpDocumentBuilderImplparseDocumentBuilderImpljava347 at orgspringframeworkbeansfactoryxmlDefaultDocumentLoaderloadDocumentDefaultDocumentLoaderjava76 at orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadDocumentXmlBeanDefinitionReaderjava429 at orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadBeanDefinitionsXmlBeanDefinitionReaderjava391 30 more 094416036 110SNAP ERROR DeploymentsPathChildrenCache-0 serverDeploymentListener - Exception deploying module orgspringframeworkbeansfactoryxmlXmlBeanDefinitionStoreException Line 19 in XML document from class path resource configrabbitxml is invalid nested exception is orgxmlsaxSAXParseException lineNumber 19 columnNumber 53 cvc-complex-type322 Attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter at orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadBeanDefinitionsXmlBeanDefinitionReaderjava399 at orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava336 at orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava304 at orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava180 at orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava138 at orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava127 at orgspringframeworkbootSpringApplicationloadSpringApplicationjava620 at orgspringframeworkbootSpringApplicationrunSpringApplicationjava315 at orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 at orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava211 at orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 at orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 at orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 at orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 at orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 at orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 at orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 at comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 at orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 at orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 at orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 at orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 at javalangThreadrunThreadjava745 Caused by orgxmlsaxSAXParseException lineNumber 19 columnNumber 53 cvc-complex-type322 Attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter at comsunorgapachexercesinternalutilErrorHandlerWrappercreateSAXParseExceptionErrorHandlerWrapperjava198 at comsunorgapachexercesinternalutilErrorHandlerWrappererrorErrorHandlerWrapperjava134 at comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava437 at comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava368 at comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava325 at comsunorgapachexercesinternalimplxsXMLSchemaValidatorXSIErrorReporterreportErrorXMLSchemaValidatorjava458 at comsunorgapachexercesinternalimplxsXMLSchemaValidatorreportSchemaErrorXMLSchemaValidatorjava3237 at comsunorgapachexercesinternalimplxsXMLSchemaValidatorprocessAttributesXMLSchemaValidatorjava2714 at comsunorgapachexercesinternalimplxsXMLSchemaValidatorhandleStartElementXMLSchemaValidatorjava2056 at comsunorgapachexercesinternalimplxsXMLSchemaValidatoremptyElementXMLSchemaValidatorjava766 at comsunorgapachexercesinternalimplXMLNSDocumentScannerImplscanStartElementXMLNSDocumentScannerImpljava356 at comsunorgapachexercesinternalimplXMLDocumentFragmentScannerImplFragmentContentDrivernextXMLDocumentFragmentScannerImpljava2786 at comsunorgapachexercesinternalimplXMLDocumentScannerImplnextXMLDocumentScannerImpljava606 at comsunorgapachexercesinternalimplXMLNSDocumentScannerImplnextXMLNSDocumentScannerImpljava117 at comsunorgapachexercesinternalimplXMLDocumentFragmentScannerImplscanDocumentXMLDocumentFragmentScannerImpljava510 at comsunorgapachexercesinternalparsersXML11ConfigurationparseXML11Configurationjava848 at comsunorgapachexercesinternalparsersXML11ConfigurationparseXML11Configurationjava777 at comsunorgapachexercesinternalparsersXMLParserparseXMLParserjava141 at comsunorgapachexercesinternalparsersDOMParserparseDOMParserjava243 at comsunorgapachexercesinternaljaxpDocumentBuilderImplparseDocumentBuilderImpljava347 at orgspringframeworkbeansfactoryxmlDefaultDocumentLoaderloadDocumentDefaultDocumentLoaderjava76 at orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadDocumentXmlBeanDefinitionReaderjava429 at orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadBeanDefinitionsXmlBeanDefinitionReaderjava391 quote,0
Update SI to latest 40 M3 and Spring AMQP to 130M2 The Rabbit endpoint suffers from a problem similar to XD-1067 Seems like spring-rabbitamqp needs to be bumped to 130M1 to fix it Sadly we get this error noformat javalangNoSuchMethodError orgspringframeworkamqpcoreMessagePropertiesgetContentLengthJ at orgspringframeworkintegrationamqpsupportDefaultAmqpHeaderMapperextractStandardHeadersDefaultAmqpHeaderMapperjava102 at orgspringframeworkintegrationamqpsupportDefaultAmqpHeaderMapperextractStandardHeadersDefaultAmqpHeaderMapperjava53 at orgspringframeworkintegrationmappingAbstractHeaderMappertoHeadersAbstractHeaderMapperjava205 at orgspringframeworkintegrationmappingAbstractHeaderMappertoHeadersFromRequestAbstractHeaderMapperjava148 at orgspringframeworkintegrationamqpinboundAmqpInboundChannelAdapter1onMessageAmqpInboundChannelAdapterjava75 at orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerdoInvokeListenerAbstractMessageListenerContainerjava584 at orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerinvokeListenerAbstractMessageListenerContainerjava482 at orgspringframeworkamqprabbitlistenerSimpleMessageListenerContaineraccess001SimpleMessageListenerContainerjava69 at orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainer1invokeListenerSimpleMessageListenerContainerjava144 at orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerinvokeListenerSimpleMessageListenerContainerjava920 at orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerexecuteListenerAbstractMessageListenerContainerjava454 at orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerdoReceiveAndExecuteSimpleMessageListenerContainerjava728 at orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerreceiveAndExecuteSimpleMessageListenerContainerjava712 at orgspringframeworkamqprabbitlistenerSimpleMessageListenerContaineraccess400SimpleMessageListenerContainerjava69 at orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerAsyncMessageProcessingConsumerrunSimpleMessageListenerContainerjava812 at javalangThreadrunThreadjava724 noformat Updating to latest SI snapshot does not help as of Jan 23rd,0
Support for registering custom Kryo Serializers This is an enhancement to KryoClassRegistrar or a related mechanism to initialize codecs using custom serializers to improve serialization performance Currently XD will support POJOs that implement the kryo Serializable interface to gain a 2x performance improvement however initial benchmarks show that custom serializers are about 10 more performant than Serializable,0
Let modules define a default value for --inputType option If a module eg always expects the payload of the message to be of a certain java type if would be good for documentation and convenience reasons in order to specify a default value for the --inputType option documentation output for module info convenience we could eg support to always accept a Json payload or automatic message payload conversion once it is extensible currently adding optionsinputTypedefault to the modules property file has no effect Ive also tried to redefine it using optionsinputTypedescription This leads to the following exception Command failed orgspringframeworkxdrestclientimplSpringXDException Module option named outputType is present in several delegates orgspringframeworkxdmoduleoptionsSimpleModuleOptionsMetadata3c1d635a FlattenedCompositeModuleOptionsMetadata outputType PojoModuleOptionsMetadata backed by class orgspringframeworkxddirtpluginsstreamModuleTypeConversionPluginMetadataResolverOutputOptionsMetadata defining options ModuleOption nameoutputType typeclass orgspringframeworkutilMimeType defaultValuenull descriptionhow this module should emit messages it produces inputType PojoModuleOptionsMetadata backed by class orgspringframeworkxddirtpluginsstreamModuleTypeConversionPluginMetadataResolverInputOptionsMetadata defining options ModuleOption nameinputType typeclass orgspringframeworkutilMimeType defaultValuenull descriptionhow this module should interpret messages it consumes,0
Spring XD very poor performance when using redis as transport When using redis as transport bus there is a problem when using many streams and taps Basically the maxTotal parameter of orgapachecommonspool2GenericObjectPool default is 8 After some streams are deployed it starts to occur concurrency problems hence the number of inbound redis channel adapters is larger than that number A more detailed explanation is in stackoverflow httpstackoverflowcomquestions25851660spring-xd-very-poor-performance-when-using-redis-as-transport,0
Update to Spring Batch 224,0
Add Accepted Media Type Support to Tap Currently the initial tap module accepted media types are not retrieved from the module when creating the tap,0
As a user I want Spring XD to pre-allocate a set of partitions between the Kafka source modules when a stream is deployed so that deployment is simpler and rebalancing doesnt take place,8
Add SpringIntegration MBean Exporters to Module ApplicationContexts Global option Override for individual modules module types,0
Create and document a syslog aggregation example 2-3 containers separate processes that the stream syslog tcp 1 container separate process that aggregates the data sent from those conainers tcp severityFilter hdfs,0
The HDFS Sink should support a file naming strategy to distinguish between file currently being written and completed files A file that is in the process of being written to should have a customized suffix added to the name eg temp Once the file is closed the suffix is removed and replaced with another value - default value can be dependent on the serialization format used but can be customized,0
Avoid false negative test failures related to HSQLDB When executing tests and failures occur should be easy to simulate with a forced failure several other side-effect failures occur with the following error code Caused by javalangIllegalArgumentException HSQLDB could not be started Maybe another instance is already running on 000013583 code It seems that the failing tests are not properly cleaning up so the HSQLDB instance they started is still running thereby causing the other failures In the case I last witnessed this on a dev branch I had a valid failure in LocalControlRedisDataInitializationTests the environmentMatchesTransport method specifically and TypeConvertingStreamTests So perhaps a good way to start exploring this issue is to simulate a failure in one or both of those classes The false negatives Im seeing are in the following code LocalSingleNodeInitializationTestsenvironmentMatchesTransport RabbitSingleNodeInitializationTestsenvironmentMatchesTransport RedisSingleNodeInitializationTestsenvironmentMatchesTransport FileSourceModuleTestsclassMethod LocalSingleNodeStreamDeploymentIntegrationTestsclassMethod RabbitSingleNodeStreamDeploymentIntegrationTestsclassMethod RabbitSingleNodeStreamDeploymentIntegrationTestsclassMethod code They all seem to be tests that start the SingleNodeApplication,0
As a developer Id like to hostread Python script file from HDFS so I can use the shell processor in XD on CF to delegate data science functionality to Py runtime and receive the feedback back in XD,8
Cant completely remove custom module after putting properties in configmodulesjobxxxxproperties if we put a custom module static properties in configmodulesjobmodule-namemodule-nameproperties then we cannot completely remove the module - you can delete module but you cannot upload new jar with the same name as it gives an error - there is module already with the same name May be important to note that we had a zookeeper data corruption on which support asked us to upgrade We couldnt upgrade just yet so I cleaned up zookeeper and recreated all streamsjob from original scripts I have observed this behavior after the corruption - I cannot tell for sure if the behavior was there or not before the corruption In case it is not easily reproducible then it could be environment specific issue I may update JIRA once i get time to try it on my local distributed mode,0
Improve build file distribution tasks The current flow of gradle tasks is confusing Suggest the following changes to simplify the flow 1 Move the current task logic in zipXD to distZip 2 Have distZip depend on dist 3 Update the how to build docs on the wiki 4 Make sure that the distZip task only shows up once in the list of gradle target,0
Support hourly resolution in redis aggregate counter,0
As a user Id like to have the option of WebSocket source module so that I can create a interactive communication channel between users browser session and the runtime to ingest browser based events and activities Reference Spring Integration WebSocket Supporthttpsgithubcomspring-projectsspring-integrationtreemasterspring-integration-websocketsrc,3
Add support for XDCONFIG environment variable in windows shell scripts This was added in bash scripts as part of XD-1186,0
Create documentation for ZK runtime,0
Allow for late-binding of module options defaults This is about computing the value to support expressions such as xdstreamname as a default Initial discussion suggested to leverage the work done in XD-1175 by having a custom LateValue or DeployTimeValue etc be resolved at deployment time,0
The xd-singlenode script should have execute permissions The xd-singlenode script currently has 644 permissions unlike xd-admin and xd-container which have 755 code -rwxr-xr-x 1 mark staff 5899 Aug 26 1619 xd-admin -rwxr-xr-x 1 mark staff 5955 Aug 26 1619 xd-container -rw-r--r-- 1 mark staff 5919 Aug 26 1619 xd-singlenode code,0
Properly close RedisRabbit connection factories in tests Tests that leverage RedisRabbitAvailableRule often create another connection factory in the test body but fail to close it Tests should properly close the resource As an added benefit the rule itself can expose the resource that it created for deciding whether to skip the test or not,0
New sink for REST resources A new sink that would POST the message payload to a REST service over http Could be created with code something like this except without hardcoded user and password for basic auth rest-storexml code xml version10 encodingUTF-8 beans xmlnshttpwwwspringframeworkorgschemabeans xmlnsxsihttpwwww3org2001XMLSchema-instance xmlnsinthttpwwwspringframeworkorgschemaintegration xmlnshttphttpwwwspringframeworkorgschemaintegrationhttp xsischemaLocationhttpwwwspringframeworkorgschemabeans httpwwwspringframeworkorgschemabeansspring-beansxsd httpwwwspringframeworkorgschemaintegration httpwwwspringframeworkorgschemaintegrationspring-integrationxsd httpwwwspringframeworkorgschemaintegrationhttp httpwwwspringframeworkorgschemaintegrationhttpspring-integration-httpxsd intchannel idinput intchannel idrestout intheader-enricher input-channelinput output-channelrestout intheader nameContent-Type valuecontenttypeapplicationjson intheader-enricher httpoutbound-channel-adapter urlurl request-factoryclientHttpRequestFactory channelrestout http-methodmethodPOST header-mapper bean idhttpComponentsMessageSender classorgspringframeworkwstransporthttpHttpComponentsMessageSender property namecredentials bean classorgapachehttpauthUsernamePasswordCredentials constructor-arg valuemyuser constructor-arg valuemypassword bean property bean bean idclientHttpRequestFactory classorgspringframeworkhttpclientHttpComponentsClientHttpRequestFactory property namehttpClient valuehttpComponentsMessageSenderhttpClient bean beans code rest-storeproperties code optionsurldescription The URL to send data to optionsurltype String optionsmethoddescription HTTP method Default POST optionsmethodtype String optionscontenttypedescription Content-Type header to set Default applicationjson optionscontenttypetype String code,0
Module loading error handling improvement Modules are loaded in the container as such in DeploymentListener code try module ModuleTypejobtoStringequalsmoduleType deployJobModuleclient unitName moduleLabel properties deployStreamModuleclient unitName moduleType moduleLabel properties if module null status new ModuleDeploymentStatuscontainer moduleSequence key ModuleDeploymentStatusStatefailed Module deployment returned null else status new ModuleDeploymentStatuscontainer moduleSequence key ModuleDeploymentStatusStatedeployed null catch Exception e status new ModuleDeploymentStatuscontainer moduleSequence key ModuleDeploymentStatusStatefailed ZooKeeperUtilsgetStackTracee loggererrorException deploying module e try writeModuleMetadataclient module path clientsetDataforPathstatusbuildPath ZooKeeperUtilsmapToBytesstatustoMap catch KeeperExceptionNoNodeException e loggerwarnDuring deployment of module of type for with sequence number an undeployment request was detected this module will be undeployed moduleLabel moduleType unitName moduleSequence if loggerisTraceEnabled loggertracePath path was removed e code The problem is if an Error is thrown such as NoClassDefFoundError or NoSuchMethodError We need to make a best effort when writing the deployment status to prevent the supervisor from timing out waiting for a status,0
Allow user to configure tests with DI With the addition of sinks and sources that require connections with external entities hadoop JMS JDBC the environment setup is getting unwieldy Integrate SpringJUnit4ClassRunnerclass into acceptance tests Retrieve environment variables via Dependency injection from applicationproperties Utilize profiles for --local single node --local cluster --ec2 single node --ec2 cluster,0
Enable grouping of modules for co-located deployment example code a b c d code where b and c modules are deployed together as a composite module There are 2 options maybe more for how we could handle that One would be defining a CompositeModule type that simply bridges the channels bs output to cs input in this example The second option would be to deploy those together on the same node as modules but using the LocalChannelRegistry between them,0
Remove code in StreamPlugin to extract target output channel from proxy The SI JMX MBeanExporter proxies the output channel created in a module context when JMX is enabled We have to unwrap the proxy in StreamPlugin in order to add the tap XD-877 temporarily introduced this code but a more elegant solution is called for Perhaps this will involve SI making addInterceptor an interface method,0
Batch Jobs Add the ability to provide JobParameters,0
ClasspathEnvironmentProvider should support packaged Spring XD modules Custom Spring XD modules are packaged into a JAR file with 3rd party libraries packaged into lib folder Lets say we have a my-job custom job module packaged as JAR and deployed with module upload shell command It wants to use orgspringframeworkxdsqoopSqoopTasklet provided by spring-xd-extension-sqoop library Unfortunately orgspringframeworkbatchsteptaskletxClasspathEnvironmentProvider will only add my-jobjar to SqoopRunner classpath code in ClasspathEnvironmentProvidercreateClassPath method ClasspathEnvironmentProvider should add all 3rd party JARs packaged in custom job module to classpath This works with sqoop module shipped with Spring XD because its deployed as exploded module under XDHOMEmodulesjob In such case ClasspathEnvironmentProvider correctly adds all JARs from XDHOMEmodulesjobsqooplib to classpath,0
Update twittersearch to use Spring Integration support,0
Add support for Pivotal HD 21 XD 102 Release XD 102 Release PHD 21 Upgrade - Action Items Update to SHDP 203 Add Hadoop 25 hadoop25 Change PHD 2x from phd20 to phd21 Test PHD 20 with phd21 Document that both PHD 21 and PHD 20 is supported with phd21,0
Update dependencies in Spring XD Sample Repository,0
User requests that XD team members are issued EC2 accounts Setup groups for xd user Setup privileges so users can only see their instances Setup user accounts Send created access key to users Send username and passwords to user,0
File to HDFS batch job fails due to data directory not available in HDFS The batch job for File to HDFS will try to check for the default data directory even if the target directory in HDFS is something else If the data directory isnt there the job will fail This should be fixed so there isnt a check on the directory that isnt the final HDFS target directory and the target directory should be created if it doesnt exist,0
5 occurrences of the typo properites in commentsreadmedoc The typo properites should be replaced with the correct properties in the following places httpsgithubcomspring-projectsspring-xdsearchutf8E29C93qproperites,0
Message rate collection throws warning level exception When the container doesnt have any modules deployed the jolokia response returns stacktrace with NoInstanceFoundException This exception is thrown at the admin log as 2015-04-28 130935952 120SNAP WARN qtp1648225666-27 restContainersController - Error getting message rate metrics for 713255e5-49b2-4158-b69c-2d203cfe50d3 orgcodehausjettisonjsonJSONException JSONObjectvalue not found orgcodehausjettisonjsonJSONObjectgetJSONObjectjava360 orgcodehausjettisonjsonJSONObjectgetJSONObjectJSONObjectjava454 orgspringframeworkxddirtrestContainersControllersetMessageRatesContainersControllerjava134 orgspringframeworkxddirtrestContainersControllerlistContainersControllerjava114 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 orgspringframeworkwebmethodsupportInvocableHandlerMethoddoInvokeInvocableHandlerMethodjava221 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava137 orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava110 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava777 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava706 orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava85 orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava943 orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava877 orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava966 orgspringframeworkwebservletFrameworkServletdoGetFrameworkServletjava857 javaxservlethttpHttpServletserviceHttpServletjava735 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava842 javaxservlethttpHttpServletserviceHttpServletjava848 orgeclipsejettyservletServletHolderhandleServletHolderjava684 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1496 orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextHeaderFilterdoFilterInternalEndpointWebMvcAutoConfigurationjava291 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava87 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterInternalWebRequestTraceFilterjava100 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworksecuritywebFilterChainProxydoFilterInternalFilterChainProxyjava186 orgspringframeworksecuritywebFilterChainProxydoFilterFilterChainProxyjava160 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava90 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgeclipsejettyservletServletHandlerdoHandleServletHandlerjava499 orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerjava137 orgeclipsejettysecuritySecurityHandlerhandleSecurityHandlerjava557 orgeclipsejettyserversessionSessionHandlerdoHandleSessionHandlerjava231 orgeclipsejettyserverhandlerContextHandlerdoHandleContextHandlerjava1086 orgeclipsejettyservletServletHandlerdoScopeServletHandlerjava428 orgeclipsejettyserversessionSessionHandlerdoScopeSessionHandlerjava193 orgeclipsejettyserverhandlerContextHandlerdoScopeContextHandlerjava1020 orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerjava135 orgeclipsejettyserverhandlerHandlerWrapperhandleHandlerWrapperjava116 orgeclipsejettyserverServerhandleServerjava370 orgeclipsejettyserverAbstractHttpConnectionhandleRequestAbstractHttpConnectionjava494 orgeclipsejettyserverAbstractHttpConnectionheaderCompleteAbstractHttpConnectionjava971 orgeclipsejettyserverAbstractHttpConnectionRequestHandlerheaderCompleteAbstractHttpConnectionjava1033 orgeclipsejettyhttpHttpParserparseNextHttpParserjava644 orgeclipsejettyhttpHttpParserparseAvailableHttpParserjava235 orgeclipsejettyserverAsyncHttpConnectionhandleAsyncHttpConnectionjava82 orgeclipsejettyionioSelectChannelEndPointhandleSelectChannelEndPointjava667 orgeclipsejettyionioSelectChannelEndPoint1runSelectChannelEndPointjava52 orgeclipsejettyutilthreadQueuedThreadPoolrunJobQueuedThreadPooljava608 orgeclipsejettyutilthreadQueuedThreadPool3runQueuedThreadPooljava543 javalangThreadrunThreadjava745,0
Vary prefecth size EC-DB-3 Use a single producer single consumer message size of 1000 bytes Send 1M messages and increase or decrease so that a given test iteration takes about 2 minutes Vary the prefetch size Measure the msgsec rate and calculate the data transfer rate in MBsec Prefetch Sizes 1 10 50 100 10000 During the measurements look at the RabbitMQ Admin UI and see if the queue is backing up,0
Provide JMS as a supported MessageBus implementation,0
Create XD integration test framework Add top level utility methods to manage XD runtime deploy start and stop These methods will be used by underlying integration tests to control runtime test environment,0
As a Spring XD user I want to have the ability to customize the encoders and decoders used by the Kafka source sink and bus so that I can customize data formats and choose the most appropriate strategy,5
The new SCSM twitterstream module should produce same json as old XD source The new SCSM twitterstream module uses a different format than XD 1x source module It should match what Twitter uses so existing processors etc will continue to work,0
JSonStringToObject transformer used for GemFire JSON sink should accept a Map Should be renamed as well orgspringframeworkintegrationtransformerMessageTransformationException nested exception is orgspringframeworkmessagingMessageHandlingException nested exception is orgspringframeworkexpressionspelSpelEvaluationException EL1004Epos 8 Method call Method toObjectjavautilLinkedHashMap cannot be found on orgspringframeworkintegrationxgemfireJsonStringToObjectTransformer type orgspringframeworkintegrationtransformerMessageTransformingHandlerhandleRequestMessageMessageTransformingHandlerjava74 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava99 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 spring-integration-core-415RELEASEjarna with 12 RELEASE when trying to persist a JSON payload using the GemFire-json-server sink It works great on 11RELEASE and 12 Build snapshot 2015-04-23001857 The demo repository is open so I can definitely share it with your developers but wondered if we changed something recently on that sink that could cause an issue,0
global context reference is incorrect in ModuleDeployer see ModuleDeployersetApplicationContext It appears the shared server context child of global is incorrectly set as the module contexts parent However the first attempt caused some test failures so this needs further investigation Things still function correctly but is not according to design,0
Allow support for authentication to maven repos AetherModuleResolver See discussion at httpsgithubcomspring-cloudspring-cloud-streamissues159,0
As a developer Id like to move message-bus from Spring XD repo into spring-bus so I can update Spring XD to inherit the featuresfunctionalities via maven dependency,8
Paging support for ModuleMetadataContainer repositories Add paging support for the appropriate accessor methods in ModuleMetadataContainer repositories,0
As a developer Id like to create persistent repository for streams so I could leverage the persisted metadata and reestablish the streaming pipe under failure conditions,5
Create a JPMML module that will evaluate a model A analytical model should be evaluated as a processor in a stream The model evaluation will take the input variables from a Tuple and output variable will be placed into the tuple as well A strawman of the stream definition can be stream create --definition SOURCE jpmml fraud-detection PROC1 PROCN --name stream1 Using profiles and playing all implementations of the analytical model in the same module lib directory it maybe possible to select one of multiple implementations in the form SOURCE analytic --libraryjpmml --namefraud-detection PROC1 PROCN such that the core module name is the same but parameterized by what library type to use This may be problematic in that different libraries may have incompatible dependencies The analytical model can define the names of input and output fields so at a minimum a name is required however to easily adapt a given analytic model evaluation to a specific source modules output it seems desirable to specify which fields are to be used as input overriding the names of the input fields could be done in a manner such as jpmml namelinear-regresssion inputFieldsabc,0
Refactor Message conversion in ChannelRegistrySupport After an initial attempt which was not ready for M2 we are rethinking our strategy One of the fundamental things we have come to realize is that its important to treat serialization and type conversion as separate concerns Serialization A core principle is the consumer should by default receive exactly what the producer sent - If the producer sends a byte payload then no serialization is required - A String payload can use simple byte conversion taking the Charset into account - Transporting an Object uses whatever serialization is configured json xml avro protocol buffer javaio msgpack etc The actual serialization performed for each message must be shared with the producer and consumer Ie the consumer needs to know which case above applies to each payload Currently we are using the MessageHeadersCONTENTTYPE defining custom mime types for this The designated header is subject to change Conversion - The consumer optionally defines one or more content-types read MimeType it can accept in order of preference If no conversion succeeds we can either give them the byte payload or throw an exception configurable Examples - Consumer accepts a Java Object applicationx-java-objecttypeexampleFoo Assume for simplicity the consumer may send a JSON String or a Foo On the receiving end we need to distinguish a String payload containing a JSON representation of Foo from a serialized Foo payload If the payload is a String we need to know that its original content is applicationjson We are currently using a 2nd original-content-type message header to supply this information So in the first case we have conceptually content-type XD plain text original-content-type applicationjson In the second case we have content-type XD Serialized JSON original-content-type not used in this case since the serialized JSON includes type information using Jackson conventions which are a bit brittle -If the producer type is different from the accepted type we use the conversion service and the consumer must register appropriate converters A twist for XD that may be generally relevant is that some optimization is possible when we know the bytes represent JSON - Tuple conversion Since we serialize using JSON and we know how to transform JSON -Tuple we can convert any Object payload or any JSON String to a Tuple We can avoid the two step deserializationconversion eg 1 Foo-JSON-Foo 2 Foo-Tuple,0
StreamListener should watch xddeploymentsstreams,0
Add real ModuleRunner application The current ModuleRunner is test app used for validation This should be replaced by a real app,0
Use dedicated modules for code completion fingerprinting see discussion at httpsgithubcomspring-projectsspring-xdpull495discussion-diff-9291037,0
NoNode Exception in SpringXD Admin Sorry to set it Blocker but the problem makes SpringXD unusable We are getting this weird NoNode exception on the status ZNode Example and Log given below Once this happens both streams and jobs cannot be deployed For whatever reason the status znode goes missing The only way for us to get the cluster back to working state is to clear the zk znode xd tree and restart spring-xd At which point we have to recreate all our streams and jobs back again xddeploymentsstreamstestCreateStreamSrcHttpSinkFile1413234903170status NoNode Exception 13 Oct 2014 141616044 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsstreamstestDestroyStream1413234903170 type CHILDREMOVED 13 Oct 2014 141616705 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsstreamstestListStreams1413234903170 type CHILDADDED 13 Oct 2014 141622818 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsstreamstestListStreams1413234903170 type CHILDREMOVED 13 Oct 2014 141623585 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsstreamstestStreamSrcHttpTimeseriesSink1413234903170 type CHILDADDED 13 Oct 2014 141637694 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsjobsfiletsjob-newjob001 type CHILDADDED 13 Oct 2014 141649950 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsstreamstestStreamSrcHttpTimeseriesSink1413234903170 type CHILDREMOVED 13 Oct 2014 141654490 INFO Deployer serverStreamDeploymentListener - Deployment status for stream testCreateStreamSrcHttpSinkFile1413234903170 DeploymentStatusstatefailederrorsDeployment of module ModuleDeploymentKeystreamtestCreateStreamSrcHttpSinkFile1413234903170 typesink labelfile to container d03bccd6-524b-4ff8-84d2-88f3f6daac42 timed out after 30000 ms Deployment of module ModuleDeploymentKeystreamtestCreateStreamSrcHttpSinkFile1413234903170 typesource labelhttp to container 52abf1c8-ba45-4994-8324-6079b03c670c timed out after 30000 ms 13 Oct 2014 141654493 ERROR Deployer serverInitialDeploymentListener - Exception caught while handling event orgspringframeworkxddirtzookeeperZooKeeperAccessException KeeperErrorCode NoNode for xddeploymentsstreamstestCreateStreamSrcHttpSinkFile1413234903170status at orgspringframeworkxddirtzookeeperZooKeeperUtilswrapThrowableZooKeeperUtilsjava111 at orgspringframeworkxddirtzookeeperZooKeeperUtilswrapThrowableZooKeeperUtilsjava95 at orgspringframeworkxddirtserverStreamDeploymentListenerdeployStreamStreamDeploymentListenerjava185 at orgspringframeworkxddirtserverStreamDeploymentListeneronChildAddedStreamDeploymentListenerjava100 at orgspringframeworkxddirtserverInitialDeploymentListenerEventHandlercallInitialDeploymentListenerjava217 at orgspringframeworkxddirtserverInitialDeploymentListenerEventHandlercallInitialDeploymentListenerjava186 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 at javalangThreadrunThreadjava744 Caused by orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsstreamstestCreateStreamSrcHttpSinkFile1413234903170status at orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 at orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 at orgapachezookeeperZooKeepersetDataZooKeeperjava1270 at orgapachecuratorframeworkimpsSetDataBuilderImpl4callSetDataBuilderImpljava274 at orgapachecuratorframeworkimpsSetDataBuilderImpl4callSetDataBuilderImpljava270 at orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 at orgapachecuratorframeworkimpsSetDataBuilderImplpathInForegroundSetDataBuilderImpljava266 at orgapachecuratorframeworkimpsSetDataBuilderImplforPathSetDataBuilderImpljava253 at orgapachecuratorframeworkimpsSetDataBuilderImplforPathSetDataBuilderImpljava41 at orgspringframeworkxddirtserverStreamDeploymentListenerdeployStreamStreamDeploymentListenerjava179 7 more 13 Oct 2014 141656251 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsjobsfiletsjob-newjob001 type CHILDREMOVED 13 Oct 2014 141708179 INFO Deployer serverJobDeploymentListener - Deployment status for job filetsjob-newjob001 DeploymentStatusstatefailederrorsDeployment of module ModuleDeploymentKeystreamfiletsjob-newjob001 typejob labelfilepolltimeseries to container 244d5076-f69d-42a4-8110-3b046cea2667 timed out after 30000 ms 13 Oct 2014 141708181 ERROR Deployer serverInitialDeploymentListener - Exception caught while handling event orgspringframeworkxddirtzookeeperZooKeeperAccessException KeeperErrorCode NoNode for xddeploymentsjobsfiletsjob-newjob001status at orgspringframeworkxddirtzookeeperZooKeeperUtilswrapThrowableZooKeeperUtilsjava111 at orgspringframeworkxddirtzookeeperZooKeeperUtilswrapThrowableZooKeeperUtilsjava95 at orgspringframeworkxddirtserverJobDeploymentListenerdeployJobJobDeploymentListenerjava175 at orgspringframeworkxddirtserverJobDeploymentListeneronChildAddedJobDeploymentListenerjava99 at orgspringframeworkxddirtserverInitialDeploymentListenerEventHandlercallInitialDeploymentListenerjava217 at orgspringframeworkxddirtserverInitialDeploymentListenerEventHandlercallInitialDeploymentListenerjava186 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 at javalangThreadrunThreadjava744 Caused by orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsjobsfiletsjob-newjob001status at orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 at orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 at orgapachezookeeperZooKeepersetDataZooKeeperjava1270 at orgapachecuratorframeworkimpsSetDataBuilderImpl4callSetDataBuilderImpljava274 at orgapachecuratorframeworkimpsSetDataBuilderImpl4callSetDataBuilderImpljava270 at orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 at orgapachecuratorframeworkimpsSetDataBuilderImplpathInForegroundSetDataBuilderImpljava266 at orgapachecuratorframeworkimpsSetDataBuilderImplforPathSetDataBuilderImpljava253 at orgapachecuratorframeworkimpsSetDataBuilderImplforPathSetDataBuilderImpljava41 at orgspringframeworkxddirtserverJobDeploymentListenerdeployJobJobDeploymentListenerjava165 7 more 13 Oct 2014 141710553 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsjobsfiletsjob-newjob001 type CHILDADDED,0
Build scripts can refer hadoop distro sub projects in a unique place Based on this change httpsgithubcomspring-projectsspring-xdcommit87b97a0b4651f862e8a639697745ad232bb42e6a The gradle build scripts now refer to two different places to check for the list of hadoop distro sub projects We can simplify this to make it available in one place so that maintenance will be easier,0
Investigate setting up performance test environment on cloud providers Use a baseline DIRT infrastructure to measure throughput HA and scalability for various payload sizes Depends on testing infrastructure setup configuration and availability,0
Change default admin port from 8080 This conflicts with and out of the box hadoop installation that uses 8080 as the map reduce shuffle port 8088 sound ok,0
Document The ability to use flows in streams Test and document eg http flow1 flow2 file,0
Jolokia endpoints returning 404 httplocalhost9393managementjolokiasearchxdtype for singlenode in M7 returned a value on master it returns 404 error,0
UI - Setup Sauce Labs Integration We should have a facility to easily test the E2E Protractor tests against a variety of common browsers including IE Sauce Labs seems to be the service to use,0
Conversion Enhancements Content-Type during transport transit is not the same as the content-type within modules Real transports always use byte which may contain raw byte from a source a byte converted from a String which may or may not already contain JSON or a byte containing JSON converted by the transport on the outbound side The transport needs to convey which of these was applied on the outbound side so it can properly reconstruct the message Retain any content-type header that already exists in the message and restore it For Rabbit use normal SIRabbit headers to convey this information For Redis add the information to the byte,0
As a s-c-d user Id like to add REST support for stream commands so I can maneuver streaming pipeline backed by StreamController,5
Add command for listing streams,0
Fix Package Tangle between osxddirtevent and osxddirtcontainer httpssonarspringsourceorgdrilldownmeasures7173metricpackagecyclesrids5B5D7717,0
Automatically disable autostartup in module SmartLifeCycle components Provide a BPP to do this in the StreamPlugin Possibly JobPlugin as well Remove auto-startupfalse in existing module configs,0
As a developer Id like to add an option to support Apache Ambari installed Spring XD on YARN so I can easily establish the cluster up and running,5
Create a simple counter service A simple counters can incrementdecrement a number Implementations for in-memory and redis,0
Deleting a job and then re-adding a new definition with the same name fails Using single-node deployment of Spring XD 10 GA we needed to redefine several batch jobs We deleted the jobs job destroy all When attempting to re-add we received an error that a job with the name already exists Performing job list confirms the jobs were gone To workaround I needed to terminate the instance server of Spring XD and restart it Since this was the single-node deployment without a live stream of data coming in this was okay but would have been a major problem if bouncing the Spring XD server was not acceptable ie live data being actively received,0
Shell RestTemplate not posting using UTF-8 The http post command uses the default MediaType by the RestTemplate which in return triggers the default StringHttpMessageConverter which itself uses the default charset ISO-8859-1 This creates issues when posting special characters,0
As a user Id like to have the moduleapp specific metrics consumed directly from Boot actuator exporthttpsgithubcomspring-projectsspring-bootblobmasterspring-boot-actuatorsrcmainjavaorgspringframeworkbootactuateautoconfigureMetricRepositoryAutoConfigurationjava API so I can have insight on how it is performing being used and that it works etc,8
Add Email Sink,0
Parent Modules Thinking about the UBS scenario that MP described They want all their Cassandra modules to share a connection leading to the need for a parent context for those modules We could introduce a parent module for this purpose The module declares a parent in its properties which likely ends up as a parent module definition in the module definition When the child module is deployed its parent must be deployed first if it is not already ie parent is a singleton per container The module sets that as its parent context We would have to make sure things happen in the correct order so the global context is the parent of the parent ad infinitum The alternative is to add a module parent context to the XD hierarchy which is extensible but this is more elegant IMHO Also in cases that dont require singleton bean definitions the parent could package and provide common jars to children eg we set the parent modules classloader as the parent classloader eliminating the need to install common jars in an HDFS path basically the approach I described httpsjiraspringiobrowseXD-2420 MP Also in cases that dont require singleton bean definitions the parent could package and provide common jars to children eg we set the parent modules classloader as the parent classloader This approach does not offer some of the advantages offered by a central yaml config noted in the JIRA But it is simpler in many ways The developer just installs a parent module containing dependent jars and sets that as a parent in the child modules This requires no additional infrastructure To address the hadoop scenario we discussed we would need another level of indirection so the parent of the hdfs modules is bound to the configured hadoop distro eg something like parent xdhadoopdistro in module properties MF Possibly the parent modules could go in the common directory They should be considered abstract also - in the same sense as abstract bean definitions in a Spring context and they should only be started on demand when needed by at least one concrete child module - then destroyed when the last child module is destroyed Maybe this would also allow us to wrap up those xml files that currently live in common so that they are treated as parent modules MF Yea that sounds good wrt to common Also it might be a good idea to enable spring to throw an error if it finds more than one bean of the same name in the application context - i think that applies to searching in parent contexts as well this would avoid the last one wins rule and give more deterministic behavior,0
parser should only allow one label instance per module,0
Support creation of spring Message at spark processor implementation Currently when the spark streaming ModuleExecutor iterate over the RDD partitions it converts all the items to spring Message If the item itself is of Message type the conversion happened at the spark streaming processor implementation then this is not needed We need to add a check to see if the item is of Message type,0
Exception during ModuleRedeployer causes additional modules to not deploy If an exception occurs during the deployment of a module within the ModuleRedeployerredeployModule the exception will cause the process to break out of the for loops in DepartingContainerModuleRedeployer and ContainerMatchingModuleRedeployer leaving other failedundeployed modules still undeployed This is particularly bad for ContainerMatchingModuleRedeployer as a module with an issue deploying will be retried next time a container starts breaking all modules after it,0
Add create and deploy to TapsController POST,0
Create Composed Job Module h2 Narrative As an XD developer I need to be able to create a composed job module as XML from the DSL an store it in the Module File repository While the user uses the composed job as if it is a normal job including seeing only the DSL In the background the JobFactory will deploy the composed job module When the user destroys the job the module will be deleted from the file module repository When the user creates the job a module will be created in the file Module repository h2 Back story For the composed job story we need to create a real job module to be expressed in XML so that we can take advantage of the job execution tasklet in XD-3556 so that each job can be executed as a step in the composed job,0
Add RabbitMQ source module configurable parameters should include the queue-names and optional binding key pattern connection info such as host and port should also be configurable but with defaults localhost and default port and that should likely fallback to a rabbitproperties file in the XDHOMEconfig directory,0
Add list command for AggregateCounter,0
As a developer Id like to document how to nest batch jobs and workflows in XD so it will be easy for end-users to use it as reference,1
Twitter Search results are not deserialized Data is returned but not human readable ie orgspringframeworksocialtwitterapiTweet4b20a104 Needs to be readable in log and or file,0
Upgrade to Spring Data Fowler Release Spring Data Gemfire is version 800 in Folwer which is the same as in BDS Should check minor version number in BDS ATM we are using gemfire 70x,0
Replace usage of raw curl with shell command to post http data in documentation eg httplocalhost8080post httpsource --target httplocalhost9090 --data 10 I believe this will also help to avoid ugly syntax to escaping quotes for json as in the gemfire example,0
JobExecution restart action should depend on job deployment status At the JobExecution page if the job execution is failed and restartable then we should enable the restart action only if the job is deployed Please see httpsgithubcomspring-projectsspring-xdpull884 for the discussion related to this,0
Synchronous deploymentundeployments There are a range of issues such as XD-3083 XD-2671 that are caused by asynchronous deployments issued by the REST API The flow of events is deployundeploy request received by REST API controller queues up request to be processed by supervisor controller returns HTTP 2xx This proposal is to have the thread executing the deployundeploy request block until the request has been processed by the supervisor This will have the side effect of deploys appearing to take longer but when the HTTP request completes the deploymentundeployment will have been fulfilled,0
Support multiple admin servers on a same host By default XD admin server uses hsqldb as data source for batch job repository and uses the default port 9101 specific database location and dbname This makes the existence of multiple admin server on a same host not possible,0
Add a test suite to the admin-ui The admin-ui currently has no unit tests Need to add a test suite and hook it up to the build so that tests are run on every build,0
As a developer Id like to complete the remaining Kryo optimization changes so I can polish and get the guidelines documented appropriately,1
CompositeModuleDefinition should contain more than ListModuleDefinition CMD should contain not only name and type of the child module but also capture the options that were used in the composition An intermediate between ModuleDefinition and ModuleDescriptor should be created for that purpose and maybe be part of ModuleDescriptor then,0
As a developer Id like to add support for dynamic classpath for modules so we can have the flexibility to load the right dependencies either based on module options 0 or via other properties such as including the dependencies from a specific location 1 0 code libjarlibdistrojar code 1 code xdhomelibhadoopdistrojar code Example code http hdfs --distroPHD22 http myCustomModule --classpathmyfunkydir http jpa --providereclipse jpa config libsomething-that-is-commonjar eclipseeclipse-link-32jar hibernatehibernate-core-50jar moduleclasspath libjarlibproviderjar code,5
User wants to be able to know what triggers are associated with a job,0
Add regression test Verify that network interruptions will not negatively affect the XD cluster Verify that a container that looses connectivity will be able to rejoin the cluster cleanly Modules will redploy when the network is back up,0
Update Getting Started chapter to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmlgetting-started,0
As a user Id like to use Boot-based ModuleRunner for use in container-managed environments so I can run XD without xd-containers Scope,5
As a s-c-d developer Id like to add support for dependency resolution so when two or more modules use different version of jars ex direct binding of two modules that include different versions of spring data I have the capability to resolve and include the right bits at runtime,2
Add polling twitter source ive created a source module for polling a twitter timeline using the spring integration twitter inbound adapter Ive placed my api keys in the modulesyml file and verified that they are picked up by the twitterstream and twitterseach modules that come with SpringXD However they are not picked up by my custom module I viewed the source for both the stream and and the search and i feel my project is near identical in configuration Am i missing something or are these properties somehow special for just the two twitter sources that come with SpringXD Id like to get this working and commit it to the project,0
Interacting with XD on Yarn 1 How we talk to the XD instances on Yarn 2 There is a rest interface which location can be exposed either via resource manager or appmaster 3 Technically appmaster could also expose interface which could eihter be proxy for xd rest or dedicated interface implementationie thrift or spring int,0
As a user Im trying to get all job definitions but the first 20 alone are returned Job samples code job create aaa --definition hello --deploy job create bbb --definition hello --deploy job create ccc --definition hello --deploy job create ddd --definition hello --deploy job create eee --definition hello --deploy job create fff --definition hello --deploy job create ggg --definition hello --deploy job create hhh --definition hello --deploy job create iii --definition hello --deploy job create jjj --definition hello --deploy job create kkk --definition hello --deploy job create lll --definition hello --deploy job create mmm --definition hello --deploy job create nnn --definition hello --deploy job create ooo --definition hello --deploy job create ppp --definition hello --deploy job create qqq --definition hello --deploy job create rrr --definition hello --deploy job create sss --definition hello --deploy job create ttt --definition hello --deploy job create uuu --definition hello --deploy job create vvv --definition hello --deploy job create www --definition hello --deploy job create xxx --definition hello --deploy job create yyy --definition hello --deploy job create zzz --definition hello --deploy job create aaa1 --definition hello --deploy job create bbb1 --definition hello --deploy job create ccc1 --definition hello --deploy job create ddd1 --definition hello --deploy job create eee1 --definition hello --deploy code Request httplocalhost9393jobsdefinitionsjson - returns top 20 the other experiments with page size of either 0 or -1 still brings the top 20,1
CLI needs to be setup to use the updated acceptance test structure This change has to be facilitated because of the XD-1456 and XD-1455 stories,0
Create documentation for module property configuration Describe the algorithm as defined in httpsdocsgooglecomagopivotalcomdocumentd12Cboa7nyVVKVxDIsHLJ-68m5f78ayXn14EJLrclJYVgedituspsharing,0
Users should be able to package custom modules into a single jar If a user needs to deploy a module containing custom code they have to build a jar for the lib dir and somehow deploy the app context file separately to a modules dir This is a bit inconvenient to build from a project since context files in srcmainresources typically get built into a jar Might be better to accept both jar and xml files in the modules dir though that brings up the issue of classpath isolation,0
UI User should be able to view job detail from a specific job execution at Job Executions page On clicking details link on a job execution row user should see the job details Job detail page will show all the information about the job where as the table listing of jobs on the Execution tab may have omitted some columns or aggregated values to convey information more easily,0
Sometimes getting NPE when master step runs for ftphdfs job Depending in the ftp server used there seems to be an error condition that generates an NullPointerException These are the steps to reproduce this code job create --name myftphdfs --definition ftphdfs --hostftpsunetse --port21 job launch --name myftphdfs --params remoteDirectorypubmusicAbbahdfsDirectoryxdftp code Exception code 163138385 ERROR redisInboundAdapter-redisqueue-inbound-channel-adapter1 stepAbstractStep225 - Encountered an error executing the step javalangNullPointerException orgspringframeworkbatchintegrationpartitionMessageChannelPartitionHandlerhandleMessageChannelPartitionHandlerjava140 orgspringframeworkbatchcorepartitionsupportPartitionStepdoExecutePartitionStepjava105 orgspringframeworkbatchcorestepAbstractStepexecuteAbstractStepjava198 orgspringframeworkbatchcorejobSimpleStepHandlerhandleStepSimpleStepHandlerjava144 orgspringframeworkbatchcorejobflowJobFlowExecutorexecuteStepJobFlowExecutorjava64 orgspringframeworkbatchcorejobflowsupportstateStepStatehandleStepStatejava67 orgspringframeworkbatchcorejobflowsupportSimpleFlowresumeSimpleFlowjava163 orgspringframeworkbatchcorejobflowsupportSimpleFlowstartSimpleFlowjava142 orgspringframeworkbatchcorejobflowFlowJobdoExecuteFlowJobjava134 orgspringframeworkbatchcorejobAbstractJobexecuteAbstractJobjava304 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncher1runSimpleJobLauncherjava135 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncherrunSimpleJobLauncherjava128 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkbatchcoreconfigurationannotationSimpleBatchConfigurationPassthruAdviceinvokeSimpleBatchConfigurationjava117 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy40runUnknown Source orgspringframeworkbatchintegrationlaunchJobLaunchingMessageHandlerlaunchJobLaunchingMessageHandlerjava50 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkexpressionspelsupportReflectiveMethodExecutorexecuteReflectiveMethodExecutorjava63 orgspringframeworkexpressionspelastMethodReferencegetValueInternalMethodReferencejava122 orgspringframeworkexpressionspelastMethodReferenceaccess100MethodReferencejava44 orgspringframeworkexpressionspelastMethodReferenceMethodValueRefgetValueMethodReferencejava258 orgspringframeworkexpressionspelastCompoundExpressiongetValueInternalCompoundExpressionjava85 orgspringframeworkexpressionspelastSpelNodeImplgetTypedValueSpelNodeImpljava113 orgspringframeworkexpressionspelstandardSpelExpressiongetValueSpelExpressionjava111 orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava163 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessInternalMessagingMethodInvokerHelperjava268 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessMessagingMethodInvokerHelperjava142 orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava75 orgspringframeworkintegrationhandlerServiceActivatingHandlerhandleRequestMessageServiceActivatingHandlerjava71 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava170 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava128 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava114 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava92 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava260 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava241 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava205 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava199 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava177 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava128 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 orgspringframeworkxddirtpluginsjobJobPluginlaunchJobPluginjava176 orgspringframeworkxddirtmoduleModuleDeployerlaunchModuleModuleDeployerjava380 orgspringframeworkxddirtmoduleModuleDeployerprocessLaunchRequestModuleDeployerjava330 orgspringframeworkxddirtmoduleModuleDeployerhandleLaunchModuleDeployerjava316 orgspringframeworkxddirtmoduleModuleDeployerhandleMessageInternalModuleDeployerjava169 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationconfigServiceActivatorFactoryBean1handleRequestMessageServiceActivatorFactoryBeanjava83 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava170 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava128 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava114 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava92 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava98 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointpopMessageAndSendRedisQueueMessageDrivenEndpointjava211 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointaccess300RedisQueueMessageDrivenEndpointjava50 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointListenerTaskrunRedisQueueMessageDrivenEndpointjava290 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 javalangThreadrunThreadjava724 code,0
As a s-c-d developer Id like to have module info shell command so I can query each of the module specifics such as description and support options,2
Update batch modules to be short lived h2 Narrative As a developer Id like a job module to be bootstrapped when the job is launched and shut down once it is complete instead of the current behavior of bootstrapping the context when the module is deployed regardless of if its being used so that I can achieve better resource utilization h2 Back story While streams are never ending batch jobs have a true lifecycle with a beginning and and end By having a job bootstrapped when its not executing it eats up precious resources For example if I have a job that creates connections to a database via a connection pool the job module will hold those connections from the moment its deployed to the moment its undeployed even if the job isnt being executed A more efficient use of resources would be to have the job module provide just enough to receive the launch request and then bootstrap the jobs context h2 Notes httpsdocsgooglecomdocumentd1q964adRCA-kJkei0GBToJHLXJJTV7TaTpQT0ymsbcedit,0
Create Boot Starters for Modules Create various boot starter projects for module developers This should include templates for source processor sink and job and ideally different options for each For example a processor configured with XML SI Java DSL or SI Java DSL with lambdas,0
Remove Test Scripts From XD The acceptance tests cover the entire suite of script tests Thus they are no longer needed The only test that was remaining was posting 10 messages to a http source and writing to a long and making sure we didnt get an error This test httpbash was never called from the scripts CI build,0
As a Spring XD developer Id like to move mail module from XD to s-c-s repo so I can use it as source to build streaming pipeline,2
Not able to connect a pubsub channel to spark streaming module If a spark streaming module is setup to connect to a pubsub channel a topic or a tap channel then it doesnt bind to it For instance if I have a stream ingest with a definition http log and want to create another stream as tapstreamingest spark-processor count then this stream doesnt work,0
The Dynamic Router example in the docs throws an exception with Rabbit Transport The example in the M6 documentation for the Dynamic Router here httpdocsspringiospring-xddocs100M6referencehtmldynamic-router for the SpEL-Based Routing throws an exception when processing the message from the HTTP post saying No bean named queuefoo is defined when using RabbitMQ as the transport I do not know a workaround Steps to reproduce 1 Run RabbitMQ locally 2 Run xd-singlenode --transport rabbit 3 xdstream create f --definition queuefoo transform --expressionpayload-foo log --deploy xdstream create b --definition queuebar transform --expressionpayload-bar log --deploy xdstream create r --definition http router --expressionpayloadcontainsaqueuefooqueuebar --deploy 4 xdhttp post --data a 5 This should give a stacktrace Caused by orgspringframeworkbeansfactoryNoSuchBeanDefinitionException No bean named queuefoo is defined orgspringframeworkbeansfactorysupportDefaultListableBeanFactorygetBeanDefinitionDefaultListableBeanFactoryjava641 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetMergedLocalBeanDefinitionAbstractBeanFactoryjava1159 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava282 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava200 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava273 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava200 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava273 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava200 orgspringframeworkintegrationsupportchannelBeanFactoryChannelResolverresolveDestinationBeanFactoryChannelResolverjava99 83 more,0
As a s-c-d developer Id like to add as many jars via a bom eg hadoop distro deps so I dont have to explicitly worry about individual but related libraries,2
ICLA website is missing Spring XD project option The READMEmd at httpsgithubcomspring-projectsspring-xdblobmasterREADMEmd says Before we accept a non-trivial patch or pull request we will need you to sign the contributors agreement Navigating to the contributors agreement link takes the user to the ICLA web page at httpssupportspringsourcecomspringcommittersignup exp The Project fields dropdown should have an option for Spring XD act Theres no Spring XD option,0
Allow tapping a stream prior to stream creation without specifying module name Currently this works stream create foo --definition tapbaztime log stream create baz --definition time file But this doesnt stream create foo --definition tapbaz log stream create baz --definition time file This is because the parser translates references to tapbaz to named channel tapbaztime the name of the streams first module If the stream is not yet created the parser cannot perform this translation A fix for this will likely be related to the fix needed for XD-812,0
As a developer Id like to upgrade to 221 GA release so I can leverage the latest improvements without breaking backwards compatibility SHDP 230 uses Boot 13 and HDP and CDH versions that drop older Hive support To avoid breaking changes we should instead use SHDP 221 that has backported any improvements that we need as well as move Spring and Hadoop versions to more recent ones,1
XD Shell should be configurable for accessing secure cluster There doesnt seem to be a way to configure the XD shell for accessing a kerberos secured cluster Tried this hadoop config props set --property hadoopsecurityauthorizationtrue hadoop config props set --property hadoophttpauthenticationtypekerberos still getting hadoop fs ls xd Hadoop configuration changed re-initializing shell ls SIMPLE authentication is not enabled AvailableTOKEN KERBEROS,0
A batch job can be launched by sending a message on a channel Description When a job is created in SpringXD a control-channel for that job is also created The listener for that channel will receive a message be able to take the jobParameters and other launch information from the message and be able to launchrun the job NOTE I can see a few other stories that should probably be made to break this up after writing it I put estimate of 10 for now but we should break this up Here are some suggestions 1 create data only JobParametersBean equivalent with primitive types 2 create jobLauncher source 3 create jobParameterTransformer processor 4 Refactoring of ChannelRegistrys aliasHing to use a callback strategy Implementation Suggestions job create --name helloWorldJob --definition myjob --somePropertyToOverridesomeValue This would not execute the batch job immediately but instead register the job definition and deploys a jobLauncher and the job definition to an XD-Container The XD-Container that receives the deploy request message will create a module application context will also create a channel with the Channel registry named after the job eg myJob This should be a pubsub channel from the point of view of the middleware From the point of view of the spring integration channel it should ideally be of the executor channel There is a limitation in the current implementation of ChannelRegistry now as createInbound only creates direct channels The boolean aliasHint should probably be extended to some type of callback that creates a channel The aliasHint was added to address the case of LocalChannelRegistry creating or looking up a queue backed channel or a direct channel There will be a consumer on the SI channel in the module application context that will be responsible for getting the job launch information and launching the job The launching of the job may need to be explicitly done in a separate thread if direct channels are created by the ChannelRegistry The contents of the message should be something similar to the current JobParametersBean it needs to be easily serializable with simple types via JSON over the wire The current impl of JobParametersBean has ObjectMapper so that may require a bit of reworking The handler of the message will use the jobLauncher to launch the job using the information in the JobParametersBean The myjob can then be launched by sending a message perhaps this is handled by having a jobLauncher source jobLauncher --jobParameters jobParameters --dateFormat dateFormat --numberFormat numberFormat --makeUnique makeUnique myJob eg with no-args jobLauncher myJob How to verify it works With the test HelloSpringXDTasklet we should be able to create the job job create --name helloSpringXD --definition myjob This will not launch the job as mentioned in the implementation section It would then be launched by jobLauncher myJob where jobLauncher is a new source Ideally would like to be able to test a data driven triggering This would require a new file source that doesnt use the file-to-string-transformer but lets a File object be the payload file jobParameterTransformer myJob,0
More DSL work using and policing for job step lists The new parser supports for connecting regular modules and for connecting job steps The modules in the ast that were connected with are tagged but nothing is currently using that information it doesnt get into the module deployment request We need to think about using this data policing the modules that are being deployed to ensure they are job steps for example,0
Update to use Compute optimized and standard machine types,0
Create a Sqoop job and required batch tasklet integration code Based on the POC from XD-2124 we should create the actual implementation Things to consider to store in step context - capture Log outputMapReduce job counters - capture last-value from incremental imports,0
User wants the ability to persist the final state of a job success or failure,0
Fix random configuration in SecuredShellTests Since the SecuredShellTests initialize singlenode app in a static way the random configuration needs to be setup statically as well,0
Restrict Job launcher with more than one batch job configured in job module Currently the Job launcher launches all the batch jobs configured in the job module Please refer ModuleJobLaunchers executeBatchJob This makes the JobRegistry registers with multiple batch jobs under the same Spring XD job name group name Also it is understood that having multiple jobs configuration under the same config xml is uncommon,0
Add deployundeploy commands for taps,0
Rename packages that is applicable for both streamjob Determine a better package name for the following packages once we have a common model that applies to both streamjob orgspringframeworkxddirtstream orgspringframeworkxddirtstreamzookeeper,0
Nodes can not connect with Admin using Redis as transport This has happened more than once where a node fails for whatever reason and when it is restarted it does not receive requests from the admin server This could be file handle count based Since this is not Rabbit as a transport Im not chasing this down yet But felt it needed to be recorded,0
Document how to create a custom processor module The use case is to write custom code that does processing on a specific domain class perhaps from twitter adapter or a tuple Need to package up this code so that it can be used inside XD,0
Remove deprecated tap syntax from the parser Tap and using numbers instead of module names,0
Update build script to use correct version of spring-data-hadoop based on distro,0
Clean up duplicated dependencies from XD on YARN installation Remove unnecessaryduplicated jars from the lib directory in spring-xd-yarn zip distribution,0
The user needs the ability to set up a end-time where the trigger should no longer be in effect,0
Add Redis sink As an user Id like to have the ability to ingest data into Redis sink,0
Homogenize Container Initialization Failures If Redis is not running the container fails to initialize in ContainerMainlaunch because the connection factory attempts to eagerly connect If RabbitMQ is not running the container fails to initialize in AbstractContainerLauncherlaunch Make the failure behavior consistent from a user perspective and add a spring-retry RetryTemplate to retry container startup,0
As a Spring XD developer Id like to move jms module from XD to s-c-s-m repo so I can use it as source to build streaming pipeline,2
xd-container and xd-admin should log to a file out of the box We should have an externally editable log4j config file in a conf dir and the default should log to a file presumably in a logs dir,0
XD distributed tests are broken There are test failures running XD distributed tests It looks like all the test failures are related to NPE on DeploymentProperties format javalangNullPointerException orgspringframeworkxdrestdomainsupportDeploymentPropertiesFormatformatDeploymentPropertiesDeploymentPropertiesFormatjava72 orgspringframeworkxdrestclientimplJobTemplatedeployJobTemplatejava71 orgspringframeworkxddistributedtestJobStateTeststestJobStateTransitionJobStateTestsjava83,0
Assess XD Fails to connect to remote Redis Instance Deployment AdminContainer Redis as data transport SHA 45e1beb Description In the case that the Redis is not running locally XD cannot connect to the Redis instance even though the environment variable springredishost has been set Steps to reproduce Shutdown local instance of Redis For both the admin and container execute the command prior to running the instances export springredishostYourRedisHost Start admin and container instances deploy a simple stream You will see the following error 135659647 ERROR task-scheduler-9 handlerLoggingHandler145 - orgspringframeworkmessagingMessageHandlingException error occurred in message handler orgspringframeworkintegrationredisoutboundRedisQueueOutboundChannelAdapter6a1f1d12 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava84 orgspringframeworkxddirtintegrationredisRedisMessageBusSendingHandlerhandleMessageInternalRedisMessageBusjava235 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava113 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava97 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava91 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy57sendUnknown Source orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava114 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava93 orgspringframeworkintegrationendpointSourcePollingChannelAdapterhandleMessageSourcePollingChannelAdapterjava110 orgspringframeworkintegrationendpointAbstractPollingEndpointdoPollAbstractPollingEndpointjava205 orgspringframeworkintegrationendpointAbstractPollingEndpointaccess000AbstractPollingEndpointjava55 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava149 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava146 orgspringframeworkintegrationendpointAbstractPollingEndpointPoller1runAbstractPollingEndpointjava284 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 orgspringframeworkintegrationutilErrorHandlingTaskExecutorexecuteErrorHandlingTaskExecutorjava49 orgspringframeworkintegrationendpointAbstractPollingEndpointPollerrunAbstractPollingEndpointjava278 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava54 orgspringframeworkschedulingconcurrentReschedulingRunnablerunReschedulingRunnablejava81 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by orgspringframeworkdataredisRedisConnectionFailureException Cannot get Jedis connection nested exception is redisclientsjedisexceptionsJedisConnectionException Could not get a resource from the pool orgspringframeworkdataredisconnectionjedisJedisConnectionFactoryfetchJedisConnectorJedisConnectionFactoryjava97 orgspringframeworkdataredisconnectionjedisJedisConnectionFactorygetConnectionJedisConnectionFactoryjava143 orgspringframeworkdataredisconnectionjedisJedisConnectionFactorygetConnectionJedisConnectionFactoryjava41 orgspringframeworkdatarediscoreRedisConnectionUtilsdoGetConnectionRedisConnectionUtilsjava85 orgspringframeworkdatarediscoreRedisConnectionUtilsgetConnectionRedisConnectionUtilsjava55 orgspringframeworkdatarediscoreRedisTemplateexecuteRedisTemplatejava169 orgspringframeworkdatarediscoreRedisTemplateexecuteRedisTemplatejava149 orgspringframeworkdatarediscoreAbstractOperationsexecuteAbstractOperationsjava84 orgspringframeworkdatarediscoreDefaultListOperationsleftPushDefaultListOperationsjava68 orgspringframeworkdatarediscoreDefaultBoundListOperationsleftPushDefaultBoundListOperationsjava60 orgspringframeworkintegrationredisoutboundRedisQueueOutboundChannelAdapterhandleMessageInternalRedisQueueOutboundChannelAdapterjava109 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 43 more Caused by redisclientsjedisexceptionsJedisConnectionException Could not get a resource from the pool redisclientsutilPoolgetResourcePooljava42 orgspringframeworkdataredisconnectionjedisJedisConnectionFactoryfetchJedisConnectorJedisConnectionFactoryjava90 54 more Caused by redisclientsjedisexceptionsJedisConnectionException javanetConnectException Connection refused redisclientsjedisConnectionconnectConnectionjava142 redisclientsjedisBinaryClientconnectBinaryClientjava75 redisclientsjedisBinaryJedisconnectBinaryJedisjava1724 redisclientsjedisJedisFactorymakeObjectJedisFactoryjava65 orgapachecommonspool2implGenericObjectPoolcreateGenericObjectPooljava819 orgapachecommonspool2implGenericObjectPoolborrowObjectGenericObjectPooljava429 orgapachecommonspool2implGenericObjectPoolborrowObjectGenericObjectPooljava360 redisclientsutilPoolgetResourcePooljava40 55 more Caused by javanetConnectException Connection refused javanetPlainSocketImplsocketConnectNative Method javanetAbstractPlainSocketImpldoConnectAbstractPlainSocketImpljava339 javanetAbstractPlainSocketImplconnectToAddressAbstractPlainSocketImpljava200 javanetAbstractPlainSocketImplconnectAbstractPlainSocketImpljava182 javanetSocksSocketImplconnectSocksSocketImpljava392 javanetSocketconnectSocketjava579 redisclientsjedisConnectionconnectConnectionjava137 62 more,0
Add trigger list support to Spring XD Shell,0
Spark streaming integration module fails to initialize codec XD Spark streaming module fails to load Caused by orgspringframeworkbeansfactoryCannotLoadBeanClassException Error loading class orgspringframeworkxdtupleserializerkryoTupleCodec for bean with name orgspringframeworkxdtupleserializerkryoTupleCodec2e8f5f36 defined in class path resource META-INFspring-xdbuscodecxml problem with class file or dependent class nested exception is javalangIllegalAccessError class orgspringframeworkxdtupleserializerkryoTupleCodec cannot access its superclass orgspringframeworkxddirtintegrationbusserializerkryoAbstractKryoCodec orgspringframeworkbeansfactorysupportAbstractBeanFactoryresolveBeanClassAbstractBeanFactoryjava1331 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava453 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveInnerBeanBeanDefinitionValueResolverjava299 67 more Caused by javalangIllegalAccessError class orgspringframeworkxdtupleserializerkryoTupleCodec cannot access its superclass orgspringframeworkxddirtintegrationbusserializerkryoAbstractKryoCodec javalangClassLoaderdefineClass1Native Method javalangClassLoaderdefineClassClassLoaderjava760 javasecuritySecureClassLoaderdefineClassSecureClassLoaderjava142 javanetURLClassLoaderdefineClassURLClassLoaderjava455 javanetURLClassLoaderaccess100URLClassLoaderjava73 javanetURLClassLoader1runURLClassLoaderjava367 javanetURLClassLoader1runURLClassLoaderjava361 javasecurityAccessControllerdoPrivilegedNative Method javanetURLClassLoaderfindClassURLClassLoaderjava360 javalangClassLoaderloadClassClassLoaderjava424 sunmiscLauncherAppClassLoaderloadClassLauncherjava308 javalangClassLoaderloadClassClassLoaderjava357 orgspringframeworkutilClassUtilsforNameClassUtilsjava249 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionresolveBeanClassAbstractBeanDefinitionjava395 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoResolveBeanClassAbstractBeanFactoryjava1349 orgspringframeworkbeansfactorysupportAbstractBeanFactoryresolveBeanClassAbstractBeanFactoryjava1320,0
Change jmxDisabled option to jmxEnabled and do not enable by default also the current behavior is broken it checks if the property is set but does not actually check whether its true or false,0
Create assertion to get count of messages processed by a specific module in a stream The modules are exposed via JMX and in turn exposed over http via jolokia See httpsjiraspringsourceorgbrowseXD-343 This issue is to develop a helper method that given a stream id andor module name assert that the number of messages processed after sending stimulus messages is as expected eg int originalCount getCounttestStream file do stuff that generates 100 messages assertCounttestStream file 100 originalCount For now we can assume we know the location of where the modules are located by assuming we have only one container deployed,0
Regression test on file source As we overwrote changes to file source by mistake lets add some regression tests esp to the file location Plan on extending the utility source and sink functionality,0
Refactor the file source module to have libconfig directories Convert a simple module such as file to further test that what was done in the previous story Use ParentLastClassLoader to create the Modules ApplicationContext works as expected Implementation Suggestions Remove from buildgradle the dependency on spring-integration-file and place that jar inside a directory modulessourcefilelib place the current filexml inside modulessourcefileconfig How to verify it works 1 Running tests that currently use the file source eg in spring shell should work as before 2 When deploying a stream file log we should be able to interrogate the channel registry and make sure it found the dependencies for the module ModuleDescriptor should have a not-null URL property,0
Update hadoop instructions in the xd-samples batchHashtagCount and batchWordCount projects need hadoop fs ls instructions need to be updated,0
SXDs gemfire-server wrapper script cant handle absolute paths wo extra slash Absolute paths fail gemfire-server UsersdbeauregardSoftwarespring-xdspring-xd-100M5gemfireconfigmy-demoxml This failse see error below You have to add an extra forward slash at the beginning Users to get it to work gemfire-server UsersdbeauregardSoftwarespring-xdspring-xd-100M5gemfireconfigmy-demoxml This works ---------------- The log and error ---------------------- dbeauregard-mbp dbeauregard gemfire-server UsersdbeauregardSoftwarespring-xdspring-xd-100M5gemfireconfigmy-demoxml 093933772 INFO main gemfireCacheServer50 - Starting Cache Server 093933884 INFO main supportFileSystemXmlApplicationContext513 - Refreshing orgspringframeworkcontextsupportFileSystemXmlApplicationContext2ba119b3 startup date Fri Apr 04 093933 MDT 2014 root of context hierarchy 093933949 INFO main xmlXmlBeanDefinitionReader316 - Loading XML bean definitions from file UsersdbeauregardUsersdbeauregardSoftwarespring-xdspring-xd-100M5gemfireconfigmy-demoxml Exception in thread main orgspringframeworkbeansfactoryBeanDefinitionStoreException IOException parsing XML document from file UsersdbeauregardUsersdbeauregardSoftwarespring-xdspring-xd-100M5gemfireconfigmy-demoxml nested exception is javaioFileNotFoundException UsersdbeauregardSoftwarespring-xdspring-xd-100M5gemfireconfigmy-demoxml No such file or directory orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava343 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava303 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava180 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava216 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava187 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava251 orgspringframeworkcontextsupportAbstractXmlApplicationContextloadBeanDefinitionsAbstractXmlApplicationContextjava127 orgspringframeworkcontextsupportAbstractXmlApplicationContextloadBeanDefinitionsAbstractXmlApplicationContextjava93 orgspringframeworkcontextsupportAbstractRefreshableApplicationContextrefreshBeanFactoryAbstractRefreshableApplicationContextjava129 orgspringframeworkcontextsupportAbstractApplicationContextobtainFreshBeanFactoryAbstractApplicationContextjava540 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava454 orgspringframeworkcontextsupportFileSystemXmlApplicationContextinitFileSystemXmlApplicationContextjava140 orgspringframeworkcontextsupportFileSystemXmlApplicationContextinitFileSystemXmlApplicationContextjava84 orgspringframeworkxdgemfireCacheServermainCacheServerjava52 Caused by javaioFileNotFoundException UsersdbeauregardSoftwarespring-xdspring-xd-100M5gemfireconfigmy-demoxml No such file or directory javaioFileInputStreamopenNative Method javaioFileInputStreaminitFileInputStreamjava146 orgspringframeworkcoreioFileSystemResourcegetInputStreamFileSystemResourcejava114 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava329 13 more,0
Create CompositeModuleRegistry Currently there is no ModuleRegistry contract for composite modules The composed module definition is maintained in ZooKeeperModuleDefinitionRepository which delegates to the ModuleRegistry to define and validate component modules The repository should be converted to a ModuleRegistry,0
XD UI not usable with IE 11 Trying to use the XD UI with Internet Explorer version 110960017031 is difficult The screen doesnt refresh when streamsjobs are created or deployed Had to erase the browsing history continuously to get state updates to show in the UI,0
Payload Conversion will need to migrated to M6 as soon as M6 is available Currently uses m5 dependency,0
Documentation for http hdfs processing Put on the guide as a section in an input-stream wiki page,0
Rename reactor-tcp module to reactor-ip since it also supports udp the --transport option allows udp as well as tcp,0
JDBC sink is broken - looks like some config options got booted The JDBC sink is broken Simple time jdbc results in orgspringframeworkjdbcBadSqlGrammarException PreparedStatementCallback bad SQL grammar insert into test payload values nested exception is javasqlSQLSyntaxErrorException user lacks privilege or object not found TEST Looks like some config options got clobbered during bootification,0
As a user deploying XD on YARN I need a convenient way to get info like the admin port for my current deployment Best way for now would be to add an info command to the xd-yarn script With the latest changes the admin server runs on a random port when we deploy to YARN In order for the user to connect they would have to query Zookeeper This is inconvenient,5
Create final distribution zip across multiple projects The final directory structure should look like install-dirxd install-dirredis install-dirgemfire inside the XD directory xdbin - which has xd-container and xd-admin scripts xdlib inside the gemfire directory gemfirebin - has the gemfire-server script gemfirelib inside the redis directory is redisredis-latest-vxyztar redisREADME readisinstall-redis - script that does the basic 4 commands to install redis There should be a gradle task that runs after the distZip task that will take the contents of different project directories script diretories and redis-binary directories and creates the final layout for the distribution,0
Update Spring Batch Admin dependency to release version XD-1623 introduced the dependency to a SNAPSHOT version,0
RedisSink to support in-memory store,0
As a user Id like to have the OOTB gpfdist sink module so I can use this module to do ultra fast data movement from various sources into GPDBHAWQ,8
As a s-c-d developer Id like to enhance unit test coverage for Lattice SPI so I can continuously evaluate functionalities via CI pipeline,3
Add Docs or Reference For Standard Shell Commands eg script httpstackoverflowcomquestions24819401how-to-get-spring-xd-to-deploy-a-predefined-set-of-streams-and-taps-on-startup It is documented here httpsgithubcomspring-projectsspring-xdwikiShellexecuting-a-script But maybe it should also be at the top of the appendix httpsgithubcomspring-projectsspring-xdwikiShellReference,0
Remove the expiry of keys in Redis based repositories There is duplicated code in Redis based repositories that related to expiry behavior move into a common shared helper class andor base class,0
As a QA Id like to include acceptance test coverage for throughput-sampler sink module so that I can validate the functionality as part of every CI build,3
As a developer Im adding new overrides to serveryml file however the overridden properties do not reflect even after the restart of server,2
Allow end users to configure Rabbit MQ properties on the MessageBus for acks txs etc This requires exposing properties to the ListenerContainer Probably cleaner to inject the ListenerContainer into the RabbitMessageBus and expose property placeholders on the LC Maybe do the same for RabbitAdmin as well,0
Create a PerfSink Module Create a Sink that can capture the results of the messages sent and log the number of messages received per a configured interval in seconds,0
Document the structure of the REST API,0
Replace jps calls to get the PIDs for the container log with listRuntimeContainers Replace the execution of JPS to retrieve PID for the containers in the acceptance tests with runtimeOperationslistRuntimeContainers,0
StreamsController to return paged results for list See implementation used for Steams and apply to jobs taps triggers,0
Implement list method on TapDeployer,0
Rename metrics repositories setValuex y z to something less javabean,0
Not possible to create a RabbitMQ to RabbitMQ stream We get the following error when trying a rabbit to rabbit stream definition as shown in the error code STREAM TEST WARN Failure during end to end test orgspringframeworkxdrestclientimplSpringXDException XD143Epos 141 Label rabbit should be unique but module rabbit at position 0 and module rabbit at position 1 both use it rabbit --queuescxablknzdhvpotpo-source --addresses108530129 --usernamebef4412739e7d7fe929e --passwordb8ace17e56456b7753a2 --vhost rabbit --exchangecxablknzdhvpotpo-sink --addresses108530129 --usernamebef4412739e7d7fe929e --passwordb8ace17e56456b7753a2 --vhost code,0
As a developer Id like to add load generator source module so that I could use it for performance testing use-cases,3
Update Spring-AMQP to 36 RabbitMQ Client to 154 Update to amqp-client 360 and spring-amqp 154,0
As a Spring XD developer Id like to move redis module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,2
Type conversion should set Content-Type header See httpstackoverflowcomquestions30714828spring-xd-http-client-processor-sends-text-plain-instead-of-application-json,0
Create field-value counters A field-value counter is useful for bar chart graphs Strings on x-axis and count on y-axis Maps well to zset in redis Implementations for in-memory and redis,0
Remove all deprecated compile warnings Run a clean gradle build to identify all warnings,0
Clean shutdown of redis in xd-container Need to shutdown cleanly no exception messages are shown Order of components in the stream should be shut down from first to last opposite of creation,0
Create build infrastructure for Angular based UI Create a project that includes build and test automation for a new Angular based UI This work is independent of calling the UI build step from gradle A super minimal UI just to have some basic code is all that is required This should use Grunt Jasmine Karma Bower YUIdoc separate story UI Components from backbone should be available in the base project,0
Create Integration Tests for Batch Notifications,0
Upgrade to Gradle 22 Looks like upgrade to Gradle 22 is not a simple version change eg I see code FAILURE Build failed with an exception Where Build file Usershillertdevgitspring-xdbuildgradle line 219 What went wrong A problem occurred evaluating root project spring-xd Could not find method forceDependencyVersions for arguments project documentation-toolchain on root project spring-xd code,0
As a developer Id like to upgrade to Reactor 204 release so I could leverage the latest improvements and bug-fixes,1
As a developer Id like to migrate the wiki to project repo so that it can be tagged with the code and versioned etc,8
Create project home page for SpringXD on springsourceorgspring-xd A minimal project page of a top level project page that has basic information of docs and links to the github wiki page No need to list maven coordinates,0
Investigate Travis issues We are currently facing issues with Travis Determine the root cause isolate the bottleneck and resolve the issues,0
Batch hashtag count throws exception when launched 1 Update Instructions to mention --hadoopDistro for both singlenode and shell Else demo will not work 2 Pom needs to be updated to use 121 at the least 3 I can see where hdfs is writing the results 4 throws NPE Stacktrace is attached,0
STS Gradle Import Broken When importing XD as a gradle project into STS it fails with Missing directories spring-xd-hadoophdp20 and spring-xd-yarn mkdir on these directories solves the problem The hdp20 case relates to XD-599 - it is not clear why spring-xd-yarn is needed,0
Serialization of ChunkContext fails using Kryo,0
Environment checkers in acceptance tests should use Asserts Replace tests and throws in the XdEc2Validation with asserts in the following methods verifyTestContent verifyLogContent verifySendCounts VerifySendCounts should check for the exact number of Jmx events instead of 0,0
Improve Exception handling for ZooKeeper data access Currently we have many catchException blocks that simply wrap and rethrow RuntimeExceptions We should create at least a top-level RuntimeException of our own within the XD Exception hierarchy and possibly a hierarchy of RuntimeExceptions extending from that and mapping to the various checked Exceptions that can occur in ZooKeeper data access Also we should not be re-wrapping those Exceptions that are already RuntimeExceptions so we should consider a ZooKeeperExceptionHandler and although Im typically hesitant to recommend it this might be a case where a static util method is the right approach,0
Split xd-dirt in 3 or 5 The xd-dirt project should be split in at least 3 parts - Classes and resources pertaining to the admin-server - Container server - Shared classes Additionally we may consider splitting the first two in half as well having a separate project for CLI handling and hence introduce 2 other projects for YARN etc,0
Remove spring-xd-codec from Spring XD source tree and build replace with spring-cloud-streams or spring-cloud-streams-codec dependency,0
Create documentation for the deployment manifest,0
New job that executes a Spark job Create OOTB batch job that executes a job on Spark as a tasklet could be something along this job create yarnJob --definition sparkjob --mastersparklocalhost7077 --classSimpleApp,0
ZooKeeper runtime cleanup and refactoring,0
Unable to define port on RabbitMQ streams The documentation for RabbitMQ says to use the --address option to specify a port Weve tried --address12345678 and also --port5678 just in case but have been unable to get a successful deployment Running the same stream definition on a default port ie without specifying a port does work,0
Update Sinks File section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmlfilesinks,0
Create REST API for getting information on a job execution for a given execution id Adopted functionality from Spring Batch admin Should include springmvc test framework style tests GET batchjobsexecutionsexecutionId - Get information on all executions of a given job name,0
Add CI job in bamboo to run XD integration tests CI job will run integration tests that are tagged for CI build,0
Support pagination in list command for streams Spring HATEOAS is here to help Nonetheless there are currently a number of outstanding issues namely httpsgithubcomSpringSourcespring-hateoaspull98 httpsjiraspringsourceorgbrowseSPR-10262comment-91685 httpsgithubcomSpringSourcespring-hateoaspull94 Creating a issue here for future reference,0
As a scala developer someone could easily deploy the spark streaming module developed using scala,8
Example hashtag-count MR job fails when running XD on YARN with PHD 30 Running XD on YARN on PHD 30 Ambari install Uploading and submitting a custom job fails with the following code 2015-06-02 165415580 INFO AsyncDispatcher event handler orgapachehadoopmapreducev2appjobimplTaskAttemptImpl Diagnostics report from attempt14332735613450009m0000000 Error javalangRuntimeException javalangClassNotFoundException Class orgspringframeworkxdexampleshadoopHashtagCountTokenizerMapper not found orgapachehadoopconfConfigurationgetClassConfigurationjava2076 orgapachehadoopmapreducetaskJobContextImplgetMapperClassJobContextImpljava186 orgapachehadoopmapredMapTaskrunNewMapperMapTaskjava742 orgapachehadoopmapredMapTaskrunMapTaskjava341 orgapachehadoopmapredYarnChild2runYarnChildjava163 javasecurityAccessControllerdoPrivilegedNative Method javaxsecurityauthSubjectdoAsSubjectjava415 orgapachehadoopsecurityUserGroupInformationdoAsUserGroupInformationjava1628 orgapachehadoopmapredYarnChildmainYarnChildjava158 Caused by javalangClassNotFoundException Class orgspringframeworkxdexampleshadoopHashtagCountTokenizerMapper not found orgapachehadoopconfConfigurationgetClassByNameConfigurationjava1982 orgapachehadoopconfConfigurationgetClassConfigurationjava2074 8 more code Same example jar works fine when submitted from XD cluster,0
Add JMS source module,0
Implement Reliable spark streaming receiver The spark streaming message bus receiver isnt reliable yet The receiver needs to handle data loss in case of worker node that has it running We currently handle the driver failure automatically by re-deploying spark streaming module But this is about the data loss when the worker node dies Please see the documents here httpsdatabrickscomblog20150115improved-driver-fault-tolerance-and-zero-data-loss-in-spark-streaminghtml httpsparkapacheorgdocslateststreaming-custom-receivershtml,0
Restore JDK6 compatibility,0
Upgrade asciidoctor-gradle-plugin to 070 Looks like we need to spend a cycle on Asciidoc - as we still have the author-tag-issue - I thought we can simply upgrade the asciidoctor-gradle-plugin to 070 currently 041 but that breaks the docs being generated,0
Processor module does not load classes from custom module package The processor module which is failing to load castor classes from the module pathThe code works fine with eclipse DIRT based test cases I am attaching the code to this email The jar that it built has the jars that it need at runtime in modulelib folder The code worked fine when i put all the custom jars and application jar in xdlib Spoke to Thomas Risberg and confirm this is broken and need to be fixingattachment-namezip,0
xdruntime modules gives error from CLI xdruntime modules Command failed orgspringframeworkxdrestclientimplSpringXDException javalangRuntimeException orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsmodules4dc55d87-125b-4e4a-a76e-82bb6980820dTickTocksinklog-1metadata This is on OSX running in distributed mode with --transport rabbit --hadoopDistro hadoop22 redis 288 rabbit 323 hadoop 220 and zookeeper 345,0
Remove the constraint on job module batch job id to be job Currently the job modules batch jobs bean id should be job This also causes the job name to be actual-job-name job and the batch job controllers require to search for job with suffix job Removing this constraint would help us avoiding these,0
Add docs for Creating a job Item Processor httpsgithubcomspring-projectsspring-xdwikiCreating-a-Job-Item-Processor should be very brief introduction to this topic before linking to relevant spring batch documentation,0
Login page is missing style info when secured If the admin UI is secured the login page is displayed without any styles,0
End point to retrieve a list of all XD artifacts of all kinds Any kind of sophisticated artifact retrieval mechanism in XD will need to grab more than one kind of artifact at once For example if I want to see all taps streams triggers and jobs ie- everything I need to make 4 http requests I can imagine dashboards that need to display information on artifacts of multiple kinds There will also need to be a way to pass a query to return a sub-set of artifacts but that should be designed separately,0
Set Default Hadoop Name Node for Shell Currently you have to set the default name node every time your start the shell We should do 2 things - Provide a default Name node Set Default Hadoop Name Node for Shell hdfslocalhost8020 - Should we provide some form of persistence It kind of sucks that you have to re-specify the name node every time the shell starts up code xdhadoop fs ls You must set fs URL before run fs commands code,0
Basic security makes xd-shell throw 403 Forbidden error After enabling admin endpoint security in serversyml using basic authentication and single user code spring profiles admin security basic enabled true false to disable security settings default realm SpringXD user valid only if securitybasicenabledtrue name myadmin password myadmin code Spring XD UI is secured however xd-shell commands are resulting in a 403 error code server-unknownadmin config server --uri httplocalhost9393 --username myadmin --password myadmin Successfully targeted httplocalhost9393 xdadmin config info ------------- ------------------------------------------- Credentials usernamemyadmin password Result Successfully targeted httplocalhost9393 Target httplocalhost9393 Timezone used Greenwich Mean Time UTC 000 ------------- ------------------------------------------- xdstream list Command failed orgspringframeworkwebclientHttpClientErrorException 403 Forbidden xdstream create --name t1 --definition time log Command failed orgspringframeworkwebclientHttpClientErrorException 403 Forbidden code This can be fixed by adding configuration explained in File based authentication docs section code xd security authentication file enabled true users myadmin myadmin ROLEVIEW ROLEADMIN ROLECREATE code Following is the problem Configuration explained in Single user authentication chapter should work out of the box without additional role setup Docs should be more clear on authorization,0
ClassLoading interaction issue between MessageBus and modules See discussion at httpstackoverflowcomquestions28551506spring-xd-jms-message-bus-with-jms-sink,0
Improve User Experience when Redis is not running Redis is not running we get a nasty stacktrace code devgitspring-xddistspring-xdxdbin master xd-container 130529 161715 INFO supportClassPathXmlApplicationContext Refreshing orgspringframeworkcontextsupportClassPathXmlApplicationContext851052d startup date Wed May 29 161715 EDT 2013 root of context hierarchy 130529 161716 INFO xmlXmlBeanDefinitionReader Loading XML bean definitions from class path resource META-INFspringlauncherxml 130529 161716 INFO xmlXmlBeanDefinitionReader Loading XML bean definitions from class path resource META-INFspringredisxml 130529 161717 INFO supportDefaultListableBeanFactory Pre-instantiating singletons in orgspringframeworkbeansfactorysupportDefaultListableBeanFactory4934ce4a defining beans orgspringframeworkcontextsupportPropertySourcesPlaceholderConfigurer0redisConnectionFactoryorgspringframeworkxddirtlauncherRedisContainerLauncher0 root of factory hierarchy 130529 161717 INFO supportDefaultListableBeanFactory Destroying singletons in orgspringframeworkbeansfactorysupportDefaultListableBeanFactory4934ce4a defining beans orgspringframeworkcontextsupportPropertySourcesPlaceholderConfigurer0redisConnectionFactoryorgspringframeworkxddirtlauncherRedisContainerLauncher0 root of factory hierarchy Exception in thread main orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name redisConnectionFactory defined in class path resource META-INFspringredisxml Invocation of init method failed nested exception is comlambdaworksredisRedisException Unable to connect orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1488 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava524 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava461 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava295 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava223 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava292 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava194 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava626 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava932 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava479 orgspringframeworkcontextsupportClassPathXmlApplicationContextinitClassPathXmlApplicationContextjava139 orgspringframeworkcontextsupportClassPathXmlApplicationContextinitClassPathXmlApplicationContextjava83 orgspringframeworkxddirtlauncherRedisContainerLaunchermainRedisContainerLauncherjava68 orgspringframeworkxdContainerMainmainContainerMainjava68 Caused by comlambdaworksredisRedisException Unable to connect comlambdaworksredisRedisClientconnectRedisClientjava176 comlambdaworksredisRedisClientconnectAsyncRedisClientjava139 orgspringframeworkdataredisconnectionlettuceLettuceConnectionFactoryinitConnectionLettuceConnectionFactoryjava108 orgspringframeworkdataredisconnectionlettuceLettuceConnectionFactoryafterPropertiesSetLettuceConnectionFactoryjava86 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinvokeInitMethodsAbstractAutowireCapableBeanFactoryjava1547 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1485 13 more Caused by javanetConnectException Connection refused localhost1270016379 sunniochSocketChannelImplcheckConnectNative Method sunniochSocketChannelImplfinishConnectSocketChannelImpljava599 orgjbossnettychannelsocketnioNioClientBossconnectNioClientBossjava150 orgjbossnettychannelsocketnioNioClientBossprocessSelectedKeysNioClientBossjava105 orgjbossnettychannelsocketnioNioClientBossprocessNioClientBossjava79 orgjbossnettychannelsocketnioAbstractNioSelectorrunAbstractNioSelectorjava312 orgjbossnettychannelsocketnioNioClientBossrunNioClientBossjava42 javautilconcurrentThreadPoolExecutorWorkerrunTaskThreadPoolExecutorjava895 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava918 javalangThreadrunThreadjava680 code I think it would be helpful to provide users with some helpful advice eg Redis does not seem to be running at localhost1270016379 Did you start or install Redis Please see for further help httpfoobar,0
Backport XD-2411 to 10x branch This fix for RichGauge should go into the 10x line,0
Export of data from HDFS to a relational database Based on a single process running a Spring Batch job support the ETL of data from HDFS to a RDBMS,0
Update Sinks GemFire section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmlgemfire,0
Add command for listing of taps,0
Enabling security breaks job launching from Admin UI After enabling security see XD-3214 and granting user ROLEVIEW ROLECREATE ROLEADMIN privileges its not possible to launch jobs from Admin UI For bdl-sqoop-combo-lukasz-MONGO-DEV job 403 error is returned when Admin UI attempts to access following URL after Launch Job button is pressed code httpilabphd12isusemccom9393jobsexecutionsjobParameters7B7Djobnamebdl-sqoop-combo-lukasz-MONGO-DEV code Please see attached screenshot,0
Implement a dirt plugin for Spark Streaming support,0
Create Gemfire Integration Test Scripts,0
Design for deploying XD on EC2 create enough of a design to develop additional stories,0
Add comprehensive tests for AggregateCounterRepository The AggregateCounterTests were created to satisfy XD-1462 but currently they only have a couple tests to validate the time field processing More comprehensive tests need to be added including the testing of the Redis-based implementation in addition to in-memory For more info see the comment here httpsgithubcomspring-projectsspring-xdpull1087issuecomment-49638189,0
Refactor DSL parser according to latest syntax proposals We have recently revised the syntax for stream definitions this issue covers that refactoring,0
Fix mapreduce job submission on Cloudera CDH5 Submitting jobs that submit YARN MR tasks on Cloudera 530 - job fails when submitting the YARN app javalangNoClassDefFoundError comgooglecommonioLimitInputStream - this is from Guava and that class was removed starting with v 150 - I can get around this by including guava-1401jar in libcdh5 not sure if this breaks something else,0
gemfire source does not offer --host nor --port options,0
Module delete command sporadically fails on windows When a user executes a module delete on a custom module it sporadically fails with the following exception below at the bottom of the description Deployment OS Windows 8 or Windows Server 2012 R2 Java version Java 8 build 2531-b07 mixed mode XD Deployment type XD-Singlenode embedded zookeeper Steps to reproduce 1 build either the rss-feed-source or the payload-conversion samples from the spring-xd-samples 2 start xd-singlenode 3 start shell 4 from the shell execute module upload for the custom module ie module upload --file Cprojectspring-xd-samplespayloadconversionbuildlibspayload-conversion-100BUILD-SNAPSHOTjar --name myTupleProcessor --type processor 5 Verify that the module was uploaded by executing module info processormyTupleProcessor 6 Execute module delete processormyTupleProcessor noformat 2015-02-18 144843908 110RELEASE ERROR qtp752571350-38 restRestControllerA dvice - Caught exception while handling a request orgspringframeworkxddirtmoduleDependencyException Cannot delete module pro cessormyTupleProcessor because it is used by streamtest at orgspringframeworkxddirtmoduleModuleDefinitionServicedeleteMod uleDefinitionServicejava116 at orgspringframeworkxddirtrestModulesControllerdeleteModulesCont rollerjava155 at sunreflectNativeMethodAccessorImplinvoke0Native Method at sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpl java62 at sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAcces sorImpljava43 at javalangreflectMethodinvokeMethodjava483 at orgspringframeworkwebmethodsupportInvocableHandlerMethoddoInvok eInvocableHandlerMethodjava221 at orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeF orRequestInvocableHandlerMethodjava137 at orgspringframeworkwebservletmvcmethodannotationServletInvocabl eHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava110 at orgspringframeworkwebservletmvcmethodannotationRequestMappingH andlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava777 at orgspringframeworkwebservletmvcmethodannotationRequestMappingH andlerAdapterhandleInternalRequestMappingHandlerAdapterjava706 at orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapt erhandleAbstractHandlerMethodAdapterjava85 at orgspringframeworkwebservletDispatcherServletdoDispatchDispatch erServletjava943 at orgspringframeworkwebservletDispatcherServletdoServiceDispatche rServletjava877 at orgspringframeworkwebservletFrameworkServletprocessRequestFrame workServletjava966 at orgspringframeworkwebservletFrameworkServletdoDeleteFrameworkSe rvletjava890 at javaxservlethttpHttpServletserviceHttpServletjava761 at orgspringframeworkwebservletFrameworkServletserviceFrameworkSer vletjava842 at javaxservlethttpHttpServletserviceHttpServletjava848 at orgeclipsejettyservletServletHolderhandleServletHolderjava684 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1496 at orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConf igurationApplicationContextHeaderFilterdoFilterInternalEndpointWebMvcAutoConf igurationjava291 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerR equestFilterjava107 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1467 at orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInterna lHiddenHttpMethodFilterjava77 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerR equestFilterjava107 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1467 at orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInter nalHttpPutFormContentFilterjava87 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerR equestFilterjava107 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1467 at orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilter InternalWebRequestTraceFilterjava100 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerR equestFilterjava107 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1467 at orgspringframeworksecuritywebFilterChainProxydoFilterInternalFi lterChainProxyjava186 at orgspringframeworksecuritywebFilterChainProxydoFilterFilterChai nProxyjava160 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1467 at orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfig urationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava90 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerR equestFilterjava107 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1467 at orgeclipsejettyservletServletHandlerdoHandleServletHandlerjava 499 at orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerj ava137 at orgeclipsejettysecuritySecurityHandlerhandleSecurityHandlerjav a557 at orgeclipsejettyserversessionSessionHandlerdoHandleSessionHandl erjava231 at orgeclipsejettyserverhandlerContextHandlerdoHandleContextHandl erjava1086 at orgeclipsejettyservletServletHandlerdoScopeServletHandlerjava 428 at orgeclipsejettyserversessionSessionHandlerdoScopeSessionHandle rjava193 at orgeclipsejettyserverhandlerContextHandlerdoScopeContextHandle rjava1020 at orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerj ava135 at orgeclipsejettyserverhandlerHandlerWrapperhandleHandlerWrapper java116 at orgeclipsejettyserverServerhandleServerjava370 at orgeclipsejettyserverAbstractHttpConnectionhandleRequestAbstrac tHttpConnectionjava494 at orgeclipsejettyserverAbstractHttpConnectionheaderCompleteAbstra ctHttpConnectionjava971 at orgeclipsejettyserverAbstractHttpConnectionRequestHandlerheader CompleteAbstractHttpConnectionjava1033 at orgeclipsejettyhttpHttpParserparseNextHttpParserjava644 at orgeclipsejettyhttpHttpParserparseAvailableHttpParserjava235 at orgeclipsejettyserverAsyncHttpConnectionhandleAsyncHttpConnecti onjava82 at orgeclipsejettyionioSelectChannelEndPointhandleSelectChannelEn dPointjava667 at orgeclipsejettyionioSelectChannelEndPoint1runSelectChannelEnd Pointjava52 at orgeclipsejettyutilthreadQueuedThreadPoolrunJobQueuedThreadPoo ljava608 at orgeclipsejettyutilthreadQueuedThreadPool3runQueuedThreadPool java543 at javalangThreadrunThreadjava745 2015-02-18 145038191 110RELEASE INFO main-EventThread serverDeploymentLi stener - Undeploying module ModuleDescriptor14b69ddf moduleName http modu leLabel http group test sourceChannelName null sinkChannelName null index 0 type source parameters mapempty children listem pty 2015-02-18 145038380 110RELEASE INFO main-EventThread serverDeploymentLi stener - Undeploying module ModuleDescriptor7c2cd32 moduleName myTupleProce ssor moduleLabel myTupleProcessor group test sourceChannelName nu ll sinkChannelName null index 1 type processor parameters mapin putType - applicationx-xd-tuple children listempty 2015-02-18 145038470 110RELEASE INFO main-EventThread serverDeploymentLi stener - Undeploying module ModuleDescriptor30ba1084 moduleName log modul eLabel log group test sourceChannelName null sinkChannelName n ull index 2 type sink parameters mapempty children listempty 2015-02-18 145038527 110RELEASE INFO DeploymentSupervisor-0 serverInitia lDeploymentListener - Path cache event pathdeploymentsstreamstest typeCHI LDREMOVED 2015-02-18 145038528 110RELEASE INFO DeploymentsPathChildrenCache-0 serve rDeploymentListener - Path cache event pathdeploymentsmodulesallocatedf66 35afd-7351-4ac3-baa3-3b98e74a38catestsourcehttp1 typeCHILDREMOVED 2015-02-18 145038530 110RELEASE INFO DeploymentsPathChildrenCache-0 serve rDeploymentListener - Path cache event pathdeploymentsmodulesallocatedf66 35afd-7351-4ac3-baa3-3b98e74a38catestprocessormyTupleProcessor1 typeCHILD REMOVED 2015-02-18 145038532 110RELEASE INFO DeploymentsPathChildrenCache-0 serve rDeploymentListener - Path cache event pathdeploymentsmodulesallocatedf66 35afd-7351-4ac3-baa3-3b98e74a38catestsinklog1 typeCHILDREMOVED 2015-02-18 145041486 110RELEASE INFO LeaderSelector-0 serverDeploymentSu pervisor - Leadership canceled due to thread interrupt 2015-02-18 145041592 110RELEASE WARN NIOServerCxnFactory00000000 5156 serverNIOServerCnxn - caught end of stream exception EndOfStreamException Unable to read additional data from client sessionid 0x14b 9d2656c30000 likely client has closed socket at orgapachezookeeperserverNIOServerCnxndoIONIOServerCnxnjava228 at orgapachezookeeperserverNIOServerCnxnFactoryrunNIOServerCnxnFac toryjava208 at javalangThreadrunThreadjava745 noformat,0
Attempt to compose a module with same nametype as existing should fail As per discussion any attempt to create something that would collide with existing should fail II Attempt to create a composed module with same name as an already existing not composed module with same type should fail EB MF should work and shadow previous module from now on III Attempt to create a composed module with same name as an already existing composed module with same type should fail EB MF should work and shadow previous module from now on should work and retroactively change definitions of streams with that module,0
As a user Id like to have an option to track history so that I get the visibility of stream name module name etc added as part of the message header,3
Add StreamJob destroy option at the UI Add an option to destroy the streamjob definitions Also add confirm action that asks for user to confirm to proceed with destroy,0
Simple OOTB job for testing Similar to time log we should ship a simple batch job that appends a timestamp to a file This will make it much easier to validate job functionality especially in automated tests,0
Tests sporadically fail when checking send counts with rabbit as transport Tests that use verifySendCounts to validate whether data was sent to all the modules in a stream occasionally fail This is because sometimes it takes 2 or more sends to get the data transmitted between modules With the current test structure this is considered a failure Is this the correct behavior,0
Support in-memory transport for co-located modules We are looking to speed up the message passing from source to sink and wondering if we could use a in-memory transport whenever we know that source and sink modules are co-located on the same container Currently we do not see a straight forward way of doing it Option 1 Create a composite module and let users deploy a composite module by itself or in other words deploy a stream with one module Option 2 Let users define a transport as in-memory when defining a stream This could be used along with the deployment manifest feature enforcing co-location of a source and sink module with in-memory transport cc adenissov,0
Inconsistent test failure with mqtt script test in CI environment mqtttests under srctestsscripts fail inconsistently with the following exception stacktrace SEVERE xdmqttclientidsrc Timed out as no activity keepAlive60000 lastOutboundActivity1395174955434 lastInboundActivity1395174895434 133655442 ERROR http-nio-9393-exec-7 inboundMqttPahoMessageDrivenChannelAdapter66 - Exception while connecting and subscribing retrying Client is currently disconnecting 32102 orgeclipsepahoclientmqttv3internalExceptionHelpercreateMqttExceptionExceptionHelperjava27 orgeclipsepahoclientmqttv3internalClientCommsdisconnectClientCommsjava409 orgeclipsepahoclientmqttv3MqttAsyncClientdisconnectMqttAsyncClientjava524 orgeclipsepahoclientmqttv3MqttClientdisconnectMqttClientjava250 orgeclipsepahoclientmqttv3MqttClientdisconnectMqttClientjava243 orgspringframeworkintegrationmqttinboundMqttPahoMessageDrivenChannelAdapterconnectAndSubscribeMqttPahoMessageDrivenChannelAdapterjava104 orgspringframeworkintegrationmqttinboundMqttPahoMessageDrivenChannelAdapterdoStartMqttPahoMessageDrivenChannelAdapterjava63 orgspringframeworkintegrationendpointAbstractEndpointstartAbstractEndpointjava84 orgspringframeworkcontextsupportDefaultLifecycleProcessordoStartDefaultLifecycleProcessorjava173 orgspringframeworkcontextsupportDefaultLifecycleProcessoraccess200DefaultLifecycleProcessorjava51 orgspringframeworkcontextsupportDefaultLifecycleProcessorLifecycleGroupstartDefaultLifecycleProcessorjava346 orgspringframeworkcontextsupportDefaultLifecycleProcessorstartBeansDefaultLifecycleProcessorjava149 orgspringframeworkcontextsupportDefaultLifecycleProcessorstartDefaultLifecycleProcessorjava91 orgspringframeworkcontextsupportAbstractApplicationContextstartAbstractApplicationContextjava1180 orgspringframeworkxdmodulecoreSimpleModulestartSimpleModulejava270 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava250 orgspringframeworkxddirtmoduleModuleDeployerdeployAndStoreModuleDeployerjava238 orgspringframeworkxddirtmoduleModuleDeployerhandleDeployModuleDeployerjava179 orgspringframeworkxddirtmoduleModuleDeployerhandleMessageInternalModuleDeployerjava150 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationconfigServiceActivatorFactoryBean1handleRequestMessageServiceActivatorFactoryBeanjava83 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava170 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava114 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava93 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava260 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava241 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava205 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava199 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava177 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 orgspringframeworkxddirtstreamDeploymentMessageSendersendDeploymentRequestsDeploymentMessageSenderjava57 orgspringframeworkxddirtstreamAbstractDeployersendDeploymentRequestsAbstractDeployerjava163 orgspringframeworkxddirtstreamAbstractDeployerbasicDeployAbstractDeployerjava204 orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerdeployAbstractInstancePersistingDeployerjava78 orgspringframeworkxddirtrestXDControllerdeployXDControllerjava142 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava616 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeInvocableHandlerMethodjava215 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava132 orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava104 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava749 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava690 orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava83 orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava945 orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava876 orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava961 orgspringframeworkwebservletFrameworkServletdoPutFrameworkServletjava874 javaxservlethttpHttpServletserviceHttpServletjava650 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava837 javaxservlethttpHttpServletserviceHttpServletjava728 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava305 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterWebRequestTraceFilterjava114 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextFilterConfiguration1doFilterInternalEndpointWebMvcAutoConfigurationjava128 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava85 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava84 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgapachecatalinacoreStandardWrapperValveinvokeStandardWrapperValvejava222 orgapachecatalinacoreStandardContextValveinvokeStandardContextValvejava123 orgapachecatalinaauthenticatorAuthenticatorBaseinvokeAuthenticatorBasejava472 orgapachecatalinavalvesRemoteIpValveinvokeRemoteIpValvejava680 orgapachecatalinacoreStandardHostValveinvokeStandardHostValvejava171 orgapachecatalinavalvesErrorReportValveinvokeErrorReportValvejava99 orgapachecatalinacoreStandardEngineValveinvokeStandardEngineValvejava118 orgapachecatalinaconnectorCoyoteAdapterserviceCoyoteAdapterjava407 orgapachecoyotehttp11AbstractHttp11ProcessorprocessAbstractHttp11Processorjava1004 orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava589 orgapachetomcatutilnetNioEndpointSocketProcessorrunNioEndpointjava1680 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1146 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava679 133655465 INFO http-nio-9393-exec-7 moduleModuleDeployer240 - deployed SimpleModule namemqtt typesource groupmqttSourceTest index0 38946002 HTTP11 200 OK Server MochiWeb11 WebMachine1100 never breaks eye contact Date Tue 18 Mar 2014 203655 GMT content-type applicationjson Content-Length 16 Cache-Control no-cache routedfalsecat tmpxdtestbasicmqttSourceTestout No such file or directory bamboow1-kodiak-hd006databamboo-homexml-databuild-dirXD-SCRIPTS-RSspring-xdsrctestscripts Mar 18 2014 13855 PM orgeclipsepahoclientmqttv3internalClientState checkForActivity SEVERE xdmqttclientidsrc Timed out as no activity keepAlive60000 lastOutboundActivity1395175075488 lastInboundActivity1395175015488 133855490 ERROR task-scheduler-2 inboundMqttPahoMessageDrivenChannelAdapter141 - Exception while connecting and subscribing Client is disconnected 32101 orgeclipsepahoclientmqttv3internalExceptionHelpercreateMqttExceptionExceptionHelperjava27 orgeclipsepahoclientmqttv3internalClientCommsdisconnectClientCommsjava405 orgeclipsepahoclientmqttv3MqttAsyncClientdisconnectMqttAsyncClientjava524 orgeclipsepahoclientmqttv3MqttClientdisconnectMqttClientjava250 orgeclipsepahoclientmqttv3MqttClientdisconnectMqttClientjava243 orgspringframeworkintegrationmqttinboundMqttPahoMessageDrivenChannelAdapterconnectAndSubscribeMqttPahoMessageDrivenChannelAdapterjava104 orgspringframeworkintegrationmqttinboundMqttPahoMessageDrivenChannelAdapteraccess300MqttPahoMessageDrivenChannelAdapterjava37 orgspringframeworkintegrationmqttinboundMqttPahoMessageDrivenChannelAdapter1runMqttPahoMessageDrivenChannelAdapterjava137 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava54 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskSyncinnerRunAndResetFutureTaskjava351 javautilconcurrentFutureTaskrunAndResetFutureTaskjava178 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava165 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava267 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1146 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava679,0
Create a shell command for stopping all job executions,0
Riemann - measure based alerts We would like to experiment with Riemann a Clojure library to aggregate events from servers and applications through stream processing Features Tracking latency distribution Email for exceptions Memory and CPU statistics This will help understand the behavior of critical components to eventually orchestrate workflows to proactively monitor and notify important contactsgroups as needed Webiste - httpriemannio GitHub - httpsgithubcomaphyrriemann,0
Create simple gague service A gauge just stores a number Implementations for in-memory and redis,0
cat command doesnt work when same data is listed in file multiple times xd-admin --transport redis xd-container --transport redis xd-container --transport redis xdstream create --name httpStream --definition http file Created new stream httpStream xdtap create --name httpTap --definition tap httpStream counter Created and deployed new tap httpTap xdhttp post --target httplocalhost9000 --data helloworld POST textplainCharsetUTF-8 httplocalhost9000 helloworld 200 OK xd cat tmpxdoutputhttpStreamout command iscat tmpxdoutputhttpStreamout helloworld xdhttp post --target httplocalhost9000 --data helloworld POST textplainCharsetUTF-8 httplocalhost9000 helloworld 200 OK xd cat tmpxdoutputhttpStreamout command iscat tmpxdoutputhttpStreamout helloworld xd cat tmpxdoutputhttpStreamout command iscat tmpxdoutputhttpStreamout helloworld xdhttp post --target httplocalhost9000 --data helloworld2 POST textplainCharsetUTF-8 httplocalhost9000 helloworld2 200 OK xd cat tmpxdoutputhttpStreamout command iscat tmpxdoutputhttpStreamout helloworld helloworld2 xdhttp post --target httplocalhost9000 --data helloworld3 POST textplainCharsetUTF-8 httplocalhost9000 helloworld3 200 OK xd cat tmpxdoutputhttpStreamout command iscat tmpxdoutputhttpStreamout helloworld helloworld2 helloworld3 xdhttp post --target httplocalhost9000 --data helloworld3 POST textplainCharsetUTF-8 httplocalhost9000 helloworld3 200 OK xd cat tmpxdoutputhttpStreamout command iscat tmpxdoutputhttpStreamout helloworld helloworld2 helloworld3 xd cat tmpxdoutputhttpStreamout command iscat tmpxdoutputhttpStreamout helloworld helloworld2 helloworld3 xdhttp post --target httplocalhost9000 --data helloworld3 POST textplainCharsetUTF-8 httplocalhost9000 helloworld3 200 OK xdhttp post --target httplocalhost9000 --data helloworld3 POST textplainCharsetUTF-8 httplocalhost9000 helloworld3 200 OK xdhttp post --target httplocalhost9000 --data helloworld3 POST textplainCharsetUTF-8 httplocalhost9000 helloworld3 200 OK xd cat tmpxdoutputhttpStreamout command iscat tmpxdoutputhttpStreamout helloworld helloworld2 helloworld3 xdhttp post --target httplocalhost9000 --data helloworld4 POST textplainCharsetUTF-8 httplocalhost9000 helloworld4 200 OK xd cat tmpxdoutputhttpStreamout command iscat tmpxdoutputhttpStreamout helloworld helloworld2 helloworld3 helloworld4 xdcounter display --name httpTap 9 xd however in the regular shell cat tmpxdoutputhttpStreamout helloworld helloworld helloworld2 helloworld3 helloworld3 helloworld3 helloworld3 helloworld3 helloworld4,0
NPE in spring-integration when using kafka as message bus when using aggrzgation module as stated in httpsjiraspringiobrowseINT-3908 sprint-integration in springxd cant use kafka as message bus in most case Could it spring-xd integrat this fix for us to use it,0
Kafka message bus maxWait property is not set up The maxWait property from serveryml in the message bus section for kafka is not propagated through the code it is ignored,0
Installer needs to launch a single node XD instance Create a Deployer class has methods RunningInstance deploySingleNode takes into account machine size as specified in properties file void destroyAllInstances or whatever JClouds returns from the destroy call ctor gets passed in the root boostrapping credentials Install Script Steps Setup XDHOME variable Make sure privileges are set to ubuntu not root start up redis and rabbit using ports as specified in xd-ec2properties Use port watch to make sure they started Start singlenode after configuration Display hostname of singlenode server Report successful and failed startup Hit root of xd-admin to see if there is a response on 9393 Integration Testing Verify that config files have been setup Verify XD has been started Verify XD can process a basic http post,0
xd-admin script fails when providing --hadoopDistro option XD-2837 added back the --hadoopDistro option for xd-admin scripts However if I try to use it I get an error message saying --hadoopDistro is not a valid option,0
TriggerSourceOptionsMetadata - Change DateFormat to be ISO 8601 compliant with TimeZone To bring in line with the rest of default date-formats change the date format to yyyy-MM-dd HHmmss in TriggerSourceOptionsMetadata,0
Add documentation on how to deploy XD to YARN,0
Shell should display error messages returned from the server For example using tcpdump I can see both an exception and message information HTTP11 500 Internal Server Error Server Apache-Coyote11 Content-Type applicationjsoncharsetUTF-8 Transfer-Encoding chunked Date Fri 12 Jul 2013 133826 GMT Connection close 275 linkslogrefMessageHandlingExceptionmessageorgspringframeworkcontextApplicationContextException Failed to start bean orgspringframeworkintegrationmonitorIntegrationMBeanExporter092e27d20-4c48-4131-866c-91b6cb642ca2 nested exception is orgspringframeworkjmxexportUnableToRegisterMBeanException Unable to register MBean MessageChannelMonitor namenullChannel sends0 receives0 with key xdtap1typeMessageChannelnamenullChannelindex1modulelog nested exception is javaxmanagementInstanceAlreadyExistsException xdtap1typeMessageChannelnamenullChannelindex1modulelog However the client only shows httplocalhost8080tap create --name tap1 --definition taptest1file log --deploy true 143826113 WARN Spring Shell clientRestTemplate524 - POST request for httplocalhost8080taps resulted in 500 Internal Server Error invoking error handler Error creating tap tap1 The error doesnt seem to be logged in the XD Admin server either so the information is effectively lost,0
Validate existence of batch job at the admin side Since the batch job repository is not intended to be deleted it is possible to have a batch job that already exists in the batch job repo even if the batch job definition is destroyed in XD When a new job definition is created we need to add a validation for the same job definition name against the batch job repository Currently we will only see a failure when the job is actually deployed into the container when the batch job repository is updated during the deployment,0
RabbitMessageBus queue name prefix I see the topicsexchanges created for RedisRabbit message buses have the prefix topic Is there any reason why we didnt have the prefix queue for the name of the queue created in Rabbit message bus in compared with the queue created in Redis message bus which has prefix queue,0
Parser needs to handle a embedded in a name Also drop the enhanced portion of the EnhancedStreamParser,0
Documentation for tail hdfs processing Put on the guide as a section in an input-stream wiki page,0
OOTB source modules with poller should use fixed-delay pollers should standardize on fixed-delay vs fixed-rate The value should accept a property with a standard name like interval,0
As a user Id like to have a Shell command so that I can point to the custom-built module archive and push it to the runtime for immediate usage,3
Web Admin app not loading for slow connections When opening manager webapp if the internet connection is slow enough to make one of the biggest javascript dependencies to make requirejs throw a timeout the webapp becomes unusable displaying only the loading gif and showing a javascript error saying Uncaught Error Load timeout for modules angular It typically takes 10 seconds to throw that error,0
Placeholder for LatticeDiego POC 1,0
twittersearch module to produce json data as-is from twitter Do not convert the data into a spring social tweet object pass along the json as-is from twitter search,0
Enable FtpHdfsTest FtpHdfsTest was added in httpsgithubcomspring-projectsspring-xdpull1005 but excluded since it will require some changes to run on ec2 including setting up an ftpServer on ec2 with appropriate security etc,0
Zip created by Publish 11 only contains the shell XD gemfire directories in the zip file are missing,0
hdfs-dataset sink should support JSON and a Map as input formats The hdfs-dataset sink currently requires a POJO as input We should also support JSON and a Map as input plus the ability to specify an Avro schema to be used,0
SimplifyRefactor UI controllers The UI controllers in spring-xdspring-xd-uiappscriptscontrollersjs definitions look overly complicated to get the modularization work We can possibly refactor and make it look clean especially we will follow this as the example for subsequent controllers definitions,0
Change xdsink logging level to INFO The log sink is not writing information to the log Not the solution but when log4jrootLogger is set to INFO the log sink information is written to the log,0
Change jacoco to 07 for jdk 8 builds httpsbuildspringiobrowseXD-JDK8-5 apply plugin jacoco jacoco toolVersion 070201403182114,0
Add TAP support for Rabbit binder As an s-c-d user Id like to tap the primary pipeline so I can fork the same data and do some ad-hoc analysis without impacting the original stream,0
Need to support the ability to test Gemfire Locators Need to be able to setup a gemfire server that has locators enabled such that we can enable the gemfire modules locator features run tests for the useserver default and tests for locator They are enabled by activating the use-locator profile for the containers For example if you are running singlenode the profile would be export springprofilesactivesinglenodeuse-locator,0
Convert remaining modules to be CP-aware Now that XD-924 is merged we can convert splunk twitter and gemfire modules to rely on the newly created projects The hadoop module will get its own story as classpath handling is a bit more tricky for that one From there on no new dependency should be added to DIRT for the sole purpose of a module Rather it should directly be created as a CP-aware module and project,0
Updgrade to use spring-batch-admin 130 M1 when available Once spring-batch-admin 130M1 is available update the build to use it Likely to be Sept 7 or 9,0
Array class names cannot be parsed to MimeType MessageBusSupport creates an original content type message header to support serialization for remote transports The form of the header applicationx-java-objecttypeclassname For java array types the prefix causes an error when converting this value to a MimeType This can be avoided by quoting the classname However a further complication is if the array element is an object In this case the classname is Lclassname The trailing colon causes a parse exception even in a quoted string A simple fix is to check for the trailing colon remove it and add it back if MimeTypegetParametertypecontainsL See httpdocsoraclecomjavase7docsapijavalangClasshtmlgetName for more info Preliminary testing indicates primitive array and multi-dimensional arrays will work fine with quoting but tests should be added for these cases,0
Revert XD specific support for JsonPath 12 Thanks to INT-3624 we dont need our specific class anymore,0
STS Gradle Import Missing Dependencies without Enabling Scala Dirt errors after cleanEclipse eclipse - same problem after a complete gradle reimport Manually adding the spring-xd-spark-streaming project to the xd-dirt classpath didnt help code DescriptionResourcePathLocationType The import orgspringframeworkxdspark cannot be resolvedSparkStreamingContainerFilterjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtsparkline 33Java Problem The import orgspringframeworkxdmoduleModuleType is never usedModuleDeploymentTestsjavaspring-xd-dirtsrctestjavaorgspringframeworkxddirtpluginsline 33Java Problem The import orgspringframeworkbatchcoreconfigurationxmlJobParserJobFactoryBean is never usedBatchJobRegistryBeanPostProcessorjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginsjobline 31Java Problem The value of the field KafkaMessageBusTestsembeddedHeadersMessageConverter is not usedKafkaMessageBusTestsjavaspring-xd-dirtsrctestjavaorgspringframeworkxddirtintegrationbuskafkaline 56Java Problem SparkStreamingSupport cannot be resolvedSparkStreamingContainerFilterjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtsparkline 68Java Problem SparkStreamingSupport cannot be resolved to a variableSparkStreamingContainerFilterjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtsparkline 75Java Problem SparkMessageSender cannot be resolved to a typeMessageBusSenderjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 38Java Problem The import orgspringframeworkbeansfactoryannotationValue is never usedMessageBusClassLoaderFactoryjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserverline 27Java Problem The import orgspringframeworkxdspark cannot be resolvedMessageBusSenderjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 28Java Problem The method sendMessage of type MessageBusSender must override or implement a supertype methodMessageBusSenderjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 104Java Problem The method start of type MessageBusSender must override or implement a supertype methodMessageBusSenderjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 81Java Problem The method isRunning of type MessageBusSender must override or implement a supertype methodMessageBusSenderjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 123Java Problem The method stop of type MessageBusSender must override or implement a supertype methodMessageBusSenderjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 109Java Problem The import orgspringframeworkxddirtpluginsjobsupportJobLaunchingJobRepository is never usedRuntimeBatchConfigurerjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtbatchline 37Java Problem Resource leak cache is never closedTestKafkaClusterjavaspring-xd-dirtsrctestjavaorgspringframeworkxddirtintegrationkafkaline 116Java Problem The value of the field StreamDeployerparser is not usedStreamDeployerjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamline 42Java Problem The import orgspringframeworkbatchcorerepositorysupportSimpleJobRepository is never usedRuntimeBatchConfigurerjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtbatchline 31Java Problem The method endPosIterableToken from the type StreamConfigParser is never used locallyStreamConfigParserjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamdslline 555Java Problem The method startPosIterableToken from the type StreamConfigParser is never used locallyStreamConfigParserjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamdslline 546Java Problem The expression of type AbstractInstancePersistingDeployerDI is already an instance of type AbstractInstancePersistingDeployerXDControllerjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtrestline 268Java Problem The expression of type AbstractInstancePersistingDeployerDI is already an instance of type AbstractInstancePersistingDeployerXDControllerjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtrestline 217Java Problem Resource leak context is never closedSparkStreamingChanneljavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 45Java Problem The value of the field StreamConfigParserTestszooKeeperConnection is not usedStreamConfigParserTestsjavaspring-xd-dirtsrctestjavaorgspringframeworkxddirtstreamdslline 63Java Problem The value of the field JobPluginTestsdeploymentProperties is not usedJobPluginTestsjavaspring-xd-dirtsrctestjavaorgspringframeworkxddirtpluginsjobline 94Java Problem The import orgspringframeworkxdspark cannot be resolvedSparkStreamingPluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 41Java Problem SparkStreamingSupport cannot be resolvedSparkStreamingPluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 68Java Problem SparkStreamingSupport cannot be resolved to a variableSparkStreamingPluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 79Java Problem SparkStreamingSupport cannot be resolved to a variableSparkStreamingPluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 81Java Problem SparkStreamingSupport cannot be resolved to a variableSparkStreamingPluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 97Java Problem SparkStreamingSupport cannot be resolved to a variableSparkStreamingPluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 99Java Problem SparkStreamingSupport cannot be resolved to a variableSparkStreamingPluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 100Java Problem The value of the field ModuleTypeConversionPluginlogger is not usedModuleTypeConversionPluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginsstreamline 45Java Problem SparkStreamingSupport cannot be resolved to a variableSparkStreamingPluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 82Java Problem SparkStreamingSupport cannot be resolved to a typeSparkStreamingPluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 87Java Problem The method getComponentClassSparkStreamingSupport from the type Module refers to the missing type SparkStreamingSupportSparkStreamingPluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 90Java Problem SparkStreamingSupport cannot be resolved to a typeSparkStreamingPluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 90Java Problem code,0
Add --binary Option to MQTT Source See httpstackoverflowcomquestions25226527mqtt-source-spring-xd2522753125227531,0
Cleanup embedded container story The --embeddedX options are a bit confusing in code right now as the Admin can embed the Container and vice-versa I guess we should only keep the AdminContainer side of things,0
Standardize XD logging to align with Spring Boot In XD today we use commons-logging or slf4j APIs bound to log4j at runtime configured with log4jproperties Boot uses slf4j APIs backed by logback This causes some build incompatibilities building a component that depends on spring-xd-dirt and spring-boot requiring specific dependency exclusions In order to simplify building and troubleshooting log dependencies XD should standardize on slf4j APIs replace any commons-logging Loggers with Slf4j This is internal only and would not impact users who are used to seeing log4jproperties An additional step is to replace log4j with logback This change would be visible to end users but will provide us greater affinity with boot and improve the developer experience If we make this change it should go into 12 GA,0
Have ResourceModuleRegistry transparently proxy a remote root thru filesystem ArchiveModuleRegistry and the use of Boot Archives inherently relies on javaioFile Have ResourceModuleRegistry extendcompose ArchiveMR to transparently download and cache remote jars that may be located in a non-file location The staging area should be customizable but some subdir of javaiotmpdir sounds like a sensible default,0
Container and Single Node do not update their associated log After the containersinglenode is up and running the application does not update the singlenodelog or containernodelog create a stream timelog you will see the timestamp in your console but it will not be in the log,0
Test startup scripts on windows startup scripts on windows should be tested xd-admin xd-container xd-shell,0
JobListener should watch xddeploymentsjobs,0
Tests Fail because HSQL not started This is cause generally by someone having port 9100hsqldb port in use It is recommended that setup checks to see if port is in use If it is throw an exception stating that hsqldb port 9100 is in use and suggest options like Free up the port or change the hsqldb port,0
As a user Id like to have the option to extend the default message handling behavior for HTTP source-module so that I can override the settings via serversyml to control the default message size Notes The adapter currently has that hard-coded 1MB limit in the HttpChunkAggregator We will have to expose this property for overrides Related PRhttpsgithubcomspring-projectsspring-xdpull1367,3
Create script-based batch ItemProcessor This would be included in the OOTB batch jobs to optionally process the loaded Tuple with a configured script,0
Add acceptance tests for stream with sources of TCP HTTP and Time and sinks of File and Log Need to be able to test the following sources TCP HTTP Time,0
Turn off RestTemplate logging in shell Example noformat xdmodule delete --name sinkfile 123119495 WARN Spring Shell clientRestTemplate566 - DELETE request for httplocalhost9393modulessinkfile resulted in 500 Internal Server Error invoking error handler Command failed orgspringframeworkxdrestclientimplSpringXDException Cannot delete non-composed module sinkfile noformat The WARN log is redundant with the command result and should be silenced,0
As a developer Id like to add undeployed status for Lattice SPI so I can represent the correct status instead of the current unknown state,3
Enhance Container object orgspringframeworkxddirtclusterContainer for better matching strategies Creating this enhancement story based on the discussion here httpsgithubcomspring-projectsspring-xdpull867,0
Backport Handle streamjob deployment status recalculation failures The admin leader election fails when the streamjob module definitions doesnt exist in module-registry but still some of the references still exist in ZK via some of the previous deployments that had this module in module registry Though this is expected this behavior will make all the subsequent deployments in deploying state because the admin leader isnt elected,0
The type StubDatasetOperations must implement the inherited abstract method DatasetOperationsgetDatasetDescriptorClassT StubDatasetOperations class needs to be either declared asbtract or implemente inherited methods from DatasetOperations,0
Make deployment timeout configurable Currently ModuleDeploymentWriter uses default timeout 30s which can not be overridden We need to make this configurable,0
Create an embedded ZooKeeper server process This will be used by SingleNodeApplication if no ZooKeeper process is available based on the provided client connect string It will still be recommended that users run ZooKeeper externally at least in standalone mode when running SingleNodeApplication We should clarify that in the documentation and logs It should implement SmartLifecycle so that it can be managed as a bean within an ApplicationContext,0
As a user Id like to have Googles Protocol Bufferhttpscodegooglecompprotobuf codec option so that I can serializedeserialize objects based on its native specifications,5
Cryptic gradle error running tests when XD SingleNode is running SingleNodeMainlaunchSingleNodeServeroptions calls Systemexit causing a gradle buffer underflow This is called from SingleNodeMainIntegrationTests Systemexit should be called from the main method instead,0
Modify startup script of xdadminxdcontainer to allow specifying hadoop distro to use we need to modify startup script to use hadoop 112 as default or phd1 when specified with --hadoopDistrophd1,0
UI The user should provide usernamepassword to gain access to the UI Secure Admin UI to challenge users to enter username and password to gain access,0
Add Unit Tests for CC SPI infrastructure Test Converter Configuration Definition and Status objects,0
Add docs for Deleting a simple stream curl -X DELETE httplocalhost8080streamsticktock,0
Run all shell integration tests also with enabled security Apply the same strategy for the Module Command Tests also to all other Shell integration tests,0
Update docs and samples now that deploy is false on jobstream creation,0
FilePollHdfs sporadically fails to create files on remote machines Need to add a retry to the createDataFileOnRemote machine because the creation of the test file on the remote machine fails from time to time Usually related to network issues,0
Issues with custom modules when using module configuration SpringXD seems to think that a module exists if there is a module configuration present There is also an issue of having to restart the node when theres been a problem with uploadingremoving a module When using SpringXD in single node on windows i uploaded a custom module and then added a folder and property file for it in the module configuration directory as specified in the documentation When i went to delete the module using the command in the SpringXD admin console it would say that it was successfull but when then listing the modules it would still be listed If i tried to upload a new version of that same module i would get an error stating that module already existed with the same name I would check the custom modules directory and my jar would not be there I would then have to manually delete the module configuration directory and restart SpringXD before being able to upload a new module having to replace my module configuration each time Seems like there are three things wrong here should the presence of a module configuration alone inform SpringXD of a modules existence should one have to delete a module configuration before uploading a new version of the module when getting module deletionupload errors should one have to restart spring xd node to get it to allow the upload again,0
Upgrade to Spring Integration 400M4 Currently on snapshots which is oddly pulling in groovy 210,0
TwitterStreamTwitterSearch sources fail when deploying on Yarn Were getting a CNF on orgapachehttpimplclientHttpClients noformat 200703556 110SNAP INFO DeploymentsPathChildrenCache-0 serverDeploymentListener - Path cache event pathdeploymentsmodulesallocated740c5f05-03f9-4b0f-9c3a-80022b594830ec2Test3sinkfile1 typeCHILDADDED 200703557 110SNAP INFO DeploymentsPathChildrenCache-0 serverDeploymentListener - Deploying module file for stream ec2Test3 200703828 110SNAP INFO DeploymentsPathChildrenCache-0 serverDeploymentListener - Deploying module ModuleDescriptor8d11c70 moduleName file moduleLabel file group ec2Test3 sourceChannelName null sinkChannelName null index 1 type sink parameters mapbinary - true mode - REPLACE children listempty 200704456 110SNAP INFO DeploymentsPathChildrenCache-0 serverDeploymentListener - Path cache event pathdeploymentsmodulesallocated740c5f05-03f9-4b0f-9c3a-80022b594830ec2Test3sourcetwitterstream1 typeCHILDADDED 200704456 110SNAP INFO DeploymentsPathChildrenCache-0 serverDeploymentListener - Deploying module twitterstream for stream ec2Test3 200705040 110SNAP INFO DeploymentsPathChildrenCache-0 serverDeploymentListener - Deploying module ModuleDescriptor3ec4f104 moduleName twitterstream moduleLabel twitterstream group ec2Test3 sourceChannelName null sinkChannelName null index 0 type source parameters mapconsumerKey - 5ynZLmXyvxXzAlYHRlrb28U8n accessToken - 2561860742-sfreUrr2jXwUPBk5eOL4Ow5GKy4Hyl12snKwfg5 accessTokenSecret - 481BGNZZDwdJ8rVw2hG9IryKuTZsv1cV1hiDpwdHt19xe consumerSecret - C7ZQhJvy5RQm3QS6ruSkCriZZWtUMRbJbNeDCH7uYACWJPtBVi children listempty 200705871 110SNAP WARN DeploymentsPathChildrenCache-0 annotationAnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name orgspringframeworkintegrationxtwitterTwitterStreamChannelAdapter0 defined in class path resource configtwitterstreamxml Cannot resolve reference to bean twitterTemplate while setting constructor argument nested exception is orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name twitterTemplate defined in class path resource configtwitterstreamxml Bean instantiation via constructor failed nested exception is orgspringframeworkbeansBeanInstantiationException Failed to instantiate orgspringframeworksocialtwitterapiimplTwitterTemplate Constructor threw exception nested exception is javalangNoClassDefFoundError orgapachehttpimplclientHttpClients orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveReferenceBeanDefinitionValueResolverjava359 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava108 orgspringframeworkbeansfactorysupportConstructorResolverresolveConstructorArgumentsConstructorResolverjava648 orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava140 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryautowireConstructorAbstractAutowireCapableBeanFactoryjava1131 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanInstanceAbstractAutowireCapableBeanFactoryjava1034 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava504 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava476 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava303 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava230 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava299 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava194 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava762 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava757 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava480 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava691 orgspringframeworkbootSpringApplicationrunSpringApplicationjava321 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava211 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name twitterTemplate defined in class path resource configtwitterstreamxml Bean instantiation via constructor failed nested exception is orgspringframeworkbeansBeanInstantiationException Failed to instantiate orgspringframeworksocialtwitterapiimplTwitterTemplate Constructor threw exception nested exception is javalangNoClassDefFoundError orgapachehttpimplclientHttpClients orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava275 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryautowireConstructorAbstractAutowireCapableBeanFactoryjava1131 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanInstanceAbstractAutowireCapableBeanFactoryjava1034 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava504 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava476 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava303 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava230 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava299 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava194 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveReferenceBeanDefinitionValueResolverjava351 39 more Caused by orgspringframeworkbeansBeanInstantiationException Failed to instantiate orgspringframeworksocialtwitterapiimplTwitterTemplate Constructor threw exception nested exception is javalangNoClassDefFoundError orgapachehttpimplclientHttpClients orgspringframeworkbeansBeanUtilsinstantiateClassBeanUtilsjava163 orgspringframeworkbeansfactorysupportSimpleInstantiationStrategyinstantiateSimpleInstantiationStrategyjava122 orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava267 48 more Caused by javalangNoClassDefFoundError orgapachehttpimplclientHttpClients orgspringframeworkhttpclientHttpComponentsClientHttpRequestFactoryinitHttpComponentsClientHttpRequestFactoryjava72 orgspringframeworksocialsupportClientHttpRequestFactorySelectorHttpComponentsClientRequestFactoryCreator1initClientHttpRequestFactorySelectorjava77 orgspringframeworksocialsupportClientHttpRequestFactorySelectorHttpComponentsClientRequestFactoryCreatorcreateRequestFactoryClientHttpRequestFactorySelectorjava77 orgspringframeworksocialsupportClientHttpRequestFactorySelectorgetRequestFactoryClientHttpRequestFactorySelectorjava52 orgspringframeworksocialoauth1AbstractOAuth1ApiBindingcreateRestTemplateWithCulledMessageConvertersAbstractOAuth1ApiBindingjava188 orgspringframeworksocialoauth1AbstractOAuth1ApiBindingcreateRestTemplateAbstractOAuth1ApiBindingjava169 orgspringframeworksocialoauth1AbstractOAuth1ApiBindinginitAbstractOAuth1ApiBindingjava70 orgspringframeworksocialtwitterapiimplTwitterTemplateinitTwitterTemplatejava79 sunreflectNativeConstructorAccessorImplnewInstance0Native Method sunreflectNativeConstructorAccessorImplnewInstanceNativeConstructorAccessorImpljava57 sunreflectDelegatingConstructorAccessorImplnewInstanceDelegatingConstructorAccessorImpljava45 javalangreflectConstructornewInstanceConstructorjava526 orgspringframeworkbeansBeanUtilsinstantiateClassBeanUtilsjava147 50 more Caused by javalangClassNotFoundException orgapachehttpimplclientHttpClients javanetURLClassLoader1runURLClassLoaderjava366 javanetURLClassLoader1runURLClassLoaderjava355 javasecurityAccessControllerdoPrivilegedNative Method javanetURLClassLoaderfindClassURLClassLoaderjava354 javalangClassLoaderloadClassClassLoaderjava425 sunmiscLauncherAppClassLoaderloadClassLauncherjava308 javalangClassLoaderloadClassClassLoaderjava358 63 more 200705874 110SNAP ERROR DeploymentsPathChildrenCache-0 bootSpringApplication - Application startup failed orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name orgspringframeworkintegrationxtwitterTwitterStreamChannelAdapter0 defined in class path resource configtwitterstreamxml Cannot resolve reference to bean twitterTemplate while setting constructor argument nested exception is orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name twitterTemplate defined in class path resource configtwitterstreamxml Bean instantiation via constructor failed nested exception is orgspringframeworkbeansBeanInstantiationException Failed to instantiate orgspringframeworksocialtwitterapiimplTwitterTemplate Constructor threw exception nested exception is javalangNoClassDefFoundError orgapachehttpimplclientHttpClients orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveReferenceBeanDefinitionValueResolverjava359 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava108 orgspringframeworkbeansfactorysupportConstructorResolverresolveConstructorArgumentsConstructorResolverjava648 orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava140 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryautowireConstructorAbstractAutowireCapableBeanFactoryjava1131 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanInstanceAbstractAutowireCapableBeanFactoryjava1034 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava504 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava476 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava303 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava230 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava299 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava194 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava762 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava757 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava480 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava691 orgspringframeworkbootSpringApplicationrunSpringApplicationjava321 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava211 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name twitterTemplate defined in class path resource configtwitterstreamxml Bean instantiation via constructor failed nested exception is orgspringframeworkbeansBeanInstantiationException Failed to instantiate orgspringframeworksocialtwitterapiimplTwitterTemplate Constructor threw exception nested exception is javalangNoClassDefFoundError orgapachehttpimplclientHttpClients orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava275 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryautowireConstructorAbstractAutowireCapableBeanFactoryjava1131 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanInstanceAbstractAutowireCapableBeanFactoryjava1034 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava504 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava476 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava303 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava230 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava299 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava194 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveReferenceBeanDefinitionValueResolverjava351 39 more Caused by orgspringframeworkbeansBeanInstantiationException Failed to instantiate orgspringframeworksocialtwitterapiimplTwitterTemplate Constructor threw exception nested exception is javalangNoClassDefFoundError orgapachehttpimplclientHttpClients orgspringframeworkbeansBeanUtilsinstantiateClassBeanUtilsjava163 orgspringframeworkbeansfactorysupportSimpleInstantiationStrategyinstantiateSimpleInstantiationStrategyjava122 orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava267 48 more Caused by javalangNoClassDefFoundError orgapachehttpimplclientHttpClients orgspringframeworkhttpclientHttpComponentsClientHttpRequestFactoryinitHttpComponentsClientHttpRequestFactoryjava72 orgspringframeworksocialsupportClientHttpRequestFactorySelectorHttpComponentsClientRequestFactoryCreator1initClientHttpRequestFactorySelectorjava77 orgspringframeworksocialsupportClientHttpRequestFactorySelectorHttpComponentsClientRequestFactoryCreatorcreateRequestFactoryClientHttpRequestFactorySelectorjava77 orgspringframeworksocialsupportClientHttpRequestFactorySelectorgetRequestFactoryClientHttpRequestFactorySelectorjava52 orgspringframeworksocialoauth1AbstractOAuth1ApiBindingcreateRestTemplateWithCulledMessageConvertersAbstractOAuth1ApiBindingjava188 orgspringframeworksocialoauth1AbstractOAuth1ApiBindingcreateRestTemplateAbstractOAuth1ApiBindingjava169 orgspringframeworksocialoauth1AbstractOAuth1ApiBindinginitAbstractOAuth1ApiBindingjava70 orgspringframeworksocialtwitterapiimplTwitterTemplateinitTwitterTemplatejava79 sunreflectNativeConstructorAccessorImplnewInstance0Native Method sunreflectNativeConstructorAccessorImplnewInstanceNativeConstructorAccessorImpljava57 sunreflectDelegatingConstructorAccessorImplnewInstanceDelegatingConstructorAccessorImpljava45 javalangreflectConstructornewInstanceConstructorjava526 orgspringframeworkbean,0
As a developer Id like to create an annotation EnableModule driven programming model for modules so instead of explicitly defining IO channels as beans on the module for classes annotated with EnableModule the application would be responsible for creating the actual channel beans and channel adapters vs the developer creating concrete channel instance types The Input and Output annotations will be used to indicate the input and output channels of the module,8
UI List of Streams causes undefined is not an option See Screenshot The error is caused when loading all stream definitions in method loadStreamDefinitions Only 1 or two streams exist in the system,0
incremental jdbcfile process for loading data into Isilon cluster Users should have the ability to load data from a jdbc source to a file sink pointing to a file location NFS mount to an Isilon cluster in a particular directory structure Isilon support multiple protocols including NFS and HDFS by storing data directly into an NFS mount we would eliminate the HDFS overhead This functionality should be similar to the jdbchdfs job that is currently available in SpringXD See Jira issue XD-2309 for more details,0
As a user Id like to either use sql or tableName options so that I can build a partitioned job with where clause and strict table-column combo respectively,5
Provide DSL completion after a somechannel prefix,0
Allow direct binding even for modulecount 0,0
Vary Producer and Consumer in combination using 2 Queues B-6 The results from EC2 testing show that once prefetch and message size are set varying the number of producers or consumers independently does not impact the message rate The in-house testing numbers need another plan to try an understand some discrepancies Using 500 prefetch 1000 byte message size run two instances of PerfTest at the same time with each instance referencing a different queue Vary the number of consumer and publishers Test 1 one producer one consumer -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 Test 2 one producer two consumers -a -u q1 -p -x 1 -y 2 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 2 -s 1000 -z 60 -q 500 Test 3 two producers one consumer -a -u q1 -p -x 2 -y 1 -s 1000 -z 120 -q 500 -a -u q2 -p -x 2 -y 1 -s 1000 -z 120 -q 500 Test 4 two producers two consumers -a -u q1 -p -x 2 -y 2 -s 1000 -z 60 -q 500 -a -u q2 -p -x 2 -y 2 -s 1000 -z 60 -q 500,0
As a developer Id like to update to SI Kafka extension 120 so I can leverage the latest performance improvements,1
As a QA Id like to include acceptance test coverage for aggregate-counter sink module so that I can validate the functionality as part of every CI build,3
All parameters for modules need to use hump case formerly camel hump,0
Support pagination in list command for triggers See XD-477,0
As a developer Id like override the partition function within my source or processor module so I can send the data to a specific partition,5
Design and budget Perf Env for XD on RackSpace Provide design for how we are going to run XD and Kafka on Rackspace This includes the base design for the Kafka Perf tests environment This will be used to provide a budget for the cloud resources for the performance environment,0
Better approach to handle module execution framework Currently when the module doesnt need to go through message bus binding the Module interface provides shouldBind method to return false The shouldBind is being used in other place where ModuleTypeConversionPlugin is excluded for spark streaming modules We need a better approach to refactor this Also see the discussion here httpsgithubcomspring-projectsspring-xdpull1438discussionr24150937,0
Verify module count works on 10 Containers This tests should prove that Kafka can handle a module count greater than one with the proper concurrency settings load-generator should be used as the foundation for this test with the following settings moduleload-generatorcount10modulethroughputconsumerconcurrency10 An environment should be provisioned to support the containers Zookeeper and Kafka,0
Have consistent file format requirements in Spring XD and Hadoop When the following format is specified - noformat home filehadoopxdcustom-modules noformat There is no root-path following the file scheme That makes the Hadoop job launcher interpret what follows as a host name and will look for xdcustom-modules on the host hadoop This results in javanetUnknownHostException hadoop This format works for module upload though The module upload relies on resource location resolution from Spring Framework which is more lenient 1 The MapReduce job submission uses code from the Apache Hadoop project and uses a more stringent resolution This results in ambiguity filemydirectory and requires the root path to be specified 1 httpdocsspringioautorepodocsspring42xspring-framework-referencehtmlresourceshtmlresources-filesystemresource-caveats,0
UI The user can stop a specific job execution,0
UI - Container List - Module Properties - Escape Passwords,0
Submit a brew-based install for Spring XD - Host the Spring XD distributable zip somewhere that is accessible by external http request - Create brew formula for Spring XD install while specifying redis as dependency - starting up stream server upon successful brew install couple of questions - should we name the brew task springxd name not taken yet - should we start the stream server as part of the brew install process - should we specify redis as a recommended dependency user can pass in brew install springxd --without-redis to skip redis installation by default brew install springxd will install redis as well,0
Update to Spring Integration 401 Add messages store optimization to the hdfs-dataset,0
Column option of JDBC sink should not convert underscore to property name Current implementation of column option of JDBC sink convert underscore to java property name If database column contains underscore there is no way to store data So JdbcMessagePayloadTransformer should not use JdbcUtilsconvertUnderscoreNameToPropertyName even if column contains,0
Investigate if we should use RequreJS with Angular,0
As a user Id like to see the date in logs so that I can troubleshoot issues that had occurred on a specific day and time Property that needs adjusted httpsgithubcomspring-projectsspring-xdblobmasterconfigxd-container-loggerpropertiesL11,1
Module deployment order is not guaranteed We are getting test failures such as httpsbuildspringiobrowseXD-MASTER-1381 quite often in the CI environment recently I suspect the ordering of checks in AbstractSingleNodeStreamDeploymentIntegrationTests Deploys in reverse order assertModuleRequeststreamName log false assertModuleRequeststreamName filter false assertModuleRequeststreamName transform false assertModuleRequeststreamName http false Undeploys in stream order assertModuleRequeststreamName http true assertModuleRequeststreamName transform true assertModuleRequeststreamName filter true assertModuleRequeststreamName log true isnt happening perhaps changing nextUndeployEvent poll time from 5 seconds to higher is appropriate no idea why CI environment seems so slow,0
Create OOTB batch job for import and processing multiple files to JDBC Create a sample batch job for inclusion in the distribution that will perform the following tasks ItemReader Read a from a directory with multiple files configurable Support for CSV assume first line has header values Convert to tuple data structure ItemProcessor Provide groovy based no-op ItemProcessor configurable ItemWriter Write to JDBC Provide Assume there is an DB instance running somewhere specify connection info configurable The sample job should be documented,0
Update to Spring Boot RC5,0
Making an http post with json double quoted will hang the shell Was following the now updated directions for gemfire-cq source xd stream create --name stocks --definition http --port9090 gemfire-json-server --regionNameStocks --keyExpressionpayloadgetFieldsymbol xd stream create --name cqtest --definition gemfire-cq --querySelect from Stocks where symbolVMW file xd http post --target httplocalhost9090 --data symbolVMW price73 The double quotes were causing a problem with xd-singlenode Aug 06 2013 53815 PM orgjbossnettychannelSimpleChannelUpstreamHandler WARNING EXCEPTION please implement orgspringframeworkintegrationxhttpNettyHttpInboundChannelAdapterHandlerexceptionCaught for proper handling orgspringframeworkintegrationtransformerMessageTransformationException orgspringframeworkintegrationMessageHandlingException orgspringframeworkintegrationtransformerMessageTransformationException Expected a after a key at 22 character 23 line 1 orgspringframeworkintegrationtransformerMessageTransformingHandlerhandleRequestMessageMessageTransformingHandlerjava73 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava137 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 Using single quotes inside the json brackets worked need to investigate,0
As a s-c-d developer Id like to enhance integration test coverage for Lattice SPI so I can continuously evaluate functionalities via CI pipeline,3
As a s-c-d developer Id like to collaborate with Boot engineering team and derive a strategy for module metadata via ConfigurationProperties so I can implement the functionality to support shell autocompletion flo and ascii documentation in spring-cloud-data Erics gap analysishttpsdocsgooglecomdocumentd1A-9RpgSNL6SXD61q9eW2YRkrkn3tXk09rdkx7eCKlxYedit document captures all the specifics in detail,8
Implement an XD module type that integrates with Spark Streaming reactor etc,0
As a developer Id like to investigate channel performance issues in SI 42 so I can determine the bottlenecks and take corrective actions to improve overall channel performance,8
Exclude HealthIndicatorAutoConfiguration With HealthIndicatorAutoConfiguration the health endpoint shows up statusDOWNhealthIndicatorstatusUPrabbitstatusDOWNerrororgspringframeworkamqpAmqpConnectException javanetConnectException Connection refusedredisstatusUPversion289mongostatusDOWNerrororgspringframeworkdaoInvalidDataAccessResourceUsageException Timed out while waiting to connect after 3894 ms nested exception is commongodbMongoTimeoutException Timed out while waiting to connect after 3894 msdbstatusUPdatabaseHSQL Database Enginehello1 We can only use vanilla health indicator since other status may not be relevant,0
Refine project mainly dirt dependencies See also XD-903 XD-915 A lot of dependencies have been added with the compile scope as an oversight over time Some of them are only required at runtime some may not be required anymore,0
Admin should fail immediately if Rabbit is not running Container currently does that,0
Investigate dropped Module Deployment Requests We have observed in unit tests see AbstractSingleNodeStreamIntegrationTests thatRedisSingleNode occasionally fail The root cause must be investigated further but there is some evidence to suggest that the control messages ModuleDeploymentRequests are not always received and handled by the ModuleDeployer This does not produce an error but results in runtime stream failures This problem may be resolved as part of the planned Deployment SPI but is being tracked here until we are certain that it has been resolved,0
As a QA Id like to include acceptance test coverage for splitter processor module so that I can validate the functionality as part of every CI build,3
Support Partitioned Batch Jobs with a LocalMessageBus Initial support for partitioned batch jobs initially tested with a local bus had an ExecutorChannel in the job context to enable multiple partitions to run Otherwise with a local bus only one partition would run at a time When further work was done to support other buses this was removed and the bus was used to control partition concurrency The LocalMessageBus was changed to use an unbounded task executor this was wrong because now all partitions ran at once Further changes to the local bus changed the task executor to be pooled but with default properties that mean only one thread is used Further the pool configuration is bus-wide so you cant use that configuration to select the concurrency for an individual job The bottom line is that the local bus is not suitable for partitioned batch jobs it was not anticipated that it would be used for this scenario With 10x too many partitions run all with 11x only one thread runs by default In the local bus we need to use a configurable dedicated bounded task executor for each batch job,0
Sqoop command should not require jdbc parameters Based on the OOTB sqoopxml definition on GitHub we are required to provide the jdbcurl jdbcusername and jdbcpassword as a parameter definition code bean idsqoopTasklet classorgspringframeworkxdsqoopSqoopTasklet property namearguments list valuecommandvalue valueargsvalue valuejdbcurlurlvalue valuejdbcusernameusernamevalue valuejdbcpasswordpasswordvalue valuefsdefaultFSfsUrivalue code This is causing a problem if we define the the sqoop connection parameters within the args list We are using the --password-file option in the args list and need to specify the connection info via the --connect option with the --username within the args list Our Job definition is code job create bdllookup --definition bdl-load --commandimport --args--connectjdbcoraclethinhostName1821dbName --usernameuser --password-fileuserworkspacesecure-filesgdwpassword --tableMASTERDATAWLOOKUPD --target-dirtargetFolderlookupd -m 1 code This results to an deployment code 2015-05-07 114051586 120M1 INFO DeploymentSupervisor-0 zkZKJobDeploymentHandler - Deployment status for job bdllookup DeploymentStatusstatefailederrorsorgspringframeworkbeansfactoryBeanDefinitionStoreException Invalid bean definition with name sqoopTasklet defined in class path resource configbdl-loadxml Could not resolve placeholder url in string value jdbcurlurl nested exception is javalangIllegalArgumentException Could not resolve placeholder url in string value jdbcurlurl code If we skip the jdbc connection info from the modulexml file similar to code bean idsqoopTasklet classorgspringframeworkxdsqoopSqoopTasklet property namearguments list valuecommandvalue valueargsvalue -- Comment out jdbc info valuejdbcurlurlvalue valuejdbcusernameusernamevalue valuejdbcpasswordpasswordvalue -- valuefsdefaultFSfsUrivalue code Custom module deploys fine but get a We get a NullPointerException in the container logs code 2015-05-07 114604450 120M1 ERROR inboundjobbdllookup-redisqueue-inbound-channel-adapter1 stepAbstractStep - Encountered an error executing step sqoopTask in job bdllookup javalangNullPointerException orgspringframeworkxdsqoopSqoopTaskletcreateCommandSqoopTaskletjava91 orgspringframeworkbatchsteptaskletxAbstractProcessBuilderTaskletexecuteAbstractProcessBuilderTaskletjava107 orgspringframeworkbatchcoresteptaskletTaskletStepChunkTransactionCallbackdoInTransactionTaskletStepjava406 orgspringframeworkbatchcoresteptaskletTaskletStepChunkTransactionCallbackdoInTransactionTaskletStepjava330 orgspringframeworktransactionsupportTransactionTemplateexecuteTransactionTemplatejava133 orgspringframeworkbatchcoresteptaskletTaskletStep2doInChunkContextTaskletStepjava271 orgspringframeworkbatchcorescopecontextStepContextRepeatCallbackdoInIterationStepContextRepeatCallbackjava77 code,0
Ensure proper lifecycle shutdown of processors in BroadcasterMessageHandler and MultipleBroadcasterMessageHandler,0
Support short names for types in ModuleOptions The ModuleOptions PR currently uses FQN for types eg javalangString Would be nice to have support for short names for common types both in the properties files and the annotation,0
Better classloader strategy for XD admincontainer This is in reference to the investigation done as part of XD-2548,0
Documentation for AggregateCounter Add section to Analytics chapter on use of AggregateCounter The example should show the use of the shell to create the tap that uses the AggregateCounter,0
Fix doc related to ZK install Amongst maybe other things the doc says we dont ship ZK httpdocsspringiospring-xddocs100BUILD-SNAPSHOTreferencehtmlsettingupzookeeper,0
NodeExists Exception upon container disconnectreconnect without admin leader When the container which has modules deployed disconnectsreconnects to the cluster while the admin leader isnt available following exception is thrown This is more likely to happen in single-node scenario as there is no admin leader re-election there In distributed mode we can always setup HA on admins so that the leadership re-election happens 200316307 ERROR DeploymentsPathChildrenCache-0 cachePathChildrenCache - orgapachezookeeperKeeperExceptionNodeExistsException KeeperErrorCode NodeExists for xddeploymentsmodulesallocated53f41042-8abd-443b-abfb-ba42a24fb9fbfoosinklog1metadata orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava119 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 orgapachezookeeperZooKeepercreateZooKeeperjava783 orgapachecuratorframeworkimpsCreateBuilderImpl11callCreateBuilderImpljava676 orgapachecuratorframeworkimpsCreateBuilderImpl11callCreateBuilderImpljava660 orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 orgapachecuratorframeworkimpsCreateBuilderImplpathInForegroundCreateBuilderImpljava656 orgapachecuratorframeworkimpsCreateBuilderImplprotectedPathInForegroundCreateBuilderImpljava441 orgapachecuratorframeworkimpsCreateBuilderImplforPathCreateBuilderImpljava431 orgapachecuratorframeworkimpsCreateBuilderImplforPathCreateBuilderImpljava44 orgspringframeworkxddirtserverContainerRegistrarwriteModuleMetadataContainerRegistrarjava486 orgspringframeworkxddirtserverContainerRegistraronChildAddedContainerRegistrarjava461 orgspringframeworkxddirtserverContainerRegistraraccess8ContainerRegistrarjava426 orgspringframeworkxddirtserverContainerRegistrarDeploymentListenerchildEventContainerRegistrarjava807 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92,0
Update documentation related to transport and controlTransport eg Need to update this section maybe others httpsgithubcomspring-projectsspring-xdwikiRunning-Distributed-Mode Remove all mentions of Control Bus and replace any mentions of the --transport cmd line arg with the xdtransport property in yml,0
Update redistargz bundled in distribution to be version 301 RPM scripts will need to change,0
Comm protocol for appmaster We need to be able to talk to appmaster which will control the whole xd yarn app 1 Choose the implementation Thrift Spring Int Something else,0
Fix clustercontainers REST endpoint if security is enabled If the security is enabled for the container then admin server wont be able to fetch the message rates for the deployed modules in that container The REST endpoint clustercontainers needs to be fixed,0
As a Spring XD developer Id like to move twitterstream module from XD to s-c-s repo so I can use it as source modules to build streaming pipeline,2
fix gradle clean test Currently gradlew clean test fails since the module dependencies are not packaged before the test task,0
Unable to find an option for restart Sqoop Job automatically when it is failed I am able to run a Sqoop Job to copy data from oracle to Hadoop and I can relaunch the job manually through shell command or admin UI But I dont see option to set some number or auto retry option so that when ever failure happens system will automatically retry some number of times that we specify,0
As a s-c-s developer Id like to create a public screencast of firehose counter pipe so I can demonstrate s-c-s and the development experience,3
Handling JobExecution stop action if the JobExecution is COMPLETED Currently the flag stoppable on JobExecutionInfoResource is used to find if the jobExecution can be stopped Since this flag is set to true even if the JobExecution status is COMPLETED the jobExecution can still say it can be stopped,0
Find a way to contribute redisproperties to Rabbit Container PPC Need to undo the recent add of rabbitproperties to xd-commonxml Tried to work around this by configuring rabbit-container with only the PPC it needs pointing to only rabbitproperties but this caused issues with redis-analytics later requiring redisproperties Would be nice to have a way for redis-analytics to contribute redisproperties or something similar Also strictly speaking the local admin server does not even need redisproperties let alone rabbitproperties so we should find a cleaner way to configure this,0
As a s-c-d developer Id like to document Running on Cloud Foundryhttpsgithubcomspring-cloudspring-cloud-dataflowrunning-on-cloud-foundry section in README so it can be publicly available as deployment guideline,2
Boot upgrade caused test failures springgroovytemplatecheck-template-locationfalse must now be set in the properties file,0
As a user Id like to have the option of AWS sink so that I can write data into S3 directly Reference Spring Integration AWS Extensionhttpsgithubcomspring-projectsspring-integration-extensionstreemasterspring-integration-aws,5
Job Executions without Deployed Job deleted shall not be restartable,0
Release 100M5,0
Add ftp source to default source modules It would be nice to have a simple ftp source I have to do it for one of my projects Same as XD-2139 but for source modules,0
Add a MongoDB Sink This should be quite straightforward since the Spring Data Mongo jars are already included We have this working by just adding the attached sink context file and the spring-integration-mongodb jar This works for JSON string streams but a mongo converter probably needs added to support Tuple conversion,0
As a developer Id like to synchronize with the latest Gemfire version 81 so I can leverage the latest Gemfire features and as well support updated BDS stack This effort in XD depends on Spring Data Gosling GA release which in turn depends on Gemfire 81 release timelines,2
script processor options incorrect on docs The EXAMPLE in the documentation and the paragraph preceding the example for the script processor uses both location and properties-location options but these are in actuality script and locationProperties according to module info processorscript and the text of the documentation See httpdocsspringiospring-xddocs102RELEASEreferencehtmlscript quoteTo use the module pass the location of a Groovy script using the location attribute If you want to pass variable values to your script you can optionally pass the path to a properties file using the properties-location attribute All properties in the file will be made available to the script as variables codexd stream create --name groovyprocessortest --definition http --port9006 script --locationcustom-processorgroovy --properties-locationcustom-processorproperties log --deploycode quote,0
Metric repositories should support Spring Data CrudRepository interface This provides common CRUD behavior and a shared interface that can be useful in testing scenarios,0
Anchor the footer at the bottom of page,0
Move Bus cleaner util method from BusUtils Since Spark-streaming uses BusUtils we need to move the bus cleaner util method that builds rest template so that spark streaming doesnt depend on httpClient,0
As a user Id like to have the option to store the custom module uber-jar in HDFS so that I can rely on the HA feature to reliably read and reinstall under failure scenarios,3
Upgrade to Spring for Apache Hadoop 102RELEASE and Pivotal HD 11 Make sure the sinks and jobs work against Pivotal HD 11,0
XD Cluster view improve hover over capabilities Please see the discussion here httpsgithubcomspring-projectsspring-xdpull1183issuecomment-55917701,0
Integration test for field-value-counter and aggregate-counter httpsgithubcomspring-projectsspring-xdblobmastersrctestscriptstweettests use field-value-counter and aggregate-counter Should do a simplified version of this so that we can assert values of the field-value-counter and aggregate-counter,0
Creating multiple StreamJob definitions from command file is broken I have a file that has the DSLs stream create a1 --definition http log stream deploy a1 xd-shell --cmdfile testcmd May 19 2015 14929 PM orgspringframeworkshellcoreAbstractShell handleExecutionResult INFO Created new stream a1 May 19 2015 14929 PM orgspringframeworkshellcoreSimpleExecutionStrategy invoke SEVERE Command failed orgspringframeworkxdrestclientimplSpringXDException There is no stream definition named a1,0
Add acceptance tests for FieldValueCounts and AggregateCounts To enrich acceptance tests Id like to have test coverage to evaluate FieldValueCounts and AggregateCounts for a given scenario,0
Build script that creates an executable server as an artifact Gradle application plugin is a good starting point this should be the main server that would host SI based modules to do syslog-file ingestion as an example,0
Create the base implementation for XDCommands for the shell This is the basic setup of the commands file - no specific command implementations,0
Container fails to start if JMX is enabled and manageport is set The container will not start with JMX enabled and the managementport set The stacktrace is attached and the settings for the container are enumerated below export endpointsjmxenabledtrue export endpointsjmxuniqueNamestrue export endpointsjolokiaenabledtrue export XDJMXENABLEDtrue export managementport15005,0
Trim output from http post shell command to two lines Instead of xdhttp post --target httplocalhost9898 --data hello world POST textplaincharsetUTF-8 httplocalhost9898 hello world 200 OK Content-Length 0 Connection keep-alive Success sending data hello world to target httplocalhost9898 have xdhttp post --target httplocalhost9898 --data hello world POST textplaincharsetUTF-8 httplocalhost9898 hello world 200 OK or better yet xdhttp post --target httplocalhost9898 --data hello world 200 OK POST textplaincharsetUTF-8 httplocalhost9898 hello world,0
Document redis pool properties in serversyml Add springredispool properties to serveryml commented out to show default values eg maxIdle 8 minIdle 0 maxActive 8 maxWait -1,0
Unable to register the JMX bean MessageHistory from Spring Integration If I try to use intmessage-history when developing a Spring XD module it fails when try to export the JMX bean Ive seen that the naming strategy used is orgspringframeworkxddirtmodulejmxModuleObjectNamingStrategy The stackTrace code 2016-02-24T1040390000 131RELEASE ERROR DeploymentsPathChildrenCache-0 containerDeploymentListener - Exception deploying module orgspringframeworkjmxexportUnableToRegisterMBeanException Unable to register MBean orgspringframeworkintegrationhistoryMessageHistoryConfigurer24902b5f with key messageHistoryConfigurer nested exception is javaxmanagementMalformedObjectNameException Key properties cannot be empty orgspringframeworkintegrationmonitorIntegrationMBeanExporterregisterBeanInstanceIntegrationMBeanExporterjava375 spring-integration-jmx-425RELEASEjarna orgspringframeworkintegrationmonitorIntegrationMBeanExporterafterSingletonsInstantiatedIntegrationMBeanExporterjava288 spring-integration-jmx-425RELEASEjarna orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava792 spring-beans-424RELEASEjar424RELEASE orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava839 spring-context-424RELEASEjar424RELEASE orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava538 spring-context-424RELEASEjar424RELEASE orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava686 spring-boot-123RELEASEjar123RELEASE orgspringframeworkbootSpringApplicationrunSpringApplicationjava320 spring-boot-123RELEASEjar123RELEASE orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 spring-boot-123RELEASEjar123RELEASE orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava213 spring-xd-module-131RELEASEjar131RELEASE orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 spring-xd-dirt-131RELEASEjar131RELEASE orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 spring-xd-dirt-131RELEASEjar131RELEASE orgspringframeworkxddirtservercontainerDeploymentListenerdeployModuleDeploymentListenerjava365 spring-xd-dirt-131RELEASEjar131RELEASE orgspringframeworkxddirtservercontainerDeploymentListenerdeployStreamModuleDeploymentListenerjava334 spring-xd-dirt-131RELEASEjar131RELEASE orgspringframeworkxddirtservercontainerDeploymentListeneronChildAddedDeploymentListenerjava181 spring-xd-dirt-131RELEASEjar131RELEASE orgspringframeworkxddirtservercontainerDeploymentListenerchildEventDeploymentListenerjava149 spring-xd-dirt-131RELEASEjar131RELEASE orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 curator-recipes-260jarna orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 curator-recipes-260jarna orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 curator-framework-260jarna comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 guava-1601jarna orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 curator-framework-260jarna orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 curator-recipes-260jarna orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 curator-recipes-260jarna orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 curator-recipes-260jarna javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 na18072 javautilconcurrentFutureTaskrunFutureTaskjava266 na18072 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 na18072 javautilconcurrentFutureTaskrunFutureTaskjava266 na18072 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 na18072 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 na18072 javalangThreadrunThreadjava745 na18072 Caused by javaxmanagementMalformedObjectNameException Key properties cannot be empty javaxmanagementObjectNameconstructObjectNamejava483 na18072 javaxmanagementObjectNameinitObjectNamejava1382 na18072 javaxmanagementObjectNamegetInstanceObjectNamejava1273 na18072 orgspringframeworkjmxsupportObjectNameManagergetInstanceObjectNameManagerjava62 spring-context-424RELEASEjar424RELEASE orgspringframeworkxddirtmodulejmxModuleObjectNamingStrategygetObjectNameModuleObjectNamingStrategyjava50 spring-xd-dirt-131RELEASEjar131RELEASE orgspringframeworkjmxexportMBeanExportergetObjectNameMBeanExporterjava751 spring-context-424RELEASEjar424RELEASE code,0
The shell introduced a fundamental new way to interact with the system all use of CURL in examples needs to change to use the shell,0
JDBC sink destroys existing table The jdbc sink deletes existing table and creates a single column payload one even if properties file has initializeDatabasefalse,0
Rename xd-configyml to serversyml and add modulesmodulesyml to spring-xd-yarn Make changes to XD on YARN config that correspond to XD-1499 changes,0
Logging is not producing a log file need to add a -DxdhomeXDHOME to the start scripts else all files will write to the logs directory Need to update bat files to use for env variables instead of Need to rename loggerconfig to loggingconfig so that boot will pick up the log config files Admin needs to use xd-admin-logger configs instead of xd-container-logger Renamed logging file for singlenode from adminlog to singlenodelog,0
Investigate RabbitSingleNodeStreamDeploymentIntegrationTests performance This test is very slow 2x the Redis version Lots of stacktraces when running Could be related,0
As a user I need to know the Spark streaming features like adding tap at the spark module output and the examples need to be updated The documentation also needs some more information on Reliable receiver,1
Rename create to save in ResourceDeployer To be consistent with Spring Data Repository method names,0
DIRT Runtime that deploys an application context across multiple nodes using redis,0
XD does not reconnect to jobstore if connection is lost leaving Jobs in inconsistent state XD Deployment DescriptionXD Cluster 1 Container EnvironmentEC2 Type Of TestShell Command Line Test Failed Onhdfs only test that was run Build UsedBuilt May 7 1029 PST Overall issue XD Admin and container lost connectivity to the the jobstore MySql on RDS and did not reconnect Exception Displayed in log Caused by commysqljdbcexceptionsjdbc4CommunicationsException The last packet successfully received from the server was 54321927 milliseconds ago The last packet sent successfully to the server was 54321928 milliseconds ago is longer than the server configured value of waittimeout You should consider either expiring andor testing connection validity before use in your application increasing the server configured values for client timeouts or using the ConnectorJ connection property autoReconnecttrue to avoid this problem sunreflectNativeConstructorAccessorImplnewInstance0Native Method sunreflectNativeConstructorAccessorImplnewInstanceNativeConstructorAccessorImpljava57 sunreflectDelegatingConstructorAccessorImplnewInstanceDelegatingConstructorAccessorImpljava45 javalangreflectConstructornewInstanceConstructorjava526 commysqljdbcUtilhandleNewInstanceUtiljava411 commysqljdbcSQLErrorcreateCommunicationsExceptionSQLErrorjava1117 commysqljdbcMysqlIOsendMysqlIOjava3871 commysqljdbcMysqlIOsendCommandMysqlIOjava2484 commysqljdbcMysqlIOsqlQueryDirectMysqlIOjava2664 commysqljdbcConnectionImplexecSQLConnectionImpljava2788 commysqljdbcConnectionImplexecSQLConnectionImpljava2738 commysqljdbcStatementImplexecuteQueryStatementImpljava1617 orgspringframeworkjdbccoreJdbcTemplate1QueryStatementCallbackdoInStatementJdbcTemplatejava452 orgspringframeworkjdbccoreJdbcTemplateexecuteJdbcTemplatejava402 57 more Side Effects Unable to create new Job with same name User executed a job list and then removed the jobs in the list When the user tried to create new jobs using the same names the application reported Command failed orgspringframeworkxdrestclientimplSpringXDException StatementCallback SQL SELECT JOBNAME FROM JOBREGISTRYNAMES No operations allowed after connection closed nested exception is commysqljdbcexceptionsjdbc4MySQLNonTransientConnectionException No operations allowed after connection closed The only way to resolve it completely was to 1 shutdown the admin and the containers 2 Clear the jobs from the Batch job tables by hand 3 restart XD admin and containers,0
As a developer Id like to upgrade to 203 release of Reactor so I can inherit the latest optimizations to further improve XD performance characteristics,3
Release 10 RC1,0
Update Spring Integration version to 40M2,0
Acceptance Tests for Labels and taps,0
Taps do not work when JMX is enabled When JMX is enabled the Modules output channel processed by StreamPlugin is a Proxy Thus it fails the instanceof test used to apply the WireTap to the output channel,0
REST - Do not redirect after logout In the following PR we removed the RestLogoutSuccessHandler httpsgithubcomspring-projectsspring-xdpull1562 This is necessary though for REST calls and the Admin UI Otherwise some weird UI behavior might occur due to the HTTP redirect,0
InfluxDB as an analytics backend,0
Add defaultYarnClasspath entry for phd20 cdh5 and hdp21 Each Hadoop distro uses different settings for yarnapplicationclasspath and we should provide some starting points for the distros we support running XD on YARN for We should add a commented out stub defaultYarnClasspath entry for phd20 cdh5 and hdp21 to replace the one for hadoop22 when someone deploys on these distros,0
Convert modules to be CP-aware Once XD-887 is merged gradually convert more modules Recipe 1 Move the modulexml file to moduleconfigmodulexml 2 Declare a moduletypemodule gradle project 3 Move dependencies from dirt project to newly created module project 4 gradle build picks it up gradle clean build manual test Also have a look at gradle cleanEclipse eclipse,0
Make trigger options explicitly exclusive see problem reported at httpstackoverflowcomquestions27368351spring-xd-module-sourcetrigger-does-not-work-as-expected,0
User wants the ability to check the status of a job or task from the CLI,0
Export of data from HDFS to MongoDB Based on a single process Spring Batch job ETL of data from HDFS to MongoDB,0
When there are no wiretap listeners dont publish messages Being able to listen to a stream at any point has a significant performance impact The reason for the impact is the message needs to be serialized transported deserialized to other members even if there is no one listening This serialized transported deserialized processes happens for each step in a flow - source process sink Recommend creating some kind of protocol for wiretaps that allows members to know if there is someone listening in the grid so they will emit the data Likewise we need to deregister the listener if the wiretap is deleted,0
Improve automated documentation generation process for modules to handle array arguments For example the generated value for the cassandra sink results in -entityBasePackages the base packages to scan for entities annotated with Table annotations String default LjavalangString2638011 where the default value changes each time the build is run,0
As a user Id like to type the username and password to gain access to Admin server so that I dont have to add it in some file hence I dont have to worry about having the password getting logged somewhere,5
Update to Spring Boot 10 GA,0
As a s-c-d user I should be prevented from creating streams with duplicate name Id expect streams to have unique names all the time,1
Tapping a stream with multiple labelled filters causes duplicate messages Test case is here httpsgithubcomspring-projectsspring-xdblobmastersrctestscriptsbasicstreamtestsL49 We would expect one message in the counter but get 3,0
Create ReactorMessageHandler for Reactor based XD processorsink modules The module should be flexible to act as a sink as well as a processor ErrorHandling will be considered as part of another JIRA,0
Provide proper ordering for all REST endpoints With the implementation of XD-1864 we need to make sure that the paginated data returned from the REST endpoints has proper default ordering Up to now we have done client-side ordering in the Admin UI but with server-side pagination the server-side should support proper pagination as well Eventually we may even decide to provide more flexible ordering options ASC vs DESC sort on different properties etc which may be a separate Jira,0
Create an easier short-cut for launching adhoc Batch Jobs Currently for adhoc launching of Batch jobs you have to use code stream create --name myTriggerStream --definition trigger jobhelloSpringXD code For renewed triggering of the job you have to undeploy and then redeploy the job It would be nice if there was possibly a slightly simpler way of doing this Just FYI - As a different approach you can also use the HTTP source source job create --name myjob --definition myjob stream create --name myjobhttp --definition http jobhttp http post --data source,0
As a user I want to configure Docker XD Containers using Service Discovery so that I can have tools to manage how processes and services in a cluster can find and talk to one another,8
Gemfire Source throws classnotfound Steps to reproduce Start admin container Follow the instructions from httpsgithubcomspring-projectsspring-xdwikiSourcesgemfire-source When you post the message is when the stacktrace shows up in the container Copying the gemfire-702jar to the lib directory will resolve the error The stacktrace is attached,0
As a developer Id like to update all the module docs to also include shortDescription so that its available for users to learn more about the module,2
The stream definition is not deleted in redis container when the stream is destroyed This only happened with distributed mode that uses redis as store The single mode which uses in memory store works fine Step to reproduce Create stream curl -X POST -d namehttptest -d definitionhttplog httplocalhost8080streams redis 1270016379 keys httptest 1 moduleshttptest 2 streamshttptest 3 streamdefinitionshttptest Delete Stream curl -X DELETE httplocalhost8080streamshttptest redis 1270016379 keys httptest 1 streamshttptest 2 streamdefinitionshttptest stream still there not deleted Recreate the stream curl -X POST -d namehttptest -d definitionhttplog httplocalhost8080streams Got xml version10 encodingUTF-8 standaloneyeserrors xmlnsns2httpwwww3org2005Atomerror logrefStreamAlreadyExistsExceptionmessageThere is already a stream with name httptestmessageerror,0
As a user Id like to have the option of HAWQ sink so that I can write data directly into HAWQ via PXF extensions through AvroParquet format,3
As a developer I want to have to run Kafka tests on an external broker so that I reduce the footprint of the build process,2
Eliminate internal dependencies on System properties Remove SystemsetProperty or SystemgetProperty for internal xd properties Use spring Environment abstraction instead Also replace in property names with XDPropertyKeys This is compatible with environment variable names As a result XD should accept System properties or environment variables or command line options Command line options should have highest precedence Retain StandardEnvironment order wrt to System properties and environment variable,0
All controllers to return XYZResource objects not the raw domain objects Resource objects should be returned from all controller methods MVC Tests should be added to check returned values,0
As a user Im trying to load Task Task Deployment and Task Executions page but Im seeing an error Error fetching data Is the XD server running instead,1
