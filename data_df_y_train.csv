Remove Option parsing code used for tests from Servers Currently Main class provide alternate static methods for parsing CLI options One used for testing does not call Systemexit just throws an exception This code should be moved to spring-xd-test to support integration testing,0
Source that produces JSON String as byte with --outputType applicationjson should produce JSON string,0
Retrieve information for an aggregate counter TODO as part of this see XD-537 Get rid of so-called Service layer in analytics project doesnt do much right now and logic would better live in the Handler IMO Have REST controllers depend on XRepository in all cases,0
Document MongoDB source,0
Correct hadoop classpath versions for the distros When using hdp13 the XdConfigLoggingInitializer throws this info 120206064 INFO main utilXdConfigLoggingInitializer77 - Hadoop Distro hdp13 120206068 WARN main utilXdConfigLoggingInitializer84 - Hadoop version detected from classpath 120 but you provided --hadoopDistro hdp13 Did you mean --hadoopDistro hdp20 120206069 WARN main utilXdConfigLoggingInitializer84 - Hadoop version detected from classpath 120 but you provided --hadoopDistro hdp13 Did you mean --hadoopDistro hadoop12 Since hdp13 uses hadoop 120 we need to fix that in the versions map ContainerOptionsgetHadoopDistroVersions,0
As a Spring XD developer Id like to move mongo module from XD to s-c-s-m repo so I can use it as source to build streaming pipeline,2
Add documentation about message store to aggregator doco,0
Windows build fails This Hadoop scenario will not work in Windows The scope is to disable the test for windows build orgspringframeworkbatchintegrationxRemoteFileToHadoopTaskletTests testWrite FAILED javalangIllegalStateException Caused by orgspringframeworkbeansfactoryBeanCreationException Caused by javalangUnsatisfiedLinkError orgspringframeworkbatchintegrationxRemoteFileToHadoopTests testSimple FAILED javalangIllegalStateException Caused by orgspringframeworkbeansfactoryBeanCreationException Caused by javalangUnsatisfiedLinkError Java HotSpotTM Client VM warning ignoring option MaxPermSize512m support was removed in 80 3 tests completed 2 failed spring-xd-extension-batchtest FAILED FAILURE Build failed with an exception,0
UI The user should be able to view the log file for a specific job execution Will require additional server-side Jiras,0
Mixins need to use Property PlaceHolders instead of hard coded values where possible Many attributes in Mixins use hard coded values instead of using property placeholders JdbcConnectionMixin JdbcConnectionPoolMixin MqttConnectionMixin,0
Need more unique resource locations for XD internal configuration Currently internal config files are in META-INFspring with fairly generic names To avoid potential collisions if users add their own configuration in the classpath we should have a more unique location eg META-INFspringxd,0
User should not be required to specify a control channel With the addition of zookeeper a user does not have to specify rabbit or redis for the control channel This story should allow a user to specify redis rabbit or no control channel,0
Shell HTTP Post - Allow posting of local file contents Eg allow for posting of JSON data stored in local files Allow users to specify the content-type Ensure that Unicode data UTF posts correctly,0
As a Spring XD user Id like to use redissentinel cluster as the message bus so I could create streams and batch pipelines,8
Prevent classloader leakage thru javabeans infrastructure,0
As a user I want Spring XDs message bus to be able to pre-allocate partitions between nodes when a stream is deployed so that rebalancing doesnt happen when a container crashes andor its redeployed,8
User wants to select the ec2 zone when deploying XD Currently the application allows AWS select which zone in the region to create an instance,0
Use ParentLastClassLoader to create the Modules ApplicationContext The ParentLastClassloader is located in the spring-hadoop project It will resolve classes first looking at the child context and then the parent This works well for XD since the we want and dependencies of the module to be considered first and if not found resolve against the parent It would be possible to even include other versions of jars already in the parent classloaders eg Spring Integration jars but for now we will not immediately test that case SimpleModule needs to change to that we can pass in the classloader to use for creating the application context The current implementation creates a GenericApplicationContext as a field initializerthat should change to be in the ctor ModuleDeployer should implement BeanClassLoaderAware The classloader passed in to the BeanClassLoaderAware callback will be used as the parent when creating the ParentLastClassloader The URL to pass into ParentLastClassloader should be null or an empty array in this case of an older style module Hopefully ParentLastClassloader allows that type of fallback Implementation Suggestions The ModuleDeployer code is where the application context for the module is defined and instantiated Here is a possible impl path 1 Assuming we can always use ParentLastClassloader even for older style modules then the ModuleDescriptor needs to return an array of URL locations for the module getURL This is passed into the cto for SimpleModule The ctor then creates a new application context creates the parentclassloader sets the classloader on the application context and then proceeds as normal 2AbstractModuleRegistry should try and load the resource from two possible locations eg modulessourcefileconfigfilexml or modulessourcefilexml The module registry needs to be a bit smarter to know ah i see a config directory let me try configfilexml otherwise just filexml How to verify it works 1 JUnit test in which one of the ModuleRegistry implementations points to a test directory that contains both old and new style modules FileModuleRegistry is probably a good choice here Need to test that the new getting for URL works as expected 2 Existing tests should run as they did before in particular the shell integration tests,0
Create google doc with instructions on managing EC2 Instances Logging into your XD Account For Example https946513944028signinawsamazoncomconsole Discuss how to terminate running instances Users can terminate all instances using the UI on the EC2 admin page Usage monitoring via CloudWatch Investigate what metadata in each instance is required so that cloudwatch can track,0
Create OOTB batch job that uses the Hadoop Shell to copy multiple files from a local directory into HDFS Create a new tasklet implementation that will use the ANT globbing like syntax found in MultiItemResourceReader to specify the input files and use FsShell to invoke a copyFromLocal command with a specified HDFS output directory The batch job would call the tasklet the job should be documented,0
Add xdstreamname property in StreamPlugin,0
Mismatch between configuration class and script XML for locationscript The orgspringframeworkxdmoduleoptionsmixinsScriptMixin options class shipped with XD 103 refers to script rather than location however the XML configuration still references location in the service activator noformat service-activator output-channeloutput input-channelinput int-groovyscript locationlocation script-variable-generatorvariableGenerator refresh-check-delay60 service-activator noformat Creating a stream using the old location argument no longer works obviously noformat xdstream create myJobArchiveTrigger --definition tapjobmyJobjob script --locationjob-statusgroovy --variablestgtStatusCOMPLETED queuejobarchiveJob --deploy Command failed orgspringframeworkxdrestclientimplSpringXDException Error with options for module script of type processor location option named location is not supported noformat Creating the same stream using --script reports success at the shell prompt but results in an error in the containeradmin logs noformat Caused by javalangIllegalArgumentException Could not resolve placeholder location in string value location noformat Working around this by overriding the XML setting in our deployment noformat service-activator output-channeloutput input-channelinput int-groovyscript locationscript script-variable-generatorvariableGenerator refresh-check-delay60 service-activator noformat,0
As a user Id like to have microbatching capability so that I can ingest based on batch intervals for enhanced performance throughput Example http --batchInterval10 log,5
Sqoop list-tables doesnt work oob Commands from docs xdjob create sqoopListTables --definition sqoop --commandlist-tables --deploy xdjob launch --name sqoopListTables 2015-05-21 191236211 120M1 ERROR task-scheduler-1 sqoopSqoopTasklet - Sqoop job for list-tables finished with exit code 1 2015-05-21 191236212 120M1 ERROR task-scheduler-1 sqoopSqoopTasklet - Sqoop err Error Required argument --connect is missing Adding --connect results xdjob create sqoopListTables --definition sqoop --commandlist-tables --connectjdbchsqldbhsqllocalhost9101xdjob --deploy Command failed orgspringframeworkxdrestclientimplSpringXDException Error with options for module sqoop of type job connect option named connect is not supported This is with singlenode,0
The HDFS Sink should support writing POJOs to HDFS using Parquet Writing POJOs using Kite SDK,0
As a developer Id like to have the XD Kafka POC published in samples repo so I can include it as reference architecture for the XD blog,5
Support serializationdeserialization of Message payloads across JVMs across all transports String - byte stringgetBytes byte - byte no serialization Pojo - configured serialization,0
Update support for Hortonworks to HDP 232 We currently support HDP 230 The most recent HDP version is 232 This latest HDP release also changes Spark version to 141,0
Refactor duplicate code in Listeners ContainerListener StreamListener and JobListener have duplicate code for deploying and undeploying modules This needs to be consolidated One possibility is for the deployment code to live in classes named StreamDeployer and JobDeployer,0
Provide missing JARs to enable xpath SpEL Spring XD should package spring-integration-xml JAR within distribution so we can invoke xpath SpEL from processors eg using transformer code transform --expressionxpathpayload nameDatasourcenamerowtext code,0
Document time source time source is used in some examples but it isnt documented explicitly eg --interval option in seconds,0
Support explicit client connect string for ZooKeeper This will have an effect on both singlenode and distributed mode as described below singlenode Currently when running in singlenode mode an embedded ZooKeeper server is started and it discovers an available port for client connections and exposes it via a getClientPort method With this change IF a client connect string is provided explicitly the embedded ZooKeeper server should not be started but instead the client connection should be established using that explicitly provided connect string SEE the todo comment above the SpringApplicationBuilder admin line within SingleNodeApplication distributed Currently when running in distributed mode the client connect string is hardcoded to localhost2181 Obviously that is only a short term solution since a real-world distributed runtime would span multiple machines including the ZooKeeper ensemble itself That is also why the connect string must support a comma-delimited list of hostport values for redundancy but the constructor for ZooKeeperConnection that accepts a client connect string already supports that via the underlying CuratorFramework builder With this change a command-line argument for the client connect string will be passed into the ZooKeeperConnection constructor within the configuration eg SEE the todo statement within ContainerServerApplicationDistributedZooKeeperConnectionConfiguration,0
Add REST resource sink Would be nice to have a sink for REST resources Might be configurable with an endpoint URI Basic auth details would be a nice to have too Would perform a POST to the endpoint passing the payload,0
Spike Design a tasks repository h2 Narrative As a developer Id like to be able to run a boot jar as a task on CF and obtain the result reliably h2 Back story Currently LatticeDiegos tasks implementation provides the ability to run things as short lived tasks However obtaining the result of said task can be an issue There are two ways to do so Poll for the result Register a callback URL to be called once the task completes Since a task is only available for a short time after its completion before it is deleted polling can run the risk of missing the result completely When you consider the fact that the provided GUIDs that identify tasks can be re-used polling becomes a precarious option Registering a callback URL would be a better option however there are no good guarantees that the message will be delivered The service will try to execute the callback until its successful or the task is cleaned up Successful is defined in this case as anything other than a 502 or a 503 return code In order for Spring XD to be able to support Diego tasks a more durable option for maintaining the result of tasks will need to be developed Note The outcome of this spike may be feature requests for the CFDiego team,0
DeployUndeployDeploy Acceptance tests run back to back causes exception SHA 33de93797106c8dd413dfb08f2fdbbb4931b528c Deployment 1 Admin 1 Container DataStore MySQL A SpringXDException is thrown when running the testJobDeployUndeployFlow test in Acceptance tests back to back Ran the test once Success Ran the test a second time The following exception is thrown SpringXDException Batch Job with the name deployundeployjob already exists The XDJOBREGISTRYSTEPNAMES XDJOBREGISTRY still have jobname deployunderployjob still stored The following Exception is seen on the admin server 204559214 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsjobsdeployundeployjob type CHILDADDED 204604741 INFO Deployer serverJobDeploymentListener - Deployment status for job deployundeployjob DeploymentStatusstatedeployed 204605436 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsjobsdeployundeployjob type CHILDREMOVED 204612471 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsjobsdeployundeployjob type CHILDADDED 204616330 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsjobsdeployundeployjob type CHILDREMOVED 204617819 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsjobsdeployundeployjob type CHILDADDED 204617832 INFO Deployer serverJobDeploymentListener - Deployment status for job deployundeployjob DeploymentStatusstatedeployed 204617834 ERROR Deployer serverInitialDeploymentListener - Exception caught while handling event orgspringframeworkxddirtzookeeperZooKeeperAccessException KeeperErrorCode NoNode for xddeploymentsjobsdeployundeployjobstatus orgspringframeworkxddirtzookeeperZooKeeperUtilswrapThrowableZooKeeperUtilsjava111 orgspringframeworkxddirtzookeeperZooKeeperUtilswrapThrowableZooKeeperUtilsjava95 orgspringframeworkxddirtserverJobDeploymentListenerdeployJobJobDeploymentListenerjava175 orgspringframeworkxddirtserverJobDeploymentListeneronChildAddedJobDeploymentListenerjava99 orgspringframeworkxddirtserverInitialDeploymentListenerEventHandlercallInitialDeploymentListenerjava217 orgspringframeworkxddirtserverInitialDeploymentListenerEventHandlercallInitialDeploymentListenerjava186 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsjobsdeployundeployjobstatus orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 orgapachezookeeperZooKeepersetDataZooKeeperjava1270 orgapachecuratorframeworkimpsSetDataBuilderImpl4callSetDataBuilderImpljava274 orgapachecuratorframeworkimpsSetDataBuilderImpl4callSetDataBuilderImpljava270 orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 orgapachecuratorframeworkimpsSetDataBuilderImplpathInForegroundSetDataBuilderImpljava266 orgapachecuratorframeworkimpsSetDataBuilderImplforPathSetDataBuilderImpljava253 orgapachecuratorframeworkimpsSetDataBuilderImplforPathSetDataBuilderImpljava41 orgspringframeworkxddirtserverJobDeploymentListenerdeployJobJobDeploymentListenerjava165 7 more Clear XDJOBREGISTRYSTEPNAMES XDJOBREGISTRY tables and run the test a third time Ran the test a third time The following exception is thrown SpringXDException The job named deployundeployjob is already deployed The following Exception was reported by the admin server 211829355 WARN http-nio-9393-exec-4 zookeeperZooKeeperJobRepository - Exception while transitioning job deployundeployjob state to undeploying orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsjobsdeployundeployjobstatus orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 orgapachezookeeperZooKeepersetDataZooKeeperjava1270 orgapachecuratorframeworkimpsSetDataBuilderImpl4callSetDataBuilderImpljava274 orgapachecuratorframeworkimpsSetDataBuilderImpl4callSetDataBuilderImpljava270 orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 orgapachecuratorframeworkimpsSetDataBuilderImplpathInForegroundSetDataBuilderImpljava266 orgapachecuratorframeworkimpsSetDataBuilderImplforPathSetDataBuilderImpljava253 orgapachecuratorframeworkimpsSetDataBuilderImplforPathSetDataBuilderImpljava41 orgspringframeworkxddirtstreamzookeeperZooKeeperJobRepositorydeleteZooKeeperJobRepositoryjava174 orgspringframeworkxddirtstreamzookeeperZooKeeperJobRepositorydeleteZooKeeperJobRepositoryjava196 orgspringframeworkxddirtstreamzookeeperZooKeeperJobRepositorydeleteZooKeeperJobRepositoryjava54 orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerundeployAbstractInstancePersistingDeployerjava77 orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerundeployAllAbstractInstancePersistingDeployerjava103 orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerdeleteAllAbstractInstancePersistingDeployerjava111 orgspringframeworkxddirtrestXDControllerdeleteAllXDControllerjava114 sunreflectGeneratedMethodAccessor161invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeInvocableHandlerMethodjava215 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava132 orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava104 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava749 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava689 orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava83 orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava938 orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava870 orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava961 orgspringframeworkwebservletFrameworkServletdoDeleteFrameworkServletjava885 javaxservlethttpHttpServletserviceHttpServletjava652 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava837 javaxservlethttpHttpServletserviceHttpServletjava727 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava303 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterInternalWebRequestTraceFilterjava110 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextFilterConfiguration1doFilterInternalEndpointWebMvcAutoConfigurationjava257 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava88 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava85 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgapachecatalinacoreStandardWrapperValveinvokeStandardWrapperValvejava220 orgapachecatalinacoreStandardContextValveinvokeStandardContextValvejava122 orgapachecatalinaauthenticatorAuthenticatorBaseinvokeAuthenticatorBasejava501 orgapachecatalinavalvesRemoteIpValveinvokeRemoteIpValvejava683 orgapachecatalinacoreStandardHostValveinvokeStandardHostValvejava171 orgapachecatalinavalvesErrorReportValveinvokeErrorReportValvejava102 orgapachecatalinacoreStandardEngineValveinvokeStandardEngineValvejava116 orgapachecatalinaconnectorCoyoteAdapterserviceCoyoteAdapterjava408 orgapachecoyotehttp11AbstractHttp11ProcessorprocessAbstractHttp11Processorjava1040 orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava607 orgapachetomcatutilnetNioEndpointSocketProcessordoRunNioEndpointjava1720 orgapachetomcatutilnetNioEndpointSocketProcessorrunNioEndpointjava1679 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 orgapachetomcatutilthreadsTaskThreadWrappingRunnablerunTaskThreadjava61 javalangThreadrunThreadjava745 Ran the test a fourth time Success,0
Add Hadoop 24x as an option Hadoop 241 is now a stable release and we should add support for running against it,0
Create a stubbed out job controller,0
Failure when creatingdeploying stream leaves invalid stream registrydefinitions in the Repository implementations reproduce 1 Create a bad stream definition name bad Try to recreate with the same name but correct stream definitions The system will report that the stream already exists,0
Support for Configuration based module definitions,0
Uploaded custom module requires restart to get in effect When a custom module is uploaded to module registry though the module registry is updated with the changed module after deleting the existing one the module changes arent loaded when deployed,0
Find and eliminate package-level cycles across XD projects,0
Add twitter oauth properties file to config dir Those property keys should then be provided as defaults for the placeholders in sourcetwittersearchxml,0
Batch Wordcount Sample to use File Source,0
UI should poll server for latest on job info The admin UI should be polling the server to automatically pick up any new jobs executions and instances,0
As a user Id like to access Sqoop logs so that I can troubleshoot or evaluate the errors or current state respectively We will have to identify how to capture the Sqoop logs and stream them to our logging mechanism,5
As a user Id like to clean-up stale queuestopics associated with the stream so when the stream gets destroyed I can clean-up resources,3
As a user Id like to have an option to specify timeout so I can expect the job to not run forever if it is in hung state,3
Updated XD-EC2 XD deployment for 12 Mask out all properties for XD-EC2,0
Document append configuration else jdbchdfs writes empty file to hdfs Similar to XD-1565 so Id link these 2 together Steps to reproduce on Hadoop12 1 Created Table People with columns forenamesurname and address use the result from filejdbc 2 job create myjob --definition jdbchdfs --sqlselect col1col2col3 from sometable 3job launch myjob 4 myjob is created on hdfs but with zero bytes 5 throws an exception stack trace attached,0
Add about section to module description It should be possible to configure a short description for a module that is display above the module options via module info --name The description could contain a few lines describing the core functionality and potentially hyperlinks to additional information for a module This information should be exposed via the REST interface as well Currently only the module options are printed,0
Enhance module upload to support exploded dirs on the shell side Would be nice to have the shell zip the contents of a directory if not already in zipped form This way the development cycle if one decided to use upload is quicker and edits can be done in place,0
As a s-c-s developer Id like to fix the Kafka binder so I can create messaging microservices apps and successfully bind them to an operational Kafka broker,3
Support default values for options derived out of placeholders The logic can be found in DefaultModuleOptionsMetadataCollector but caused problems in the initial PR Revisit if needed,0
Consolidate REST endpoints for batch resources under jobs currently we have batch and jobs Everything should move to jobs See httpsgithubcomspring-projectsspring-xdwikiREST-API for details,0
Support shell completions for closed set of values in stream definitions When doing dsl completion in a stream definition and a module option accepts a value that has a closed set of possible values eg booleans enums we can provide completions for those,0
Mask Database Passwords in REST Controllers and Admin UI When deploying a batch job the UI displays the database password found in the serveryml in plain text to the user At the very least this should be displayed in a password field so its masked out and have it masked out in the resulting definition at the bottom of the page Ideally we wouldnt provide the password on that page at all and only accept overriding options if the user wants a password other than the configured one enter itotherwise well use what we have Im finding that this occurs in other places as well A full pass though of the UI should be done to mask out passwords or eliminate their display all together,0
PostgreSQL serveryml options ignored p-spring-xd defines values for the following parameters in serversyml These values are not being retrieved and hence have to be manually added to each stream definition url username password driverClassName validationQuery cf XD-2675 XD-2741,0
UI User should be able to get all the job executions on a given job at deployed jobs page On clicking a specific job name in the deployed jobs list we need to redirect the user to show the list of all the job executions on that job User should be able to navigate back to the deployed jobs list,0
Improvements to Tuple project Removed various TODO comments in code and put here for proper triage DefaultTuple Error handling When delegating to the conversion service the ConversionFailedException does not have the context of which key caused the failure Need to wrap ConversionFailedException with IllegalArgumentException and add that context back in see method convert Ctor visibility Consider making ctor final and package protect the ctor so as to always use TupleBuilder check for no duplicate values when initializing namesvalues list tuple top level methods to add String getComponentName somethign that would indicate which stream or job this tuple is being processed in TupleFieldSetMapper Only one date format JsonStringtoTupleConverterJsonNodetoTupleConverter do we want to not map id and timestamp believe the answer is dont map preserve original,0
Script to generate reference documentation from wiki and include in zip distribution,0
Create a XD job definition when posting the DSL to create a spring batch job eg trigger jobxml --option1foo it should be stored in redis so that a listing of XD job definitions can be retrieved,0
Investigate intermittent failure of RedisStreamDefinitionRepositoryTests the test for findAll often fails for me when running inside gradle Could not reproduce inside eclipse I already tried fixing it by using a different redis key space but to no avail One explanation would be if gradle runs tests concurrently but my understanding is that it does not,0
Batch Jobs step execution count is always 0 The batch jobs step execution count is retrieved from orgspringframeworkbatchadminwebJobExecutionInfo in batch job repository But the JobExecutionInfo always have the stepExecutionCount set to 0,0
As a s-c-d developer Id like to enhance integration test coverage for YARN SPI so I can continuously evaluate functionalities via CI pipeline,5
HdfsTest in Acceptance test fails sporadically uses trigger as a source HdfsTest uses the following stream to test the hdfs sink trigger --payloadfoobar hdfs In the test failure the test reported that no file was created on the hdfs Im wondering if the trigger fired before the hdfs was fully deployed I would say that we set the phase to the maximum but the problem is that by default it is MAXINT Thoughts,0
Disable the JMX setting in SingleNodeMainIntegrationTeststestConfiguration Set the enableJmx to false because contexts are not getting destroyed properly and in some cases prevents testSystemPropertiesOverridesDefault from running successfully,0
Unable to destroy stream when using http source When destroying a stream that contains an http source an exception is thrown Thus even though the stream is destroyed all resources are not released ie port 9000 is still in use NettyHttpInboundChannelAdapter is currently setup with childtcpNoDelay set to true And when running on my system and on EC2 the http needs more time to release the port My recommendation is to set bootstrapsetOptionchildtcpNoDelay false instead of true,0
Exception thrown when running undeploy and redeploy a stream tests Environment Running on local Mac Instance XD Deployment Type XD-SingleNode SHA 66c28e3 While running a test that deployed and undeployed a stream over 500 times the following exception is thrown orgapachezookeeperKeeperExceptionNotEmptyException KeeperErrorCode Directory not empty for xddeploymentsmodules54ef010f-3d5d-4f86-a50f-44453e48633dstreamfoosourcehttp-0 Steps to reproduce Created the following Job and Stream using xd-shell stream create streamfoo --definition http --port9000 hdfs --directoryxdstreamfoo --fileNamestreamfoo job create foo --definition hdfsjdbc --resourcesxdstreamfootxt --namesdata --tableNamestreamfoo --initializeDatabasetrue --deploy Repeated the following 500 times using xd-shell --cmdfile Ran a script that would deploy streamfoo Ran a script that would execute the following 25 times http post --data hello world0 Ran a script to undeploy streamfoo Ran a script that would launch the job Artifacts The logfile of the singlenode is attached,0
Document the log sink,0
Investigate failing tests in CI Failure example httpsbuildspringiobrowseXD-MASTER-2152,0
Refactor ModuleFactory to remove direct spark dependency on XD dirt Currently the ModuleFactory needs to know about SparkStreamingDriverModule to create the spark streaming module It is for this reason the spring-xd-module has direct dependency on spark streaming We need to refactor this code so that there is no direct dependency on spark streaming for spring-xd-module and subsequently spring-xd-dirt,0
Update architecture diagram to show rabbit in addition to redis to communicate between admin and containers Figure 1 here httpsgithubcomSpringSourcespring-xdwikiArchitecture should also show Rabbit as an option since otherwise people will think we are tied to redis,0
As a user Id like to have a generator source module so that I can create a number of messages of a specified size similar to Rabbits PerfTest utility Example generator --numMsgs 10000 --msgSize 1024 --numThreads 1,8
Retrieve information for a Counter,0
The performance of the pipe in singlenode Do as a developer in the case of large data from the source to the sink will after multiple processors I found that even if the processor does not do anything message from the source to the sink of performance with the number of processors the message forwarding performance will decrease very much For example spring xd run in singlenode After the tcp-client connects the socket service receive very many text a line of text messages stream definition tcp-client t1transform t2transform t3transform t4transform null Message passing rate 20000 per second Transform didnt do anything stream definition tcp-clientnull Message passing rate 170000 per second Message is a line of text my business requires me to a second processing 300000 pieces of dataAbout 100 MBs in a machine Tell me how to solve the performance bottleneck Can stream only have source and sink to get high performance,0
Fix cross-talk among the shell integration tests It looks like the singlenode application used by each of the shell integration test class is shared by other test classes as well This causes some issues that are common to these tests We need to avoid such scenarios,0
Update to Spring Shell 11 RC1,0
Switch to use Jedis driver for Redis The Spring Data team recommends using the Jedis driver since the Lettuce driver hasnt had any update activity for several months Jedis is actively maintained We might also want to investigate Redisson which is a fork of Lettuce - httpsgithubcommrnikoredisson,0
Low story pointtime improvements or bug fixes that can easily be picked up in a sprint in an ad-hoc manner,0
Refactor deployment interfacesclass hierarchy continued Refactoring of the ResourceDeployer to split apart the concepts of repository and deployment For reference see XD-2835 XD-2671 XD-2877 and XD-3070,0
Add aggregate counter query by number of points It should be possible to supply a start or end date or none for the present plus a count value for the number of points required ie after or prior to the given time,0
Rename ChannelRegistry My current thinking is ChannelRegistry - MessageBus RabbitChannelRegistry - RabbitMessageBus Then method names change like so createInbound - registerConsumer createOutbound - registerProducer,0
Create REST API for stopping a specific job Functionality adopted from spring batch admin Should include springmvc test framework style tests DELETE batchjobsexecutionsexecutionId Stop a specific job,0
As a QA Id like to include acceptance test coverage for hdfs-dataset sink module so that I can validate the functionality as part of every CI build,3
PermGen errors after running for a long time Leaving the runtime running eg as singlenode ends up in permgen errors,0
As a developer Id like to upgrade Spring XDs ambari plugin to 13 release,3
XD 110M2 Wont Run on Windows See httpstackoverflowcomquestions27725905spring-xd-1-1-0-m2-fails-to-start With XDHOME set with back-whacks it fails on U with XDHOME set with whacks it fails with xd The StackOverflow failure is similar 103 works fine noformat set XDHOMECUsersgprDocumentsspring-xd-110M2-distspring-xd-110M2xd Caused by javautilregexPatternSyntaxException Illegalunsupported escape sequence near index 5 CUsersgprDocumentsspring-xd-110M2-distspring-xd-110M2xdlibmessagebus set XDHOMECUsersgprDocumentsspring-xd-110M2-distspring-xd-110M2xd Caused by javautilregexPatternSyntaxException Illegalunsupported escape sequence near index 71 CUsersgprDocumentsspring-xd-110M2-distspring-xd-110M2xdlibmessagebus noformat,0
Create a abstract base class for rest controllers,0
Remove json parameter from twittersearch source json parameter is no longer required Use --outputTypeapplicationjson instead,0
Improve JMX checks for processors taking into account error channels,0
Module context PropertyPlaceholderAutoConfiguration should have allowNulls true The current configuration prevents modules to have default values that evaluate to null The workaround is to either - have the module have its own PPC which allows nulls - rid the placeholders with foo,0
Leverage gradle plugin for providedoptional deps see httpsgithubcomspring-projectsgradle-pluginsblobmasterpropdeps-pluginREADMEmd This would allow us to reduce the distribution size further maybe,0
Using HDFS for custom module home doesnt work with Kerberized Hadoop cluster I tried setting the xdcustomModulehome property to point to a Kerberized Hadoop cluster with all usual security config settings provided It failed with the following exception code orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name moduleRegistry defined in class path resource META-INFspring-xdinternalrepositoriesxml Cannot create inner bean orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean19f459aa of type orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean while setting constructor argument with key 1 nested exception is orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean19f459aa defined in class path resource META-INFspring-xdinternalrepositoriesxml Invocation of init method failed nested exception is orgapachehadoopsecurityAccessControlException SIMPLE authentication is not enabled AvailableTOKEN KERBEROS orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveInnerBeanBeanDefinitionValueResolverjava313 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava122 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveManagedListBeanDefinitionValueResolverjava382 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava157 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportConstructorResolverresolveConstructorArgumentsConstructorResolverjava648 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava140 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryautowireConstructorAbstractAutowireCapableBeanFactoryjava1139 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanInstanceAbstractAutowireCapableBeanFactoryjava1042 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava504 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava476 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava303 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava230 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava299 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava194 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava755 spring-beans-416RELEASEjar416RELEASE orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava757 spring-context-416RELEASEjar416RELEASE orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava480 spring-context-416RELEASEjar416RELEASE orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava686 spring-boot-123RELEASEjar123RELEASE orgspringframeworkbootSpringApplicationrunSpringApplicationjava320 spring-boot-123RELEASEjar123RELEASE orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 spring-boot-123RELEASEjar123RELEASE orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava129 spring-boot-123RELEASEjar123RELEASE orgspringframeworkxddirtserveradminAdminServerApplicationrunAdminServerApplicationjava95 spring-xd-dirt-120BUILD-SNAPSHOTjar120BUILD-SNAPSHOT orgspringframeworkxddirtserveradminAdminServerApplicationmainAdminServerApplicationjava79 spring-xd-dirt-120BUILD-SNAPSHOTjar120BUILD-SNAPSHOT Caused by orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean19f459aa defined in class path resource META-INFspring-xdinternalrepositoriesxml Invocation of init method failed nested exception is orgapachehadoopsecurityAccessControlException SIMPLE authentication is not enabled AvailableTOKEN KERBEROS orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1574 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava539 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava476 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveInnerBeanBeanDefinitionValueResolverjava299 spring-beans-416RELEASEjar416RELEASE 22 common frames omitted Caused by orgapachehadoopsecurityAccessControlException SIMPLE authentication is not enabled AvailableTOKEN KERBEROS sunreflectNativeConstructorAccessorImplnewInstance0Native Method na17067 sunreflectNativeConstructorAccessorImplnewInstanceNativeConstructorAccessorImpljava57 na17067 sunreflectDelegatingConstructorAccessorImplnewInstanceDelegatingConstructorAccessorImpljava45 na17067 javalangreflectConstructornewInstanceConstructorjava526 na17067 orgapachehadoopipcRemoteExceptioninstantiateExceptionRemoteExceptionjava106 hadoop-common-260jarna orgapachehadoopipcRemoteExceptionunwrapRemoteExceptionRemoteExceptionjava73 hadoop-common-260jarna orgapachehadoophdfsDFSClientprimitiveMkdirDFSClientjava2755 hadoop-hdfs-260jarna orgapachehadoophdfsDFSClientmkdirsDFSClientjava2724 hadoop-hdfs-260jarna orgapachehadoophdfsDistributedFileSystem17doCallDistributedFileSystemjava870 hadoop-hdfs-260jarna orgapachehadoophdfsDistributedFileSystem17doCallDistributedFileSystemjava866 hadoop-hdfs-260jarna orgapachehadoopfsFileSystemLinkResolverresolveFileSystemLinkResolverjava81 hadoop-common-260jarna orgapachehadoophdfsDistributedFileSystemmkdirsInternalDistributedFileSystemjava866 hadoop-hdfs-260jarna orgapachehadoophdfsDistributedFileSystemmkdirsDistributedFileSystemjava859 hadoop-hdfs-260jarna orgapachehadoopfsFileSystemmkdirsFileSystemjava1817 hadoop-common-260jarna orgspringframeworkxddirtmoduleExtendedResourceHdfsExtendedResourcemkdirsExtendedResourcejava127 spring-xd-dirt-120BUILD-SNAPSHOTjar120BUILD-SNAPSHOT orgspringframeworkxddirtmoduleWritableResourceModuleRegistryafterPropertiesSetWritableResourceModuleRegistryjava123 spring-xd-dirt-120BUILD-SNAPSHOTjar120BUILD-SNAPSHOT orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBeanafterPropertiesSetCustomModuleRegistryFactoryBeanjava79 spring-xd-dirt-120BUILD-SNAPSHOTjar120BUILD-SNAPSHOT orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinvokeInitMethodsAbstractAutowireCapableBeanFactoryjava1633 spring-beans-416RELEASEjar416RELEASE orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1570 spring-beans-416RELEASEjar416RELEASE 25 common frames omitted Caused by orgapachehadoopipcRemoteException SIMPLE authentication is not enabled AvailableTOKEN KERBEROS orgapachehadoopipcClientcallClientjava1468 hadoop-common-260jarna orgapachehadoopipcClientcallClientjava1399 hadoop-common-260jarna orgapachehadoopipcProtobufRpcEngineInvokerinvokeProtobufRpcEnginejava232 hadoop-common-260jarna comsunproxyProxy79mkdirsUnknown Source nana orgapachehadoophdfsprotocolPBClientNamenodeProtocolTranslatorPBmkdirsClientNamenodeProtocolTranslatorPBjava539 hadoop-hdfs-260jarna sunreflectNativeMethodAccessorImplinvoke0Native Method na17067 sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 na17067 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 na17067 javalangreflectMethodinvokeMethodjava606 na17067 orgapachehadoopioretryRetryInvocationHandlerinvokeMethodRetryInvocationHandlerjava187 hadoop-common-260jarna orgapachehadoopioretryRetryInvocationHandlerinvokeRetryInvocationHandlerjava102 hadoop-common-260jarna comsunproxyProxy80mkdirsUnknown Source nana orgapachehadoophdfsDFSClientprimitiveMkdirDFSClientjava2753 hadoop-hdfs-260jarna 37 common frames omitted 2015-06-10T144920-0400 120SNAP ERROR main bootSpringApplication - Application startup failed code,0
Create an shell to control all aspect of streamjob management,0
Accessing xd-admin URLs in the browser return XML and not JSON Here is an example the following request for streams httpec2-23-20-25-30compute-1amazonawscom9393streams Returns This XML file does not appear to have any style information associated with it The document tree is shown below errors xmlnsatomhttpwwww3org2005Atom error logrefHttpMessageNotWritableException message Could not marshal PagedResource content links httpec2-23-20-25-30compute-1amazonawscom9393streamsticktockrelself metadata Metadata number 0 total pages 1 total elements 1 size 20 links null nested exception is javaxxmlbindMarshalException - with linked exception comsunistackSAXException2 unable to marshal type orgspringframeworkxdrestclientdomainStreamDefinitionResource as an element because it is not known to this context message error errors,0
Ability to tap spark streaming processor output We need to support adding a tap stream that connects to spark streaming processor modules output channel,0
Update docs for separate control and data transport,0
As a user Id like to upgrade to Spring Boot 123 release do I can leverage the latest improvements and bug fixes We should also sync-up the following dependency updates to synchronize with Boothttpsgithubcomspring-projectsspring-bootblobmasterspring-boot-dependenciespomxml code logbackversion113logbackversion jacksonversion251jacksonversion gemfireversion800gemfireversion h2version14185h2version javax-mailversion153javax-mailversion undertowversion123Finalundertowversion joda-timeversion27joda-timeversion nekohtmlversion1921nekohtmlversion activemqversion5111activemqversion antlr2version277antlr2version commons-dbcp2version201commons-dbcp2version tomcatversion8021tomcatversion aspectjversion185aspectjversion groovyversion243groovyversion crashubversion131crashubversion jettyversion929v20150224jettyversion elasticsearchversion144elasticsearchversion flywayversion321flywayversion freemarkerversion2322freemarkerversion jdom2version206jdom2version liquibaseversion332liquibaseversion mockitoversion11019mockitoversion mongodbversion2130mongodbversion slf4jversion1711slf4jversion spring-cloud-connectorsversion111RELEASEspring-cloud-connectorsversion spring-securityversion401RELEASEspring-securityversion jedisversion262jedisversion spring-wsversion221RELEASEspring-wsversion code,1
Add SSL and attachments to mail sink Add SSL and attachments to Mail sink module see XD-2076 XD-2498,0
Close HDFS file when Batch job ends The File to HDFS batch job will not close the file being written to in HDFS when the job completes The ItemWriter for HDFS needs to incorporate functionality that is present in the standard FlatFileWriter perhaps inheriting from AbstractItemStreamItemWriter,0
Job creation fails saying it exists there isnt any job with that jobName Running Spring-XD in singlenode using Pivotal HD 21 as the Hadoop Distribution xd-singlenode --hadoopDistro phd21 I was testing jdbchdfs job definitions I am seeing this error that the job exists when in reality there is no job with that jobName xdjob create testEmployeeJobAgain1 --definition jdbchdfs --sqlselect employeeid employeename employer from EMPLOYEE --urljdbcoraclethinlocalhost1521orcl --driverClassNameoraclejdbcOracleDriver --usernamespringxd --passwordxdpwd --testOnBorrowfalse --directoryusrswatest1 Command failed orgspringframeworkxdrestclientimplSpringXDException Batch Job with the name testEmployeeJobAgain1 already exists xdjob list Job Name Job Definition Status -------- -------------- ------,0
Move ftp support from x package to spring-xd-dirt batch package Commit httpsgithubcomspring-projectsspring-xdcommit761cd5e8250c055878caf3a789ab5b3254ba48e8 introduced support for FTP and added a bunch of x classes These should not belong to DIRT proper though and should be added to an extension style project The jobs module would then depend on them,0
Create XD zip distribution for YARN Create XD zip distribution for YARN that adds an additional sub-project to the spring-xd repo for building the xd-YARNzip Link into main build file Produce a new artifact spring-xd-v-xyz-yarnzip as part of the nightly CI process -- will now have 2 artifacts main xdzip distribution and xd-yarnzip Does not include any Hadoop distribution libraries Does include spring-hadoop jars for Apache22 unflavored,0
As a user Id like to have the option to define access control list ACLs so that I can define access controls to the resource by each user and what the privileges are for that resource Spike Scope Review customer use cases and come up with design specs Identify the best approach that fits XD runtime Identify scope for DSL and UI Document next steps and phases,8
Better error messages following XD-1109 2 forces at heand here Spring bindingvalidation itself jsr303 for eg NotNull,0
Gemfire modules should support connection via locator The gemfire modules currently accept server host and port Provide an option to specify a locator host and port,0
Fix text-table rendering,0
http post in CLI gives IllegalArgumentException In xd-shell the command code http post code gives the following output code Command failed javalangIllegalArgumentException One of file or data must be set code I believe the UI should suppress the exception just removing javalangIllegalArgumentException would suffice,0
Add CompositeModuleRegistry,0
Enable profile selection from module options This came up when working on email source There is int-mailimap-idle-channel-adapter and int-mailinbound-channel-adapter It would be nice to be able to put those in two profiles and have one of the profile being activated from module options eg email --pollingtruefalse Dont know the runtime cost of activating profiles but we could blindly activate profiles from all options passed explicitly beans profileprofile-optionname-optionvalue Not sure if this is the same as XD-132,0
User wants ability to cancel a running task from SCD CLI User should be able to execute a task cancel task name Which will terminate a running task And set the state of the task to cancelled,0
partition jobs jdbchdfs are running in sequence The jdbchdfs jobs that are partitioned are running in sequence rather than in parallel Our expectation with partition jobs is that they run in parallel Job configuration is jdbchdfs --driverClassNameoraclejdbcOracleDriver --urljdbcoraclethin --username --password --validationQuerySELECT CURRENTTIMESTAMP FROM DUAL --tableNameHZORGANIZATIONPROFILES --columnsORGANIZATIONPROFILEID VERSIONNUMBER --partitions10 --partitionColumnORGANIZATIONPROFILEID --directoryingestsourceoracle11iarhzorganizationprofiles --fileNamehzorganizationprofiles --fileExtensioncsv --delimiter --commitInterval10000 --rollover262144000 --dateFormatyyyy-mmm-dd --partitionResultsTimeout1800000 --testOnBorrowfalse,0
Create a CI Acceptance Tests build for XD Yarn deployment,0
As a user Id like to have the option to configure default access control for endpoints so that I can grant access by Admin or Viewer roles,8
Add better support for using control file with gpfdist Currently only database connection info can be read from a control file yml format Should add rest of the missing options to align how native format works,0
Improvements to Modules Tab 1 Get listing of job modules 2 Remove version and action column 3 Text to say creating definitions from available modules in the UI is forthcoming link to httpsgithubcomspring-projectsspring-xdwikiBatch-Jobscreating-a-job for how to do this in the command line 4 Hardcode an association between spring xd out of the box module names and a description 5 Add button to display the XML file that defines the job module,0
Add deployundeploydestroy all commands for all applicable resources streams tap job trigger,0
Standardize Spring Cloud Data configuration User can configure spring cloud data via via Spring Cloud Config data-adminyml or Spring Cloud Connector Add bootstrapyml to spring cloud data create a default data-adminyml and configure spring data to look for this vs applicationyml Spring Cloud Data will have Spring Cloud Config enabled by default User has the ability to disable it via the bootstrapyml,0
Create Acceptance tests for Container Groups Create infrastructure to retrieve container data Create infrastructure to retrieve Stream data and the associated container Create tests that verify default behavior without group Create tests that verify behavior with sink belonging to specific group Create tests that verify behavior with processor belonging to specific group Also generate tests for the scenarios above where the count 1,0
As a developer Id like to remove Hadoop dependencies from root classpath so we dont have to incur the penalty of classloading unnecessary libraries at the startup time The goal is to at least try and decouple for situations when HDFS is not used for module registry,8
Merge AbstractStreamDeploymentIntegrationTests and AbstractSingleNodeStreamDeploymentIntegrationTests We do not need two base classes for this,0
Update document for the distributed runtime based on RC1 changes This should be included on the wiki providing a thorough overview of how the distributed runtime works under-the-hood including details of the various ZooKeeper nodes and associated watchers etc For example it should describe the role of any Admin as a provider of the REST API as well as the specific roles allocated to the single leader Admin It should describe Module recovery after Container failure as well as some description of various failure scenarios crashed JVM network partition etc and how the recovery should be expected to occur eg in some cases it will be nearly immediate and in other cases it will be after a timed out connection Intentional Container shutdown should be included in that discussion as well At many points this doc could link back to items that we also need to add to the main User Guide such as the description of ContainerMatcher as the strategy for an Admin to determine which Containers should deploy a given Module since that ContainerMatcher is used not only for the initial deployment but also any redeployment that may be necessary,0
Spike for matching algorithm for streamjob deployments and nodes Base matching algorithm on the model used in httpresearchcswisceduhtcondor JobsStream - specify their requirements and preferences Nodes - specify their requirements and preferences eg A jobstream module requires a linux x85-64 platform and prefers the machine with the most free memory A node requires that only only can run jobs when there is 25 or more free memory and it prefers to run stream modules over job modules The requirements and preferences are represented as SpEL expressions in a Advertisement data structure There is a require expression and a preference expression Matching occurs between Node Ads and JobStream Ads so that the requirements of both Ads evaluate to true and the matching nodes are ranked according to the preference expression The JobStreams Ads can make use of well defined attributes about the nodes such as its memorycpu usage,0
Update Creating a Processor Module section to use Shell commands instead of curl test the deployed module sub-section uses curl,0
EC2 Integration Tests fail after Boot 12 upgrade Many of the tests fail with code javalangIllegalStateException Cannot find template location class path resource templates please add some templates check your Groovy configuration or set springgroovytemplatecheck-template-locationfalse code Somehow we need to disable this check using the property suggested,0
StreamDeployer to implement ResourceDeployer StreamController to not access the repository instance directly all access to go through StreamDeployer,0
Remove use of application plugin for redis project Currently redis project uses application plugin to bundle distribution This also includes java plugin which causes java specific build behavior on this project We should try removing the use of application plugin and use something similar or custom tasks that does the bundling,0
Upgrade Spring Data Redis to 11 RC1,0
Add stream state tests Test to verify stream state is correct after startingstopping containers,0
As a user I need to use XD Sqoop module to support the merge command Currently the SqoopRunner createFinalArguments method forces the requirement for connect username and password options which are not valid for the merge option A check of the module type to not force these options being assigned to sqoop arg list would be preferred,5
Create links to SpringXD on other pages of springsourceorg site bottom home page - list of projects dataintegration category landing pages - related projects,0
ParentLastURLClassLoader should set itself as context ClassLoader I am converting a Spring XD Sample Batch notifications from copying jars to old way code XDHOMElib code To rather copy the module jar to new preferred way code XDHOMEmodulesjobpayment-importlib code By doing so I hit a classloader issue Custom classes and resources are loaded in Spring XD using orgspringframeworkxdmodulesupportParentLastURLClassLoader However the sample is initializing custom bean definitions and one of those creates a new DataSource using the EmbeddedDatabaseBuilder This class however under the hood uses the Default class loader to load SQL scripts code public DefaultResourceLoader thisclassLoader ClassUtilsgetDefaultClassLoader code Therefore the SQL scripts are NOT FOUND Possible Solution A possible solution seems to be for ParentLastURLClassLoader to set itself as the context ClassLoader for the current thread code public ParentLastURLClassLoaderURL classpath ClassLoader parent ThreadcurrentThreadsetContextClassLoaderthis code,0
As a Spring XD on CF user Id like to use cloudController implementation of Admin SPI every time I deploy Spring XD modules so I can leverage the SPI to query for module status and health metrics Possible APIs code ModuleStatus getStatusModuleDescriptor descriptor CollectionModuleDescriptor listModules MapModuleDescriptorKey ModuleStatus code,8
job launch doesnt do tab completion of --name In the shell job launch doesnt do completion of --name this is different behavior compared to job destroy typing job destroy and hitting tab completes with --name typing job launch and hitting tab does nothing,0
Make Runtime modules listing by ContainerId pageable The RuntimeContainersController from PR340 returns the list of runtime modules Instead we need make it pageable,0
Documentation that points on how to install hadoop Pointers to other documentation on how to install hadoop,0
Investigate Redis connection timeout issues when running performance test With the performance test run the numbers messages sentreceived per second keep varying as there are redis client connection timeout exceptions Caused by orgjbossnettychannelConnectTimeoutException connection timed out at both redis inboundoutbound channel adapters as I increase the total number of messages being processed max 10Ksecond Some of the exception messages for the review 1 With connection pool at Redis outbound Caused by orgspringframeworkdataredisconnectionPoolException Could not get a resource from the pool nested exception is comlambdaworksredisRedisException Unable to connect at orgspringframeworkdataredisconnectionlettuceDefaultLettucePoolgetResourceDefaultLettucePooljava95 at orgspringframeworkdataredisconnectionlettuceDefaultLettucePoolgetResourceDefaultLettucePooljava36 at orgspringframeworkdataredisconnectionlettuceLettuceConnectionFactorycreateLettuceConnectorLettuceConnectionFactoryjava318 at orgspringframeworkdataredisconnectionlettuceLettuceConnectionFactorygetConnectionLettuceConnectionFactoryjava109 at orgspringframeworkdatarediscoreRedisConnectionUtilsdoGetConnectionRedisConnectionUtilsjava81 at orgspringframeworkdatarediscoreRedisConnectionUtilsgetConnectionRedisConnectionUtilsjava53 at orgspringframeworkdatarediscoreRedisTemplateexecuteRedisTemplatejava157 at orgspringframeworkdatarediscoreRedisTemplateexecuteRedisTemplatejava137 at orgspringframeworkdatarediscoreAbstractOperationsexecuteAbstractOperationsjava84 at orgspringframeworkdatarediscoreDefaultListOperationsleftPushDefaultListOperationsjava71 at orgspringframeworkdatarediscoreDefaultBoundListOperationsleftPushDefaultBoundListOperationsjava67 at orgspringframeworkxdperftestredisoutboundRedisQOutboundChannelAdapterhandleMessageInternalRedisQOutboundChannelAdapterjava71 at orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 17 more Caused by comlambdaworksredisRedisException Unable to connect at comlambdaworksredisRedisClientconnectRedisClientjava176 at comlambdaworksredisRedisClientconnectAsyncRedisClientjava139 at orgspringframeworkdataredisconnectionlettuceDefaultLettucePoolLettuceFactorymakeObjectDefaultLettucePooljava252 at orgapachecommonspoolimplGenericObjectPoolborrowObjectGenericObjectPooljava1181 at orgspringframeworkdataredisconnectionlettuceDefaultLettucePoolgetResourceDefaultLettucePooljava93 29 more Caused by orgjbossnettychannelConnectTimeoutException connection timed out localhost1270016379 at orgjbossnettychannelsocketnioNioClientBossprocessConnectTimeoutNioClientBossjava137 at orgjbossnettychannelsocketnioNioClientBossprocessNioClientBossjava83 at orgjbossnettychannelsocketnioAbstractNioSelectorrunAbstractNioSelectorjava312 at orgjbossnettychannelsocketnioNioClientBossrunNioClientBossjava42 2 Without connection pool at Redis inbound Caused by comlambdaworksredisRedisException Unable to connect at comlambdaworksredisRedisClientconnectRedisClientjava176 at comlambdaworksredisRedisClientconnectAsyncRedisClientjava139 at orgspringframeworkdataredisconnectionlettuceLettuceConnectionFactorycreateLettuceConnectorLettuceConnectionFactoryjava321 12 more Caused by orgjbossnettychannelConnectTimeoutException connection timed out localhost1270016379 at orgjbossnettychannelsocketnioNioClientBossprocessConnectTimeoutNioClientBossjava137 at orgjbossnettychannelsocketnioNioClientBossprocessNioClientBossjava83 at orgjbossnettychannelsocketnioAbstractNioSelectorrunAbstractNioSelectorjava312 at orgjbossnettychannelsocketnioNioClientBossrunNioClientBossjava42 3 more,0
Getting stuck on hive error In Hadoop while creating Table in hive i am getting stuck in below error 150421 123534 INFO logPerfLogger PERFLOG methodDriverrun fromorgapachehadoophiveqlDriver 150421 123534 INFO logPerfLogger PERFLOG methodTimeToSubmit fromorgapachehadoophiveqlDriver 150421 123534 INFO logPerfLogger PERFLOG methodacquireReadWriteLocks fromorgapachehadoophiveqlDriver 150421 123534 INFO lockmgrDummyTxnManager Creating lock manager of type orgapachehadoophiveqllockmgrzookeeperZooKeeperHiveLockManager 150421 123534 INFO zookeeperZooKeeper Initiating client connection connectStringdkhc3013dcsgcom2181dkhc3010dcsgcom2181dkhc3011dcsgcom2181 sessionTimeout600000 watcherorgapachehadoophiveqllockmgrzookeeperZooKeeperHiveLockManagerDummyWatcher5b9e1cd4 150421 123534 DEBUG lockmgrDummyTxnManager Adding incomingmktgcdbetlmasteraccountpref to list of lock inputs 150421 123534 DEBUG lockmgrDummyTxnManager Adding databasemktincoming to list of lock outputs After restart the zookeeper service i am able to successfully run the query But after some time again facing the same issueerror I am stuck on the same error is there any solution to overcome this issue or any tuning i can do for resolve this issue Please suggest on this,0
Stream definition completion REST layer Shell adapter Provide the infrastructure for HTTP GET completionsstarthttp file --d that would return a list of possible completions in this case returning the file option names that start with d This story is about and only about - Having that REST controller delegating to some CompletionsEngine - Implementing the Spring Shell Converter that talks to that Its an empty shell useless but easy to do without the actual CompletionsEngine,0
As a minimum we need some common polling strategy on the client side to detect status changes of job streams etc Eg during deployment of streamsjobs Ideally I would like to have this addressed on the server-side as well It would be nice if we could propagate events between containers and admin-server that would inform about any changes in the system We could then use those to notify connected UI clients,3
Create java client lib over REST API So that clients eg Shell or custom user program are insulated from REST details ala Cloud Foundry May go even further if we want a Java DSL for stream definitions that may reuse Batch command POJOs btw Difference between xdClientcreateStreammystream http --port9000 file and import static stuff StreamDef stream httpport9000pipefile xdClientcreateStreammystream stream,0
As a developer Id like to add undeployed status for k8s SPI so I can represent the correct status instead of the current unknown state,1
Stream Plugin cleanup public StreamPlugin postProcessContextPath CHANNELREGISTRY Subclasses should not directly update superclass fields,0
Spring XD - Handling sink failures If a sink fails for whatever reason will it be possible to handle it Say by sending the payload to an error queue for later processing when a JDBC or Mongo sink fails due to a database connectivity loss Or the modules are designed by certain principles contracts not to be meant to handle such failures,0
As a developer Id like to use Ambari plugin so that I can provision manage and monitor Spring XD cluster using the same tool I use for Hadoop clusters,5
Allow re-use of a module classloader See report at httpsgithubcomspring-projectsspring-xdissues661 It would be good indeed to allow this eg by having a WeakHashMapClassloader typename map in the global context The caveat though is that any statics used by the module would be shared too We can make this an opt-out though I think that sharing by default makes sense by having a flag in the module properties manifest,0
Support external defaults for PojoModuleOptions The current behavior when there are global external defaults to module options is to set them in the placeholder construct foothedefault where thedefault is sourced from some properties file The downside is that the module options infrastructure is unaware of them Provide support for such defaults at least when using PojoModuleOptions in the form of Annotate a field or the setter with Valuethedefault maybe Annotate the pojo with PropertySource to indicate the location of the properties file maybe come up with a general naming scheme for the properties file,0
Richer module options metadata Module options are currently implemented using PropertySourcesPlaceholderConfigurer doing simple text replacements This story proposes to introduce a richer model for module options which could take the following xml representation keeping in mind that there would be an underlying set of classes that could also apply to eg Configuration approach codexml xdparams xdparam nameport helpthe http port to listen on xdparams code So the very first obvious benefit is providing help metadata The second one is an easy way to list available option names without resorting to brittle PropertySourcesPlaceholderConfigurer hacks we wouldnt for example detect xdstreamname or XDTRANSPORT as a valid option One could also specify defaultscomputations this time benefiting from SpEL everywhere codexml xdparams xdparam namedirectory defaultheadersdirectory xdparams code Lastly this opens the door to better type checking combinations optionality support codexml xdparams validfixedDelay cron xdparam namefixedDelay typeint xdparam namecron typestring xdparams code The valid attribute can eg be evaluated by SpEL Some final remarks - That construct can be compatible with our current approach by behaving as a PropertySource itself instead of creating a PropertySource the StreamPlugin would give this new bean the javautilProperties - Plugins could benefit from a hook in that construct and advertise the fact that they expectprovide new options eg --inputType There is a slight problem though which is that if this construct lives in the same AppContext as the module definition itself then the AppContext needs to be refreshed for the logic to kick in One could circumvent that using profiles or we could rely on a different filename convention eg module-paramsxml,0
Clean up publishing to maven repositories of empty module projects See the various modulexyz directories here httpsrepospringiolibs-snapshotorgspringframeworkxd,0
As a Spring XD developer Id like to port SFTP module from XD to s-c-s repo so I can use it as source modules to build streaming pipeline,5
Support deploying to multiple containers in EC2 acceptance tests need the ability to support the --group option,0
Handle SingleNodeServers stop method cleanly SingleNode server needs to stop cleanly with stopping both the admin server container server Also all the tests that require SingleNode main server needs to handle the server shutdown appropriately,0
Upgrade to Spring Shell 11 GA,0
Update settings file and reformat existing codebase Please put in suggestions for the current settings file Maybe one suggestion is to not format on save,0
As a user Id like to define security definitions so that I can configure entity REST API specific grouprole access policies,8
Add counter delete shell command Add counter delete shell command This also requires implementation of DELETE rest end point at CountersController,0
Windows CI FTP based tests fail Currently Windows EC2 master JDK8 test is failing Ive attempted to replicate on my EC2 environment The best bet is to try and reproduce using the AMI and machine size that CI uses We need to check with Trevor to get this info The error is noformat javalangAssertionError javalangAssertionError javalangAssertionError orgjunitAssertfailAssertjava86 orgjunitAssertassertTrueAssertjava41 orgjunitAssertassertTrueAssertjava52 orgspringframeworkxdshellcommandStreamCommandTemplateverifyExistsStreamCommandTemplatejava162 orgspringframeworkxdshellcommandStreamCommandTemplatedoCreateStreamCommandTemplatejava99 orgspringframeworkxdshellcommandStreamCommandTemplatecreateStreamCommandTemplatejava65 orgspringframeworkxdshellcommandFtpModulesTeststestRefOptionEqualsFalseFtpModulesTestsjava70 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 orgjunitrunnersmodelFrameworkMethod1runReflectiveCallFrameworkMethodjava50 orgjunitinternalrunnersmodelReflectiveCallablerunReflectiveCallablejava12 orgjunitrunnersmodelFrameworkMethodinvokeExplosivelyFrameworkMethodjava47 orgjunitinternalrunnersstatementsInvokeMethodevaluateInvokeMethodjava17 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgjunitrulesTestWatcher1evaluateTestWatcherjava55 orgjunitrulesRunRulesevaluateRunRulesjava20 orgjunitrunnersParentRunnerrunLeafParentRunnerjava325 orgjunitrunnersBlockJUnit4ClassRunnerrunChildBlockJUnit4ClassRunnerjava78 orgjunitrunnersBlockJUnit4ClassRunnerrunChildBlockJUnit4ClassRunnerjava57 orgjunitrunnersParentRunner3runParentRunnerjava290 orgjunitrunnersParentRunner1scheduleParentRunnerjava71 orgjunitrunnersParentRunnerrunChildrenParentRunnerjava288 orgjunitrunnersParentRunneraccess000ParentRunnerjava58 orgjunitrunnersParentRunner2evaluateParentRunnerjava268 orgjunitinternalrunnersstatementsRunBeforesevaluateRunBeforesjava26 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgspringframeworkxdtestAbstractExternalResourceTestSupport1evaluateAbstractExternalResourceTestSupportjava71 orgjunitrulesRunRulesevaluateRunRulesjava20 orgjunitrunnersParentRunnerrunParentRunnerjava363 orgjunitrunnersSuiterunChildSuitejava128 orgjunitrunnersSuiterunChildSuitejava27 orgjunitrunnersParentRunner3runParentRunnerjava290 orgjunitrunnersParentRunner1scheduleParentRunnerjava71 orgjunitrunnersParentRunnerrunChildrenParentRunnerjava288 orgjunitrunnersParentRunneraccess000ParentRunnerjava58 orgjunitrunnersParentRunner2evaluateParentRunnerjava268 orgjunitinternalrunnersstatementsRunBeforesevaluateRunBeforesjava26 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgspringframeworkxdtestAbstractExternalResourceTestSupport1evaluateAbstractExternalResourceTestSupportjava71 orgjunitrulesRunRulesevaluateRunRulesjava20 orgjunitrunnersParentRunnerrunParentRunnerjava363 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterrunTestClassJUnitTestClassExecuterjava86 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterexecuteJUnitTestClassExecuterjava49 orggradleapiinternaltaskstestingjunitJUnitTestClassProcessorprocessTestClassJUnitTestClassProcessorjava69 orggradleapiinternaltaskstestingSuiteTestClassProcessorprocessTestClassSuiteTestClassProcessorjava48 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingdispatchContextClassLoaderDispatchdispatchContextClassLoaderDispatchjava32 orggradlemessagingdispatchProxyDispatchAdapterDispatchingInvocationHandlerinvokeProxyDispatchAdapterjava93 comsunproxyProxy2processTestClassUnknown Source orggradleapiinternaltaskstestingworkerTestWorkerprocessTestClassTestWorkerjava105 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingremoteinternalhubMessageHubHandlerrunMessageHubjava360 orggradleinternalconcurrentDefaultExecutorFactoryStoppableExecutorImpl1runDefaultExecutorFactoryjava64 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava745 noformat,0
SCS - VerifyFix AbstractKryoMultitypeCodec implementation This apparently is not tested or used internally but I expect it to fail having tried a similar approach to derive the class of a generic type in a different situation This method does not always work due to type erasure httpstackoverflowcomquestions3403909get-generic-type-of-class-at-runtime We need to verify if this is working if not fix it The API may require it so possibly UnsupportedOperationException code Infers the type from this classs generic type argument param kryo param input return protected T doDeserializeKryo kryo Input input ClassT type ClassT ParameterizedType thisgetClassgetGenericSuperclassgetActualTypeArguments0 return doDeserializekryo input type code,0
As a user Id like to have the option to change the default Sqoop metastore so I can implement a DB of my choice and not tied to default specifications Refer to this threadhttpstackoverflowcomquestions24078668how-to-change-sqoop-metastore for more details,1
Doc generation accesses httpdocbooksourceforgenet When generating docs the build tries to access httpdocbooksourceforgenetreleaseimagesdraftpng You will observe output like code Error with opening URL httpdocbooksourceforgenetreleaseimagesdraftpng docbooksourceforgenet Background image not available httpdocbooksourceforgenetreleaseimagesdraftpng Background image not available httpdocbooksourceforgenetreleaseimagesdraftpng Background image not available httpdocbooksourceforgenetreleaseimagesdraftpng Background image not available httpdocbooksourceforgenetreleaseimagesdraftpng Background image not available httpdocbooksourceforgenetreleaseimagesdraftpng Background image not available httpdocbooksourceforgenetreleaseimagesdraftpng code,0
Provide configurable properties for hdfs sink The config file modulessinkhdfsxml has a hardcoded value to locate the namenode hdpconfiguration register-url-handlerfalse fsdefaultnamehdfslocalhost9000 hdpconfiguration the fsdefaultname proprety should be configurable and we should also support loading an external configuration file using hdpconfiguration properties-locationxdhomeconfighadoopproperties hdpconfiguration,0
Job failed to deploy Sporadic Commit 433d18f03fd7f3bf7d9aeee80ab292f9c92af5a4 Transport Rabbit 1 Admin 2 Containers Admin Log is attached Exception is at line 52 During Acceptance Tests for testJobCreateDuplicateWithDeployFalse failed with the following error reported from the admin noformat orgspringframeworkxdrestclientimplSpringXDExceptionKeeperErrorCode NoNode for xdjobsjobFalseDeploy orgjunitrunnersmodelMultipleFailureExceptionassertEmptyMultipleFailureExceptionjava67 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava39 orgspringframeworktestcontextjunit4statementsRunAfterTestMethodCallbacksevaluateRunAfterTestMethodCallbacksjava82 orgjunitrulesExpectedExceptionExpectedExceptionStatementevaluateExpectedExceptionjava239 orgjunitrulesRunRulesevaluateRunRulesjava20 orgspringframeworktestcontextjunit4statementsSpringRepeatevaluateSpringRepeatjava73 orgjunitrunnersParentRunnerrunLeafParentRunnerjava325 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunChildSpringJUnit4ClassRunnerjava217 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunChildSpringJUnit4ClassRunnerjava83 orgjunitrunnersParentRunner3runParentRunnerjava290 orgjunitrunnersParentRunner1scheduleParentRunnerjava71 orgjunitrunnersParentRunnerrunChildrenParentRunnerjava288 orgjunitrunnersParentRunneraccess000ParentRunnerjava58 orgjunitrunnersParentRunner2evaluateParentRunnerjava268 orgspringframeworktestcontextjunit4statementsRunBeforeTestClassCallbacksevaluateRunBeforeTestClassCallbacksjava61 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgspringframeworktestcontextjunit4statementsRunAfterTestClassCallbacksevaluateRunAfterTestClassCallbacksjava68 orgjunitrunnersParentRunnerrunParentRunnerjava363 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunSpringJUnit4ClassRunnerjava163 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterrunTestClassJUnitTestClassExecuterjava86 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterexecuteJUnitTestClassExecuterjava49 orggradleapiinternaltaskstestingjunitJUnitTestClassProcessorprocessTestClassJUnitTestClassProcessorjava69 orggradleapiinternaltaskstestingSuiteTestClassProcessorprocessTestClassSuiteTestClassProcessorjava48 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingdispatchContextClassLoaderDispatchdispatchContextClassLoaderDispatchjava32 orggradlemessagingdispatchProxyDispatchAdapterDispatchingInvocationHandlerinvokeProxyDispatchAdapterjava93 comsunproxyProxy2processTestClassUnknown Source orggradleapiinternaltaskstestingworkerTestWorkerprocessTestClassTestWorkerjava105 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingremoteinternalhubMessageHubHandlerrunMessageHubjava355 orggradleinternalconcurrentDefaultExecutorFactoryStoppableExecutorImpl1runDefaultExecutorFactoryjava64 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 noformat,0
As a s-c-s developer Id like to move spring-cloud-stream-modules from s-c-s to s-c repo so I can cleanup s-c-s project and at the same time make these modules visible outside of s-c-s,3
skipping header amqpdeliveryMode since it is not of expected type class orgspringframeworkamqpcoreMessageDeliveryMode it is class orgspringframeworkamqpcoreMessageDeliveryMode when use rabbit as source always have the warn message skipping header amqpdeliveryMode since it is not of expected type class orgspringframeworkamqpcoreMessageDeliveryMode it is class orgspringframeworkamqpcoreMessageDeliveryMode similar issure is httpsjiraspringiobrowseXD-2567 but i have no use rabbit sink,0
Spring Batch Behavior change from M2 to M3 In M3 the batch job behavior has changed In M2 it was much easier to create an invoke a batch job In M3 a trigger is required Figuring that change out isnt a big deal but the behavior of this batch job in M3 throws a stack trace yet it executes In M2 this same batch job runs fine with no stack trace Logs are attached I cant see a difference in the container log property files from M2 to M3 Turning the log settings down will suppress the traces but I was not expecting the traces since they did not show up in M2 Stream Definitions job create --name pdfLoadBatchJob --definition batch-pdfload --inputPathLOCALPDFPATH --hdfsPathREMOTEHDFSPATH stream create --name pdfloadtrigger --definition trigger jobpdfLoadBatchJob,0
Handling tap operations on a tap that has reference to a deleted stream When trying to undeploydestroy a tap that has reference to an already deleted stream fails with the following exception Command failed orgspringframeworkxdrestclientimplSpringXDException XD116Epos 4 unrecognized stream reference streamname at the tap defintion As expected the StreamConfigParsers lookupStream fails to find the stream name as the stream doesnt exist in the repository In this scenario what is a better way to handle the tap operations Should we undeploy the tap when the stream is destroyed though I dont see an easy way to find the taps that use a specific stream,0
Spike for job that exports HDFS CSV data to JDBC,0
Create a throughput-sampler module for benchmarking A module that could be used in a stream definition such as reactor --bind tcp00003000lengthcodecbytes do-stuff throughput-sampler where throughput-sampler could start measurements once a key START is found in a Message and stop when the key STOP is found in a Message listing the number of msgssec etc,0
No pagination for Jobs Deployments page in Admin UI After successfully deploying 12 jobs the Jobs Deployments page still shows only 10 results It looks like httplocalhost9393jobsconfigurationsjsonpage0size10 always returns contentpagetotalPages of 1 regardless of the size parameter,0
Add PropertyAccessor for JSON fields in SpEL code filter --expressionpayloadmyfieldstartsWithfoo code Example using index code filter --expressionpayload2startsWithfoo code This should support nested keys as well code filter --expressionpayloadmyfieldsubfieldstartsWithfoo code This is related to httpsjiraspringsourceorgbrowseXD-676 and that in turn depends on SI being able to configure SpEL,0
Shell processor cannot recover from an Exception see httpstackoverflowcomquestions29822845custom-python-module-can-not-re-excute-when-raise-exception-in-module,0
Create separate commands for --all shell commands Commands like stream deploy have changed over time to allow passing a --all option So its either stream deploy foo or stream deploy --all This has a number of drawbacks given that these are the only 2 alternatives - Implementation code is cumbersome - None of the options can be marked mandatory yet one of them is required This has to be checked in the command code itself - TAB completion is less powerful as the shell doesnt know if we want the first or the second form Consider splitting those commands into two distinct commands one as before and one literally named stream deploy all,0
Spring flo issue with unexpected char In Flo when creating a stream if you use asterisk you get an error See the image attached,0
As a user Id like to use SFTP source module so I can create streaming pipeline with it However I cannot see SFTP as OOTB module listed on module list and as well as the module bits are not available in maven repohttprepospringiolibs-snapshotorgspringframeworkcloudstreammodule,1
FileJdbc Acceptance Test,0
As a Spring XD developer Id like to port FTPSFTP modules from XD to s-c-s repo so I can use them as source modules to build streaming pipeline,2
KafkaMessageBusTeststestCompression failing Intermittent Reported on ubuntu and OSx,0
Documentation for rabbit source httpstaticspringsourceorgspring-xddocs100BUILD-SNAPSHOTreferencehtmlsources should have rabbit added to the list and also the corresponding section that shows some basic usage,0
Create proper test coverage for Controllers Create proper test coverage for Controllers,0
Refactor Spark and Sqoop tasklets to use SystemCommandTasklet The Sqoop tasklet introduced an AbstractProcessBuilderTasklet implementation in XD-2430 We are now adding similar support to Batch SystemCommandTasklet in BATCH-2329 BATCH-2330 and BATCH-2331 We should refactor Sqoop and Spark tasklets to use the SystemCommandTasklet as base,0
Release 10 GA,0
XD scripts lib path needs to be dynamic We currently have the manually created XD scripts This makes it difficult to maintain as the lib path is error prone with the changes We need to make sure that the properties such as lib path etc are dynamically updated,0
Create REST API for getting information on a given step execution Functionality adopted from spring batch admin Should include springmvc test framework style tests GET batchjobsexecutionsexecutionIdstepsstepId - Get information on a given step execution,0
As a QA Id like to include acceptance test coverage for http-client processor module so that I can validate the functionality as part of every CI build,3
MQTT source module does not cleanly undeploy Was attempting to test mqtt turns out I dont have the proper rabbitmq thing installed So far so good I get these kinds of exceptions noformat Unable to connect to server 32103 - javanetConnectException Connection refused orgeclipsepahoclientmqttv3internalTCPNetworkModulestartTCPNetworkModulejava75 orgeclipsepahoclientmqttv3internalClientCommsConnectBGrunClientCommsjava521 javalangThreadrunThreadjava724 Caused by javanetConnectException Connection refused javanetPlainSocketImplsocketConnectNative Method javanetAbstractPlainSocketImpldoConnectAbstractPlainSocketImpljava339 javanetAbstractPlainSocketImplconnectToAddressAbstractPlainSocketImpljava200 javanetAbstractPlainSocketImplconnectAbstractPlainSocketImpljava182 javanetSocksSocketImplconnectSocksSocketImpljava392 javanetSocketconnectSocketjava579 orgeclipsepahoclientmqttv3internalTCPNetworkModulestartTCPNetworkModulejava66 2 more noformat Problem is I still get them after undeploying my mqtt log stream,0
As a developer Id like to split admin artifact packaged with hadoop distro specific libraries so I could avoid adding all variations of hadoop libraries under one project,5
Add Warning-level log to postProcessAfterInitialization if Job name is not job Should it be fatal vs warning,0
Easily switch between a single process that performs all admin and processing tasks to one that has a dedicated admin processes and distributed processing containers,0
As a user Id like to have an option to have the hdfs sink not use a temporary inUseSuffix like tmp Instead we should write using the filename specified directly This could be useful if we use Syncable writes and the sink fails while the file is open Without this new option the user would have to explicitly rename the file,5
Create a shell command to post data to an http port for use with the http source module the current streams chapter httpstaticspringsourceorgspring-xddocs100M1referencehtmlstreams shows using curl to post some data to a http source module curl -d hello httplocalhost9000 create a shell command so curl doesnt have to be used httpsgithubcomSpringSourcerest-shell has a command already developed for this,0
Add aggregate counter monthly resolution query support,0
Add support for Hortonworks Data Platform 20 apologies if a ticket already exists for this but I didnt see one I spun up the Hortonworks Data Platform 20 sandbox but see it isnt supported by Spring XD yet How hard would it be to add these Distros in Is it just a matter of dropping in a lib folder for hadoop22 andor hdp20 and allowing those and options to be passed in via the --hadoopDistro option Im currently trying to work through the following tutorial but using the HDP 20 sandbox instead of the 13 sandbox httphortonworkscomhadoop-tutorialusing-spring-xd-to-stream-tweets-to-hadoop-for-sentiment-analysis Thanks,0
Acceptance Tests needs to wait for JobDefinitionResources to be populated After the Introduction to XD-2861 the acquisition of JobResources takes more time We have to introduce a pause to wait for getJobDefinitionResource to be populated,0
Make module files classpath aware Currently living at the root of the project those files dont benefit from IDE SI awareness Make it so that they belong to a java project which sees the correct version of the SI jars used Has impact on the buildgradle file,0
UI - Do not hard-code server url Specify the default URL as code urlRoot locationprotocollocationhostnamelocationport locationport code,0
Mail Source ModuleOptions profiles,0
Stream definitions should not be saved when auto-deploy results in an error This relates to XD-871 which provides a good scenario stream create s1 --definition http log --deploy stream create s2 --definition http log --deploy The second command results in an error message that the port is in use but the stream definition is still saved Since create deploy is a logical unit of work it should follow transactional semantics In other words if the deploy fails the repository should be rolled back or a compensating destroy should be performed Note this should not be handled the same way if create and deploy happen separately In that case the stream definition should remain,0
Create TCP source module Based off SI tcp inbound adapter This will allow for event forwarding that can select among the existing SI serializeddeserializer options,0
Upgrade to 311 of the Gradle Artifactory Plugin This addresses The plugin issue httpswwwjfrogcomjirabrowseGAP-172 to disable spring-xdpomxml,0
The user needs the ability to pause and resume triggers based on a calendar,0
Create documentation for how module properties are resolved The ordering of the lookup should be described in particular detail on how environment variables can overrride properties Some details will necessarily change based on outcome of current discussion but the overall ordering is going to remain,0
Create REST API for stopping all job executions Adopted functionality from spring batch admin Should include SpringMVC test framework style tests DELETE batchjobsexecutions - stop all job executions,0
Create XD script for xd-single node This script will launch XD admin along with the module container As part of this implementation we will also remove the embedded options for XD admin container scripts,0
Add to Acceptance Test EC2 CI build plan a stage that uses XD distributed mode with rabbit See httpsquickstartatlassiancomdownloadbambooget-startedbamboo-elements Stages are comprised of one or more Jobs which run in parallel we would like the tests across the rabbit and redis transport to occur in parallel,0
Create a rabbit sink module and documentation httpsgithubcomspringsourcespring-xdwikiSinks should have rabbit added to the list and also the corresponding section that shows some basic usage,0
Integration tests for XD Installer,0
Update XD on YARN docs The XD on YARN section of the docs needs to be updated with the xd-yarn admininfo command for detecting the ports used by admin servers,0
Remove job options that are handled at module level from shell Since makeUnique dateFormat and numberFormat now have their own module options now they are nicely advertised as options to a job and will benefit from code completion soon so they can be removed from the shell where they currently allow for a misconfiguration if set at both the job and shell level,0
As a developer Id like to publish performance benchmarks along with the infrastructure specifics so the users can use it as a reference while setting up Spring XD cluster,8
Use Boot plugin and IO Platform for versions where possible,0
Add yarnresourcemanagerscheduleraddress to mapreduce samples The MapReduce samples should have yarnresourcemanagerscheduleraddress since it might be needed in a multi node production cluster,0
SSL Support For RabbitMQ Bus and Modules,0
Move --deleteFiles out of ResourcesIntoJdbcJobModuleOptionsMetadata Currently the fileDeletion listeners are added to filepollhdfs and filejdbc OOTB job modules so that the files are deleted after successful completion of jobs that write the file into hdfsjdbc We have --deleteFiles option in ResourcesIntoJdbcJobModuleOptionsMetadata from httpsgithubcomspring-projectsspring-xdpull562 which makes it available for hdfsjdbc job module as well But it is not supported yet as it involves deletion of HDFS files We need the file deletion listeners for the hdfsjdbc and hdfsmongodb job modules so that if opted to delete files it can be supported,0
Metrics - measure based alerts We would like to experiment with metrics a Java library to extract insights of production code This will help understand the behavior of critical components to eventually orchestrate workflows to proactively monitor and notify important contactsgroups as needed Website - httpmetricscodahalecom GitHub - httpsgithubcomdropwizardmetrics,0
Enhance TaskLauncher h2 Narrative As Spring XD I will be able to launch Spring Boot jar files as Diego Tasks h2 Back story The TaskLauncher will be responsible for listening for launch requests looking up the definition in the TaskDescriptorRepository and launching it The first implementation of this would be a Receptor based implementation See httpsdocsgooglecomdocumentd1q964adRCA-kJkei0GBToJHLXJJTV7TaTpQT0ymsbcedit,0
The user needs the ability to set up a misfire policy for a Trigger 2 options are 1 Fire the trigger immediate - Launch the job when trigger can gather the resources necessary start the job 2 Do nothing - Ignore this job fire time and catch this scenario can occur if XD is down or resources threads are not available at the time a job is to be launched,0
As a s-c-s-m developer Id like to move jdbc module from XD to s-c-s repo so I can use it as sink to build streaming pipeline See also XD-2250,5
SingleNode Logging for AMQP Listener Container is too Narrow ERROR See httpsgopivotal-comsocialcastcommessages24095632 However it was set to ERROR last year to reduce log noise I would prefer to elevate to at least WARN in XD and address the noise issue in Spring AMQP,0
As a user Id like to parameterize Merge Options so I can incrementally consume the delta with the help of megastore,5
Add support for BSON This has been encountered in a POC Could take the form of a processor bson - json or better yet if possible be added at the automatic type conversion level,0
Create scripts for batch DB creation We need to create a shell script that calls the batch DB creation sql files for the JDBC option selected,0
As a user I need to have the ability to create docker images via CI build so that I can build all the componentsconfigurations I need into a Docker image test it and deploy the image to various environments,8
As a s-c-s user Id like to use kinesis module so I can use it as sink module to build streaming pipeline,2
Rabbit Sink Acceptance Tests,0
As a user Id like to have the option to specify system properties that will be passed in to the Sqoop job which runs in its own Java process This is needed for defining memory usage and also for defining some options for various connector implementations,5
Documentation for jms source httpstaticspringsourceorgspring-xddocs100BUILD-SNAPSHOTreferencehtmlsources should have jms added to the list and also the corresponding section that shows some basic usage,0
SI ServiceActivator for an XD Metrics backed Field Value Counter A Spring Integration based ServiceActivator that counts the occurrence of field names from either a tuple data structure or a POJO using the Spring XD metrics support,0
Spring XD processor module classloader issue ClassNotFoundException See httpstackoverflowcomquestions32525290spring-xd-processor-module-classloader-issue-classnotfoundexception,0
As a user Id like to have the option of Cassandra sink so I can leverage the NoSQL database to write high volumes of variable data segments in high velocity,3
Expose a getter for a module unique id inside a stream definition Following merge of httpsgithubcomspring-projectsspring-xdpull601 expose a unique id under which a module is known inside a stream That id which defaults to the module name is what should be used as the qualifier for an option name inside a composed module ie noformat module compose foo --definition f1 filter filter f1expression and filterexpression are available noformat,0
Create shell command for restarting a specific job instance,0
As a developer Id like to create a java clienthttpsgithubcommarkfisherreceptor-client for Receptor so I can interact with Diego runtime via Receptor API calls from XD,8
XD Shell crashes when the stream DSL has The XD shell crashes when the following command issued stream create test --definition http filter --expressionpayloadcontainstest log It looks like the JLine ConsoleReaders expandEvents is set to true by default and this causes the issue Exception in thread Spring Shell javalangIllegalArgumentException payloadcontainstest log event not found jlineconsoleConsoleReaderexpandEventsConsoleReaderjava734 jlineconsoleConsoleReaderfinishBufferConsoleReaderjava604 jlineconsoleConsoleReaderacceptConsoleReaderjava1912 jlineconsoleConsoleReaderreadLineConsoleReaderjava2537 jlineconsoleConsoleReaderreadLineConsoleReaderjava2162 jlineconsoleConsoleReaderreadLineConsoleReaderjava2150 orgspringframeworkshellcoreJLineShellpromptLoopJLineShelljava517 orgspringframeworkshellcoreJLineShellrunJLineShelljava178 javalangThreadrunThreadjava722,0
Use a Different Default Jolokia Port for Admin Vs Container Avoid the need for --jmxPortxxxx when running both a Container and Admin on the same server,0
Spark streaming module includes logback jar when using dist zip When running spark streaming module on spark standalone cluster from XD distribution I see the following error Stage 3 1 1 22015-06-02T100553-0700 120SNAP WARN task-result-getter-3 schedulerTaskSetManager - Lost task 00 in stage 30 TID 50 19216828 javalangIllegalArgumentException LoggerFactory is not a Logback LoggerContext but Logback is on the classpath Either remove Logback or the competing implementation class orgslf4jimplLog4jLoggerFactory loaded from fileUsersigopinathaworkspacegitilayaperumalgsparkassemblytargetscala-210spark-assembly-121-hadoop220jar If you are using Weblogic you will need to add orgslf4j to prefer-application-packages in WEB-INFweblogicxml Object of class orgslf4jimplLog4jLoggerFactory must be an instance of class chqoslogbackclassicLoggerContext at orgspringframeworkutilAssertisInstanceOfAssertjava339 at orgspringframeworkbootlogginglogbackLogbackLoggingSystemgetLoggerContextLogbackLoggingSystemjava151 at orgspringframeworkbootlogginglogbackLogbackLoggingSystemgetLoggerLogbackLoggingSystemjava143 at orgspringframeworkbootlogginglogbackLogbackLoggingSystembeforeInitializeLogbackLoggingSystemjava89 at orgspringframeworkbootloggingLoggingApplicationListeneronApplicationStartedEventLoggingApplicationListenerjava152 at orgspringframeworkbootloggingLoggingApplicationListeneronApplicationEventLoggingApplicationListenerjava139 at orgspringframeworkcontexteventSimpleApplicationEventMulticasterinvokeListenerSimpleApplicationEventMulticasterjava151 at orgspringframeworkcontexteventSimpleApplicationEventMulticastermulticastEventSimpleApplicationEventMulticasterjava128 at orgspringframeworkbootcontexteventEventPublishingRunListenerpublishEventEventPublishingRunListenerjava100 at orgspringframeworkbootcontexteventEventPublishingRunListenerstartedEventPublishingRunListenerjava54 at orgspringframeworkbootSpringApplicationrunSpringApplicationjava277 at orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 at orgspringframeworkxddirtpluginssparkstreamingMessageBusConfigurationcreateApplicationContextMessageBusConfigurationjava82 at orgspringframeworkxddirtpluginssparkstreamingMessageBusSenderstartMessageBusSenderjava105 at orgspringframeworkxdsparkstreamingjavaModuleExecutor11callModuleExecutorjava58 at orgspringframeworkxdsparkstreamingjavaModuleExecutor11callModuleExecutorjava53,0
Update PostgreSQL JDBC Driver Version Update the supplied PostgreSQL JDBC Driver to the latest version 93-1102 - 2014-07-10 the current supplied version is from 2012 In our particular use case the latest driver allows use of the JDBC connectionunwrap feature which gives access to the underlying connection from a pooled connection which in turn enables use of the postgres copyManagercopyIn functionality which can speed up batch inserts in a batch process See httpjdbcpostgresqlorgdocumentationchangeloghtml,0
XD Yarn deployment requires the ability to set permsize When deploying XD using Java 7 the user must be able to set the permsize to a value larger than the default The reason this is required is that if we deploy a gemfire component more than 2 times or a kafka source sink more than 2 times stream deployment begins to fail The only exception that was captured was the following noformat Exception in thread ec2Test3ip-10-146-213-31-1421176704238-e1786039watcherexecutor Exception javalangOutOfMemoryError thrown from the UncaughtExceptionHandler in thread ec2Test3ip-10-146-213-31-1421176704238-e1786039watcherexecutor noformat Logs are not available at this time,0
HdfsTest picks up data from a previous run If a stream foo has messages in its queue when it is destroyed and another stream named foo is created of similar structure those messages will be delivered to sink This is seen when twitterstream runs prior to hdfssink test The twitters stream data is written to hdfs instead of the trigger data that was intended The solution is to give hdfstest its own unique name instead of the default ec2test3 name,0
As a QA Id like to include acceptance test coverage for bridge processor module so that I can validate the functionality as part of every CI build,3
As a user Id like to have the option to store the custom module uber-jar in HDFS so that I can rely on the HA feature to reliably read and reinstall under failure scenarios,3
Refactor out Trigger docs from the Batch Job chapter,0
Review DSL updated story points to 14 since 5 of us just participated in a 2 hour call and we still need to discuss topology support after some dev spikes later this week,0
Run JavaScript tests Jasmine as part of the build process We probably need to look into some options to run our JavaScript tests Jasmine as part of the build process - some possibilities Jasmine Gradle Plugin httpsgithubcomdzhaughnrothjasmine-gradle-plugin Saga - httptimurstrekalovgithubiosaga Looks like Maven has slightly better support httpsearlsgithubiojasmine-maven-pluginindexhtml See also XD-865,0
As a s-c-s developer Id like to enable offline mode for AetherModuleResolver so I can pull the module artifacts from local instead of remote maven repo,3
Kryo Redis Serializer The current XD uses an inadequate MessageRedisSerializer when extractPayload is false not currently being used When porting this to SI the serializer will be dropped Suggest creation of Kryo serializer for Messages for when Redis sourcesinks are created,0
Add way to provide module config options for XD on YARN There seems to be some intersection with the work for this issue and the rationalization of how module properties are handled There will be changes to configurationproperty management support such that each module source sink etc will be able to also be overridden in spring-xdyml or wherever -Dspringconfiglocation points to The HDFS sink module for example will have default values based on its OptionsMetadata and will be of the form typemoduleoption That means in the configuration for hdfsxml sink there would be a config section such as codexml configuration fsdefaultnamesinkhdfshdfs mapredjobtrackersinkhdfshdjt yarnresourcemanageraddresssinkhdfshdrm mapreduceframeworknamesinkhdfsmrfw configuration code With default values defined by a HdfsSinkOptionsMetadata class The hdfsxml module file would not contain any references to a properties file A file specified by -Dspringconfiglocation could override the values in a config section such as sink hdfs hdfs hdfsfoobarhost8020 hdjt 101231231239000 etc,0
Add functionality to provision EC2 instance and mount EBS The Application should Create a Spring Application Context Should take a command line parameter --config that will point to a property file with keyvalue pairs specified below By default the file xd-ec2properties will be looked for on the classpath Associate EBS shared volume for each machine instance Packaging Use gradle application plugin to generate a bin directory with a script to start the application Seehttpwwwgradleorgdocscurrentuserguideapplicationpluginhtml The config file xd-ec2properties should be in a directory ideally a config directory parallel to bin and will be loaded by the application by default - loading via the CP is probably the easiest way Create a POJO to easily reference these properties vs using a raw java Properties object How to verify it works Integration testing Create JUnit based tests JClouds itself has extensive testing can look at those for structure Verify what you created has been installed Verify ports are open Instance Information EBS of 50GB Base for each instance Report successful and failed Instances Key-Value pairs in configuration file properties may include cluster-name a name describing the cluster you are creating aws-access-keys the access key assigned to you by admin aws-secret-key the secret key assigned to you by admin private-key-file the private key file assigned to you by admin Used for ssh-ing into multi-nodetruefalse if true then installer will run the number of nodes as enumerated in the number-nodes property value if false the installer will start a single node server number-nodesThe number of nodescontainers to deploy for this cluster Value is an integer 0 machine-sizeThe size of machines to be assigned for admin and nodes small medium large redis-port6379 rabbit-port5279 xd-dist-urlThe url to download the XD to install for example httpblahblahblahzip ami The ami image to use for your cluster for example ami-dfadsfdadf,0
As a Spring XD developer Id like to move null module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,2
Avro sink for HDFS We need a sink that can write data in Avro serialized format This story is for investigating what we would need to do to support that The Spring Integration Kafka adapter provides Avro support for Kafka,0
Spring XD Admin UI does not show all the streams From Spring XD Shell running this command stream list we counted 30 streams however Spring XD Admin UI shows only 20 When destroying some streams from Admin UI the others that was not in the list start appearing We have not reviewed if there is a configuration parameter that tells how many streams to show in the Admin UI,0
Improve the enforcement of meta-properties being set in buildgradle Last Sync Errors Invalid POM orgspringframeworkxdspring-xd-module-parent111RELEASEspring-xd-module-parent-111RELEASEpom Developer information missing Invalid POM orgspringframeworkxdspring-xd-module-plugin111RELEASEspring-xd-module-plugin-111RELEASEpom Project name missing Project description missing Project URL missing License information missing SCM URL missing Developer information missing Missing no javadoc jar found in folder orgspringframeworkxdspring-xd-module-plugin111RELEASE Missing no sources jar found in folder orgspringframeworkxdspring-xd-module-plugin111RELEASE Dropping existing partial staging repository,0
XD scripts need to have spring-integration milestone versions updated Spring-integration version is changed to 300M2 and since we manually create the XD scripts they still point to the 300BUILD-SNAPSHOT version As discussed we also need to have a better strategy on updating the lib directory inside the XD scripts,0
Update management context path to rootmanagement,0
XD requires long duration tests In order to identify potential problems that may occur if XD is running for multiple hours we need to create a long duration test regime Create an environment from which we can run both Singlenode and a simple cluster 1 Admin 2 container for 24 hours Create 2 simple streams httpfile filelog Send data to http source 2 times a second for 24 hours This test should execute checkprocs every 5 minutes to capture and record the status of the XD Record memory usage and system load,0
Create shell integration tests for trigger lifeycle creating triggers deleting triggers,0
Incorrect port in resource manager address overwrite the resource manager address overwrite is setting the port to 8032 the value cannot be set in serversyml this occurs when pushing the config to hdfs and also when attempting to start the admin server on yarn ConfigurationFactoryBean - Overwriting rmAddress00008032 with rmAddresshost8032 root spring-xd-101RELEASE-yarn binxd-yarn start admin Spring Boot v117RELEASE 2014-10-13 165028710 INFO ConfiguringBeanFactoryPostProcessor - No bean named taskScheduler has been explicitly defined Therefore a default ThreadPoolTaskScheduler will be created 2014-10-13 165028724 INFO ConfiguringBeanFactoryPostProcessor - No bean named taskExecutor has been explicitly defined Therefore a default SyncTaskExecutor will be created 2014-10-13 165030311 INFO SpringYarnConfiguration - Enabling CLIENT for Yarn 2014-10-13 165030335 INFO SpringYarnConfiguration - We couldnt figure out if we could use existing configuration 2014-10-13 165030335 INFO SpringYarnConfiguration - Building configuration for bean yarnConfiguration 2014-10-13 165030383 INFO SpringYarnConfigBuilder - Existing yarnConfiguration null 2014-10-13 165030658 INFO ConfigurationFactoryBean - Overwriting fsUrihdfshost8020 with fsUrihdfshost8020 2014-10-13 165030659 INFO ConfigurationFactoryBean - Overwriting rmAddress00008032 with rmAddresshost8032,0
Display a Gauge,0
Deployment validation when processing the deployment message Currently the deployment message is being validated before pushed the ZK distributed queue for deployment When the message is consumed there is no validation done Since the consumer consumes the messages asynchronously we need validation at both sides,0
Schedule button shows up but does not perform any task I know that the feature is not ready but we either should post a message to the user that the feature is not available or hide the button,0
NPE in ContainerRedeploymentTests Running the distributed tests -Drundistributedteststrue against d109a3a and got the following noformat javalangNullPointerException orgspringframeworkxddirtmodulestoreZooKeeperModuleMetadataRepositoryupdateDeploymentStatusZooKeeperModuleMetadataRepositoryjava209 orgspringframeworkxddirtmodulestoreZooKeeperModuleMetadataRepositoryfindAllByContainerIdZooKeeperModuleMetadataRepositoryjava313 orgspringframeworkxddirtcontainerstoreZooKeeperContainerRepositoryfindAllRuntimeContainersZooKeeperContainerRepositoryjava339 orgspringframeworkxddirtrestContainersControllerlistContainersControllerjava97 sunreflectGeneratedMethodAccessor100invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeInvocableHandlerMethodjava215 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava132 orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava104 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava749 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava689 orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava83 orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava938 orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava870 orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava961 orgspringframeworkwebservletFrameworkServletdoGetFrameworkServletjava852 javaxservlethttpHttpServletserviceHttpServletjava620 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava837 javaxservlethttpHttpServletserviceHttpServletjava727 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava noformat,0
Add filepollhdfs Acceptance Tests,0
Creating a tap with same name as existing streams results in infinite loop See httpstackoverflowcomquestions17157068counter-analytics-in-springxd The underlying issue is stream creation with a name already taken though,0
As a user Id like to use the Mail sink to connect to secured IMAP andor SMTP mail servers Currently the sink doesnt support TLS Mail sink config file requires a utilproperties bean with ssltls properties provided to the adapter via the java-mail-properties attribute Ref Examplehttpdocsspringiospring-integrationdocslatest-gareferencehtmlmailhtml codexml utilproperties idjavaMailProperties prop keymailimapsocketFactoryclassjavaxnetsslSSLSocketFactoryprop prop keymailimapsocketFactoryfallbackfalseprop prop keymailstoreprotocolimapsprop prop keymaildebugfalseprop utilproperties code List of all java-mail propertieshttpsjavamailjavanetnonavdocsapicomsunmailsmtppackage-summaryhtml,1
Documentation for counter taps Put on the guide as a section in an input-stream wiki page,0
eliminate package tangle see httpssonarspringsourceorgdrilldownmeasures7173metricpackagetangleindexrids5B5D7717,0
syslog-tcp throws exception when receiving syslog data XD Deployment DescriptionXD Cluster 1 Container EnvironmentEC2 Type Of TestManual test via shell Test Failed Onsyslog-tcp only test that was run Build UsedBuilt May 7 1029 UTC Setting up the Environment Used the wiki instructions to setup the syslog on the ec2 instance Deploy the stream below stream create mystream --definition syslog-tcp file --binarytrue --modeREPLACE --deploy On the EC2 Instance execute the line below logger -p local3info -t TESTING Test Syslog Message What occurred Stream fails to process inbound syslog information and throws the exception below Exception in thread inboundmystream0-redisqueue-inbound-channel-adapter17 orgspringframeworkmessagingcoreDestinationResolutionException failed to look up MessageChannel with name errorChannel in the BeanFactory and there is no HeaderChannelRegistry present orgspringframeworkintegrationsupportchannelBeanFactoryChannelResolverresolveDestinationBeanFactoryChannelResolverjava108 orgspringframeworkintegrationsupportchannelBeanFactoryChannelResolverresolveDestinationBeanFactoryChannelResolverjava44 orgspringframeworkintegrationchannelMessagePublishingErrorHandlerresolveErrorChannelMessagePublishingErrorHandlerjava111 orgspringframeworkintegrationchannelMessagePublishingErrorHandlerhandleErrorMessagePublishingErrorHandlerjava78 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava55 javalangThreadrunThreadjava724 Caused by orgspringframeworkbeansfactoryNoSuchBeanDefinitionException No bean named errorChannel is defined orgspringframeworkbeansfactorysupportDefaultListableBeanFactorygetBeanDefinitionDefaultListableBeanFactoryjava641 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetMergedLocalBeanDefinitionAbstractBeanFactoryjava1159 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava282 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava200 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava273 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava200 orgspringframeworkintegrationsupportchannelBeanFactoryChannelResolverresolveDestinationBeanFactoryChannelResolverjava99 5 more,0
Spring Batch Admin UI looks to localhost when getting status updates Currently when you bring up a admin-ui on a browser that is not on the XD admin server the page reports an error This is because the javascript is looking to localhost to get its updates,0
Fix Compiler Warnings As of M3 code javadoc warning - Error fetching URL httpstaticspringsourceorgspring-shelldocscurrentapipackage-list UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtmoduleCompositeModuleRegistryjava40 warning - param argument cp is not a parameter name UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtmoduleCompositeModuleRegistryjava40 warning - param argument file is not a parameter name UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginsjobJobFactoryBeanjava62 warning - Tag link cant find jobName in orgspringframeworkxddirtpluginsjobJobFactoryBean UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtrestXDControllerjava56 warning - param argument V is not a type parameter name UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtrestXDControllerjava56 warning - param argument T is not a type parameter name UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginsjobbatchBatchJobAlreadyExistsExceptionjava32 warning - param argument message is not a parameter name UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginsjobbatchBatchJobLocatorjava32 warning - DistributedJobService is an unknown tag UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginsjobbatchBatchJobLocatorjava32 warning - DistributedJobService is an unknown tag UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginsjobbatchNoSuchBatchJobExceptionjava31 warning - param argument message is not a parameter name UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserveroptionsContainerOptionsjava30 warning - param argument defaultTransport is not a parameter name UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserveroptionsContainerOptionsjava30 warning - param argument defaultAnalytics is not a parameter name UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserveroptionsOptionUtilsjava35 warning - return tag has no arguments UsersgprDocumentsworkspace-sispring-xdspring-xd-modulesrcmainjavaorgspringframeworkxdmodulePluginjava32 warning - Tag see reference not found ModuleDeployer UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxbusMessageBusjava53 warning - param argument moduleInputChannel is not a parameter name UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxbusMessageBusjava72 warning - param argument moduleOutputChannel is not a parameter name UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxbusMessageBusjava102 warning - param argument moduleOutputChannel is not a parameter name UsersgprDocumentsworkspace-sispring-xdspring-xd-reactorsrcmainjavaorgspringframeworkxdintegrationreactorconfigReactorNamespaceUtilsjava46 warning - return tag has no arguments UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginsjobbatchBatchJobLocatorjava32 warning - DistributedJobService is an unknown tag UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginsjobbatchBatchJobLocatorjava32 warning - DistributedJobService is an unknown tag code and code warning options bootstrap class path not set in conjunction with -source 16 UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxbusLocalMessageBusjava132 warning rawtypes found raw type LocalMessageBusSharedChannelProvider SharedChannelProvider channelProvider aliasHint queueChannelProvider missing type arguments for generic class LocalMessageBusSharedChannelProviderT where T is a type-variable T extends AbstractMessageChannel declared in class LocalMessageBusSharedChannelProvider UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxbusLocalMessageBusjava159 warning rawtypes found raw type LocalMessageBusSharedChannelProvider SharedChannelProvider channelProvider aliasHint queueChannelProvider missing type arguments for generic class LocalMessageBusSharedChannelProviderT where T is a type-variable T extends AbstractMessageChannel declared in class LocalMessageBusSharedChannelProvider UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxtwitterXDEntitiesjava93 warning rawtypes found raw type List public List getUrls missing type arguments for generic class ListE where E is a type-variable E extends Object declared in interface List UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxtwitterXDEntitiesjava101 warning rawtypes found raw type List public List getHashTags missing type arguments for generic class ListE where E is a type-variable E extends Object declared in interface List UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxtwitterXDEntitiesjava109 warning rawtypes found raw type List public List getMentions missing type arguments for generic class ListE where E is a type-variable E extends Object declared in interface List UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxtwitterXDEntitiesjava117 warning rawtypes found raw type List public List getMedia missing type arguments for generic class ListE where E is a type-variable E extends Object declared in interface List UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxtwitterXDEntitiesjava126 warning rawtypes found raw type List public List getTickerSymbols missing type arguments for generic class ListE where E is a type-variable E extends Object declared in interface List UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxtwitterXDEntitiesjava37 warning serial serializable class XDEntities has no definition of serialVersionUID public class XDEntities implements Serializable UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxtwitterXDUrlEntityjava31 warning serial serializable class XDUrlEntity has no definition of serialVersionUID public class XDUrlEntity implements Serializable UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxtwitterXDHashTagEntityjava32 warning serial serializable class XDHashTagEntity has no definition of serialVersionUID public class XDHashTagEntity implements Serializable UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxtwitterXDMentionEntityjava32 warning serial serializable class XDMentionEntity has no definition of serialVersionUID public class XDMentionEntity implements Serializable UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxtwitterXDMediaEntityjava32 warning serial serializable class XDMediaEntity has no definition of serialVersionUID public class XDMediaEntity implements Serializable UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxtwitterXDTickerSymbolEntityjava31 warning serial serializable class XDTickerSymbolEntity has no definition of serialVersionUID public class XDTickerSymbolEntity implements Serializable UsersgprDocumentsworkspace-sispring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxtwitterXDTweetjava34 warning serial serializable class XDTweet has no definition of serialVersionUID public class XDTweet implements Serializable code,0
Update Spring-AMQP to 131RELEASE,0
Add xd-container requirements and rank expressions Just as a stream or a job may state its needs and preferences for container assignment using the criteria or rank expressions the xd-containers themselves can specify needs and preferences using the same critera and rank expressions These would be sent to the xd-admin server and used in the ContainerMatcher but is evaluated using the stream or job as the evaluation context Examples Requirements Require that this container only runs streams Never run jobs belonging to groupA Rank Prefer to run groupBs job,0
Request to create a repo for Spring XD performance testing It would be nice if we have a git repo for Spring XD performance testing This would enable us to have a common repository rather than inside spring-xd as a subproject for all performance related code specific to any module message middleware etc,0
Ensure the DELETE Operation can Delete a Tap While deleting a stream doesnt remove any taps right now we should be able to explicitly delete a tap Determine whether the current DELETE works and if not make it so,0
Create EC2 AMI for single-node install of Hortonworks Data Platform 13,0
Create asciidoc toolchain script to create a toc2 style html output Publishing an html version of the guide that uses the toc2 style format table of contents on the left Looks like a stylesheet factory httpasciidoctororgdocsproduce-custom-themes-using-asciidoctor-stylesheet-factory needs to be installed From the theme showcase httpthemesasciidoctororgpreview the golo theme has a toc2 style In the root of the git repo for the wiki is a buildgradle file that uses the asciidoctor gradle plugin but it doesnt support using a single file with import as input See See httpsgithubcomasciidoctorasciidoctor-gradle-pluginissues15 The mvn plugin does support this so maybe using mvn is an option or just a bash script,0
Create Sample Module projects Create one or more Sample module projects in the Spring XD Examples repo to serve as templates for Spring XD module projects Similar to httpsgithubcomdturanskisiDslModule these should include unit and single node integration tests and demonstrate the use of Spring XD build and packaging tools and other module development support This may be split out into separate tasks but should include a sample for source processor sink and job using Configuration or XML configuration either as separate samples or using build profiles,0
Twitter Search test uses case sensitive search when it should be case insensitive The TwitterSearch does a case insensitive search Tests need to do a insensitive check for the keywords in the search result,0
Create distributable artifact that contains server application and startstop scripts The gradle application task should get us most of the way to create a distributable artifact akin to what you see when downloading tomcatjetty etc Now there is a launch task tasklaunch dependsOn classes type JavaExec main orgspringframeworkxddirtstreamStreamServer classpath sourceSetstestruntimeClasspath The same main should be referenced in the application plugin a task to create a zip distributable is needed Ideally would be nice to 1 download zip 2 unzip 3 cd spring-xdbin 4 xdserver start and gracefully shutdown later with 5 xdserver stop I dont know if we canshould bundle redis I think we should bundle it The scripts can be for unixlinux and for windows Discuss a brew based install as well,0
Use unique queue names in shell tests There seems to be some cross talk among the shell integration tests It looks like the same singlenode application might get shared among the test classes when they run in parallel Using unique queue names across the tests seem to fix the issue for now,0
As a developer Id like to create a new load-generator so I can use it to measure highly optimized kryo serialized payload to measure the performance differences,3
Create documentation for composed modules,0
List StreamsJobs based with deployed modules Currently there is a stream listjob list which shows the status of a given streamjob along with the DSL and there is runtime modules which shows all the deployed modules with their container info We need a better REST endpoint that gives all the deployed modules for a given streamjob along with the status,0
Update to Spring Integration 425 When Available Fix Metrics See INT-3956,0
spring xd supported activestandby mode XD spring deployment capabilities are supported by the activestandby example modulelogcriteriagroupscontainsgroup1 Above example is random selection,0
Refactor mail and imap source into one mail module leveraging Profiles Once XD-785 is merged,0
As a QA Id like to include acceptance test coverage for reactor-syslog source module so that I can validate the functionality as part of every CI build,3
Rabbit source and sink mappedRequestHeaders should include all headers by default Currently it is necessary to specify mappedRequestHeaders on the rabbit sink otherwise no headers are mapped to AMQP This should be the default behavior,0
Add global Http Interceptor in order to centralize error logging Theoretically I would have liked to centralize logging of HttpResource calls global more substantially - but see this limitation httpsgithubcomangularangularjsissues4013,0
Gradle launch task is broken Spring XD has a gradle task available in the build called launch that starts a single node instance This is currently broken The command I was using for this command was code gradlew clean build -x test -x javadoc launch code,0
Misleading instruction when admin server not running on localhost9393 Starting teh shell without having admin running on localhost9393 results in the following message code 120RC1 Admin Server Target httplocalhost9393 ------------------------------------------------------------------------------- Error Unable to contact XD Admin Server at httplocalhost9393 Please execute admin config info for more details ------------------------------------------------------------------------------- code Running codeadmin config infocode gives a nasty stacktrace though so these instructions are misleading and should be changed,0
Placeholder for 102 and 11M1 release testing effort,0
Investigate module classloader leakage See report at httpsgithubcomspring-projectsspring-xdissues661 This should not happen as the module holds the classes that hold the classloader but who knows An integration test that verifies this would be nice albeit tricky,0
As a Flo user Id like to have timeout and pollInterval as global options at the DSL level so I can override the defaults at will,1
As a user I cannot use admin-ui on the master build It wont come up,2
As a developer Id like to add support for undeployed status consistently across all the deployers so I can present the correct status instead of the current unknown This is applicable for existing streams without any deployment context associated with it,1
As a user Id like to have the option to provide LDAP based security configurations so that I can access the endpoints in a secured manner Ideally all the listed endpoints httplocalhost9393 needs to be encapsulated within LDAP based security layer Reference Authentication using LDAPhttpsspringioguidesgsauthenticating-ldap,8
As a developer Id like to measure performance numbers for a simple stream so that I can characterize the overall throughput,8
Upgrade to the latest Gradle 2x Release Gradle 2x is required for the latest Sonar version sonarspringio We may need to wait for a fix in Groovy itself 241 - Please see the following links for details httpforumsgradleorggradletopicsafterupgradegradleto20versionthemavenpomnotsupportbuildproperty httpjiracodehausorgbrowseGROOVY-7023,0
Unable to set --closeTimeout on SCSM hdfs sink module Creating a stream like this stream create --name myhdfsstream1 --definition time hdfs --closeTimeout5000 --deploy causes javalangIllegalArgumentException Task executor must be set at orgspringframeworkutilAssertnotNullAssertjava115 spring-core-421RELEASEjar421RELEASE at orgspringframeworkdatahadoopstoresupportPollingTaskSupportinitPollingTaskSupportjava105 spring-data-hadoop-store-230M2jar230M2 at orgspringframeworkdatahadoopstoresupportStoreObjectSupportonInitStoreObjectSupportjava97 spring-data-hadoop-store-230M2jar230M2 at orgspringframeworkdatahadoopstoresupportOutputStoreObjectSupportonInitOutputStoreObjectSupportjava81 spring-data-hadoop-store-230M2jar230M2 at orgspringframeworkdatahadoopstoresupportLifecycleObjectSupportafterPropertiesSetLifecycleObjectSupportjava67 spring-data-hadoop-store-230M2jar230M2 at orgspringframeworkcloudstreammodulehdfssinkDataStoreWriterFactoryBeanafterPropertiesSetDataStoreWriterFactoryBeanjava175 hdfs-sink-100BUILD-SNAPSHOT-execjar100BUILD-SNAPSHOT at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinvokeInitMethodsAbstractAutowireCapableBeanFactoryjava1637 spring-beans-421RELEASEjar421RELEASE at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1574 spring-beans-421RELEASEjar421RELEASE 35 common frames omittedWrapped by orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name dataStoreWriter defined in class path resource orgspringframeworkcloudstreammodulehdfssinkHdfsSinkConfigurationclass Invocation of init method failed nested exception is javalangIllegalArgumentException Task executor must be set at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1578 spring-beans-421RELEASEjar421RELEASE at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava545 spring-beans-421RELEASEjar421RELEASE at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava482 spring-beans-421RELEASEjar421RELEASE at orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava305 spring-beans-421RELEASEjar421RELEASE at orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava230 spring-beans-421RELEASEjar421RELEASE at orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava301 spring-beans-421RELEASEjar421RELEASE at orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBea,0
As a s-c-d developer Id like to add support to add external libraries so I can consume such dependencies for modules in an uniform way,2
As a s-c-d developer Id like to implement undeploy operation for singlenode single JVM so I can use this target to undeploy a running stream More details in this PRhttpsgithubcomspring-cloudspring-cloud-datapull19 Note Its a prerequisite to determine consistent undeploy strategy for both jobs and streams,8
Problem using twittersearch when system where container is running has two network interfaces Problem using twittersearch when the system where the XD container is running has two network interfaces With the following config eth0 local network resolves hostname eth1 internet network I get an error deploying the stream code 120822965 WARN twitterSource-1-1 clientRestTemplate - GET request for httpsstreamtwittercom11statusessamplejson resulted in 401 Authorization Required invoking error handler 120822972 ERROR twitterSource-1-1 twitterTwitterStreamChannelAdapter - Twitter authentication failed 401 Authorization Required code If I flip the network interfaces to be eth0 internet network resolves hostname eth1 local network then it seems to work,0
Enabling security breaks Jobs page in Admin UI After enabling Spring XD security in XDHOMEconfigserversyml code spring profiles admin security basic enabled true realm SpringXD xd security authentication file enabled true users user password ROLEVIEW admin password ROLEVIEW ROLECREATE ROLEADMIN code after logging in as user with only ROLEVIEW privilege Jobs admin page is broken and is not displaying data 403 error code is returned for following URLs code httplocalhost9393jobsconfigurationsjsonpage0size10 httplocalhost9393jobsdefinitionsjsonpage0size10 code Looks like jobsconfigurations and jobsdefinitions URLs are not covered in security section of applicationsyml file,0
Add states to the deployment of stream Improve how the state of the stream is managed A deploy command moves the stream from the undeployed state to the deploying state If all modules in the stream are successfully deployed the stream state is deployed If one or more module deployments failed the stream state is failed Any modules that were successfully deployed are still running Sending an undeploy command will stop all modules of the stream and return the stream to the undeployed state For the individual modules that failed we will be able to find out which ones failed Not yet sure if we can try to redeploy just those parts of the stream that failed See the design dochttpsdocsgooglecomagopivotalcomdocumentd1kWtoHxEF1wMklzQ8AZaiuhBZWIlpCDi8G9hAP8Fgceditheadingh2rk74f16ow4i for more details Story points for this issue are the total of all the story points for the subtasks,0
Redis aggregate-counter fails when end of interval is on the hour curl httplocalhost9393metricsaggregate-counterssmartgridh28loadpredictedresolutionminutefrom2013-09-01T125500000Zto2013-09-01T130000000Z would return 0 as the last bucket while curl httplocalhost9393metricsaggregate-counterssmartgridh28loadpredictedresolutionminutefrom2013-09-01T125500000Zto2013-09-01T130500000Z would correctly return the value for 130000,0
Create CI Plan for XD EC2 deployment Use the cleanup app from XD-1243 to stop previous CI runs of XD on EC2 Build XD-EC2 deployer from github Use XD-EC2 Deployer to deploy the CI XD-Instance Should produce artifact that contains the URL admin server of the XD cluster container servers of the XD cluster,0
Duplicate MBean server definition by MBeanExportingPlugin The MBeanServer is referred by XD adminlauncher when JMX is enabled by setting --jmxEnabled option and this is defined in xd-global-beansxml The MBeans that are exposed by the modules also use the same MBeanServer define above and there is a duplicate MBeanServer definition from jmxcommonxml which the MBeanExportingPlugin adds as a component to the module which doesnt seem to be needed Also currently the flag jmxEnabled is generic and used by adminserverlauncher as well as the module MBeanExportingPlugin If we have a separate flag to enable the JMX only for modules then a separate definition of MBeanServer could be necessary,0
As a user Id like to have a Redis based aggregation over field-value counters so that I can continuously write the aggregation in Redis as we ingest more data Scope Port specs from previous implementationhttpsgithubcomspring-projectsspring-xdwikiOLD---Aggregate-Field-Value-Counters Identify gaps Update reference documentation,3
Exclude commons-logging from final distro1 xdlib includes jcl-over-slf4j so we dont need additional commons-logging jars in the modules or extensions httpsgithubcomspring-projectsspring-xdpull610,0
Make Spring XD buildable with Java 8 JavaDoc issues are causing the build to fail with Java 8,0
As a s-c-d developer Id like to add support for profiles to the core Admin application so I can back the stream repository with respective backend strategy For example local profile would use in-memory strategy to store the metadata,3
add SpEL transform processor It should provide an expression param for SpEL and have a default pass-thru of the payload,0
Refactor the tests so that contexts are destroyed properly In our tests the context is destroyed at the end of each module It should be destroyed at the close of the container,0
Spike introduce xolpoc-admin to XD Admin The POC for XD on Lattice uses the following interface for module deployment httpsgithubcommarkfisherxolpoc-adminblobmastersrcmainjavaxolpocspiModuleDeployerjava code public interface ModuleDeployer void deployModuleDescriptor descriptor void undeployModuleDescriptor descriptor ModuleStatus getStatusModuleDescriptor descriptor code This spike is to introduce this interface and the Lattice implementation in the XD admin The goals are to Demo a POC showing simple stream deployment with the existing shelladmin to Lattice Learn from the experience to help guide the re-architecturesplitting of streamjob repositories especially in regard to AbstractDeployer and related classes Note that this work will not necessarily be merged into XD itself although some of the concepts may be included in a future PR,0
As a user Id like to refer to documentation while migrating to 13 release,3
Batch Job deployment screen only show 10 items The Batch Jobs Deployment screen http9393admin-uijobsdeployments UI screen is only showing 10 items without pagination and prohibiting users from launching their deployed jobs from the UI The jobs can only be launched via the RESTApi call In release 103 the deployment page has not pagination but grows beyond 10 entries,0
Provide settings formatting rules so that theyre shared Thinking about using the official SpringSource rules as a template,0
Serialization of Spring Batch Context Objects Needs some investigation on how the update information from Spring Batch listeners can be sent as a message across modules in a single node configuration as well as across JVMs in a distributed node configuration,0
As a developer I want that the Spring XD partitioning process targets Kafka bus partitions directly so that the design of my stream processing application is easier to understand and the order of messages is not altered Current situation - Spring XD partitioning logic that builds on top of Kafka partitioning - The number of Spring XD partitions is not explicitly configured its inferred from the number of consumer modules - If the concurrency of the consumer modules is 1 then Spring XD partitions are matched 11 with Kafka partitions - If the concurrency of the consumer modules is n then a Spring XD partition uses n Kafka partitions and the message bus distributes messages across the Kafka partitions that correspond to the Spring XD partitions - this could be confusing to the end user especially if they are used to the Kafka partitioning process - this can also lead to changes of ordering between messages as messages within the same Spring XD partitions will be sent to different Kafka partitions this only happens if the concurrency of the receiving module is higher than 1 Improvement - For the Kafka message bus the number of Spring XD partitions does not need to be equal to the number of modules must be higher or equal though so that consumers can be created and should be configured explicitly - using the partitionCount property - as an option the module count concurrency can be used as a default - as a result in the case of Kafka there will always be a 11 match between Kafka partitions and Spring XD partitions optionally processed by fewer modules than the partition count,5
Add Support for addresses Property on RabbitMQ Source Support receiving messages from an HA cluster,0
Documentation for developing streams in the IDE needs to mention including scripts dir to project classpath curl -X POST -d time --interval3 transform log httplocalhost8080streamstest results in the following stack trace in the DEBUG log Its apparently benign but ugly code 2013-06-06 104336875 task-scheduler-1 DEBUG orgspringframeworkscriptingsupportResourceScriptSource - class path resource transformgroovy could not be resolved in the file system - current timestamp not available for script modification check javaioFileNotFoundException class path resource transformgroovy cannot be resolved to URL because it does not exist orgspringframeworkcoreioClassPathResourcegetURLClassPathResourcejava177 orgspringframeworkcoreioAbstractFileResolvingResourcelastModifiedAbstractFileResolvingResourcejava170 orgspringframeworkscriptingsupportResourceScriptSourceretrieveLastModifiedTimeResourceScriptSourcejava101 orgspringframeworkscriptingsupportResourceScriptSourcegetScriptAsStringResourceScriptSourcejava79 orgspringframeworkintegrationscriptingRefreshableResourceScriptSourceinitRefreshableResourceScriptSourcejava46 sunreflectNativeConstructorAccessorImplnewInstance0Native Method sunreflectNativeConstructorAccessorImplnewInstanceNativeConstructorAccessorImpljava39 sunreflectDelegatingConstructorAccessorImplnewInstanceDelegatingConstructorAccessorImpljava27 javalangreflectConstructornewInstanceConstructorjava513 orgspringframeworkbeansBeanUtilsinstantiateClassBeanUtilsjava147 orgspringframeworkbeansfactorysupportSimpleInstantiationStrategyinstantiateSimpleInstantiationStrategyjava121 orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava280 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryautowireConstructorAbstractAutowireCapableBeanFactoryjava1035 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanInstanceAbstractAutowireCapableBeanFactoryjava939 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava485 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava456 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveInnerBeanBeanDefinitionValueResolverjava271 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava126 orgspringframeworkbeansfactorysupportConstructorResolverresolveConstructorArgumentsConstructorResolverjava616 orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava148 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryautowireConstructorAbstractAutowireCapableBeanFactoryjava1035 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanInstanceAbstractAutowireCapableBeanFactoryjava939 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava485 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava456 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveInnerBeanBeanDefinitionValueResolverjava271 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava126 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryapplyPropertyValuesAbstractAutowireCapableBeanFactoryjava1360 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorypopulateBeanAbstractAutowireCapableBeanFactoryjava1118 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava517 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava456 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava294 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava225 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava291 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava193 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava589 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava925 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava472 orgspringframeworkxdmoduleSimpleModulestartSimpleModulejava97 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleModuleDeployerjava120 orgspringframeworkxddirtmoduleModuleDeployerhandleMessageInternalModuleDeployerjava108 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava39 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava25 javalangreflectMethodinvokeMethodjava597 orgspringframeworkexpressionspelsupportReflectiveMethodExecutorexecuteReflectiveMethodExecutorjava69 orgspringframeworkexpressionspelastMethodReferencegetValueInternalMethodReferencejava84 orgspringframeworkexpressionspelastCompoundExpressiongetValueInternalCompoundExpressionjava57 orgspringframeworkexpressionspelastSpelNodeImplgetTypedValueSpelNodeImpljava102 orgspringframeworkexpressionspelstandardSpelExpressiongetValueSpelExpressionjava102 orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava126 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessInternalMessagingMethodInvokerHelperjava230 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessMessagingMethodInvokerHelperjava129 orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava73 orgspringframeworkintegrationhandlerServiceActivatingHandlerhandleRequestMessageServiceActivatingHandlerjava67 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava137 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava92 orgspringframeworkintegrationxredisRedisQueueInboundChannelAdapteraccess4RedisQueueInboundChannelAdapterjava1 orgspringframeworkintegrationxredisRedisQueueInboundChannelAdapterListenerTaskrunRedisQueueInboundChannelAdapterjava110 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava53 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava441 javautilconcurrentFutureTaskSyncinnerRunFutureTaskjava303 javautilconcurrentFutureTaskrunFutureTaskjava138 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess301ScheduledThreadPoolExecutorjava98 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava206 javautilconcurrentThreadPoolExecutorWorkerrunTaskThreadPoolExecutorjava886 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava908 javalangThreadrunThreadjava662 code,0
As a user Id like to use the GF source along with native GF authentication enabled so I can consume data from GF in a secured way Id like to refer to documentation on where the GF specific native and security properties needs configured See this SC posthttpsgopivotal-comsocialcastcommessages24377202 for more details,1
Upgrade to Spring 402RELEASE,0
Documentation for enhanced HDFS sink with paths based off datetimemessage content,0
Validate module properties Currently its possible to do something like code http --prot8888 code It is possible to validate property names by parsing the module definition files directly and matching property placeholders or profile declarations that may be mapped to properties etc This must account recursively for imports as well I have some code in a branch that does this,0
As a user Id like to have concurrency and compression support for Kafka so that I can increase performance throughput andor increase responsiveness Things to consider make global configuration options be defaults and allow per-deployment overrides add options for concurrency compression support,3
Create a dedicated plugin for xdstreamname and similar The setting of the xdstreamname property is currently duplicated in StreamPlugin and JobPlugin etc Moreover there is no strong String constant to reference it Create a plugin dedicated to those matters namely making bits of DeploymentMetadata available to the module environment,0
Modify REST controller to obtain streamjob state See the design documenthttpsdocsgooglecomagopivotalcomdocumentd1kWtoHxEF1wMklzQ8AZaiuhBZWIlpCDi8G9hAP8Fgceditheadingh2rk74f16ow4i for more details The REST controller needs to be modified to obtain streamjob state once it is available in ZooKeeper This depends on XD-1847,0
Composed job endpoint is missing from the defined authorization rules More details in the support ticket httpsissuetrackerspringsourcecombrowseVESC-679 Following entires should be added to applicationyml file code - POST toolsparseJobToGraph hasRoleROLECREATE - POST toolsparseJobToGraph hasRoleROLECREATE - POST toolsconvertJobGraphToText hasRoleROLECREATE - POST toolsconvertJobGraphToText hasRoleROLECREATE code,0
As a user I want to be able to control the partition allocation for the Kafka source modules when a stream is deployed so that I can colocate with other data sources,8
Library support changes at shell level Following merge of httpsgithubcomspring-cloudspring-cloud-dataflowcommit5cb81c49a240304be14bcf5d724cfd36df403d39 the following changes need to happen at shellREST level module list should not show libraries library list should be added to show libs module register should not accept typelibrary library register should be added module info should not accept libs library infoshould be added,0
Obtain username and password credentials for CloudFoundry As part of moving to a bespoke RestOperations application we will need credentials to access CloudFoundry These will need to be supplied from the new XD Admin app at runtime,0
Tasks Launcher should be able to record status to a central repository Need infrastructure to capture the state from the environment lattice local running the task Task Launcher needs ability to map the task state as it is reported from the cloud environment lattice local to the enumerated state as specified herehttpsdocsgooglecomdocumentd1tTmQMIwSUEFewYYsafK8Ji4Z9NI-5F1VFeAiWHuZSggeditheadingh2ec94f2he9ly The state information needs to be recorded in the taskexecution table enumerated herehttpsdocsgooglecomdocumentd1tTmQMIwSUEFewYYsafK8Ji4Z9NI-5F1VFeAiWHuZSggeditheadingh2ec94f2he9ly,0
Create CI Builds for SCD and Receptor Client Build SCS and SCD projects upon change in github repo Push docker image for SCD-Admin to docker hub,0
Add support to upload custom modules As an s-c-d user Id like to upload custom modules using shellrest-api so I can contribute modules and create streamingbatch pipelines,0
Rabbit Sink with explicit routingKey as string SpEl literal expression fails Following stream fails to work tream create s3 --definition http rabbit --routingKeymytest1 --deploy Created and deployed new stream s3 xdhttp post --data testing POST textplainCharsetUTF-8 httplocalhost9000 testing 500 INTERNALSERVERERROR 500 INTERNALSERVERERROR Error sending data testing to httplocalhost9000 The exception at the container log is 072457245 ERROR pool-18-thread-4 httpNettyHttpInboundChannelAdapter171 - Error sending message orgspringframeworkmessagingMessageHandlingException Expression evaluation failed mytest1 orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava126 orgspringframeworkintegrationhandlerExpressionEvaluatingMessageProcessorprocessMessageExpressionEvaluatingMessageProcessorjava76 orgspringframeworkintegrationamqpoutboundAmqpOutboundEndpointhandleRequestMessageAmqpOutboundEndpointjava196 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava170 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricshandleMessageSimpleMessageHandlerMetricsjava106 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricsinvokeSimpleMessageHandlerMetricsjava86 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy109handleMessageUnknown Source orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 sunreflectGeneratedMethodAccessor100invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava113 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava97 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava91 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy54sendUnknown Source orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava114 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava93 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava260 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava241 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava205 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava199 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava177 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava114 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava93 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava260 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava241 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava205 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava199 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava177 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 sunreflectGeneratedMethodAccessor100invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava113 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava97 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava91 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy111sendUnknown Source orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava114 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava93 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava98 orgspringframeworkintegrationxhttpNettyHttpInboundChannelAdapteraccess300NettyHttpInboundChannelAdapterjava69 orgspringframeworkintegrationxhttpNettyHttpInboundChannelAdapterHandlermessageReceivedNettyHttpInboundChannelAdapterjava168 orgjbossnettychannelSimpleChannelUpstreamHandlerhandleUpstreamSimpleChannelUpstreamHandlerjava70 orgjbossnettychannelDefaultChannelPipelinesendUpstreamDefaultChannelPipelinejava564 orgjbossnettychannelDefaultChannelPipelineDefaultChannelHandlerContextsendUpstreamDefaultChannelPipelinejava791 orgjbossnettyhandlerexecutionChannelUpstreamEventRunnabledoRunChannelUpstreamEventRunnablejava43 orgjbossnettyhandlerexecutionChannelEventRunnablerunChannelEventRunnablejava67 orgjbossnettyhandlerexecutionOrderedMemoryAwareThreadPoolExecutorChildExecutorrunOrderedMemoryAwareThreadPoolExecutorjava314 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 Caused by orgspringframeworkexpressionspelSpelEvaluationException EL1008Epos 0 Property or field mytest1 cannot be found on object of type orgspringframeworkmessagingsupportGenericMessage - maybe not public orgspringframeworkexpressionspelastPropertyOrFieldReferencereadPropertyPropertyOrFieldReferencejava215 orgspringframeworkexpressionspelastPropertyOrFieldReferencegetValueInternalPropertyOrFieldReferencejava85 orgspringframeworkexpressionspelastPropertyOrFieldReferencegetValueInternalPropertyOrFieldReferencejava78 orgspringframeworkexpressionspelastSpelNodeImplgetTypedValueSpelNodeImpljava114 orgspringframeworkexpressionspelstandardSpelExpressiongetValueSpelExpressionjava111 orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava159 orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava119 91 more,0
FilePollHdfs sporadically fails Need to add a retry to the mkdir command in the case that it fails,0
As a Spring XD user Id like to have IPython Notebookhttpipythonorgnotebookhtml integration so I can perform interactive data computations in real-time,8
As a user Id like to use the Java receptor client so I can interact with Diego runtime using the Java receptor REST APIs,8
Upgrade ZK installation on EC2 to 346 Environment AdminContainer on separate EC2 instances with rabbit transport Redis Rabbit Zookeeper deployed on admin instance AdminContainer on separate EC2 instances with redis transport Redis Rabbit Zookeeper deployed on admin instance XD Deployment Type XD-SingleNode Commit httpsgithubcomspring-projectsspring-xdcommit8fba31d21e96a371dacf26b40eeb542c3564b2e3 Both Redis and Rabbit clusters failed acceptance tests Ive attached the portion of the admin log that was available,0
As a developer Id like to develop a singlenode in a single JVM implementation of XD Admin SPI based on Module Launcher so I can run data pipeline use-cases locally,8
As a user Id like to have the option of Basic Auth so that Im challenged to provide user name and password when making a request Technical Implementation This functionality is provided in Spring Boot 11x it should be a matter of adding the spring boot security starter dependency to the spring-xd-dirt project It will be controlled using the spring boot property serverbasicenabled truefalse Our default in applicationyml for this property should be false,1
As a Spring XD developer Id like to port tcp module from XD to s-c-s repo so I can use it as source module to build streaming pipeline,2
Update Docs to add configs changes for Composed jobs Need to add the following instructions to setup the configurations for the Batch Repo to Composed Job Docs to support parallel jobs 1 uncomment and change the following from spring batch Configure other Spring Batch repository values Most are typically not needed isolationLevel ISOLATIONSERIALIZATION to spring batch Configure other Spring Batch repository values Most are typically not needed isolationLevel ISOLATIONREADCOMMITTED And update the hsqldb datasource to spring datasource url jdbchsqldbhsqlhsqlserverhostlocalhosthsqlserverport9101hsqlserverdbnamexdjobsqlenforcestrictsizetruehsqldbtxmvcc,0
Make max-messages-per-poll setting of the file source configurable The max-messages-per-poll property of the poller used in the file source is not exposed and cannot be configured I think it has the default value of 1 in this configuration httpsgithubcomspring-projectsspring-xdblobmastermodulessourcefileconfigfilexmlL18 As a result it is not possible to configure the file source to pick all new files available in a single poll This is a limitation in fast file ingestion scenarios,0
UI Needs to handle the finer-grained deployment statuses Addressed for the REST API by XD-1848 The status of a stream as returned by the REST API and thus the shell also may now contain any of the following states deploying deployment has been initiated deployed fully deployed based on each of the streams modules count properties incomplete at least 1 of each module but 1 or more of them not at requested capacity failed 1 or more of the modules does not have even a single instance deployed undeployed intentionally undeployed or created but not yet deployed,0
Rabbit Source AcceptanceTest,0
Do not initialize spring batch schema on each test run If the spring batch database has already been initialized do not re-initialize for each test run,0
Create EC2 AMI for single-node install of Cloudera CDH 450,0
Improve connection handling in RedisAggregateCounterService This is currently too chatty It should be possible to use a single connection for each increment operation,0
As a CF user Id like to have the ability to override the YARN config location so that I can change where the custom module uber-jar can be stored and retrieved,3
Remove unnecessary SI EvalCtx injection in modules With the inclusion of httpsgithubcomspring-cloudspring-cloud-streamcommit80b1d28be1c8b9a23099b145fe2dcf472bfa9697 any module that explicitly injectedlooked up the SI EC dont need to do so anymore This issue is about simplifying those,0
Increase performance of query to determine Job restartability In BatchJobExecutionsControllers list all job executions for each given job execution it needs to be evaluated against all the job executions of a given job instance to see if the job execution is restarted The rule is for a given JobInstance there could be only one job execution that can be in COMPLETED state If the job itself is restartable and if any of the job executions for this job instance are FAILED or STOPPED then that job execution can be restarted based on the client request Hence if the job execution is complete then it will set the restartable flag to false for all the job executions on a given job instance,0
Investigate failing tests in MailCommandTest orgspringframeworkxdshellcommandMailCommandTests in spring-xd-shell project I get failures relating to invalid usernamepassword INFO Stream Name Stream Definition Status ----------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------- mailstream imap --port1044 --protocolimap --folderINBOX --usernamejohndoe --passwordsecret file --dirtmp --nameFileSink1280066074228960855 --suffixtxt --charsetUTF-8 --binaryfalse deployed 130904 113211 WARN mailImapIdleChannelAdapter error occurred in idle task javaxmailAuthenticationFailedException LOGIN failed Invalid loginpassword at comsunmailimapIMAPStoreprotocolConnectIMAPStorejava663,0
Update Creating a Source Module section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs10x-SNAPSHOTreferencehtmltestthedeployedmodule,0
No way to set makeUnique false when creating job in UI The resulting definition starts with --makeUniquetrue even if the MakeUnique checkbox is unchecked I can check and uncheck the box and the --make unique parameter isnt included Since the default for this parameter is true the end result is the same There doesnt seem to be a way to set --makeUniquefalse,0
As a stream definer when defining a stream ending with a file sink I would like to have more flexibility for naming the file Add an alternative --nameExpression option allowing complete control over the finename-generator-expression attribute See httpstackoverflowcomquestions28466477issue-with-file-sink-and-filename-expression2846706928467069,1
Cleanup Module Deployer Containers module deployer orgspringframeworkxddirtmoduleModuleDeployer has some unused code and container-serverxml has listenersxml which is no longer used Also all the extension code is moved to SharedContextConfiguration,0
Upgrade Lettuce and Netty Upgrade Lettuce to 233 and subsequently Netty to 366,0
Cleanup and Optimize gradle tasks to bundle spring-xd distribution We need to cleanup some of the duplicate gradle tasks that bundle spring-xd distributions Currently distXD does the copy of distributions from spring-xd-dirt redis and spring-xd-gemfire-server projects into rootDirdistspring-xd And the task zipXD makes the zip archive These tasks should be combined with the distZip docZip tasks We also need to remove the duplicate artifacts configuration from these tasks,0
As a Spring XD developer Id like to port http module from XD to s-c-s repo so I can use it as source module in streaming pipeline,2
As a developer Id like to update to Spring Hadoop 220 GA release so I can leverage the latest improvements,1
Hadoop Distro log message shows wrong version when set via env var If we export HADOOPDISTRO env var instead of using --hadoopDistro parameter then the logging message is wrong it always says Hadoop Distro hadoop26 even if we set HADOOPDISTRO to something else The classpath is built correctly Maybe we should just remove this logging message since we log the actual version used in the next log message,0
Document JDBC module,0
As a Spring XD developer Id like to move mail module from XD to s-c-s-m repo so I can use it as source to build streaming pipeline,2
Enhance JDBC sink test to include more options To enrich acceptance test Id like to add coverage to JDBC sink by including -- driverclass and -- url options,0
Replace anonymous node in XD module bean names Enhance bean naming strategy or provide a value for the property that binds to this,0
Further decouple message bus deps test scope Commit httpsgithubcomspring-projectsspring-xdcommit8d28b2786acbdea1617d7e903b805e5af5369b90 removed MessageBus implementations from the main dirt classpath but used a trick to have tests working basically MB classes are on the CP when in test scope This story is about adding more gradle projects that support classpath isolation when running tests and also when authoring a MB implementation This would avoid false positives such as httpsgithubcomspring-projectsspring-xdpull1340 were lacking jars go unnoticed,0
Remove un-necessary libs from shell Shell currently adds all jars from xdlib to its classpath Remove jars that are not needed to run shell,0
As a user Id like to be notified when a exception is thrown in a module so that I can tap into an error channel to receive the failures for each streammodule,8
Fix package tangle Fix package tangle issue reported here httpsbuildspringiobrowseXD-SONAR-490,0
Method for obtaining streamjob state See the design documenthttpsdocsgooglecomagopivotalcomdocumentd1kWtoHxEF1wMklzQ8AZaiuhBZWIlpCDi8G9hAP8Fgceditheadingh2rk74f16ow4i for more details This class or perhaps a method on a repository will need to query ZooKeeper to obtain the state of a streamjob in order to pass it along to the REST controller,0
Use 2 tabs for hidden options in shell,0
As a follow-up to Kafka message bus support we would like to rerun the failing tests after upgrading to new consumerhttpscwikiapacheorgconfluencedisplayKAFKAKafka09ConsumerRewriteDesign rewrite Response from Kafka supporthttpmail-archivesapacheorgmodmboxkafka-users201410mbox3CCAHwHRrWZmLr94eHX1z5i36BYz2B3DCisx7GcbW1Nn7ooNJcShMw40mailgmailcom3E,3
User should be able to specify Rabbit virtual host Need to support Rabbit virtual host property in properties file and as args to Rabbit source and sink,0
GraphLab - enhance machine learning and computations We would like to experiment with GraphLab a graph based high performance distributed computation framework written in C Features HDFS integration Maching learning toolkits Website - httpgraphlaborgprojectsindexhtml GitHub - httpsgithubcomgraphlab-codegraphlab Note Could be part of unified offering of PHD,0
In-memory implementation of aggregate counter,0
Facing issue while running Spring XD batch job on HDP version 2320-2950 Version Spring XD Version spring-xd-130RELEASE spring-xd-130RELEASE-yarn OS Version Linux 2632-431292el6x8664 Java Version java version 17065 Description The simple word count map reduce job using spring xd is failing with inline error message Steps to recreate the problem 1 Created a jar for simple word count map reduce job 2 Created jar using information given in httpdocsspringiospring-hadoopdocs202RELEASEreferencehtmlhadoophtmlhadooptasklet 3 Once the final jar was ready uploaded using module upload --name testmrmodule --type job --file homeuserjarsamplemrjobjar 4 After that created and deployed job using job create --name testmrjob --definition testmrmodule --deploy 5 Finally launched using job launch testmrjob which failed with inline error Describe XD Deployment Distributed Deployment Type Distributed - YARN on AWS EC2 cloud Number of xd-admins and xd-containers 1 Admin and 3 Containers Describe Other Components Transport Redis 301 ZooKeeper Version 3462320-2950 Hadoop deployment Data Platform Hortonworks HDP 2320-2950 RDBMS MySQL Error Message 052952673 INFO DeploymentsPathChildrenCache-0 containerDeploymentListener - Deploying job testmrjob 052953655 INFO DeploymentsPathChildrenCache-0 containerDeploymentListener - Deploying module ModuleDescriptor6e5af900 moduleName testmrmodule moduleLabel testmrmodule group testmrjob sourceChannelName null sinkChannelName null index 0 type job parameters mapempty children listempty 053024351 ERROR inboundjobtestmrjob-redisqueue-inbound-channel-adapter1 stepAbstractStep - Encountered an error executing step teststep in job testmrjob javalangIllegalArgumentException Unable to parse hdpappshdpversionmapreducemapreducetargzmr-framework as a URI check the setting for mapreduceapplicationframeworkpath at orgapachehadoopmapreduceJobSubmitteraddMRFrameworkToDistributedCacheJobSubmitterjava443 at orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointaccess300RedisQueueMessageDrivenEndpointjava54 at orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointListenerTaskrunRedisQueueMessageDrivenEndpointjava323 at orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava55 at javalangThreadrunThreadjava745 Caused by javanetURISyntaxException Illegal character in path at index 11 hdpappshdpversionmapreducemapreducetargzmr-framework at javanetURIParserfailURIjava2848 at javanetURIParsercheckCharsURIjava3021 at javanetURIParserparseHierarchicalURIjava3105 at javanetURIParserparseURIjava3063 at javanetURIinitURIjava588 at orgapachehadoopmapreduceJobSubmitteraddMRFrameworkToDistributedCacheJobSubmitterjava441,0
Restrict entry filter in loading module artifacts see httpsgithubcomspring-projectsspring-bootissues2454,0
Implement undeploy operation for CC SPI Currently undeploy is a no-op,0
Refactor gardenhose into more generic twitterstream source Twitters streaming APIs have more capabilities than just the plain statusessamplejson In particular we should support the filterjson option and the use of track httpsdevtwittercomdocsstreaming-apisparameterstrack as well as other request parameters delimited language etc,0
Strange language prefix shown on some code listings when hovering the mouse over them Looking at the online docs the code listings have inconsistent syntax highlighting and when you hover the mouse over some of them there is a language prefix like ruby or javascript inserted at the beginning of the first line Very strange To see this go to httpdocsspringiospring-xddocs120RELEASEreferencehtmlserverconfiguration and scroll down to the HSQLDB section The listing for HSQLDB looks fine but scroll down further and put the mouse pointer on the MySQL or PostgreSQL listings and you should see javascript being inserted on the first line,0
Add gemfire-server application to the distribution zip of the project spring-xd-gemfire-server,0
Move Kafka Rule to a separate repo As an s-c-d developer Id like to move kafka Rule to a separate repo so I can consume the test fixtures in different projects,0
Add command for stream creation,0
As a Spring XD developer Id like to port aggregator module from XD to s-c-s repo so I can use it as processor module to build streaming pipeline,2
Add documentation for using FTP-HDFS partitioned jobs,0
JobPlugin - Use containsKey when checking for Parameters Use containsKey when checking for Parameters Add tests,0
As a developer Id like to refactor the programmatic means by which the MessageBus transforms the Message so throughput performance can be optimized,5
Update docs for gemfire sink to include locator configuration,0
Document append support else filepollhdfs writes empty file to hdfs When testing in both singlenode and cluster redis XD throws exception stacktrace attached The file is created on hdfs but it is empty Steps to recreate Using Hadoop12 1 job create myjob --definition filepollhdfs --namesforenamesurnameaddress --deploy 2 stream create csvStream --definition file --reftrue --dirtmpdug --patterncsv queuejobmyjob --deploy 3 use excel to create a 3 column spreadsheet and save as csv 4 Copy csv to tmpdug directory,0
Message Bus optimizations Kafka Redis,0
Add --date option to the trigger module The TriggerSourceOptionsMetadata class should be able to use an actual Date object thanks to Spring binding conversion BUT the date construct will receive a toString version of it Make sure this works properly,0
As a developer Id like to rebalance partitions as we scale the containers so I dont have to bring down the running streamjob to reestablish dynamic partitions,8
Allow processor script variables to be passed as module parameters Currently if we want to bind values to script variables we need to put them in a properties file like so xd stream create --name groovyprocessortest --definition http --port9006 script --locationcustom-processorgroovy --properties-locationcustom-processorproperties log Ideally it should be xd stream create --name groovyprocessortest --definition http --port9006 script --locationcustom-processorgroovy --foobar --bazboo log,0
Add directory to classpath in server startup scripts so groovy based processors can be easily referenced by name without a resource uri prefix a stream such as time filter --scriptoddMinuteFiltergroovy file would load the groovy script oddMinuteFiltergroovy that is located in the directory modulesprocessor or perhaps in modulesprocessorscripts Not sure the benefit of having a subdirectory below processor just for scripts,0
As a s-c-d developer Id like to have module register shell command so I can register new modules in the ModuleRegistry,2
Add UDP support to reactor-syslog source module Currently the reactor-syslog source module only supports TCP Once we add UDP support we can probably remove the existing syslog-tcp and syslog-udp modules,0
User wants ability to test sources Examples 1 Be able to start the rabbitmq source just by pointing to modulessourcerabbitxml pass in some property file for parameters to be replaced and outgoing message is placed in a in-memory queue backed channel for use with assertions to verify functionality 2 Test for as many source types as is reasonable eg MQTTTCP testing might be harder than say rabbitmq 3 Test that sending json results in media-type header is set to json 4 Test that sending POJO POJO 5 Test that sending Tuple Tuple 6 Test that sending raw bytes raw bytes,0
serversyaml has a typo that causes XD startup to fail when Line 295 has 2 dashes instead of 3 There is no effect on XD unless the XD extensions block is uncommented I have been using the XD extensions in version 103 and have merged my serversyaml with all of the new content in 110M2 The Admin JVM crahes without logging any exception and the container JVM crashes and logs the following - -- V -- 110M2 eXtreme Data Started ContainerServerApplication Documentation httpsgithubcomspring-projectsspring-xdwiki expected document start but found BlockMappingStart in reader line 303 column 1 xd at orgyamlsnakeyamlparserParserImplParseDocumentStartproduceParserImpljava225 at orgyamlsnakeyamlparserParserImplpeekEventParserImpljava158 at orgyamlsnakeyamlparserParserImplcheckEventParserImpljava143 at orgyamlsnakeyamlcomposerComposercheckNodeComposerjava68 at orgyamlsnakeyamlconstructorBaseConstructorcheckDataBaseConstructorjava93 at orgyamlsnakeyamlYaml1hasNextYamljava498 at orgspringframeworkbeansfactoryconfigYamlProcessorprocessYamlProcessorjava152 at orgspringframeworkbeansfactoryconfigYamlProcessorprocessYamlProcessorjava137 at orgspringframeworkbootenvYamlPropertySourceLoaderProcessorprocessYamlPropertySourceLoaderjava78 at orgspringframeworkbootenvYamlPropertySourceLoaderloadYamlPropertySourceLoaderjava50 at orgspringframeworkbootenvPropertySourcesLoaderloadPropertySourcesLoaderjava126 at orgspringframeworkbootcontextconfigConfigFileApplicationListenerLoaderloadIntoGroupConfigFileApplicationListenerjava378 at orgspringframeworkbootcontextconfigConfigFileApplicationListenerLoaderloadConfigFileApplicationListenerjava366 at orgspringframeworkbootcontextconfigConfigFileApplicationListenerLoaderloadConfigFileApplicationListenerjava336 at orgspringframeworkbootcontextconfigConfigFileApplicationListeneraddPropertySourcesConfigFileApplicationListenerjava173 at orgspringframeworkbootcontextconfigConfigFileApplicationListeneronApplicationEnvironmentPreparedEventConfigFileApplicationListenerjava144 at orgspringframeworkbootcontextconfigConfigFileApplicationListeneronApplicationEnvironmentPreparedEventConfigFileApplicationListenerjava137 at orgspringframeworkbootcontextconfigConfigFileApplicationListeneronApplicationEventConfigFileApplicationListenerjava126 at orgspringframeworkcontexteventSimpleApplicationEventMulticasterinvokeListenerSimpleApplicationEventMulticasterjava151 at orgspringframeworkcontexteventSimpleApplicationEventMulticastermulticastEventSimpleApplicationEventMulticasterjava128 at orgspringframeworkbootcontexteventEventPublishingRunListenerpublishEventEventPublishingRunListenerjava100 at orgspringframeworkbootcontexteventEventPublishingRunListenerenvironmentPreparedEventPublishingRunListenerjava59 at orgspringframeworkbootSpringApplicationrunSpringApplicationjava286 at orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 at orgspringframeworkxddirtserverContainerBootstrapContextinitContainerBootstrapContextjava48 at orgspringframeworkxddirtserverContainerServerApplicationrunContainerServerApplicationjava83 at orgspringframeworkxddirtserverContainerServerApplicationmainContainerServerApplicationjava72,0
As a developer Id like to benchmark Rabbit performance so that I can use the results as reference to setup XD cluster,8
As a developer Id like to add a new CI build to include install target so I can verify the target expectations as it is often time consuming to verify it in the development environment,2
Implement KafkaMessageBus Kafka lends itself well as a message bus and kafka partitioning maps to MB partitioning Implement KafkaMessageBus and supporting classes and UTIT,0
Encapsulate list of ModuleDeploymentRequests within a parsed Stream result object Currently the parser returns a ListModuleDeploymentRequest and the deployer works with that list directly We need a higher level parser result eg DeployableStream - or probably a better name after some thought that can encapsulate that list while also enabling metadata to be added That metadata may be helpful for composite module information as well as the module dependencies of a given stream including any composed modules within that stream,0
Vary message size DB-2 Use a single producer single consumer prefetch size 50 Send 1M messages and increase or decrease so that a given test iteration takes about 2 minutes Vary the message size and measure the msgsec rate and calculate data transfer rate in MBsec Message Sizes 100 bytes 1000 10000 100000 During the measurements look at the RabbitMQ Admin UI and see if the queue is backing up,0
Sqoop job doesnt run when deployed on YARN on Ambari deployed HDP Got this error when submitting Sqoop job code 2015-06-01 190942932 INFO main sqoopSqoopRunner SqoopRunnerjavamain75 - Sqoop command import 2015-06-01 190942939 INFO main sqoopSqoopRunner SqoopRunnerjavamain76 - Using args --table XDJOBREGISTRY --target-dir xdsqoop2 -m1 2015-06-01 190942939 INFO main sqoopSqoopRunner SqoopRunnerjavamain77 - Mapreduce home usrhdp2242-2hadoop-mapreduce 2015-06-01 190942977 WARN main confConfiguration Configurationjava646 - DEPRECATED hadoop-sitexml found in the classpath Usage of hadoop-sitexml is deprecated Instead use core-sitexml mapred-sitexml and hdfs-sitexml to override properties of core-defaultxml mapred-defaultxml and hdfs-defaultxml respectively 2015-06-01 190942984 INFO main sqoopSqoopRunner SqoopRunnerjavasetConfigurationProperty168 - Setting configuration property fsdefaultFShdfshawaii8020 2015-06-01 190943743 INFO main sqoopSqoopRunner SqoopRunnerjavasetConfigurationProperty168 - Setting configuration property yarnresourcemanagerhostnamehawaii 2015-06-01 190943758 INFO main sqoopSqoopRunner SqoopRunnerjavasetConfigurationProperty168 - Setting configuration property yarnresourcemanageraddresshawaii8050 2015-06-01 190943758 INFO main sqoopSqoopRunner SqoopRunnerjavasetConfigurationProperty168 - Setting configuration property yarnresourcemanagerscheduleraddresshawaii 2015-06-01 190943758 INFO main sqoopSqoopRunner SqoopRunnerjavasetConfigurationProperty168 - Setting configuration property mapreduceframeworknameyarn 2015-06-01 190943758 INFO main sqoopSqoopRunner SqoopRunnerjavasetConfigurationProperty168 - Setting configuration property mapreducejobhistoryaddresshawaii 2015-06-01 190943760 INFO main sqoopSqoopRunner SqoopRunnerjavacreateConfiguration158 - Setting configuration property yarnresourcemanagerscheduleraddresshawaii8030 2015-06-01 190943760 INFO main sqoopSqoopRunner SqoopRunnerjavacreateConfiguration158 - Setting configuration property mapreduceapplicationclasspathPWDmr-frameworkhadoopsharehadoopmapreducePWDmr-frameworkhadoopsharehadoopmapreducelibPWDmr-frameworkhadoopsharehadoopcommonPWDmr-frameworkhadoopsharehadoopcommonlibPWDmr-frameworkhadoopsharehadoopyarnPWDmr-frameworkhadoopsharehadoopyarnlibPWDmr-frameworkhadoopsharehadoophdfsPWDmr-frameworkhadoopsharehadoophdfslibusrhdp2242-2hadooplibhadoop-lzo-0602242-2jaretchadoopconfsecure 2015-06-01 190943760 INFO main sqoopSqoopRunner SqoopRunnerjavacreateConfiguration158 - Setting configuration property mapreduceapplicationframeworkpathhdpapps2242-2mapreducemapreducetargzmr-framework 2015-06-01 190944141 INFO main sqoopSqoop Sqoopjava92 - Running Sqoop version 145 2015-06-01 190944691 INFO main managerSqlManager SqlManagerjavainitOptionDefaults98 - Using default fetchSize of 1000 2015-06-01 190944691 INFO main toolCodeGenTool CodeGenTooljavagenerateORM92 - Beginning code generation 2015-06-01 190945057 INFO main managerSqlManager SqlManagerjavaexecute749 - Executing SQL statement SELECT t FROM XDJOBREGISTRY AS t WHERE 10 2015-06-01 190945074 INFO main managerSqlManager SqlManagerjavaexecute749 - Executing SQL statement SELECT t FROM XDJOBREGISTRY AS t WHERE 10 2015-06-01 190945148 INFO main ormCompilationManager CompilationManagerjavafindHadoopJars94 - HADOOPMAPREDHOME is usrhdp2242-2hadoop-mapreduce 2015-06-01 190945230 ERROR main ormCompilationManager CompilationManagerjavacompile184 - It seems as though you are running sqoop with a JRE 2015-06-01 190945230 ERROR main ormCompilationManager CompilationManagerjavacompile185 - Sqoop requires a JDK that can compile Java code 2015-06-01 190945230 ERROR main ormCompilationManager CompilationManagerjavacompile186 - Please install a JDK and set JAVAHOME to use it 2015-06-01 190945232 ERROR main toolImportTool ImportTooljavarun609 - Encountered IOException running import job javaioIOException Could not start Java compiler at orgapachesqoopormCompilationManagercompileCompilationManagerjava187 at orgapachesqooptoolCodeGenToolgenerateORMCodeGenTooljava97 at orgapachesqooptoolImportToolimportTableImportTooljava478 at orgapachesqooptoolImportToolrunImportTooljava601 at orgapachesqoopSqooprunSqoopjava143 at orgapachehadooputilToolRunnerrunToolRunnerjava70 at orgapachesqoopSqooprunSqoopSqoopjava179 at orgapachesqoopSqooprunToolSqoopjava218 at orgspringframeworkxdsqoopSqoopRunnermainSqoopRunnerjava87 code,0
As a developer Id like to add documentation on escape quotes so when someone using Sqoop job can double escape N instead of sending quotes N to successfully submit the job,1
Combine JobDefinition info and BatchJobInfo endpoints Currently jobsdefinitions and batchjobs offer similar info related to the job configuration info The former comes from ZKJobDefinitionRepository while the latter comes from Batch Job Repository We need to combine this together so that it is not confusing to the end user,0
RabbitMQ Message bus RabbitMQ SourceSinks are throwing exceptions I believe it is being cause by the following PR XD-2381 Split MessageBus and Analytics dependencies from DIRT PR 1307 SHA 8d28b2786acbdea1617d7e903b805e5af5369b90 RabbitMQ Sink is throwing noformat 094416031 110SNAP ERROR DeploymentsPathChildrenCache-0 bootSpringApplication - Application startup failed orgspringframeworkbeansfactoryxmlXmlBeanDefinitionStoreException Line 19 in XML document from class path resource configrabbitxml is invalid nested exception is orgxmlsaxSAXParseException lineNumber 19 columnNumber 53 cvc-complex-type322 Attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadBeanDefinitionsXmlBeanDefinitionReaderjava399 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava336 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava304 orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava180 orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava138 orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava127 orgspringframeworkbootSpringApplicationloadSpringApplicationjava620 orgspringframeworkbootSpringApplicationrunSpringApplicationjava315 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava211 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by orgxmlsaxSAXParseException lineNumber 19 columnNumber 53 cvc-complex-type322 Attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter comsunorgapachexercesinternalutilErrorHandlerWrappercreateSAXParseExceptionErrorHandlerWrapperjava198 comsunorgapachexercesinternalutilErrorHandlerWrappererrorErrorHandlerWrapperjava134 comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava437 comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava368 comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava325 comsunorgapachexercesinternalimplxsXMLSchemaValidatorXSIErrorReporterreportErrorXMLSchemaValidatorjava458 comsunorgapachexercesinternalimplxsXMLSchemaValidatorreportSchemaErrorXMLSchemaValidatorjava3237 comsunorgapachexercesinternalimplxsXMLSchemaValidatorprocessAttributesXMLSchemaValidatorjava2714 comsunorgapachexercesinternalimplxsXMLSchemaValidatorhandleStartElementXMLSchemaValidatorjava2056 comsunorgapachexercesinternalimplxsXMLSchemaValidatoremptyElementXMLSchemaValidatorjava766 comsunorgapachexercesinternalimplXMLNSDocumentScannerImplscanStartElementXMLNSDocumentScannerImpljava356 comsunorgapachexercesinternalimplXMLDocumentFragmentScannerImplFragmentContentDrivernextXMLDocumentFragmentScannerImpljava2786 comsunorgapachexercesinternalimplXMLDocumentScannerImplnextXMLDocumentScannerImpljava606 comsunorgapachexercesinternalimplXMLNSDocumentScannerImplnextXMLNSDocumentScannerImpljava117 comsunorgapachexercesinternalimplXMLDocumentFragmentScannerImplscanDocumentXMLDocumentFragmentScannerImpljava510 comsunorgapachexercesinternalparsersXML11ConfigurationparseXML11Configurationjava848 comsunorgapachexercesinternalparsersXML11ConfigurationparseXML11Configurationjava777 comsunorgapachexercesinternalparsersXMLParserparseXMLParserjava141 comsunorgapachexercesinternalparsersDOMParserparseDOMParserjava243 comsunorgapachexercesinternaljaxpDocumentBuilderImplparseDocumentBuilderImpljava347 orgspringframeworkbeansfactoryxmlDefaultDocumentLoaderloadDocumentDefaultDocumentLoaderjava76 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadDocumentXmlBeanDefinitionReaderjava429 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadBeanDefinitionsXmlBeanDefinitionReaderjava391 30 more 094416036 110SNAP ERROR DeploymentsPathChildrenCache-0 serverDeploymentListener - Exception deploying module orgspringframeworkbeansfactoryxmlXmlBeanDefinitionStoreException Line 19 in XML document from class path resource configrabbitxml is invalid nested exception is orgxmlsaxSAXParseException lineNumber 19 columnNumber 53 cvc-complex-type322 Attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadBeanDefinitionsXmlBeanDefinitionReaderjava399 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava336 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava304 orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava180 orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava138 orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava127 orgspringframeworkbootSpringApplicationloadSpringApplicationjava620 orgspringframeworkbootSpringApplicationrunSpringApplicationjava315 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava211 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by orgxmlsaxSAXParseException lineNumber 19 columnNumber 53 cvc-complex-type322 Attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter comsunorgapachexercesinternalutilErrorHandlerWrappercreateSAXParseExceptionErrorHandlerWrapperjava198 comsunorgapachexercesinternalutilErrorHandlerWrappererrorErrorHandlerWrapperjava134 comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava437 comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava368 comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava325 comsunorgapachexercesinternalimplxsXMLSchemaValidatorXSIErrorReporterreportErrorXMLSchemaValidatorjava458 comsunorgapachexercesinternalimplxsXMLSchemaValidatorreportSchemaErrorXMLSchemaValidatorjava3237 comsunorgapachexercesinternalimplxsXMLSchemaValidatorprocessAttributesXMLSchemaValidatorjava2714 comsunorgapachexercesinternalimplxsXMLSchemaValidatorhandleStartElementXMLSchemaValidatorjava2056 comsunorgapachexercesinternalimplxsXMLSchemaValidatoremptyElementXMLSchemaValidatorjava766 comsunorgapachexercesinternalimplXMLNSDocumentScannerImplscanStartElementXMLNSDocumentScannerImpljava356 comsunorgapachexercesinternalimplXMLDocumentFragmentScannerImplFragmentContentDrivernextXMLDocumentFragmentScannerImpljava2786 comsunorgapachexercesinternalimplXMLDocumentScannerImplnextXMLDocumentScannerImpljava606 comsunorgapachexercesinternalimplXMLNSDocumentScannerImplnextXMLNSDocumentScannerImpljava117 comsunorgapachexercesinternalimplXMLDocumentFragmentScannerImplscanDocumentXMLDocumentFragmentScannerImpljava510 comsunorgapachexercesinternalparsersXML11ConfigurationparseXML11Configurationjava848 comsunorgapachexercesinternalparsersXML11ConfigurationparseXML11Configurationjava777 comsunorgapachexercesinternalparsersXMLParserparseXMLParserjava141 comsunorgapachexercesinternalparsersDOMParserparseDOMParserjava243 comsunorgapachexercesinternaljaxpDocumentBuilderImplparseDocumentBuilderImpljava347 orgspringframeworkbeansfactoryxmlDefaultDocumentLoaderloadDocumentDefaultDocumentLoaderjava76 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadDocumentXmlBeanDefinitionReaderjava429 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadBeanDefinitionsXmlBeanDefinitionReaderjava391 noformat Rabbit Message Bus is throwing noformat 101404678 110SNAP INFO DeploymentSupervisor-0 serverStreamDeploymentListener - Deployment status for stream foo DeploymentStatusstatefailederrorsorgspringframeworkamqpUncategorizedAmqpException javalangIllegalArgumentException interface orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerContainerDelegate is not visible from class loader orgspringframeworkamqprabbitsupportRabbitExceptionTranslatorconvertRabbitAccessExceptionRabbitExceptionTranslatorjava66 orgspringframeworkamqprabbitconnectionRabbitAccessorconvertRabbitAccessExceptionRabbitAccessorjava110 orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerinitializeAbstractMessageListenerContainerjava426 orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerafterPropertiesSetAbstractMessageListenerContainerjava385 orgspringframeworkxddirtintegrationrabbitRabbitMessageBusdoRegisterConsumerRabbitMessageBusjava367 orgspringframeworkxddirtintegrationrabbitRabbitMessageBusbindConsumerRabbitMessageBusjava308 orgspringframeworkxddirtpluginsAbstractMessageBusBinderPluginbindMessageConsumerAbstractMessageBusBinderPluginjava183 orgspringframeworkxddirtpluginsAbstractMessageBusBinderPluginbindConsumerAndProducersAbstractMessageBusBinderPluginjava138 orgspringframeworkxddirtpluginsstreamStreamPluginpostProcessModuleStreamPluginjava73 orgspringframeworkxddirtmoduleModuleDeployerpostProcessModuleModuleDeployerjava238 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava218 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by javalangIllegalArgumentException interface orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerContainerDelegate is not visible from class loader javalangreflectProxyProxyClassFactoryapplyProxyjava616 javalangreflectProxyProxyClassFactoryapplyProxyjava592 javalangreflectWeakCacheFactorygetWeakCachejava244 javalangreflectWeakCachegetWeakCachejava141 javalangreflectProxygetProxyClass0Proxyjava455 javalangreflectProxynewProxyInstanceProxyjava738 orgspringframeworkaopframeworkJdkDynamicAopProxygetProxyJdkDynamicAopProxyjava121 orgspringframeworkaopframeworkJdkDynamicAopProxygetProxyJdkDynamicAopProxyjava111 orgspringframeworkaopframeworkProxyFactorygetProxyProxyFactoryjava96 orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerinitializeProxySimpleMessageListenerContainerjava586 orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerdoInitializeSimpleMessageListenerContainerjava612 orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerinitializeAbstractMessageListenerContainerjava424 28 more noformat,0
Add support for tab completion in shell As an s-c-d user Id like to have tab completion on shell so I can interact with the modules and its available options,0
As a PM Id like to have XD and XD Ambari RPM scripts into a single public repo so that users can go to a single location to use the respective build scripts,3
As a s-c-s user Id like to search the modules by its name aside from the default springapplicationname offered by boot so I can also fetch modules by its name,2
Update Processors JSON Field Extractor section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmljson-field-extractor,0
Placeholder for LatticeDiego POC 2,0
As a QA Id like to include acceptance test coverage for analytic-pmml processor module so that I can validate the functionality as part of every CI build,3
As a user Id like to add the Hadoop namenode specifics in a config file so that I dont have to incur the hassle of pointing to the namenode location every time I open a new DSL session but it is automatically configured,3
Additional REST endpoint not working with security enabled I see the following error from the Admin UI GET httplocalhost9393jobsexecutions4steps4progressjson 403 Forbidden,0
Update build to use SHDP 220RC1,0
UX enhancements for trigger source Add early validation for cron expression Ease validation of maxOneatLeastOne mutually exclusive options,0
SI Outbound HDFS Channel Adapter,0
Upgrade to Spring Data Redis 110RELEASE,0
Documentation for using a specific Hadoop distribution Show how to select a specific hadoop distribution when starting embeddedstandalone XDContainer,0
add discardDeletes property to twitterstream source If truedefault filter for delete messages in the twitter stream and route to a discard channel This creates a twitter stream including only new tweets and no references to deleted ones,0
As a developer Id like to move serialization codec from Spring XD repo into SI so I can update Spring XD to inherit the featuresfunctionalities via maven dependency,2
Create general structure for AsciiDoc based wiki and Spring XD guide Adopt Asciidoc as the markdown syntax useful for generating pdf and more feature rich than standard github flavored markdown Loosely following the conventions of httpscommunityjbossorgwikiTheHolyGrailAsciiDocOnGitHubToDocBookTrain that have generate docbookpdf docs from the Asciidoc wiki The asciidoctor project is a key element in the adoption of AsciiDoc for use as the format in github it is the rendering engine used by github for AsciiDoc See httpasciidoctororgdocsasciidoc-writers-guide for guidance,0
Upgrade to Spring Boot 125 Spring Boot 124 and earlier does not allow for the retrieval of boolean values from the vcap environment This means that when XD Admin tries to retrieve the value of for example vcapservicesrabbitmqcredentialsprotocolsamqpssl it will fail as that value returns a boolean Spring Boot 125 as yet unreleased contains a fix for this issue httpsgithubcomspring-projectsspring-bootpull3237,0
Create documentation for Batch DB migration Update documentation related to database migration with the changes from XD-1822,0
Fix package tangles Sonar build is currently failing,0
Provided modules should be integration tested I dont see that we have automated tests for the modules we provide out-of-the-box We could make the modules folder an Eclipse project which would also help solve XD-198 and add some integration tests similar to those documented here httpsgithubcomSpringSourcespring-xdwikiCreating-Custom-Modules,0
Refactor StreamUtils in Acceptance Tests 1StreamUtils should be removed in that static util classes are frowned upon and its functionality should be placed in the appropriate classes 2 XdEnvironment - Many classes use this to obtain Environment variables The environment variables should be obtained via Value in the classes that they are required Only those values that require special setup ssh private key Connection factories should remain in XdEnvironment,0
Add Spring Batch word-count Sample to Spring XD Samples repo,0
add file source and sink modules,0
Provide job repository creation schema for additonal databases oracle gemfire xd derby should be the dialect and sybase,0
Add parameter information to application definition A ModuleDefinition contains parameters which need to be passed to the CloudFoundry application Currently these are put directly into the applications environment This issue will verify they are correctly named,0
As a user Id like to push the custom module built as uber-jar via a REST API so that I can install the custom module in cluster,8
Increase Exit Description Text field on Job Execution Process step page The Step Execution Process httplocalhost9393admin-uijobsexecutions3852 page should list more lines of text for Exit Description field to make sense of error messages Scope Investigate how much information can be collected directly from the ExecutionContext It may be dependent on the error types Lets have the observation documented to decide next steps,0
xd-admin server to --transport as an option --transport as an alias for --controlTransport,0
Gemfire Sink to update a gemfire cache Update a gemfire region,0
Implement a Spark Streaming Receiver that binds to the MessageBus,0
XD Shell support for accessing HA namenode We need a convenient way for the shell to access a HA namenode,0
Support for common use cases using quartz,0
Change url to access UI from browser Currently the url for accessing the XD UI is httplocalhost8080admin-uiindexhtml This feels messy and dated We should be able to access the ui without explicitly including the indexhtml like this code httplocalhost8080admin-ui code,0
Add to Acceptance Test EC2 CI build plan a stage that stops any existing CI EC2 deployments Add a stage to the plan that will stop any instances that the CI process may have started before and relaunch a 2 node install based on rabbit httpsbuildspringsourceorgbrowseXD-ATEC2 was created as an empty shell The running of across different transports will be handled in a separate story along with adding a stage to run a hello world acceptance test,0
Remove Hadoop v1 support Going forward it seems that providing Hadoop v1 will be of lesser importance and we might as well drop it now SHDP 21 will also drop any v1 support Remove support for - hadoop12 - Apache Hadoop 121 - cdh4 - Cloudera CDH 460 - hdp13 - Hortonworks Data Platform 13 Keep - hadoop22 - Apache Hadoop 220 default - phd1 - Pivotal HD 11 - phd20 - Pivotal HD 20 - cdh5 - Cloudera CDH 500 - hdp21 - Hortonworks Data Platform 21 This should make configuration and documentation easier too Not to mention testing This affects startup scripts and the shell plus the build script,0
Update spring-data-hadoop dependency and add new Hadoop distros Update to Spring for Apache Hadoop 20 RC3 Add support for new hadoop distros - Pivotal HD 20 phd20 - Hortonworks HDP 21 hdp21 - Cloudera CDH5 cdh5,0
As a s-c-s developer Id like to setup CI builds for s-c-s builds so I can incrementally build and test code commits automatically,3
As a user Id like to have the option of SOLR sink so that I can perform full-text indexing and search through SOLR backend server,5
REST - Listing of FieldValueCounter not working httplocalhost8080metricsfield-value-counters code errors xmlnsatomhttpwwww3org2005Atom error logrefHttpMessageNotWritableException message Could not marshal PagedResource content links httplocalhost8080metricsfield-value-countershashtagsrelself metadata Metadata number 0 total pages 1 total elements 1 size 0 links null nested exception is javaxxmlbindMarshalException - with linked exception comsunistackSAXException2 unable to marshal type orgspringframeworkxdrestclientdomainmetricsMetricResource as an element because it is not known to this context message error errors code,0
As a follow up to XD-2877 experiment with the removal of the list of modules from BaseDefinition and reparse as needed Branch is here httpsgithubcompperaltaspring-xdtreedeploy-refactor-2,8
As a user Id like to have the ability to use expressions so I can dynamically name directoriesfiles based on the timestamp or other intermediate data point,5
As a Spring XD developer Id like to port filter module from XD to s-c-s repo so I can use it as processor module to build streaming pipeline,2
Complete Camera Ready DEBS submission Complete and submit DEBS 2015 paper as described here httpwwwdebs2015orgcamera-ready-instructionshtml,0
Encrypt secret information in XD configuration files Spring XD keeps passwords in text files such sas serversyml properties files and module configuration files Some users have requested a way to store encrypted values rather than clear text XD should provide a hook for users to provide a custom component to detect encrypted property values and decrypt them during container admin and module initialization,0
Eclipse build path error after running gradle - refresh source folders in Eclipse After running gradle - refresh source folders on the spring-xd-module project in Eclipse there is an error because the srctestjava folder is missing Solution is to add a placeholder file,0
Gemfire Source Acceptance Test Deploy XD Sample Gemfire on Utility Machine Deploy stream with gemfire as a source Create a stream stream2 with gemfire-server as a sink Send data to stream 2 and verify that the data has been received by gemfire source Update CI tests to increase heap to support gemfire tests,0
As a user Id like to have a Python processor so that I can efficiently perform data computations and statistical analysis Investigate the right approach native or via stdinstdout that fits Spring XD model Integrate Java and PythonhttpswikipythonorgmoinIntegratingPythonWithOtherLanguagesJava,8
Update Documentation Link code - -- V -- 111RELEASE eXtreme Data Started ContainerServerApplication Documentation httpsgithubcomspring-projectsspring-xdwiki code This should probably be changed to Documentation httpdocsspringiospring-xddocs111RELEASEreferencehtml,0
Build needs to override XD environment variables export XDHOMEfoo gradle clean test build fails Need to detected environment variables and override for the build,0
Admin leader election issue when using different management port When the admin is started with the different management port default is the same as that of admin http port then the leadership is requested when the management context is setup The leadership election should happen only using the Admin server application context With this the following exception is thrown when deployment requests are handled 2015-03-24 214826340 120SNAP ERROR DeploymentSupervisor-0 queueDistributedQueue - Exception processing queue item queue-0000000004 orgspringframeworkxddirtserveradmindeploymentDeploymentException testStream orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerundeployResourceAbstractInstancePersistingDeployerjava164 orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerundeployAbstractInstancePersistingDeployerjava83 orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerundeployAllAbstractInstancePersistingDeployerjava109 orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerdeleteAllAbstractInstancePersistingDeployerjava117 orgspringframeworkxddirtserveradmindeploymentzkDeploymentMessageConsumerprocessDeploymentMessageDeploymentMessageConsumerjava115 orgspringframeworkxddirtserveradmindeploymentzkDeploymentMessageConsumerconsumeMessageDeploymentMessageConsumerjava73 orgspringframeworkxddirtserveradmindeploymentzkDeploymentMessageConsumerconsumeMessageDeploymentMessageConsumerjava43 orgapachecuratorframeworkrecipesqueueDistributedQueueprocessMessageBytesDistributedQueuejava678 orgapachecuratorframeworkrecipesqueueDistributedQueueprocessNormallyDistributedQueuejava712 orgapachecuratorframeworkrecipesqueueDistributedQueueaccess300DistributedQueuejava65 orgapachecuratorframeworkrecipesqueueDistributedQueue5runDistributedQueuejava629 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by javalangIllegalArgumentException Module deployment request path cache shouldnt be null orgspringframeworkutilAssertnotNullAssertjava112 orgspringframeworkxddirtserveradmindeploymentzkZKDeploymentHandlerundeployZKDeploymentHandlerjava81 orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerundeployResourceAbstractInstancePersistingDeployerjava161 17 more,0
Provide more options for the MongoDB Sink See the SO question on the matter httpstackoverflowcomquestions28280206how-can-i-use-authentication-in-mongo-sink,0
Update Shell to support tasks h2 Narrative As a user I need to be able to deploy a task boot jar via the CLI h2 Back story Since the concept of jobs as an explicit primitive within Spring XD is going away in spring-cloud-data the shell needs to be updated to reflect that,0
filepollhdfs documentation needs to be updated with all of the options available currently the documentation only shows the --name as an option Review the FilePollHdfsJobOptionsMetadata to find all the available options,0
REST API for DSL completion should allow extension The REST API for DSL completion currently returns a ListString This prevents future backwards compatible extension Should change to ListCompletion where Completion has eg a text property,0
Move JMX Endpoints from jolokia to managementjolokia Update code to use the managementjolokia endpoint,0
Container Launcher id is not unique XD containers id is set to use its application context id which is derived from vcapapplicationnamespringapplicationnamespringconfignameapplicationvcapapplicationinstanceindexspringapplicationindexserverportPORTnull With the default valuesthe PORT is not set and embedded tomcat uses local port the launcher id is set to application0 When I have multiple launchers then all the launchers have the same id as application0 which doesnt seem correct Do we need to use the Id that is generated at the XDContainers constructor here public XDContainer thisid UUIDrandomUUIDtoString,0
Tap lifecycle connection listener should close the tap path children cache upon ZK disconnect Currently TapLifecycleConnectionListener which implements ZooKeeperConnectionListener clearsbut not closes the taps PathChildrenCache upon ZK onDisconnect child event Since onConnect child event re-creates the tap PathChildrenCache the previously created PathChildrenCache is still hanging in there I would be better to close the cache upon disconnect,0
Allow the value of xdmodulenumber to be used as property placeholder value This will allow us to use multiple instances of hdfsfile sinks and not have any filenamepath collisions,0
Inconsistent Handling of Inherited serversyml Properties Some modules inherit applicationyml serversyml via a properties file in configmodules others have the values defined in the OptionsMetadata classes Switch all modules to use the latter technique for consistency,0
Dynamic router should allow to discard messages Currently dynamic router sink has to return a valid queue name This is problematic when the message should be discarded as part of the routing process In this case one have to define a stream with filter router steps where part of the SpEL is duplicated between filter and router modules Instead the dynamic router should allow to return null to discard the message and stop further processing Spring Integration is already providing resolution-required attribute on router,0
As a developer Id like to have the high-level description for each of the modules so that I can use the description presumably what is captured in javadoc for the module definition to understand the purpose of the module itself,3
JDBC Source Acceptance Tests,0
If output directory does not exist for a file sink by default allow it to be created There shouldnt be a need to do a mkdir -p before sending data to a file sink,0
Make the parser aware of message conversion configuration Enhance the stream parser to take message conversion into account in order to validate or automatically configure converters For example noformatnopaneltrue source --outputTypemyFoo sink --inputTypesomeotherBar is likely invalid since XD doesnt know how to convert Foo-Bar noformat,0
As a user I should be able to use the existing admin UI client for spring-cloud-data admin with the appropriate server configurations,2
Update Jobs documentation to include job launch command This is currently missing and probably supersedes some of the stuff thats in there now,0
As a developer Id like a job module to be bootstrapped when the job is launched and shut down once it is complete instead of the current behavior of bootstrapping the context when the module is deployed regardless of if its being used so that I can achieve better resource utilization,8
Spark streaming Module executor use getMessageBuilderFactorybeanFactory We need to use getMessageBuilderFactorybeanFactory to initialize MessageBuilder in Spark Streaming module executor Please see the discussion httpsgithubcomspring-projectsspring-xdpull1454filesr24367825,0
Expose status for each job within the composition h2 Narrative As the xd user I would like a way obtain the result of each child job as it is represented as a step in the parent jobs graph h2 Back story Each child job will have a completion status of its own that will be displayed in the Spring XD UI as well as the shells job execution list,0
More DSL work hooking up stream directory Following stream parsing there is now a stream resolution stage that chases down substream references and fills in parameterization The lookup of streams is done through implementors of the StreamLookupEnvironment interface Currently the parser implements this itself but it is really a job for the stream directory The parser implementation doesnt know about stream deletions for example so may still resolve streams that no longer exist,0
Spike for advanced Job Orchestration features,0
Using custom classes for module properties leads to ClassNotFoundException Attached is module properties file Both custom Java classes referenced in the properties are available in the JAR file under SPRINGXDHOMExdmodulethe-modulelib directory Following exception is thrown code62603064 102RELEASE ERROR http-nio-9393-exec-4 restRestControllerAdvice - Caught exception while handling a request javalangIllegalStateException Cant find class used for type of option binding comemcitdsrtdspringxdbindingBindingStrategy orgspringframeworkxdmoduleoptionsDefaultModuleOptionsMetadataResolvermakeSimpleModuleOptionsDefaultModuleOptionsMetadataResolverjava137 orgspringframeworkxdmoduleoptionsDefaultModuleOptionsMetadataResolverresolveNormalMetadataDefaultModuleOptionsMetadataResolverjava193 orgspringframeworkxdmoduleoptionsDefaultModuleOptionsMetadataResolverresolveDefaultModuleOptionsMetadataResolverjava154 orgspringframeworkxdmoduleoptionsDelegatingModuleOptionsMetadataResolverresolveDelegatingModuleOptionsMetadataResolverjava44 orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverresolveEnvironmentAwareModuleOptionsMetadataResolverjava127 orgspringframeworkxddirtstreamXDStreamParserparseXDStreamParserjava173 orgspringframeworkxddirtstreamAbstractDeployersaveAbstractDeployerjava95 orgspringframeworkxddirtrestXDControllersaveXDControllerjava223 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeInvocableHandlerMethodjava215 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava132 orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava104 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava749 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava689 orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava83 orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava938 orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava870 orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava961 orgspringframeworkwebservletFrameworkServletdoPostFrameworkServletjava863 javaxservlethttpHttpServletserviceHttpServletjava646 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava837 javaxservlethttpHttpServletserviceHttpServletjava727 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava303 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterInternalWebRequestTraceFilterjava110 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextHeaderFilterdoFilterInternalEndpointWebMvcAutoConfigurationjava280 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworksecuritywebFilterChainProxydoFilterInternalFilterChainProxyjava186 orgspringframeworksecuritywebFilterChainProxydoFilterFilterChainProxyjava160 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava88 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava89 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgapachecatalinacoreStandardWrapperValveinvokeStandardWrapperValvejava220 orgapachecatalinacoreStandardContextValveinvokeStandardContextValvejava122 orgapachecatalinaauthenticatorAuthenticatorBaseinvokeAuthenticatorBasejava501 orgapachecatalinacoreStandardHostValveinvokeStandardHostValvejava171 orgapachecatalinavalvesErrorReportValveinvokeErrorReportValvejava103 orgapachecatalinacoreStandardEngineValveinvokeStandardEngineValvejava116 orgapachecatalinaconnectorCoyoteAdapterserviceCoyoteAdapterjava408 orgapachecoyotehttp11AbstractHttp11ProcessorprocessAbstractHttp11Processorjava1070 orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava611 orgapachetomcatutilnetNioEndpointSocketProcessordoRunNioEndpointjava1736 orgapachetomcatutilnetNioEndpointSocketProcessorrunNioEndpointjava1695 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 orgapachetomcatutilthreadsTaskThreadWrappingRunnablerunTaskThreadjava61 javalangThreadrunThreadjava745code Please see attached patch file this seems to be enough to resolve the problem,0
Return full ModuleInstanceStatus information Currently there is no ModuleInstanceStatus returned This issue will fill in the details,0
Update JClouds to 18 For XD-EC2 Update to replace deprecated code,0
As a developer Id like to setup a performance testing infrastructure rackspace so I can start benching Kafka baselines and continue with XD use-cases,8
Out of the box batch jobs should add xdJobExecutionListener and xdStepExecutionListener To show best practice our batch jobs should include these listeners so that notifications can be sent In particular it is desirable that jobs with file item readers can send the files that were processed so another stream can be sent the file name when the job completes to movedelete the file,0
Accept any file name for top level module resources Expecting module-name in module configuration is brittle especially in conjunction with module upload command which permits the module to be registered under a different name The convention should be dropped in favor of any file name This requires at most one fooxml foogroovy andor fooproperties in the top level config folder It is an exception if multiples are found Accepting any file name provides the most flexibility without sacrificing backward compatibility except in rare cases in which a module developer may have violated the multiple xml or properties files condition An alternate approach requiring a well known file name such as spring-module were rejected over concerns that it would break any existing custom module implementations,0
Parameter parsing does not work if an argument contains -- Parameter parsing does not work if an argument contains -- For example code transform --expression42 transform --expression--payload code Also I was surprised that this worked code transform --expressionnew StringBuilderpayloadreverse code but this didnt code transform --expressionnew StringBuilderpayloadreverse code I think we need to tokenize the argument with if contains spaces and remove any surrounding from the result This means if someone wants a SpEL literal they would have to use something like code--expressionHello worldcode resulting in a SpEL literal Hello world,0
Downgrade reactor based modules to reactor 1x GA Can revert part of the commit that went into upgrading to reactor 20 httpsgithubcomspring-projectsspring-xdpull1342files,0
Research approach to bootstrap custom modules Design Spike Investigate various approaches to bootstrap custom modules Can Spring Boot be leveraged Starter POM,0
UI User should be able to schedule a job from Deployed jobs page From the Deployed jobs page by clicking the Schedule button on a specific deployed job row user should be able to schedule this job with 1 Cron trigger with cron expression as a source to job launching named channel 2 Fixed ratedelay trigger as a source to job launching named channel,0
XD should run offline Trying to run XD offline results in an error in redisxml because the cloudfoundry schema file is missing We need to add the cf-runtime jar to the classpath to resolve this,0
Add test cases for DefaultContainerMatcher,0
Jobs are created even though they have an invalid definition Also if you deploy the Job it will fail but then you cant delete the job,0
Have the REST info about a module advertise enum properties When a ModuleOption is backed by an enum change the currently String type representation to be the possible values ie javalangString - String but trafficLight - Red Green Orange,0
Update to spring-data-hadoop 200M5 Update to spring-data-hadoop 200M5 when it is released and remove the temporary DatasetTemplateAllowingNulls in spring-xd-hadoop We should also review the supported hadoop distros - think we should support anything that is currentstable - hadoop12 - hadoop22 - phd1 PHD 11 - hdp13 - hdp20 - cdh4,0
Upgrade to Gradle 22,0
SpelParseException is thrown when using empty string inside of an expression I can only reproduce this when using single quotes around the expression code stream create test --definition http transform --expressionpayloadreplaceabc log --deploy true code The following two alternatives work fine though code Using trim on a single space stream create test --definition http transform --expressionpayloadreplaceabc trim log --deploy true Not using single quotes or spaces in the expression stream create test --definition http transform --expressionpayloadreplaceabc log --deploy true code,0
Update spring-data-hadoop version to 210M3,0
Add SFTP Gateway and Batch Partitioner to ListProcess Remote Files,0
Documentation for http gemfire processing Put on the guide as a section in an input-stream wiki page,0
Upgrade to spring-data-hadoop 101RC1 spring-data-hadoop 101RC1 provides flavors for commonly used Hadoop distrosversions and we should make use of that,0
Compute progress information for job composition As an XD user Id like to see an aggregated progress bar for a job that is embeds multiple jobs within itself,0
Expose bean settings as configuration options to the Kafka source and bus,0
Cant access HDFS using webhdfs protocol httplocalhost8080hadoop config fs --namenode webhdfslocalhost50070 httplocalhost8080hadoop fs ls Hadoop configuration changed re-initializing shell run HDFS shell failed Message is orgmortbayutilajaxJSON This was on a hadoop 101 install The hdfs http interface was available curl -i httplocalhost50070webhdfsv1tmpopGETFILESTATUS HTTP11 200 OK Content-Type applicationjson Transfer-Encoding chunked Server Jetty6126 FileStatusaccessTime0blockSize0groupsupergrouplength0modificationTime1365015846724ownermpollackpathSuffixpermission777replication0typeDIRECTORY,0
Cannot undeploy stream that was created and deployed with a in the name eserrano-mbpspring-xd-100M5 eserrano shellbinxd-shell - -- V -- eXtreme Data 100M5 Admin Server Target httplocalhost9393 Welcome to the Spring XD shell For assistance hit TAB or type help xdstream list Stream Name Stream Definition Status ------------- --------------------------------------------------------- -------- eesstreamlog http transform --expressionpayloadtoUpperCase log deployed httptest http file tictac time log xdstream stream all stream create stream deploy stream destroy stream list stream undeploy xdstream undeploy --name stream undeploy --name required --name the name of the stream to un-deploy no default value xdstream undeploy --name eesstreamlog Command failed orgspringframeworkxdrestclientimplSpringXDException The stream named eesstream is not currently deployed xd,0
Create tests to load the standard runtime app context configurations The basic launch configurations should be tested automatically to ensure that startup scripts and launch arent broken by changes,0
Create an FTP tasklet to get remote files and put them in the local file system This is along the lines of what is in this blog post httpcoreyreilwordpresscom20121221spring-batch-creating-an-ftp-tasklet-to-get-remote-files Note that there have been some new developments in SI to get at the underlying stream for FTP The way to test this is to create a new batch job in XD that has this as its tasklet Going forward the target file system will also be HDFS,0
Consider usage of jackson afterburner see httpsgithubcomFasterXMLjackson-module-afterburner,0
User wants ability to test multiple processors in a chain,0
Move shell integration tests to spring-cloud-data shell This could focus only on the subset Stream operations,0
Update twitterSearchTest to handle the latest release of twitterSearch The changes to twitterSearch means that it will send multiple messages during the duration of the test To support these changes 1 Remove assertReceived Since the number of messages is indeterminate 2 Change file sink that captures the results to append mode Because each message will overwrite the previous messages result,0
Update spring-data-hadoop version to 200RC4 Update spring-data-hadoop version to 200RC4 and make necessary changes to the YARN configuration,0
As a user Id like to have the flexibility to specify config options for IP and Hostname so that I can list the correct configuration for XD Admin and XD Container servers in the Admin-UI and Shell,1
Log version number in log files When answering support questions the first step is to determine what version of the software the customer is using This question can be easily answered if we log the version as one of the fields in the log file For example noformat 104421212 102BUILD-SNAPSHOT INFO DeploymentSupervisorCacheListener-0 serverContainerListener - Container arrived Containername431baa56-b23b-48fc-b37d-18b52231e799 attributesip19216825177 hostPatrick-Peralta-MacBook-Prolocal groups pid38004 id431baa56-b23b-48fc-b37d-18b52231e799 noformat This way when we receive log snippets initial support inquires rarely include the entire log file we can immediately determine if the issue has already been fixed in a later release,0
As a QA Id like to include acceptance test coverage for aggregator processor module so that I can validate the functionality as part of every CI build,3
Provide a easy prescriptive means to perform unit and basic stream integration tests AbstractSingleNodeStreamDeploymentIntegrationTests is the basis of state of the art testing for a stream that allows you to get a reference to the input and output channel of the stream http filter transform file One can send messages to the channel after the http module but before filter and one can retrieve the messages that were sent to the channel after the transform module but before file The current implementation inside AbstractSingleNodeStreamDeploymentIntegrationTests can be improved in terms of ease of use for end-users The issue is to create as simple a way as possible for a user to test their processing modulesstream definitions without having to actually do a real integration test by sending data to the input module Either as a separate issue or as part of this one the documentation httpsgithubcomspring-projectsspring-xdwikiCreating-a-Processor-Module should be updated to explicitly show how to use this issues test functionality,0
Incorrect directory option described in hdfs-dataset docs Please see hdfs-dataset 102RELEASE docshttpdocsspringioautorepodocsspring-xd102RELEASEreferencehtmlhdfs-dataset-avroparquet According to docs there should be directory option in this sink but in code basePath is used,0
Investigate inconsistent Spark streaming test failure These tests fail inconsistently orgspringframeworkxdsparkstreamingLocalTransportSparkStreamingTests testTapSparkProcessor FAILED javalangAssertionError orgspringframeworkxdsparkstreamingRedisTransportSparkStreamingTests testTapSparkProcessor FAILED javalangAssertionError javalangAssertionError Expected an existing metric trying at most 20 times but failed after 201002000ms counter named random5656 did not exist,0
Investigate using profiler when doing the performance testing Investigate how efficiently we can integrate profiler into the performance test,0
Expose shutdown operation over http This will allow for a simple way to shutdown the server via an HTTP call Support for security is a separate story The end goal is to have some shell scripts distributed that can issue HTTP requests to shutdown the xd-admin and xd-container servers The newest version of Jolokia has the ability to boostrap itself inside an application context vs requiring a java agent I suspect using the application context approach will provide us with more flexibility eg property replacement etc but not sure,0
Create TCP sink module Based off SI tcp inbound adapter This will allow for event fowarding,0
Investigate throwing of exception in BatchJobRegistryBeanPostProcessor The condition that leads to this exception does not seem like it would ever occur namely the BPP processing a job deployment for a job that was already deployed to the same container,0
Create a splitter module The splitter functionality in Spring Integration should be exposed to XD as a processing module The splitter should use a SpEL expression to specify how to split the message up Implementation Suggestions This should be a simple XML based module definition that has inputoutput channels and has the SpEL expression parameterized The default value of the SpEL expression should result in the message not being split How to check it works The current file or tail input source can be used to split up the text in a file into words The tail module should be checked to see how many lines of text it will read into memory at once The file module node with the file-to-string transformer will only work for small files as it keep the whole file in memory If there is a big memory inefficiency in using the tail file input source create a new story to investigate how to have a file based input source that creates a message per line of text or something that is will not result in excessive memory usage,0
Provide XD module build plugins to upload a module Provide maven and gradle plugins to execute module upload via REST to upload and install a module to Spring XD eg mvn xdupload-module,0
Deployment manifest to support directing deployment to run on a group of servers Need some kind of hint that a given deployment is to be run on a group of servers That deployment would then be part of a partitioned work flow Another item on this would be the group that the server is running in can be added to removed dynamically The use case on this would be if the group of servers are running a max CPU capacity we can easily add another compute node Likewise we can remove a server from the group if the servers are not being fully utilized This issue is lightly linked to httpsjiraspringsourceorgbrowseXD-1337,0
As a developer Id like to have JMX turned-off by default so I can take advantage of the performance throughput benefits,1
As a s-c-d developer Id like to move kafka module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,2
Use wants the ability to persist Trigger Context,0
Kafka Profiling for Base Distributed base benchmarks,0
As a XD developer Id like to move header-enricher from modules repo to XD proper,1
Tab completion does not work for stream definition following stream create tapstreamfoo does not suggest modules,0
Create shell command for getting information on the progress of a given step execution,0
UI Add Analytics Tab,0
Update Netty to 4 Spring IO Compatibility,0
Job stuck in deploying state when no containers are available A job gets stuck in deploying state when a job is deployed when there are no containers available When a container is started after this event the job doesnt automatically start because of the job is stuck in the deploying state instead of the failed state Refer to httpsgithubcomspring-projectsspring-xdblob193088dc164c73e07d7b4509de22241b28bf42b3spring-xd-dirtsrcmainjavaorgspringframeworkxddirtserverJobDeploymentListenerjava Update of the status in Zookeeper is inside the NoContainerException catch block This works correctly for streams,0
XD Shell needs to support multiple Hadoop distros From httpsgithubcomSpringSourcespring-xdpull161 The command shell needs to also support different hadoop distribution options Perhaps the shell just uses a relative path to the location of xdlib,0
Infrastructure for RabbitMQ Cluster ECB Pre-requisite for Rabbit MQ Benchmarks Infrastructure setup Configuration changes Tool-chain setup IPerf,0
Design and document desired high level DSL for configuring data processing in XD Start to explore how the DSL can cover both advanced non-linear spring integration flows as well as spring batch jobs,0
Support completion proposals of processors after a named channel Due to the way the heuristics for module type guessing work we cant currently support completions of the like queuefoo sTAB that would yield valid processor names We need to add non-determinism list of types instead of single type to the type guessing heuristic,0
Update TypeConversion Page Need to update the examples in the TypeConversion doc re spring social Tweet which is no longer used,0
Tap XD batch Job output Currently job module only has an input channel that receives the job launching requests If we have an output channel for the job module we get the following benefits 1 The output channel reflects the JobExecution from the job launching message handlers reply channel 2 This can be different from JobExecution listeners notification channel where we would get both the beforeJob and afterJob notification 3 We can tap the output channel to send the job results to some other sinks Along with this improvement planning to do some more refactoring on the Plugins so that some of the common implementation methods are handled in the base class,0
Creating Streams sporadically using Kafka as a message bus throws TopicNotFound exception XD Version Spring XD 111Release 1 Admin on own on-metal Rackspace machine 2 Containers each having own on-metal rackspace machine 1 zookeeper node collocated with admin While executing XD performance testing on Rackspace using Kafka as a transport we occasionally get the following exception noformat 2015-03-26 183630677 111RELEASE INFO DeploymentsPathChildrenCache-0 serverDeploymentListener - Path cache event pathdeploymentsmodulesallocated4c3c9ccf-44db-4772-87c2-70c63b82c3aafoo3sinkthroughput1 typeCHILDADDED 2015-03-26 183630685 111RELEASE INFO DeploymentsPathChildrenCache-0 serverDeploymentListener - Deploying module throughput for stream foo3 2015-03-26 183630820 111RELEASE INFO DeploymentsPathChildrenCache-0 serverDeploymentListener - Deploying module ModuleDescriptor19f0b0a6 moduleName throughput moduleLabel throughput group foo3 sourceChannelName null sinkChannelName null index 1 type sink parameters mapempty children listempty 2015-03-26 183631372 111RELEASE ERROR DeploymentsPathChildrenCache-0 serverDeploymentListener - Exception deploying module orgspringframeworkintegrationkafkacoreTopicNotFoundException No topic named foo30 found orgspringframeworkintegrationkafkacoreDefaultConnectionFactorygetPartitionsDefaultConnectionFactoryjava209 orgspringframeworkxddirtintegrationkafkaKafkaMessageBuscreateKafkaConsumerKafkaMessageBusjava640 orgspringframeworkxddirtintegrationkafkaKafkaMessageBusbindConsumerKafkaMessageBusjava454 orgspringframeworkxddirtpluginsAbstractMessageBusBinderPluginbindMessageConsumerAbstractMessageBusBinderPluginjava275 orgspringframeworkxddirtpluginsAbstractMessageBusBinderPluginbindConsumerAndProducersAbstractMessageBusBinderPluginjava158 orgspringframeworkxddirtpluginsstreamStreamPluginpostProcessModuleStreamPluginjava73 orgspringframeworkxddirtmoduleModuleDeployerpostProcessModuleModuleDeployerjava238 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava218 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 noformat stream used to create the exception stream create foo4 --definition load-generator --messageSize1000 --messageCount10000000 throughput --deploy After failed deployment I destroy the stream and recreate it and it works fine,0
spring-xd services randomly report failure after correct shutdown On multiple occasions we have seen that spring-xd-container and spring-xd-admin services can exit reporting FAILED state however most of the times the Java process is correctly terminated code sudo service spring-xd-container stop Stopping xd-container FAILED ps uax grep xd-container code and in the container logs code info 20150428 094215167 EDT Distributed system shutdown hook tid0x88 VM is exiting - shutting down distributed system info 20150428 094215168 EDT Distributed system shutdown hook tid0x88 GemFireCacheid 2029162775 isClosing true isShutDownAll false closingGatewayHubsByShutdownAll false created Mon Apr 27 105934 EDT 2015 se info 20150428 094215171 EDT Distributed system shutdown hook tid0x53 VM is exiting - shutting down distributed system info 20150428 094215171 EDT Distributed system shutdown hook tid0x53 GemFireCacheid 389249684 isClosing true isShutDownAll false closingGatewayHubsByShutdownAll false created Mon Apr 27 105914 EDT 2015 ser info 20150428 094215177 EDT Distributed system shutdown hook tid0x77 VM is exiting - shutting down distributed system info 20150428 094215179 EDT Distributed system shutdown hook tid0x77 GemFireCacheid 1768828050 isClosing true isShutDownAll false closingGatewayHubsByShutdownAll false created Mon Apr 27 105927 EDT 2015 se info 20150428 094215181 EDT Distributed system shutdown hook tid0x63 VM is exiting - shutting down distributed system info 20150428 094215199 EDT Distributed system shutdown hook tid0x63 GemFireCacheid 548938309 isClosing true isShutDownAll false closingGatewayHubsByShutdownAll false created Mon Apr 27 105919 EDT 2015 serv 2015-04-28 094215410 111RELEASE DEBUG xdbusqueueradius-1 transformRadiusMsgTransformer - Transformed message GenericMessage payloadFACILITY22 SEVERITY5 TIMESTAMPTue Apr 28 094215 EDT 2015 HOSThopisepsnprd01 Messa info 20150428 094215626 EDT Distributed system shutdown hook tid0x53 Resetting original MemoryPoolMXBean heap threshold bytes 0 on pool PS Old Gen info 20150428 094215630 EDT Distributed system shutdown hook tid0x77 Resetting original MemoryPoolMXBean heap threshold bytes 0 on pool PS Old Gen info 20150428 094215621 EDT Distributed system shutdown hook tid0x88 Resetting original MemoryPoolMXBean heap threshold bytes 0 on pool PS Old Gen info 20150428 094215662 EDT Distributed system shutdown hook tid0x63 Resetting original MemoryPoolMXBean heap threshold bytes 0 on pool PS Old Gen 2015-04-28 094215854 111RELEASE WARN Thread-4 supportDisposableBeanAdapter - Invocation of destroy method failed on bean with name client-pool javalangIllegalStateException Pool could not be destroyed because it is still config 20150428 094215857 EDT Thread-4 tid0x12 Destroying connection pool client-pool config 20150428 094215897 EDT Thread-4 tid0x12 Destroying connection pool client-pool config 20150428 094215898 EDT Distributed system shutdown hook tid0x53 Destroying connection pool client-pool config 20150428 094215908 EDT Distributed system shutdown hook tid0x88 Destroying connection pool client-pool code,0
Update Sources TCP section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmltcp,0
Add dependencies needed for running a job using HBase,0
UI The user can create a new job definition by selecting a job template and providing additional configuration properties,0
REST jobsconfigurations returns 404 if one job has error There is a bug in the deployments rest end-point How to reproduce Deploy a Batch job success that for example does not all necessary libraries in the class-patch and thus causes a javalangClassNotFoundException Result You cannot retrieve the list of deployments list anymore using httplocalhost9393jobsconfigurations The rest endpoint will now report linkslogrefNoSuchBatchJobExceptionmessageBatch Job with the name myJob doesnt exist This message is not entirely wrongbut extremely misleading I think we should still return the entire list and rather mark the job as having an error Also returning an 404 Not Found is misleading as well,0
The HDFS Sink should roll over based on the number of events,0
Add command for tap creation,0
Refactor Deployment related classes in XD DIRT This is an improvement ticket to address refactoring of XD dirt classes especially XD adminzk deployment related and container,0
Shell Remove taps list command We should only allow tap list - currently tap list AND taps list are allowed but tap list does not show up under help,0
Ugly error messages in shell when not connected should go thru the list of all commands available and make sure that a simple not connected message is returned instead of something like this code orgspringframeworkwebclientResourceAccessException IO error on GET request for httplocalhost8080Unexpected end of file from server nested exception is javanetSocketException Unexpected end of file from server at orgspringframeworkwebclientRestTemplatedoExecuteRestTemplatejava498 code,0
Update comjaywayjsonpath to latest version Use latest version might need to exclude version from other dependencies eg SI in build-commongradle,0
As a developer Id like to handle the non-default ConfigurableConversionService tuples in an uniform manner so theyre not reset after deserialization,5
HDFS Core writing helper classes Simple file writer that has existed in the spring hadoop samples,0
As a QA Id like to include acceptance test coverage for richgauge sink module so that I can validate the functionality as part of every CI build,3
ZooKeeper Admin server node data to have admin server host address It would be useful to store admin server ip address in ZooKeeper leadership group node xdadmins to identify admin server and its admin port,0
As a user Im trying to use counter sink with SpEL expression but Im not able to use them in combination It throwshttpsgithubcomspring-cloudspring-cloud-stream-modulesblobmastercounter-sinksrcmainjavaorgspringframeworkcloudstreammodulemetricsCounterSinkPropertiesjavaL77 exactly one of name and nameExpression must be set as error message,1
PropertySource leakage between runtime and modules in EnvironmentAwareModuleOptionsMetadataResolverloadPropertySources the call to mergeparentEnv was added to inherit the active profiles of the runtime Sadly it added the parentEnv property sources by side effect Note that the jdbc module defaults rely on this bug,0
As a developer Id like to build Spark batch job sample so that we can demonstrate some of the distributed data computation capabilities,8
Parameterize syslog Source Add Support for TCP The syslog source currently is hard-coded to use udp on port 11111 Need to parameterize the port and provide an option to use TCP,0
As a s-c-d user Id like to have the option of Gemfire as module registry so I can build data pipelines that are entirely orchestrated within Gemfire,8
Move Redis Queue Channel Adapters into spring-integration-redis Currently these implementations are in the spring-xd-dirt module but they should be moved into spring-integration-redis We are already depending upon Spring Integration 30 snapshots since the ChannelRegistry implementation is not yet at a milestone so this should be okay for the Redis Channel Adapters also - until Spring Integration M2 is released,0
Create localChannelProtocolxml that will load all the SI specific implementations to suppor the XD container runtime and administration,0
Document and review REST API REST API needs to be finalized and documented for the GA release The API to be reviewed by REST experts,0
The ability to route within streams A Flow or a processor component may require routing semantics Currently the stream assumes a single input and output for each module A Flow may support multiple outputs - Switch routing that is - Recipient list is not currently supported another subtask We need to support semantics like a outputfoocoutputbarddefaulte,0
In documentation replace usage of raw hadoop command with shell hadoop commands,0
Remove Trigger Module Code Triggers will be a source and no longer as a unique module The following have to be removed spring-xd-dirt -- package orgspringframeworkxddirtpluginstrigger -- META-INF spring-xdpluginstriggersxml -- orgspringframeworkxddirtstreamTriggerPlugin The following beans will require updates to remove the trigger code spring-xd-dirt --META-INF spring-xdinternaldeployersxml - Remove Triggerdeployer --orgspringframeworkxddirtpluginsjobJobPlugin - Remove the registrars for fixedDelay fixedRate Cron As well as the component selection only need the job-modules-bean --Update the tests to use the trigger as a source instead of the trigger module spring-xd-shell Remove trigger commands and associated tests xd controllers Remove trigger controllers and their associated tests This list cover most but not all the components affected --Success criteria-- Successful unit and integration tests,0
Remove jmxEnabled as a cmdLine option and enable JMX by default After some discussion and voting we decided to remove jmxEnabled as a command line option and have JMX enabled by default This can be disabled from xd-configyml externally,0
New job that executes a job on YARN Create OOTB batch job that executes a job on YARN could be job create yarnJob --definition yarnjob --containerCount4 --applicationDirappsmystuff --archiveFileyarn-job-010jar --argumentspayloadvalue,0
Disable JMX by default and extend to other contexts than modules,0
Create JDK6 CI build Maybe only have it run after the publish build instead of triggering builds directly from jdk6-7-8,0
Add more comprehensive tests for the simple consumer-based Kafka Message Bus,0
Leverage fieldNameToCounterNameMap in FieldValueCounterHandler FieldValueCounterHandler was first written to support setting several fields at once but the current constructor field-value-counterxml does not use it Either leverage that feature or simplify code,0
As a field engineer Id like to have reference architectures built on Spring XD so that I can use that as reference building POCs The scope is to get the raw domain specific ideas captured as first step,8
Shell - makeUnique Job Parameter is true by default Currently the shell assumes that the makeUniquejob parameter is by default false That is not true As a consequence the parameter has currently no impactdoes not work,0
As a user I should be able to leverage native ElasticSearch sink so that I can aggregate search and analyze data insights in real-time,8
MessageBus should see custom SpEL property accessors Currently custom SI property accessors are registered by a plugin orgspringframeworkxddirtpluginsSpelPropertyAccessorPlugin and are not visible by the bus I believe they should be This may just be a matter of moving them around,0
Misleading error message when trying to restart a job exec Disregard the missing date that is caused by another problem Here is the setup noformat xdjob execution list Id Job Name Start Time Step Execution Count Status -- -------- -------------------------------- -------------------- --------- 13 foo EuropeParis 0 STARTING 12 foo 2014-02-12 153946 EuropeParis 1 FAILED 11 foo 2014-02-12 153929 EuropeParis 1 COMPLETED 10 foo 2014-02-12 153836 EuropeParis 1 COMPLETED 9 foo 2014-02-12 153821 EuropeParis 1 COMPLETED 8 foo EuropeParis 0 STARTING 7 foo 2014-02-12 152541 EuropeParis 1 COMPLETED 6 foo 2014-02-12 152504 EuropeParis 1 FAILED 5 foo 2014-02-12 151432 EuropeParis 1 FAILED 4 foo 2014-02-12 151413 EuropeParis 1 FAILED 3 foo 2014-02-12 151354 EuropeParis 1 FAILED 2 foo 2014-02-12 151318 EuropeParis 1 FAILED 1 foo 2014-02-12 151258 EuropeParis 1 FAILED 0 foo 2014-02-12 151144 EuropeParis 1 FAILED xdjob execution restart --id 12 Command failed orgspringframeworkxdrestclientimplSpringXDException Job Execution 12 is already running noformat while the server exception is a bit better noformat Caused by orgspringframeworkbatchcorerepositoryJobExecutionAlreadyRunningException A job execution for this job is already running JobInstance id11 version0 Jobfoo orgspringframeworkbatchcorerepositorysupportSimpleJobRepositorycreateJobExecutionSimpleJobRepositoryjava120 noformat Id argue we should not speak in terms of execution ids if possible but rather in terms of job names,0
MQTT Support the New Spring Integration 41 Features HA Configuration async sends httpdocsspringiospring-integrationreferencehtmlwhats-newhtml41-mqtt,0
As a developer Id like to add support for dynamic partition subscription for the Kafka source module so I can consume the payload from dynamic partitions,5
Add README to be included in root directory of distribution should explain basic layout of the distribution,0
Investigate fall through of serveryml values when running in YARN We dont support using Configuration for modules ATM The current code was committed during the same time as improvements to handling module configuration We should switch the reactor-ipxml to include all bean definitions and remove referencing Configuration classes or see how to add support for Configuration Another short term hack is to put the prefix sinkreactor-ip in all Value used in NetServerInboundChannelAdapterConfiguration,0
Remove references to XD-1050 in documentation,0
As a QA Id like to include acceptance test coverage for json-tuple processor module so that I can validate the functionality as part of every CI build,3
As a Spring XD developer Id like to move mongo module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,2
Add new source modules As an user Id like to have OOTB source modules to integrate with various data sources to ingest data using Spring XD Note The OOTB support however is limited to currently available Spring Integration adapters Acceptance Criteria - User should be able to list the new source through DSL commands - User should be able to optionally choose the new source adapters for stream creation using XD shell - User should see appropriate error messages if the required attributes are missing while creating a stream with the new source module - After successful stream creation with the new source module the definition should be included in stream listing - REST endpoints should include new source definitions - Data ingested using the new source should be validated for accurateness - Appropriate errorexception message needs logged if theres any problem ingesting data using new source module,0
Upgrade SDR to get rid of temporary no-op serializer Spring Data Redis 11 M2 added the ability to use RedisTemplate with binary data We should switch to that instead of the no-op serializer we were forced to implement previously,0
Deploy orphaned jobs to new containers When a container joins the cluster the leader admin will assign modules to it that are unassigned It needs to also check for job modules and deploy them if required,0
Update dependencies to latest Spring IO platform versions httpsgithubcomspring-projectsgradle-pluginstreemasterspring-io-plugin is the starting point to introduce the appropriate plugin to check for the correct dependencies,0
As a Spring XD user Id like to have IPython Notebook integration so I can perform interactive data computations in real-time,8
Update Sinks HDFS section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmlhdfs,0
Ensure package-infojava is present for each package We should ensure that each Package of Spring XD is documented Right now the created JavaDoc looks barren httpstaticspringsourceorgspring-xddocs100M1api,0
Merge ModuleType and ModuleType Also likely rename remove or replace that Module maybe can be supplanted by ModuleDescriptor when used in the refactored parser Also considering the url property is not necessary vestige of the prototype all wed be left with here is the Module name and type which are used to identify a Module uniquely Therefore this Module could be renamed to ModuleKey or something It could be used within the StreamDefinition itself eg getDescriptormoduleKey,0
Temporary race condition between deployment and runtime modules command The runtime modules command can show a failure between the deployment command and the actual deployment on the container node especially if there is a network hop This clears up once the module is fully deployed code xdstream create --name trois3 --definition time jdbc --deploy Created and deployed new stream trois3 xdruntime modules Command failed orgspringframeworkxdrestclientimplSpringXDException javalangRuntimeException orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsmodulesbc95653e-9da5-4738-beb2-f215e4003318trois3sourcetime-0metadata xdruntime modules Module Container Id Options -------------------- ------------------------------------ ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- trois3sourcetime-0 bc95653e-9da5-4738-beb2-f215e4003318 formatyyyy-MM-dd HHmmss fixedDelay1 wintusinkjdbc-1 bc95653e-9da5-4738-beb2-f215e4003318 tableNamexdstreamname urljdbchsqldbhsqlcarbon9102xdjob columnspayload driverClassNameorghsqldbjdbcJDBCDriver initializeDatabasefalse initializerScriptinitdbsql usernamesa trois3sinkjdbc-1 d0ad8eda-be27-46ac-86be-e43b5d9921af tableNamexdstreamname urljdbchsqldbhsqlcarbon9102xdjob columnspayload driverClassNameorghsqldbjdbcJDBCDriver initializeDatabasefalse initializerScriptinitdbsql usernamesa wintusourcetime-0 befa5f27-aac3-4d94-9171-77c07036ec75 formatyyyy-MM-dd HHmmss fixedDelay1 code,0
As a user Id like to retain the data partitioning state so that when I restart the containers I continue to write based on the original partitioning strategy Currently the state is not preserved hence on restarts the definition of partitioning strategy is lost due to different hashCode Design consideration Mine through the container info to derive the partition index instead of relying on hashCode,5
Re-add Spark job acceptance test with spark standalone cluster The spark app test on spark standalone cluster is currently commented out httpsgithubcomspring-projectsspring-xdblob9307f1fba347adf59c8b489ae7fe0aa9bfd9b6a6spring-xd-integration-testsrctestjavaorgspringframeworkxdintegrationtestSparkAppTestsjavaL74 We need to add it back once the cluster is setup on acceptance test environment,0
Introduce distinction between TapDefinition and Tap the instance Rename existing Tap class to something else,0
Integration tests for DSL Reference examples,0
Create design document for implementation strategy for ingesting data from twitter into HDFS that can be analyzed by HAWQ As part of the Hadoop World demonstration work the flow of data using XD from twitter to be analyzed by HAWQ as done Part of this work had the data going into HDFS that HAWQ was able to query using external tables The work for this story is to identify the concrete technical tasksstories to be created do deliver and document this functionality in XD,0
Improve Shell Connection Diagnostics When a problem occurs connecting to admin we just get Unable to contact Data Flow Admin even if the connection is successful and some problem occurs when interpreting the result The exception is eaten Log an error including the exception Currently investigating an NPE in DataFlowTemplate line 77,0
As a Spring XD developer Id like to port FTPSFTP module from XD to s-c-s repo so I can use it as sink modules to build streaming pipeline,2
ELK - log analysis We would like to experiment with ELK stack Its the combination of Elasticsearch Logstash and Kibana to extract end-to-end real-time insights from structured and unstructured data source Possibly provide integration endpoints to some of the components Features Search and analyze in real-time Scrub parse and enrich data Visualization Website - httpwwwelasticsearchorgoverview GitHub - httpwwwelasticsearchorgoverviewelkdownloads,0
hdfsjdbc Acceptance Test,0
Support for hadoop name node HA configuration Hadoop supports namenode HA with two name nodes running one being active and other in standby If the active name node fails the standby name node has all the data readily available and can start serving requests In this configuration name node url is no longer a hostport url but a logical name that translates to any active name node at runtime This is to ensure spring xd stream can handle a name node failure for instance when writing a hdfs sink seamlessly,0
Document the configuration of the JobRepository XD-2172 added a custom BatchConfigurer to allow the configuration of various properties when creating the JobRepository isolationLevel tablePrefix etc This should be documented in either the Application Configuration second of the docs or in the Batch Job section,0
Remove XML REST Endpoints The XML REST endpoints are not working correctly interfere with security are not used,0
The Containers DeploymentListener should watch xddeploymentsmodules Currently it watches xddeploymentscontainerid but due to the reuse of that top level node for XD-1483 and XD-1484 we should instead use xddeploymentsmodulescontainerid,0
Update spring-xd-yarn serversyml with settings for HDP 2260 We need to add the settings needed to run XD on YARN when using Hortonworks HDP 2260 which is the version you now get when installing with Ambari,0
hdfs sink loads Codecs class during module info --name sinkhdfs command The hdfs sink metadata causes loading of orgspringframeworkdatahadoopstorecodecCodecs class during module info --name sinkhdfs command since the type is a specific Spring Hadoop class optionscodecdescription compression codec alias name optionscodectype orgspringframeworkdatahadoopstorecodecCodecs optionscodecdefault Dont think we want to tie the sink module to specific Spring Hadoop classes during runtime of the admin we cant be sure that admin has hadoop classes on classpath in all environments and there is no way of specifying the hadoop distro for admin Wouldnt it be better to have this option as a String to be passed in to the modules context that could then load the class,0
shell command stream list fails Run the shell command stream list and you get the following error code xdstream list Command failed orgspringframeworkhttpconverterHttpMessageNotReadableException Could not read JSON Unrecognized field metadata class orgspringframeworkxdrestclientdomainStreamDefinitionResourcePage not marked as ignorable 3 known properties links content page at Source sunnetwwwprotocolhttpHttpURLConnectionHttpInputStream30721965 line 1 column 148 through reference chain orgspringframeworkxdrestclientdomainPagemetadata nested exception is comfasterxmljacksondatabindexcUnrecognizedPropertyException Unrecognized field metadata class orgspringframeworkxdrestclientdomainStreamDefinitionResourcePage not marked as ignorable 3 known properties links content page at Source sunnetwwwprotocolhttpHttpURLConnectionHttpInputStream30721965 line 1 column 148 through reference chain orgspringframeworkxdrestclientdomainPagemetadata code You get a similar error when running any of the following code tap list trigger list job list code,0
Shell Job Parameters are whitespace sensitive This works code job launch helloSpringXD --params myStringParameterfoobarsecondParamhello code This fails code job launch helloSpringXD --params myStringParameterfoobar secondParamhello code Notice the space between the parameters This fails with code spring job launch helloSpringXD --params myStringParameterfoobar secondParamhello 140106 120007 WARN clientRestTemplate PUT request for httplocalhost9393jobshelloSpringXDlaunch resulted in 500 Internal Server Error invoking error handler Command failed orgspringframeworkxdrestclientimplSpringXDException orgspringframeworkintegrationMessageHandlingException javalangIllegalArgumentException Unable to convert provided JSON to MapString Object code Internally the parameters are parsed to code myStringParameterfoobarsecondParamhello code The curly brace is missing,0
Validator interface doesnt contains any Job details like ID name etc orgapachesqoopvalidationValidator interface doesnt contain any job information and it has only ValidationContext object reference I am trying to write custom class that implements Validator class and trying to store the source count and destination count into data base But I need some reference about Job like job ID name start time end time etc I think we can have orgapachehadoopmapreduceJob instance or any other reference to the Job would help,0
Split DIRT project into commonadmincontainerstandalone This is a generalization of XD-1702,0
As a user Id like to have the option to implement bindRequestor and bindReplier so that I can bind a producer that expects async replies and bind a consumer that handles requests from a requestor and asynchronously sends replies respectively,3
User wants the ability to limit the total number of jobs a trigger can have running simultaneously,0
clean up dead entries in ZooKeeper xddeploymentsmodules When starting and stopping xd containers there are entries left in the xddeploymentsmodules directory that will cause runtime modules command to fail xdruntime modules Command failed orgspringframeworkxdrestclientimplSpringXDException javalangRuntimeException orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsmodules5201ac3f-e952-48a2-a807-4f0bb2dab82btestsinkhdfs-1metadata here the xddeploymentsmodules5201ac3f-e952-48a2-a807-4f0bb2dab82b container is no longer running but there is some data left over,0
As a s-c-d developer Id like to break the build lifecycle to bundle SPI deployers individually so I dont have to build admin with all the deployer variations as one whole thing,8
Create separate doc sections for reactor-ips tcp and udp functionality It isnt obvious from looking through the table of contents on the left hand side that reactor-ip does both tcp and udp Breaking up the section into two would make it more clear - even though they would still use the same module,0
POC for Spark Integration Spike Scope Experiment with identified options POC with the logical integration choice,0
TapCommandTests hangs when using a lazily instantiated Lettuce connection A change was made in spring-data-redis to instantiate the shared Lettuce connection lazily instead of when the context is initialized This caused TapCommandTests to hang due to a Netty worker thread trying to initialize the Lettuce connection Lettuce uses Netty The change was temporarily backed out of SDR but we need to consider using a NettyExecutionHandler in NettyHttpInboundChannelAdapter or making the HTTP modules input channel an ExecutorChannel to avoid potentially long operations like from happening in an IO thread Also we need to address why this failure simply hangs the shell Shell was hung waiting on IO here orgspringframeworkhttpclientSimpleClientHttpResponsegetRawStatusCodeSimpleClientHttpResponsejava47 orgspringframeworkhttpclientAbstractClientHttpResponsegetStatusCodeAbstractClientHttpResponsejava32 orgspringframeworkxdshellcommandHttpCommands1hasErrorHttpCommandsjava93 orgspringframeworkwebclientRestTemplatedoExecuteRestTemplatejava484 orgspringframeworkwebclientRestTemplateexecuteRestTemplatejava460 orgspringframeworkwebclientRestTemplatepostForEntityRestTemplatejava335 orgspringframeworkxdshellcommandHttpCommandspostHttpHttpCommandsjava103 sunreflectGeneratedMethodAccessor135invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava25 javalangreflectMethodinvokeMethodjava597 orgspringframeworkutilReflectionUtilsinvokeMethodReflectionUtilsjava191 orgspringframeworkshellcoreSimpleExecutionStrategyinvokeSimpleExecutionStrategyjava64 ringframeworkshellcoreSimpleExecutionStrategyexecuteSimpleExecutionStrategyjava57 - locked 7fd3c7d40 a javalangClass for orgspringframeworkshellcoreSimpleExecutionStrategy orgspringframeworkshellcoreAbstractShellexecuteCommandAbstractShelljava127 orgspringframeworkxdshellAbstractShellIntegrationTestexecuteCommandAbstractShellIntegrationTestjava99 orgspringframeworkxdshellAbstractShellIntegrationTesthttpPostDataAbstractShellIntegrationTestjava112 orgspringframeworkxdshellcommandTapCommandTeststestCreateAndDeployTapTapCommandTestsjava56 Full stack trace of server exception Aug 19 2013 95900 AM orgjbossnettychannelSimpleChannelUpstreamHandler WARNING EXCEPTION please implement orgspringframeworkintegrationxhttpNettyHttpInboundChannelAdapterHandlerexceptionCaught for proper handling orgspringframeworkintegrationMessageHandlingException orgspringframeworkdataredisRedisConnectionFailureException Unable to connect to Redis on localhost6379 nested exception is comlambdaworksredisRedisException Unable to connect orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava76 orgspringframeworkintegrationhandlerServiceActivatingHandlerhandleRequestMessageServiceActivatingHandlerjava67 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava137 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava223 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava207 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava172 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava166 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava144 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava223 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava207 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava172 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava166 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava144 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava223 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava207 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava172 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava166 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava144 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherBroadcastingDispatcherinvokeHandlerBroadcastingDispatcherjava121 orgspringframeworkintegrationdispatcherBroadcastingDispatcherdispatchBroadcastingDispatcherjava112 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelinterceptorWireTappreSendWireTapjava121 orgspringframeworkintegrationchannelAbstractMessageChannelChannelInterceptorListpreSendAbstractMessageChanneljava248 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava173 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava223 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava207 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava172 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava166 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava144 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava92 orgspringframeworkintegrationxhttpNettyHttpInboundChannelAdapteraccess200NettyHttpInboundChannelAdapterjava59 orgspringframeworkintegrationxhttpNettyHttpInboundChannelAdapterHandlermessageReceivedNettyHttpInboundChannelAdapterjava122 orgjbossnettyhandlercodechttpHttpContentEncodermessageReceivedHttpContentEncoderjava81 orgjbossnettyhandlercodechttpHttpChunkAggregatormessageReceivedHttpChunkAggregatorjava148 orgjbossnettychannelChannelsfireMessageReceivedChannelsjava296 orgjbossnettyhandlercodecframeFrameDecoderunfoldAndFireMessageReceivedFrameDecoderjava459 orgjbossnettyhandlercodecreplayReplayingDecodercallDecodeReplayingDecoderjava536 orgjbossnettyhandlercodecreplayReplayingDecodermessageReceivedReplayingDecoderjava485 orgjbossnettychannelChannelsfireMessageReceivedChannelsjava268 orgjbossnettychannelChannelsfireMessageReceivedChannelsjava255 orgjbossnettychannelsocketnioNioWorkerreadNioWorkerjava88 orgjbossnettychannelsocketnioAbstractNioWorkerprocessAbstractNioWorkerjava107 orgjbossnettychannelsocketnioAbstractNioSelectorrunAbstractNioSelectorjava312 orgjbossnettychannelsocketnioAbstractNioWorkerrunAbstractNioWorkerjava88 orgjbossnettychannelsocketnioNioWorkerrunNioWorkerjava178 javautilconcurrentThreadPoolExecutorWorkerrunTaskThreadPoolExecutorjava895 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava918 javalangThreadrunThreadjava680 Caused by orgspringframeworkdataredisRedisConnectionFailureException Unable to connect to Redis on localhost6379 nested exception is comlambdaworksredisRedisException Unable to connect orgspringframeworkdataredisconnectionlettuceLettuceConnectionFactorycreateLettuceConnectorLettuceConnectionFactoryjava345 orgspringframeworkdataredisconnectionlettuceLettuceConnectionFactoryinitConnectionLettuceConnectionFactoryjava116 orgspringframeworkdataredisconnectionlettuceLettuceConnectionFactorygetSharedConnectionLettuceConnectionFactoryjava325 orgspringframeworkdataredisconnectionlettuceLettuceConnectionFactorygetConnectionLettuceConnectionFactoryjava106 orgspringframeworkdatarediscoreRedisConnectionUtilsdoGetConnectionRedisConnectionUtilsjava81 orgspringframeworkdatarediscoreRedisConnectionUtilsgetConnectionRedisConnectionUtilsjava53 orgspringframeworkdatarediscoreRedisTemplateexecuteRedisTemplatejava173 orgspringframeworkdatarediscoreRedisTemplateexecuteRedisTemplatejava153 orgspringframeworkdatarediscoreAbstractOperationsexecuteAbstractOperationsjava86 orgspringframeworkdatarediscoreDefaultZSetOperationsaddDefaultZSetOperationsjava41 orgspringframeworkdatarediscoreDefaultBoundZSetOperationsaddDefaultBoundZSetOperationsjava47 orgspringframeworkxdstoreAbstractRedisRepositorytrackMembershipAbstractRedisRepositoryjava202 orgspringframeworkxdanalyticsmetricsredisRedisCounterRepositoryincrementRedisCounterRepositoryjava88 orgspringframeworkxdanalyticsmetricsredisRedisCounterRepositoryincrementRedisCounterRepositoryjava82 orgspringframeworkxdanalyticsmetricsintegrationMessageCounterHandlerprocessMessageCounterHandlerjava28 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava39 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava25 javalangreflectMethodinvokeMethodjava597 orgspringframeworkexpressionspelsupportReflectiveMethodExecutorexecuteReflectiveMethodExecutorjava69 orgspringframeworkexpressionspelastMethodReferenceMethodValueRefgetValueMethodReferencejava97 orgspringframeworkexpressionspelastCompoundExpressiongetValueInternalCompoundExpressionjava82 orgspringframeworkexpressionspelastSpelNodeImplgetTypedValueSpelNodeImpljava102 orgspringframeworkexpressionspelstandardSpelExpressiongetValueSpelExpressionjava103 orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava126 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessInternalMessagingMethodInvokerHelperjava230 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessMessagingMethodInvokerHelperjava129 orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava73 84 more Caused by comlambdaworksredisRedisException Unable to connect comlambdaworksredisRedisClientconnectRedisClientjava176 comlambdaworksredisRedisClientconnectAsyncRedisClientjava139 orgspringframeworkdataredisconnectionlettuceLettuceConnectionFactorycreateLettuceConnectorLettuceConnectionFactoryjava339 111 more Caused by javalangIllegalStateException await in IO thread causes a dead lock or sudden performance drop Use addListener instead or call await from a different thread orgjbossnettychannelDefaultChannelFuturecheckDeadLockDefaultChannelFuturejava342 orgjbossnettychannelDefaultChannelFutureawaitDefaultChannelFuturejava231 comlambdaworksredisRedisClientconnectRedisClientjava166 113 more,0
Stream deployment validation In our system we have built quite a few custom modules It is currently possible for the end user to mess up the configuration of these custom modules when creating multiple streams They can create conflicting configuration in multiple streams The conflicting config is nothing to do with spring-xd itself it is related to our data flow and business process It would be nice to have some sort of StreamDeployValidator that I could implement and write my custom validation code If this decides that the stream definition is not valid according to my rules then it could stop the deployment of a stream The validator would need to be aware of the other streams somehow,0
Container reconnection to ZK fails intermittently As reported by Matt Stine After closing and reopening a laptop the following stack trace appears in the container log noformat 004728226 INFO main-EventThread stateConnectionStateManager194 - State change RECONNECTED 004728226 INFO ConnectionStateManager-0 zookeeperZooKeeperConnection255 - Curator connected event RECONNECTED 004728322 ERROR ConnectionStateManager-0 listenListenerContainer96 - Listener orgspringframeworkxddirtzookeeperZooKeeperConnectionDelegatingConnectionStateListener6abf4158 threw an exception javalangRuntimeException javalangRuntimeException orgapachezookeeperKeeperExceptionNodeExistsException KeeperErrorCode NodeExists for xdcontainers5a8deb7b-fd93-42a7-a393-2f15023e007a at orgspringframeworkxddirtserverContainerRegistrarregisterWithZooKeeperContainerRegistrarjava301 at orgspringframeworkxddirtserverContainerRegistraraccess100ContainerRegistrarjava93 at orgspringframeworkxddirtserverContainerRegistrarContainerAttributesRegisteringZooKeeperConnectionListeneronConnectContainerRegistrarjava316 at orgspringframeworkxddirtzookeeperZooKeeperConnectionDelegatingConnectionStateListenerstateChangedZooKeeperConnectionjava257 at orgapachecuratorframeworkstateConnectionStateManager2applyConnectionStateManagerjava222 at orgapachecuratorframeworkstateConnectionStateManager2applyConnectionStateManagerjava218 at orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 at comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava293 at orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 at orgapachecuratorframeworkstateConnectionStateManagerprocessEventsConnectionStateManagerjava215 at orgapachecuratorframeworkstateConnectionStateManageraccess000ConnectionStateManagerjava42 at orgapachecuratorframeworkstateConnectionStateManager1callConnectionStateManagerjava110 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 at javalangThreadrunThreadjava744 Caused by javalangRuntimeException orgapachezookeeperKeeperExceptionNodeExistsException KeeperErrorCode NodeExists for xdcontainers5a8deb7b-fd93-42a7-a393-2f15023e007a at orgspringframeworkxddirtcontainerstoreZooKeeperContainerAttributesRepositorysaveZooKeeperContainerAttributesRepositoryjava75 at orgspringframeworkxddirtcontainerstoreZooKeeperContainerAttributesRepositorysaveZooKeeperContainerAttributesRepositoryjava42 at orgspringframeworkxddirtserverContainerRegistrarregisterWithZooKeeperContainerRegistrarjava295 15 more Caused by orgapachezookeeperKeeperExceptionNodeExistsException KeeperErrorCode NodeExists for xdcontainers5a8deb7b-fd93-42a7-a393-2f15023e007a at orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava119 at orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 at orgapachezookeeperZooKeepercreateZooKeeperjava783 at orgapachecuratorframeworkimpsCreateBuilderImpl11callCreateBuilderImpljava676 at orgapachecuratorframeworkimpsCreateBuilderImpl11callCreateBuilderImpljava660 at orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 at orgapachecuratorframeworkimpsCreateBuilderImplpathInForegroundCreateBuilderImpljava656 at orgapachecuratorframeworkimpsCreateBuilderImplprotectedPathInForegroundCreateBuilderImpljava441 at orgapachecuratorframeworkimpsCreateBuilderImplforPathCreateBuilderImpljava431 at orgapachecuratorframeworkimpsCreateBuilderImplforPathCreateBuilderImpljava44 at orgspringframeworkxddirtcontainerstoreZooKeeperContainerAttributesRepositorysaveZooKeeperContainerAttributesRepositoryjava69 17 more noformat This can occur if ZK does not remove the ephemeral node before the container creates a new one This can be fixed in the following ways Remove the existing ephemeral node if it already exists Register containers with a new UUID upon every new connection For now Ill implement the first solution,0
No main manifest attribute in xd-yarn-client jar Error deploying to YARN - spring-xd-100BUILD-SNAPSHOT-yarnbinxd-yarn push -p spring-xd-100BUILD-SNAPSHOT-yarn no main manifest attribute in spring-xd-100BUILD-SNAPSHOT-yarnlibspring-xd-yarn-client-100BUILD-SNAPSHOTjar probably related to boot changes,0
Handle NPE while deploying stream module at the Container When trying to deploy a stream module the ContainerRegistrar throws NPE if the deployment loader couldnt load a non-null stream based on the stream name 071029902 ERROR DeploymentsPathChildrenCache-0 serverContainerRegistrar450 - Exception deploying module javalangNullPointerException orgspringframeworkxddirtserverContainerRegistrardeployStreamModuleContainerRegistrarjava549 orgspringframeworkxddirtserverContainerRegistraronChildAddedContainerRegistrarjava436 orgspringframeworkxddirtserverContainerRegistraraccess800ContainerRegistrarjava96 orgspringframeworkxddirtserverContainerRegistrarDeploymentListenerchildEventContainerRegistrarjava803 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava494 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava488 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava293 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava485 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache11runPathChildrenCachejava755 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744,0
As a s-c-d developer Id like to create foundation to support processor as OOTB modules so I can use the processor modules from s-c-s-m repo to build streaming pipeline,5
Extend aggregate counter to dynamically aggregate by field values in addition to time This would be a combination of the existing aggregate counter and field value counter functionality For example if the stream data was for car purchases some fields might be colour make and model When analysing the aggregate data I dont just want to know how many were sold on Monday but how many of each make or how many of each colour or how many of a particular colour make AND model This would allow a dashboard type client to drill down into each dimension or combination of dimensions in real time without executing batch queries against the raw data Ideally the aggregate counter would be specified as stream create --name mytap --definition tapmystream aggregatecounter --namemycount --fieldNamescolourmakemodel The keys would be dynamically created according to the field values in each record ie in a similar way to the field value counter you would not need to predefine field values and keys would be created for all combinations of the fields specified eg the record coloursilver makeVW model Golf would increment the following key counters in addtion to the existing time buckets existing base counter - ie all fields for this time bucket colourblack makeVW modelGolf colourblackmakeVW colourblackmodelGolf makeVWmodelGolf colourblackmakeVWmodelGolf ie the actual keys would look something like aggregatecountersmycountmakeVWmodelGolf201307 etc This may seem like it would generate a lot of key combinations but in practice the data generated will still be massively less than the raw data and keys will only be created if that combination occurs in a time period Also some fields may be dependent on each other such as make and model in the above example so the amount of possibilites for those composite keys would be a lot less that the number of one times the number of the other,0
Incorrect message bus is used at runtime For some reason the message bus is bound to incorrect transport different from what is set as XDTRANSPORT at runtime This is from the container log 2015-04-21 134212331 120SNAP INFO main utilXdConfigLoggingInitializer - Transport rabbit 2015-04-21 134235144 120SNAP INFO RedisMessageListenerContainer-4 sinka2 - test,0
Gemfire sink SpringXD module does not support multiple locators Gemfire sink module accepts useLocator host and port properties but this only allows to use one locator at a time We have a need to use the Gemfire sink SpringXD Module in our Seamless access project that we want to go live in Q1 The Version of SpringXD we planned on using is 11 However we need HA and we need to connect to a cluster with multiple locators Problem is this isnt supported yet in SpringXD We have used multiple locators in many projects in EMC and we dont want to revert back to a situation where we have to put virtual IPs in front of locators just for SpringXD Ref to the SpringXD docs found in 103 and 110GA versions The locator option is mostly intended for integration with an existing GemFire installation in which the cache servers are configured to use locators in accordance with best practice While GemFire supports configuration of multiple locators for failover this is currently not supported in XD However using a single virtual IP backed by hardware routers for failover has proven to be an effective and simpler alternative,0
spring-xd-dirt is not providing all XDHOMElib libraries Spring XD is packaging a spring-xd-dirt dependency which aims to provide runtime libraries spring-xd-drit-110RELEASE is not providing all libraries from XDHOMElib See spring-xd-dirt-vs-libxlsx attachment generated with ls XDHOMElib and mvn dependencylist on a module with spring-xd-module-parent parent - 100 JARs are not provided - some are provided in different versions - some are provided but not available in XDHOMElib This forces us to add and maintain missing dependencies in our own module parent eg to use commons-lang3 in our code which is present in XDHOMElib but is not provided by spring-xd-dirt Why there are so many differences between XDHOMElib and spring-xd-dirt,0
Build script should not package spring-xd-dirt scripts We are packaging separate scripts to start XDAdmin and XDContainer The Gradle application plugin will generate an unwanted spring-xd-dirt scripts this should be removed from the bin directory when creating a distribution zip,0
Shell completion crashes The XD shell completion crashes on job launch --name TAB gives noformat xdjob launch --name Exception in thread Spring Shell javalangIllegalStateException Could not determine kind tab-completion-count-1 existing-job disable-string-converter orgspringframeworkxdshellconverterCompletionConverterdetermineKindCompletionConverterjava109 orgspringframeworkxdshellconverterCompletionConvertergetAllPossibleValuesCompletionConverterjava69 orgspringframeworkshellcoreSimpleParsercompleteAdvancedSimpleParserjava857 orgspringframeworkshellcoreParserCompletercompleteParserCompleterjava47 jlineconsoleConsoleReadercompleteConsoleReaderjava3077 jlineconsoleConsoleReaderreadLineConsoleReaderjava2501 jlineconsoleConsoleReaderreadLineConsoleReaderjava2162 jlineconsoleConsoleReaderreadLineConsoleReaderjava2150 orgspringframeworkshellcoreJLineShellpromptLoopJLineShelljava522 orgspringframeworkshellcoreJLineShellrunJLineShelljava179 javalangThreadrunThreadjava744 noformat Moreover seems completion generally crashes when the server is not up which was taken care of previously if Im not mistaken xdjob destroy --name TAB noformat Exception in thread Spring Shell orgspringframeworkwebclientResourceAccessException IO error on GET request for httplocalhost9393jobsdefinitionssize10000deploymentstrueConnection refused nested exception is javanetConnectException Connection refused orgspringframeworkwebclientRestTemplatedoExecuteRestTemplatejava561 orgspringframeworkwebclientRestTemplateexecuteRestTemplatejava506 orgspringframeworkwebclientRestTemplategetForObjectRestTemplatejava243 orgspringframeworkxdrestclientimplJobTemplatelistJobTemplatejava121 orgspringframeworkxdrestclientimplJobTemplatelistJobTemplatejava40 orgspringframeworkxdshellconverterExistingXDEntityConvertergetAllPossibleValuesExistingXDEntityConverterjava72 orgspringframeworkshellcoreSimpleParsercompleteAdvancedSimpleParserjava857 orgspringframeworkshellcoreParserCompletercompleteParserCompleterjava47 jlineconsoleConsoleReadercompleteConsoleReaderjava3077 jlineconsoleConsoleReaderreadLineConsoleReaderjava2501 jlineconsoleConsoleReaderreadLineConsoleReaderjava2162 jlineconsoleConsoleReaderreadLineConsoleReaderjava2150 orgspringframeworkshellcoreJLineShellpromptLoopJLineShelljava522 orgspringframeworkshellcoreJLineShellrunJLineShelljava179 javalangThreadrunThreadjava744 Caused by javanetConnectException Connection refused javanetPlainSocketImplsocketConnectNative Method javanetAbstractPlainSocketImpldoConnectAbstractPlainSocketImpljava339 javanetAbstractPlainSocketImplconnectToAddressAbstractPlainSocketImpljava200 javanetAbstractPlainSocketImplconnectAbstractPlainSocketImpljava182 javanetSocksSocketImplconnectSocksSocketImpljava392 javanetSocketconnectSocketjava579 javanetSocketconnectSocketjava528 sunnetNetworkClientdoConnectNetworkClientjava180 sunnetwwwhttpHttpClientopenServerHttpClientjava432 sunnetwwwhttpHttpClientopenServerHttpClientjava527 sunnetwwwhttpHttpClientinitHttpClientjava211 sunnetwwwhttpHttpClientNewHttpClientjava308 sunnetwwwhttpHttpClientNewHttpClientjava326 sunnetwwwprotocolhttpHttpURLConnectiongetNewHttpClientHttpURLConnectionjava996 sunnetwwwprotocolhttpHttpURLConnectionplainConnectHttpURLConnectionjava932 sunnetwwwprotocolhttpHttpURLConnectionconnectHttpURLConnectionjava850 orgspringframeworkhttpclientSimpleBufferingClientHttpRequestexecuteInternalSimpleBufferingClientHttpRequestjava78 orgspringframeworkhttpclientAbstractBufferingClientHttpRequestexecuteInternalAbstractBufferingClientHttpRequestjava48 orgspringframeworkhttpclientAbstractClientHttpRequestexecuteAbstractClientHttpRequestjava52 noformat,0
Error when removing HDFS files in shell I get this code xdhadoop fs rm xdtesttime-3log Error run HDFS shell failed Message is orgapachehadoopfsFileStatusisDirectoryZ code so far I have seen this with --hadoopDistro hdp13 and hadoop12 same command works fine using shell from M5 release,0
Vary Producer and Consumer in combination using 2 Queues ECB-6 The results from EC2 testing show that once prefetch and message size are set varying the number of producers or consumers independently does not impact the message rate The in-house testing numbers need another plan to try an understand some discrepancies Using 500 prefetch 1000 byte message size run two instances of PerfTest at the same time with each instance referencing a different queue Vary the number of consumer and publishers Test 1 one producer one consumer -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 Test 2 one producer two consumers -a -u q1 -p -x 1 -y 2 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 2 -s 1000 -z 60 -q 500 Test 3 two producers one consumer -a -u q1 -p -x 2 -y 1 -s 1000 -z 120 -q 500 -a -u q2 -p -x 2 -y 1 -s 1000 -z 120 -q 500 Test 4 two producers two consumers -a -u q1 -p -x 2 -y 2 -s 1000 -z 60 -q 500 -a -u q2 -p -x 2 -y 2 -s 1000 -z 60 -q 500,0
Add binding information to application definition ModuleDefinition contains bindings that need to be passed to the ModuleRunner app It appears these can be included in the applications environment,0
As a user Id like to have the option of reliable HDFS writes for stream pipelines so I can get acknowledgement of actual HDFS commits as opposed to just from the message bus,5
Support use of applicationyml fragments Since spring boot by default looks for property sources from fileconfigapplicationyml and fileapplicationyml In XD bundles the CLASSPATH of our XD startup scriptsadmin container singlenode startup scripts set to use APPHOME and APPHOMEconfig But if we have an applicationyml fragment on APPHOMEconfig then it is considered as classpath resource and the actual applicationyml from dirt lib classpath is not loaded Also we need to separate out the properties files we have inside APPHOMEconfig as by default boot uses config directory as well,0
Travis CI improvements Travis CI recently introduced docker based builds This prevents root access which we dont need but allows caching which we could not use before and seems to come with beefier machine specs,0
As a developer Id like to add support to flush state intelligently so I can reliably process streams based on successful message acknowledgements from the module-producer,8
As a s-c-d developer Id like to add test coverage for StreamController so I can verify API contracts at build time,3
Message conversion support for spark streaming module The spark streaming module needs to support inputType for both processor and sink module and outputType for processor module so that message conversion can happen at the MessageBusReceiver and MessageBusSender,0
Display an Aggregate Counter,0
Create benchmarking application to demonstrate high performance message processing The application should live in in spring-xd-samples repository The stream created in httpsjiraspringiobrowseXD-1402 should be documented how to run a benchmark and made easy to execute Can use rubybash-awk-sed to generate traffic via sendfile in order to saturate the stream,0
Parsing issues with kafka-busxml Using Kafka as a transport option yields 2014-11-04 121830528 boot - 24061 ERROR main --- SpringApplication Application startup failed orgspringframeworkbeansfactoryparsingBeanDefinitionParsingException Configuration problem Failed to import bean definitions from URL location classpathMETA-INFspring-xdtransportskafka-busxml Offending resource class path resource META-INFspring-xdbusmessage-busxml nested exception is orgspringframeworkbeansfactoryxmlXmlBeanDefinitionStoreException Line 9 in XML document from URL jarfileUsersmbogoevicigradlecachesmodules-2files-21orgspringframeworkxdspring-xd-dirt110BUILD-SNAPSHOTcf6a9a013dbde49d2925e2b5177d01a028379758spring-xd-dirt-110BUILD-SNAPSHOTjarMETA-INFspring-xdtransportskafka-busxml is invalid nested exception is orgxmlsaxSAXParseException lineNumber 9 columnNumber 26 Open quote is expected for attribute 1 associated with an element type value orgspringframeworkbeansfactoryparsingFailFastProblemReportererrorFailFastProblemReporterjava70 orgspringframeworkbeansfactoryparsingReaderContexterrorReaderContextjava85 orgspringframeworkbeansfactoryparsingReaderContexterrorReaderContextjava76 orgspringframeworkbeansfactoryxmlDefaultBeanDefinitionDocumentReaderimportBeanDefinitionResourceDefaultBeanDefinitionDocumentReaderjava248 orgspringframeworkbeansfactoryxmlDefaultBeanDefinitionDocumentReaderparseDefaultElementDefaultBeanDefinitionDocumentReaderjava199 orgspringframeworkbeansfactoryxmlDefaultBeanDefinitionDocumentReaderparseBeanDefinitionsDefaultBeanDefinitionDocumentReaderjava184 orgspringframeworkbeansfactoryxmlDefaultBeanDefinitionDocumentReaderdoRegisterBeanDefinitionsDefaultBeanDefinitionDocumentReaderjava141 orgspringframeworkbeansfactoryxmlDefaultBeanDefinitionDocumentReaderregisterBeanDefinitionsDefaultBeanDefinitionDocumentReaderjava110 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderregisterBeanDefinitionsXmlBeanDefinitionReaderjava508 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadBeanDefinitionsXmlBeanDefinitionReaderjava391 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava335 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava303 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava180 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava216 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava187 orgspringframeworkcontextannotationConfigurationClassBeanDefinitionReaderloadBeanDefinitionsFromImportedResourcesConfigurationClassBeanDefinitionReaderjava313 orgspringframeworkcontextannotationConfigurationClassBeanDefinitionReaderloadBeanDefinitionsForConfigurationClassConfigurationClassBeanDefinitionReaderjava138 orgspringframeworkcontextannotationConfigurationClassBeanDefinitionReaderloadBeanDefinitionsConfigurationClassBeanDefinitionReaderjava116 orgspringframeworkcontextannotationConfigurationClassPostProcessorprocessConfigBeanDefinitionsConfigurationClassPostProcessorjava330 orgspringframeworkcontextannotationConfigurationClassPostProcessorpostProcessBeanDefinitionRegistryConfigurationClassPostProcessorjava243 orgspringframeworkcontextsupportPostProcessorRegistrationDelegateinvokeBeanDefinitionRegistryPostProcessorsPostProcessorRegistrationDelegatejava254 orgspringframeworkcontextsupportPostProcessorRegistrationDelegateinvokeBeanFactoryPostProcessorsPostProcessorRegistrationDelegatejava94 orgspringframeworkcontextsupportAbstractApplicationContextinvokeBeanFactoryPostProcessorsAbstractApplicationContextjava609 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava464 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava691 orgspringframeworkbootSpringApplicationrunSpringApplicationjava320 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava142 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava129 orgspringframeworkxddirtserverSingleNodeApplicationrunSingleNodeApplicationjava63 orgspringframeworkxddemokafkaKafkaDemomainKafkaDemojava28 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 comintellijrtexecutionapplicationAppMainmainAppMainjava134 Caused by orgspringframeworkbeansfactoryxmlXmlBeanDefinitionStoreException Line 9 in XML document from URL jarfileUsersmbogoevicigradlecachesmodules-2files-21orgspringframeworkxdspring-xd-dirt110BUILD-SNAPSHOTcf6a9a013dbde49d2925e2b5177d01a028379758spring-xd-dirt-110BUILD-SNAPSHOTjarMETA-INFspring-xdtransportskafka-busxml is invalid nested exception is orgxmlsaxSAXParseException lineNumber 9 columnNumber 26 Open quote is expected for attribute 1 associated with an element type value orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadBeanDefinitionsXmlBeanDefinitionReaderjava398 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava335 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderloadBeanDefinitionsXmlBeanDefinitionReaderjava303 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava180 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava216 orgspringframeworkbeansfactoryxmlDefaultBeanDefinitionDocumentReaderimportBeanDefinitionResourceDefaultBeanDefinitionDocumentReaderjava242 31 more Caused by orgxmlsaxSAXParseException lineNumber 9 columnNumber 26 Open quote is expected for attribute 1 associated with an element type value comsunorgapachexercesinternalutilErrorHandlerWrappercreateSAXParseExceptionErrorHandlerWrapperjava198 comsunorgapachexercesinternalutilErrorHandlerWrapperfatalErrorErrorHandlerWrapperjava177 comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava441 comsunorgapachexercesinternalimplXMLErrorReporterreportErrorXMLErrorReporterjava368 comsunorgapachexercesinternalimplXMLScannerreportFatalErrorXMLScannerjava1436 comsunorgapachexercesinternalimplXMLScannerscanAttributeValueXMLScannerjava829 comsunorgapachexercesinternalimplXMLNSDocumentScannerImplscanAttributeXMLNSDocumentScannerImpljava439 comsunorgapachexercesinternalimplXMLNSDocumentScannerImplscanStartElementXMLNSDocumentScannerImpljava255 comsunorgapachexercesinternalimplXMLDocumentFragmentScannerImplFragmentContentDrivernextXMLDocumentFragmentScannerImpljava2786 comsunorgapachexercesinternalimplXMLDocumentScannerImplnextXMLDocumentScannerImpljava606 comsunorgapachexercesinternalimplXMLNSDocumentScannerImplnextXMLNSDocumentScannerImpljava117 comsunorgapachexercesinternalimplXMLDocumentFragmentScannerImplscanDocumentXMLDocumentFragmentScannerImpljava510 comsunorgapachexercesinternalparsersXML11ConfigurationparseXML11Configurationjava848 comsunorgapachexercesinternalparsersXML11ConfigurationparseXML11Configurationjava777 comsunorgapachexercesinternalparsersXMLParserparseXMLParserjava141 comsunorgapachexercesinternalparsersDOMParserparseDOMParserjava243 comsunorgapachexercesinternaljaxpDocumentBuilderImplparseDocumentBuilderImpljava347 orgspringframeworkbeansfactoryxmlDefaultDocumentLoaderloadDocumentDefaultDocumentLoaderjava76 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadDocumentXmlBeanDefinitionReaderjava428 orgspringframeworkbeansfactoryxmlXmlBeanDefinitionReaderdoLoadBeanDefinitionsXmlBeanDefinitionReaderjava390 36 more,0
Retrieve information for a Gauge TODO as part of this see XD-537 Get rid of so-called Service layer in analytics project doesnt do much right now and logic would better live in the Handler IMO Have REST controllers depend on XRepository in all cases,0
As a s-c-s developer Id like to setup CI infrastructure for spring-cloud-stream-modules s-c-s-m repo so I can build the project continuously on every commits,3
Composing Jobs via the DSL h2 Narrative As a developer I want to be able to construct jobs using a DSL similar to the current syntax for streams h2 Back story Streams currently provide a DSL for assembling modules into flows streams that consist of a source n processors and a sink While constructing the steps of jobs themselves would be difficult in this manor creating flows of jobs essentially a job that consists only of job steps would be very useful It would allow a developer to create something like the following code filejdbc mycustomjob jdbchdfs code This approach also allows the existing packagingmodule registryetc to work out of the box This gets us closer to what Oozie provides out of the box without the need to create custom jobs to do the orchestration,0
Parameterizable streams,0
Spike Determine best way to centrally configure the job repository for batch jobs h2 Narrative As a developer I need to be able to run batch jobs that use the centrally configured job repository to store job state h2 Back story The XD containers each used a BatchConfigurer implementation RuntimeBatchConfigurer to add a consistent configuration for the job repository This functionality needs to be replicated in some way in just a regular Spring Boot application,0
As a XD developer Id like to reproduce and fix anomalies as listed herehttpsgithubcomspring-projectsspring-xd-admin-ui-clientissues9,1
Add a rank expression to be used by the container matcher following the HTCondor model for resource assignment the use of a rank expression that evaluates to an integer is used to order the containers that match the current criteria expression This allows you to setup ranks such as prefer the machine with the most free memory or prefer a machine from groupa higher rank values match first From HTCondor Presentation Rank The rank expression is evaluated into a number for every potential matching machine A machine with a higher number will be preferred over a machine with a lower number Rank Examples Prefer machines with more Mips Rank Mips Prefer more memory but add 100 to the rank if the machine is Solaris 27 Rank Memory 100OpSysSOLARIS27 Prefer machines with a high ratio of memory to cpu performance Rank MemoryMips Prefer machines that will checkpoint in Bologna Rank CkptServerckptboinfnit,0
Spring XD EC2 needs to setup cluster that uses static resources h1 Summary User wants the ability to deploy an ec2 cluster where the admin containers use a pre existing ZK ensemble Rabbit and redis instance that are deployed on different machines h2 Current functionality Currently spring-xd-ec2 sets up its containers admin server to use a ZK rabbit and redis that are provisioned and collocated with the admin server h2 Detail The following properties will be added to the spring-xd-ec2properties springzkclientconnect - contains a comma delimited list of zk hostsports for a ensemble The application will check to see if the port is open on at least of the servers in the list if not deployment will fail Default is adminServerhost2181 springrabbitmqaddresses - contains a comma delimited list of hostsports for a rabbit cluster The application will check to see if the port is open on at least of the servers in the list if not deployment will fail Default is adminServerhost5672 springredis - contains a hostport for a redis instance The application will check to see if the port is open if not deployment will fail Default is adminServerhost5672 ec2zone - user can specify the zone to which the containers and admin will be deployed If not present AWS will decide which zone to deploy the cluster,0
Add JSON conversion to tuple Support toString to emit JSON by default Should be backed by a simple strategy to allow the possibility of other representations Also provide toTupleString json This supports seamless mapping JSON-Tuple in XD,0
Rationalize inclusion of JSON jars in xdlib and in modules To avoid CL conflicts a short term solution to this problem is to make sure that there is only one copy of jackson related classes and have them live in xdlib using jackson-core-232jar jackson-databind-232jar jackson-core-asl-1913jar jackson-mapper-asl-1913jar are the latest versions and the ones to use There maybe other libraries that we duplicate in the same manner we will need to investigate as well as part of another issue Typical error is javalangLinkageError loader constraint violation when resolving method orgspringframeworkhttpconverterjsonMappingJackson2HttpMessageConvertersetObjectMapperLcomfasterxmljacksondatabindObjectMapperV the class loader instance of orgspringframeworkxdmodulesupportParentLastURLClassLoader of the current class orgspringframeworksocialtwitterapiimplTwitterTemplate and the class loader instance of sunmiscLauncherAppClassLoader for resolved class orgspringframeworkhttpconverterjsonMappingJackson2HttpMessageConverter have different Class objects for the type comfasterxmljacksondatabindObjectMapper used in the signature,0
Update error message for usage of hadoop rm with --recursive option I had the following interaction with the shell It does work if I do hadoop fs rm xdtweets --recursive Either the order shouldnt matter or the doc should be more clear on placement of the option xdhadoop fs rm xdtweets To remove directory please use fs rm --recursive instead xdhadoop fs rm --recursive xdtweets javalangIllegalArgumentException Failed to convert xdtweets to type boolean for option recursive Cannot convert xdtweets to type Boolean,0
Create Module options metadata for OOTB jobs,0
Add ability to define nested jobs h3 Narrative As a developer I need to be able to create a Spring XD job module that consists of a job orchestrating the execution of other Spring Batch jobs using the Spring Batch Job Step see section 536 here httpdocsspringiospring-batchreferencehtmlconfigureStephtml within the same module definition h3 Acceptance Criteria Define the contract for a job module Currently the contract consists of a single job definition within the assembled ApplicationContext contextgetBeanJobclass The new version will need to document what job definition within the assembled ApplicationContext should be run as the entry point Im assuming it would be by id contextgetBeanjob for example of the job but am open to other options A custom job module that orchestrates multiple Spring Batch jobs via Job steps should be able to be deployed and executed as a single Spring XD module Spring XD launches the job that conforms to the previously defined contract Spring Batch manages the execution of the child jobs The existing OOTB jobs should work under the new contract h3 Assumptions The UI should just work in that child jobs update the job repository independently so no updates should be needed for an MVP of this functionality This will be a breaking change for users that have developed custom job modules h3 Out of Scope Execution of child jobs that are remote deployed on another node ApplicationContext Dynamically assembling jobs via the shells DSL or the UI,0
As a user I created a composed job with over 10 child jobs in the workflow I expected to see a job in the execution list page without any pagination but instead I noticed empty pagination to skip to next page,1
As a field engineer Id like to have a comparison of Storm examples in Spring XD so that it is easy to relate from implementation standpoint,8
Spike Investigate distributed deployment of s-c-s modules via YARN SPI As an s-c-d developer Id like to investigate the distributed deployment of s-c-s modules on YARN so I can experiment the implementation of YARN SPI and derive the strategy for YARNModuleDeployer,0
Document how to create a custom inputoutput module for existing SI channel adapters Document how to take an existing inputoutput channel adapters in spring integration and add them as a XD sourcesink module Should be as end-user focused step by step guide as possible Consider including a getting started gradlepomxml,0
Update to Spring Batch Admin 130GA,0
Support for listing of modules in the Shell Commands that pair up with the functionality described in XD-859 module list would list all modules in a table format module list --typesource would list only source modules and so on,0
Display the UI from xd-admin container when doing development in eclipse The UI code will be sitting in one or more top level directories in the repository This story will address the need to 1 copy over the UI code into a location so that it can be picked up by the embedded servlet container when running inside eclipse,0
Add BatchMbeanExporter for batch modules,0
Update Analytics Gauge section to use Shell commands instead of curl,0
Documentation Hovering over some of the examples corrupts the text If you mouse over any of the examples in the documentation the grey boxes containing code shell commands etc typically in the upper right hand corner a label for the type of codeexample will appear Eg Ruby Javascript etc 1 The labels that appear seem to be random and incorrect Shell scripts show as Ruby and Javascript 2 More importantly on some of the examples the label appears in front of and part of the example corrupting the example To see this hover your mouse over the two examples grey boxes here httpdocsspringiospring-xddocs100M6referencehtmlxdshellindistributedmode There may be more but this is the ones I noticed -Derek,0
Need a way to specify a specific namenode for a given hdfs based job A scenario where I have multiple jobs deployed to one singlenode or distributed instance of SpringXD that need to use different namenodes can easily exist The ability to specify a namenode much the same way I can specify a directory would solve this problem The desired behavior would be to specify a namenode that wasnt set using hadoop config fs namenode in the job description and have that value used instead of the value set at the SpringXD global level,0
spring-xd-extension-sqoop dependency overrides test logger setup As per Chapter 3 Logback configurationhttplogbackqoschmanualconfigurationhtml only XML configuration can be overidden with -test file Its impossible to do this with groovy configuration There are Spring XD modules that are packaging logbackgroovy eg spring-xd-extension-sqoop If a custom module depends on those libraries it becomes impossible to nicely override log settings for tests1 The configuration is taken from classpath because logbackgroovy is always prioritized over logback-testxml If those modules would switch to logbackxml there will be no such problem and custom modules would be easier to set up 1 One can put own logbackgroovy file under srctestresources but this setup will output a number of warning into console Forcing logback configuration path with -D option is not nice either,0
Create shell command for getting information on all job executions for a given name,0
Merge Container and ContainerMetadata as well as their repositories The two classes in question are orgspringframeworkxddirtclusterContainer orgspringframeworkxddirtcontainerContainerMetadata The former is currently used by the Admin when making decisions about Module deployment That latter was a replacement for RuntimeContainerInforEntity as we migrated the various RedisInMemory Repositories to use the data that is now available in ZooKeeper instead The ContainerRepository is currently used by the Admin leader and the ContainerMetadataRepository is used by the REST endpoint that supports the xd-shells runtime containers command Perhaps those can also be merged In any case if not addressed by a larger refactoring the ContainerRepository should probably support an Iterable return rather than an Iterator Having finders eg for attribute keyvalues such as groupfoo might be convenient for various Module deployment strategies,0
Develop basic acceptance test application to exercise based XD-EC2 deployment from CI Create a first pass at an acceptance test app for a stream definition of http log This will involve creating two new projects in xd 1 spring-xd-integration-test 2 spring-xd-acceptance-tests 1 will contain generally useful utility methods for acceptance test such as sending data over http obtaining and asserting JMX values of specific modules 2 will contain tests that use 1 to test the various out of the box modules provides in XD,0
Make Batch Job Restarts Work using Single Node See also XD-1320,0
As a Spring XD user Id like to use the latest releases of HDPPHD distros so I can leverage the latest features to create pipelines involving HDFS,8
SparkApp batch job is not running From the latest master I couldnt run sparkApp as batch job The spark application process gets launched and it doesnt complete and there are no errors at the output,0
Create OOTB batch job for export and processing multiple files from HDFS to MongoDB The ItemReader will read multiple files from HDFS and the data will be converted to a tuple data structure The ItemProcessor will be a no-op groovy script The ItemWriter will write the data to a MongoDB collection A TupleToDBObject converter will need to be developed the sample job should be documented,0
Unable to deploy job in UI This only happens when creating jobs via the CLI and deploying using the UI On the job page httplocalhost9393admin-uijobsdefinitions I click Deploy for a Job and get a screen asking for Container Match Criteria and Job Module Count - clicking on the Deploy button on that screen does nothing - I see this error reported Deploying Job Definition undefined angularjs9778 TypeError Cannot read property jobDefinition of undefined at ScopescopedeployDefinition httplocalhost9393admin-uiscriptsjobcontrollersdefinition-deployjs5278 at httplocalhost9393admin-uilibangularangularjs1056721 at httplocalhost9393admin-uilibangularangularjs1862717 at Scopeeval httplocalhost9393admin-uilibangularangularjs1241228 at Scopeapply httplocalhost9393admin-uilibangularangularjs1251023 at HTMLButtonElementanonymous httplocalhost9393admin-uilibangularangularjs1862621 at HTMLButtonElementjQueryeventdispatch httplocalhost9393admin-uilibjqueryjqueryjs50959 at HTMLButtonElementelemDatahandle httplocalhost9393admin-uilibjqueryjqueryjs476646 angularjs9778,0
Create doc section about quotes handling Document the different onion layers that come in play with regard to quoting and escaping shell xd-parser SpEL expressions in some cases and provide practical examples to common scenarios,0
Adapt SpringOne 2012 UI code from keynote demo of election results to use XD Existing code httpsgithubcomghillertspringone2012,0
Remove XD UUIDGenerator in favor of the new SI provided one Remove bean ididGenerator classorgspringframeworkxddirtcontainerUUIDGenerator containerxml Delete orgspringframeworkxddirtcontainerUUIDGenerator remove compile dependency on eaio from buildgradle,0
XD Integration pauses should be configurable While the current setting work while running from your laptop to local deployments Or running from your laptop to ec2 they are not long enough for CI to Ec2 This should have good defaults and have CI set them to what it needs,0
Automate execution of gradle pushGeneratedDocs Should be part of the daily build One easy way to do it would be to use the hardcoded authentication scheme as described here bamboo should mask a property whose name contains password We may want to create a dedicated github user though,0
Temporarily add toString Logic in Local Mode Inter-Module Comms,0
Remove unavailable jobs If a job is deployed an the singlenode job is canceled the job name cannot neither be reused nor destroyed See screenshots,0
As a Spring XD user Id like to make SPI implementation profile aware so I can run java -jar admin or cf push admin or ltc create admin and the corresponding implementation gets wired-in automatically,3
Create EC2 AMI for single-node install of Apache Hadoop 121,0
As a developer Id like to define pluggable runtime SPI so I have the option to choose the implementation based on deployment targets such as CF on-prem Mesos etc,5
Validate processing modules declare the required channels Validate that modules have required channels declared according to their type Currently the stream deployer accepts processors with no input but the stream doesnt complete We should fail earlier and more loudly,0
Create design document for implementation strategy to support message conversion in ChannelRegistry The conversion should be based on content-type headers similar to the way Springs HttpMessageConverters work with mime types Also the map of available converters should be extensible while including the most common defaults for JSON XML etc We most likely want to add a few of our own content types also eg for Tuples Most likely this logic and the configuration methods for extending the converter map belong in AbstractChannelRegistry since it should be common across all implementations ie the logic should be the same regardless of the transport used after-serializationbefore-deserialization,0
Configure servers to use VanillaHealthEndpoint The standard SimpleHealthIndicator that boot performs a database test that fails in xd-container since it does not require the use of a database,0
Update build to use SHDP 230RC1,0
Create custom help command for xd-shell so that hadoopDistro option is listed xd-shell is using the default spring-shell help command Need to create a help command specific to XD so that it can list the --hadoopDistro command line option Note the hadoopDistro command line option is actually processed by the xd-shell bash script,0
Update getting started documentation to use xd-singlenode start script With the new option of starting without requiring redis the getting started documentation should reflect this easier way to start processing data,0
Force and validate information on OOTB modules In line with the checks we do for options documentation Currently made more complicated than it should because of rogue folders such as scripts and analytics-pmml in the registry,0
Change the default deploy option to false for streamjob deploy commands With the introduction of the deployment manifest setting this to false makes it easier to use the deployment manifest which is the main use-case scenario,0
Create new implementations of existing infrastructure syslog adapters and TaskExecutors,0
Add Property maxMessagesPerPoll to All Polled Sources Polled message sources return only one message per poll by default When polling say a file directory with many files files will be emitted once per fixedDelay As a user I need to configure a limit for the number of messages that will be emitted per poll,0
The HDFS Store Library should support compression when writing text Need to support writing text in compressed format should initially support - bzip2 - LZO,0
Update to Reactor 110 M3,0
Reactor based http ingestion When there is support for boostrapping a http server in the reactor project and inbound SI adapter and associated XD source module should be created,0
Job display command handling null date value for execution endtime If the job display command is executed for JobExecution and StepExecution list it may be possible that the JobStep executions endTime still null because the status is still unknown and not completed In this case the display command throws assertion failure here Caused by javalangIllegalArgumentException The provided date must not be null orgspringframeworkutilAssertnotNullAssertjava112 orgspringframeworkxdshellutilCommonUtilsgetUtcTimeCommonUtilsjava144 orgspringframeworkxdshellcommandJobCommandsdisplayJobCommandsjava249,0
As a user Id like to have a REST-API to get all the counters gauges and rich-gauges in a single request so I dont have to issue multiple request to fetch each one of the metrics by nameid for custom dashboards Example code metricscountersall fetches all available counters metricsgaugesall fetches all available gauges metricsrich-gaugesall fetches all available rich-gauges code,5
UI Improve the filtering capabilities of jobs that are executinghave executed Show only the jobs that you have created vs those of others Requires Security - eg XD-1616 - Probably a separate issue Show only jobs that are in a specific statusstate running vs other states Show only jobs for the past x number of days Show only jobs whose name matches a simple string eg userAnalysis,0
Bump Spring AMQP to 143 When available,0
Provide cmdline options validation Wherever they come from cmd line args or ENVVARS options such as transport analytics etc should be validated and issues should be reported to users,0
Implement a Spark Streaming Driver application that can be controlled as an XD module instance This should include lifecycle management so that when the modules stream is undeployed the Spark Streaming application should be stopped etc Deploying a number of module instances should result in multiple receiver tasks and those should bind to the bus using the consumer side partitioning metadata,0
As a user Id like to refer to documentation in wiki so that I can setup and configure Kafka as a message bus as recommended,2
Fix JavaDoc Warnings homegprDocumentsgithubspring-xdspring-xd-analyticssrcmainjavaorgspringframeworkxdstoreAbstractRedisRepositoryjava196 warning - param argument the is not a parameter name homegprDocumentsgithubspring-xdspring-xd-modulesrcmainjavaorgspringframeworkxdmoduleAbstractPluginjava93 warning - return tag has no arguments homegprDocumentsgithubspring-xdspring-xd-rest-domainsrcmainjavaorgspringframeworkxdrestclientutilRestTemplateMessageConverterUtiljava63 warning - Tag link reference not found StreamDefinitionResourcePage homegprDocumentsgithubspring-xdspring-xd-rest-clientsrcmainjavaorgspringframeworkxdrestclientTapOperationsjava40 warning - param argument control is not a parameter name homegprDocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserveroptionsOptionUtilsjava29 warning - parame is an unknown tag homegprDocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamMissingRequiredDefinitionExceptionjava38 warning - param argument name is not a parameter name homegprDocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamStreamServerjava102 warning - return tag has no arguments homegprDocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamTapDefinitionjava57 warning - return tag has no arguments homegprDocumentsgithubspring-xdspring-xd-modulesrcmainjavaorgspringframeworkxdmoduleAbstractPluginjava93 warning - param argument group is not a parameter name homegprDocumentsgithubspring-xdspring-xd-modulesrcmainjavaorgspringframeworkxdmoduleAbstractPluginjava93 warning - param argument index is not a parameter name homegprDocumentsgithubspring-xdspring-xd-modulesrcmainjavaorgspringframeworkxdmoduleAbstractPluginjava101 warning - param argument group is not a parameter name homegprDocumentsgithubspring-xdspring-xd-modulesrcmainjavaorgspringframeworkxdmoduleAbstractPluginjava101 warning - param argument index is not a parameter name homegprDocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxjsonTypedJsonMapperjava133 warning - return tag has no arguments homegprDocumentsgithubspring-xdspring-xd-shellsrcmainjavaorgspringframeworkxdshellutilUiUtilsjava60 warning - CloudApplication is an unknown tag homegprDocumentsgithubspring-xdspring-xd-tuplesrcmainjavaorgspringframeworkxdtupleTupleJsonMarshallerjava26 warning - param argument tupleToStringConverter is not a parameter name homegprDocumentsgithubspring-xdspring-xd-tuplesrcmainjavaorgspringframeworkxdtupleTupleJsonMarshallerjava26 warning - param argument stringToTupleConverter is not a parameter name homegprDocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamdslDSLExceptionjava89 warning - return tag has no arguments homegprDocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamdslStreamLookupEnvironmentjava60 warning - return tag has no arguments,0
Measure baseline performance of RabbitMQ using PerfTest In-house,0
Add remote partitioning to filejdbc job h2 Narrative As a developer I need to be able to process the importing of files in parallel via the filejdbc batch job h2 Acceptance Criteria Be able to provide a list of files to the job and have them be read in parallel based on the number of slaves deployed Use MultiResourcePartitioner to create on partition per incoming file,0
As a user Id like to have the option to write into Kafka sink so that I can publish mass data into Kafka broker,8
As a user Id like to use SpEL expressions inline at the stream definition level so I can operate on the payload consistently while using any OOTB including the custom modules,8
The XD build breaks with Gradle 18 The XD build breaks with Gradle 18 due to some changes in dependency resolution,0
Add information that is updated in real-time for use in container matching Information related to an xd-container process andor machine that is not static such as group eg free memory number of deployed streams should be available for use as variables in the evaluation context of the criteria SpEL expression in the admins container matcher A good candidate for the source of this information are system MBeans See httpdocsoraclecomjavase7docsapijavalangmanagementpackage-summaryhtml,0
Jobs and taps should not require a leading since they have name spaces,0
As a Spring XD developer Id like to move cassandra module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,5
Tap naming consistency for stream taps Currently when creating the taps for streams the name of the pubsub channel inside the message bus would be tapname-of-the-streammodule-namemodule-index For instance the following stream with name test http transform --expressionpayloadtoLowerCase file will have the exchanges as topictaptesthttp0 topictaptesttransform1 when using rabbit message bus Though the stream config parser takes care of translating what user would provide in the DSL for example tapstreamtesttransform1 to use the message bus exchange topictaptesttransform1 it would be better we have the consistency inside the message bus channel name as well Also this would be in sync with how we name taps for jobs tapjob,0
Remove jars from zip packaging whose license prevents distribution The work here is doing the research mysql client jar should be removed as it is GPL - httpdevmysqlcomdownloadsconnectorj50html GPL postgresql is BSD so that is ok another issue will handle license file inclusion,0
Cron Jobs stop firing when a named trigger is created and deployed,0
As a Spring XD developer Id like to port script module from XD to s-c-s repo so I can use it as processor module to build streaming pipeline,2
UI User should be able to launch a job from Deployed jobs page From the Deployed jobs page user should be able to click on the Launch button on a specific job and specify the Job parameters as key value pairs in the text box and we will convert that into JSON string as JobParameters into JobLaunch request,0
UI Implement Job DeployUndeploy from the Job Definitions page From XD-1023 the job statusdeployedundeployed is available from JobInstance Repository and a job can be deployedundeployed correctly Implement Job deployundeploy for a given job from JobDefinitions page and indicate status of the job definition deployedundeployed,0
Update router sink logic to match new channel syntax for example the following should work code xdstream create a1 --definition queuea transform --expressionpayload-a log Created new stream a1 xdstream create b1 --definition queueb transform --expressionpayload-b log Created new stream b1 xdstream create s1 --definition http router --expressionpayloadcontainsaqueueaqueueb Created new stream s1 xdhttp post --data ha POST textplainCharsetUTF-8 httplocalhost9000 ha 200 OK log shows ha-a xdhttp post --data hi POST textplainCharsetUTF-8 httplocalhost9000 hi 200 OK log shows ha-b code This needs to be tested against all transports local redis and rabbit,0
Support CI build in Travis Get minimal compilation going in Travis RedisRabbit services can be done in a separate story,0
Add CI Acceptance Test for 12x Need acceptance tests to run on the 12X branch Needs to be setup as a child of the Publish 12x,0
Create a Trigger h2 Narrative As the XD system I need to be able to execute a job or potentially a stream based on a given condition time data existence etc This story is intended is for a local trigger implementation but remote triggers will also need to exist h2 Acceptance Criteria Implement the ability to register a time based trigger trigger CRONSTRING for example Implement the ability to register a file existence based trigger trigger PATH for example Implement the ability to execute a job via an anonymous trigger jobname CRONSTRING OR PATH Implement the ability to execute a job via a job via the previously registered trigger jobname triggername,0
Use Hadoop mini-cluster test support in XD tests The tests that use HDFS currently require an external Hadoop installation and is hard to set upupdate version in all the environments where we want to run tests eg bamboo travis See if the mini-cluster described in httpdocsspringiospring-hadoopdocs200RC1referencehtmltestinghtmltestingyarnminicluster can be used in the test cases instead,0
Batch Jobs need container admin profiles This is to set the appropriate data source so that the container will use admins batch repository,0
As a user Id like Flo Graphs as screenshots while referring to the batch DSL so it will be easy for me to relate to concepts,1
Add ResourceModuleRegistry with custom modules location If someone wants to have a dedicated location module registry for the custom modules and can be accessed from any Spring supported resource URL location then we need to support Currently we use Delegating ModuleRegistry which uses ResourceModuleRegistry implementations that look for location xdmodulehome and classpathmodules Maybe we can add an additional ResourceModuleRegistry with xdcustommodulehome and use it for custom modules,0
Get rid of SparkStreamingDriverModule Code that is in there could be moved to the SparkStreamingModule Then as part of a later refactoring that plugin should be made part of the module and loaded by the module classloader,0
Tuple data structure The tuple data structure should be backward compatible in functionality for use in spring batch Porting over FieldSet tests in spring batch to use the tuple data structure is one way help ensure that compatibility,0
Allow aggregate-counter to increment by some value of the message Currently the aggregate counter only adds 1 to the individual values even though support is there to add any increment This ticket is about surfacing a SpEL expression on the message to choose the increment,0
Wrong Jetty Util on classpath for WebHdfs We currently include jetty-util-6126jar but we need to add correct jar for different distributions - PHD uses jetty-util-7610v20130312jar Need to check hadoop-hdfs dependencies for the distros and add jetty-util- to the jar copy for each distro,0
Create JDBC sink we need a JDBC sink for writing to HAWQ using int-jdbcoutbound-channel-adapter and postgresql JDBC driver,0
As a developer Id like to upgrade reactor-ip and syslog modules to Reactor 20 so that we can sync up with the latest release,1
Improve support for custom headers when using Kafka Message Bus I understand Kafka natively does not have the concept of message headers However Spring Integration messages do and a lot of SI components are built specifically for dealing with message headers header-enricher header-filter header-value-router etc In addition message headers are very useful for tracking meta-information about messages as they progress through a system With the implementation of httpsjiraspringiobrowseXD-3621 Spring XD has limited support for custom headers when using Kafka as a transport I say limited because it is required to list all custom headers explicitly in serversyml in order for the headers to be retained by the MessageBus This is less than ideal because it means that it is necessary to know all potential custom header values a user will require before starting the environment It would be nice to extend this functionality so that it is not necessary to list custom headers in the configuration Instead when operating in modeembeddedHeaders Spring XD will simply embeds ALL headers in the Kafka message Or alternatively allow for a wildcard in the headers configuration option so that it is not necessary to exhaustively list all possible custom header values prior to starting the system,0
Set sourceCompatibility to JDK 17 Min JDK version for XD 11 is 7 Change the sourceCompatibility to 17 but leave targetCompatibility at 16 Changes are also needed in the mdule parent pom and gradle plugins,0
Missing Log Configuration for throughput-sampler httpstackoverflowcomquestions28019801how-to-read-throughput-sampler-sink-values-in-spring-xd2802754428027544,0
Refactor Taps to Avoid Transport Hop Taps are currently source modules They could be refactored to simply bridge the tapped modules tap pubsub topic directly with conversion to the first tap modules input channel Note - ensure destroy works Currently the tap is destroyed by the simple fact it is a module if its no longer a module well need special handling to stopremove the tap adapter,0
Fix failing KafkaSingleNodeStreamDeploymentIntegrationTestsverifyOnDemandQueues Test fails in CI when the topic used by the test had its initial segment removed during cleanup,0
Create gemfire test Port httpsgithubcomspring-projectsspring-xdblobmastersrctestscriptsgemfirestreamtests Need to consider how to start the server maybe use the jvm fork utilities Look into spring-data-gemfire as well,0
Make doc generation part of the standard build Following the recent move of the doco to the main repo it makes sense to have the doc generation be part of the main build at an early stage as an incentive for developers to push doc changes as soon as they change the code,0
As a s-c-d developer Id like to make the deployer work asynchronously so I can use the shell to return quickly and also queue deploy operations within YARN as tasks,2
Job definition is deleted after restart the srping xd service in single node mode Job definition is deleted after restart the srping xd service in single node mode repro step 1start service as single node 2create a batch module 3create a job based on batch module 4restart service expect result job definition is displayed on the job list actual result job list is empty all job definitions are missed,0
As a developer Id like to default to HDFS as distributed remote location for custom module registry so I can use xd-shell or the REST-API directly to upload the custom module bits I would also like to remove custom-moduleszip artifact from YARN distribution,3
Speed up upload of Module Launcher jar Upload of module launcher bits is slow because we do not take into account the CC cache To fix this we need to use an async upload and to somehow generate the SHA etc for the Module Launcher so that CC can pre-empt uploading all the bits every time,0
Create subproject spring-xd-machine-learning-analytics-jpmml Using the jppml evaluator provide an implementation of the core abstractions in the spring-xd-machine-learning The initial code for this has been developed in a separate github repo and is located here httpsgithubcomthomasdarimontspring-xdtreefeatureadvanced-analytics-supportspring-xd-analytics-jpmmlsrcmainjavaorgspringframeworkxdanalyticsmodeljpmml,0
Add Logging to ZooKeeperContainerRepository Occasional CI test build failures quote Caused by javalangIllegalStateException Container cache not initialized likely as a result of a ZooKeeper connection error orgspringframeworkutilAssertstateAssertjava385 orgspringframeworkxddirtcontainerstoreZooKeeperContainerRepositoryensureCacheZooKeeperContainerRepositoryjava184 orgspringframeworkxddirtcontainerstoreZooKeeperContainerRepositoryfindOneZooKeeperContainerRepositoryjava263 quote eg httpsbuildspringiobrowseXD-JDK8-JOB1-1514 Add logging to ensureCache eg in childEvent and closeCache to log that the cache was closed it appears thats the only way the cache not initialized message can be emitted,0
Create documentation section for the shell Create a new section in the docs regaring shell usage in particular how to represent single and double quotes Include some discussion of basic commands to manipulate streams jobs and list modules How to pass in a file that can be executed when the shell starts up Also point to spring-shell ref docs for extensibility in terms of adding custom commands,0
Issue with pagination in web UI In JOBS tab Quick-filter search box paging functionality is not working as expected Items stay in the page they were first loaded after filtering ex If there were 500 pages of jobs and you are filtering for a job which was in 345 page after the filtering you have to navigate to that page in order to see the job It needs to be rendered on the first page,0
Build failure on Ubuntu Build fails gradle clean build spring-xd-dirttest orgspringframeworkxddirtstreamFileSourceModuleTests classMethod FAILED javaioIOException at FileSourceModuleTestsjava53 orgspringframeworkxddirtstreamFileSourceModuleTests classMethod FAILED javalangIllegalArgumentException at FileSourceModuleTestsjava130 328 tests completed 2 failed 11 skipped spring-xd-dirttest FAILED FAILURE Build failed with an exception Looks like it is trying to create a directory under the local filesystem javaioIOException Unable to create directory tmpfilesourcetests orgapachecommonsioFileUtilsforceMkdirFileUtilsjava2024 orgspringframeworkxddirtstreamFileSourceModuleTestscreateTempDirFileSourceModuleTestsjava53 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgjunitrunnersmodelFrameworkMethod1runReflectiveCallFrameworkMethodjava47 orgjunitinternalrunnersmodelReflectiveCallablerunReflectiveCallablejava12 orgjunitrunnersmodelFrameworkMethodinvokeExplosivelyFrameworkMethodjava44 orgjunitinternalrunnersstatementsRunBeforesevaluateRunBeforesjava24 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgjunitrunnersParentRunnerrunParentRunnerjava309 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterrunTestClassJUnitTestClassExecuterjava80 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterexecuteJUnitTestClassExecuterjava47 orggradleapiinternaltaskstestingjunitJUnitTestClassProcessorprocessTestClassJUnitTestClassProcessorjava69 orggradleapiinternaltaskstestingSuiteTestClassProcessorprocessTestClassSuiteTestClassProcessorjava49 sunreflectGeneratedMethodAccessor23invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingdispatchContextClassLoaderDispatchdispatchContextClassLoaderDispatchjava32 orggradlemessagingdispatchProxyDispatchAdapterDispatchingInvocationHandlerinvokeProxyDispatchAdapterjava93 comsunproxyProxy2processTestClassUnknown Source orggradleapiinternaltaskstestingworkerTestWorkerprocessTestClassTestWorkerjava103 sunreflectGeneratedMethodAccessor22invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingremoteinternalhubMessageHubHandlerrunMessageHubjava355 orggradleinternalconcurrentDefaultExecutorFactoryStoppableExecutorImpl1runDefaultExecutorFactoryjava66 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava724,0
As a developer Id like to port aggregate-counter module from XD to s-c-s repo so I can use it as sink module to build streaming pipeline,2
Copy spring-xd-codec to SCS as spring-cloud-streams-codec Create the equivalent library in spring-cloud-streams,0
Handle random available http port for admin server If the XD admin server lets tomcat chooses random http port by setting PORT or serverport to 0 the XD config logging and admin server context id still points to port zero as these are set before tomcat assigns the available random port We also need to persist the admin servers ports into ZK so that this repo can be accessed by the client,0
Improvements to Executions Tab 1 Add quick filter 2 The table should have columns for name instance execution id Getting the name might require a bit of extra work given some limitations with JSON serialization and cycles in the current object returned from spring batch 3 The restart action should appear only if the job is restartable and the status was failed,0
Create microbenchmark for performace of redis and jdbc based aggregators would be good to have a general feel for the general performance of these two options Redis can run on the same node as the benchmark,0
Embed local message bus in DIRT as default for singlenode Currently all message bus implementations are removed from the runtime classpath and loaded on demand from the file system according to the transport setting Custom module projects that include in container testing must install messagebus-local on the local file system This is currently configured as a task for module build scripts This is also a dependency for testing in the IDE and developers need to execute the build task or configure the messagebus manually Embedding the local MB for the singlenode application local is not a valid transport for distributed eliminates this step,0
Documenation for buildingstarting redis servers,0
Increase the partitionResultsTimeout The partitionResultsTimeout is set to 300000 as default 5min This is way to short for long running steps We should increase this default,0
Make String conversion optional with local transport,0
Shell processor is not thread safe Multiple threads invoke the shell processor result in IO errors andor data corruption send and receive should be synchronized,0
Add jmxPort to list of coerced cmd line options Following merge of XD-1109 See discussion at httpsgithubcomspring-projectsspring-xdcommiteaf886eab3b2ef07da55575029ccabb2c8a36af9commitcomment-4701947,0
The time Source Should Emit String by Default When running in local mode no Redis time tcp no longer works Change the time source to emit the date as a String while allowing an option to emit a Date object,0
Modules that use tomcat connection pool need to expose configurations filejdbc hdfsjdbc jdbchdfs jdbc modules each support a tomcat connection pool At this time none of the configurations allowed by the tomcat connection pool are available unless the user adds them to the appropriate module xml file We need to allow the user to configure them via yml property file and environment variables,0
RabbitMQ queue cleanup uses wildcard unexpectedly Calling the API to delete queues uses a wildcard-like behaviour unexpectedly If I request to delete test-1 I expect it to delete streams named with the pattern test-1 For example it would delete test-10 test-11 etc In fact I believe it wildcards before and after the period eg test-1 And hence would delete test-10 test-110 test-1230 etc That way of working is potentially helpful but its also dangerous because it removes the ability to know that youre only deleting the exact queue you want to in all cases For the record the commit httpsgithubcomspring-projectsspring-xdcommit2d5f3f706330a6ead8e91c9a7a23d4372715614d implies that it should work in the more restricted way above not the less restricted way Note Ive marked this as an improvement because absent documentation I dont know what the correct functionality is and hence cant say this is a bug,0
RabbitMQ serveryml options ignored p-spring-xd defines values for the following parameters in serversyml These values are not being retrieved and hence have to be manually added to each stream definition addresses username password virtualhost cf XD-2675 XD-2741,0
MBeans are not destroyed if stream is created and destroyed with no delay Problem The container that the stream was deployed to will not allow new streams to be deployed Once the error occurs the only solution is to terminate the XD Container and restart it To reproduce create a stream foo and destroy the stream then create the stream foo again This best done programmatically taking the same steps using the shell may not reproduce the problem ie if you put a Sleep of 1-2 seconds between the destroy and the next create it works fine,0
Rollover support in hdfs-datasink hdfs-datasink should support rollover option just like hdfs sink This might be mutually exclusive with batchSize option which also performs rollover,0
Create JobLaunchRequest Transformer The JobLaunchRequest Transformer shall accept the following payloads File JSON String Properties Map Tuple UseMigrate some of the logic from JobParametersBean eg using the DefaultJobParametersConverter Special Case File When handling a File add special JobParameter absoluteFilePath populating it with messagegetPayloadgetAbsolutePath Add unit tests,0
Support Named Taps or Similar Provide some syntax allowing multiple tap points to be directed to a named channel eg tap foo4 namedTap tap bar2 namedTap or tapfoo counter,0
Remove duplicate logger info on application started When the admin container and singlenode servers start the Started Application log message is displayed everytime the spring application is created We should only log when the server is started eventually,0
add twitter search source module,0
Create test with jdbc sink and initializeDbfalse See httpsgithubcomspring-projectsspring-xdblobmastersrctestscriptsjdbctestsL96 and httpsgithubcomspring-projectsspring-xdblobmastersrctestscriptsjdbctestsL64 The second assert has initializeDbfalse and so there are double the number of rows running the job a second time,0
Fix mqtt module properties Use of dot in property name prevents the user from specifying a value in stream definition Also defaults are repeated at xml and properties level,0
Container server does not log a message that it has started or stopped successfully xd-container processing module Module namefile typesink from group tailtest with index 1 processing module Module nametail typesource from group tailtest with index 0 Logging of processing module should have log level time,0
Vary queue number B-7 Based on the the results from B-6 select the number of consumerproducers that give a distinct 5 increase in message rate Below 5 change in message rate prefer lower consumerproducer count Vary the number of PerfTest instances that are run simultaneously and use their own independent queue from 1 until the overall messagessec on the broker plateaus Note the CPU performance using top for the broker and PerfTest processes Test 1 2 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 Test 2 3 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q3 -p -x 1 -y 1 -s 1000 -z 60 -q 500 Test 3 4 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q3 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q4 -p -x 1 -y 1 -s 1000 -z 60 -q 500 Test 4 5 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q3 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q4 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q5 -p -x 1 -y 1 -s 1000 -z 60 -q 500 etc,0
Update jdbchdfs properties and defaults to better match hdfs sink We should use fileName fileExtension properties and default to xdjobname as directory,0
Remove org in hsqldb dependency,0
Launch GF cache server for integration tests The comments in 22httpsgithubcomspring-cloudspring-cloud-stream-modulespull22 indicate that we also need to run a gemfire cache server in order for the tests to pass We should create an embedded cache server since it would be much easier not have to have an XD or gemfire install in order to test the sink,0
Error Message for Missing Job Description needs to be updated When using the rest interface to create a Job with an empty description used to generate the following exception Definition can not be empty Now generates XD112Epos 0 Unexpectedly ran out of input The correct error should be definition cannot be blank or null,0
SCS Rename xdmessagebus binder properties replace with xdmessagebus prefix with springcloudstreambinder,0
As a user Id like to have a Redis based aggregation over field-value counters so that I can continuously write the aggregation in Redis as we ingest more data Scope Port specs from previous implementationhttpsgithubcomspring-projectsspring-xdwikiOLD---Aggregate-Field-Value-Counters Identify gaps Update reference documentation,3
Support ModuleOptions for composed modules With the following semantics assuming http filter transform composition Fully qualified names always available eg filterexpression using module type as key or label if ambiguity Simple names available if no ambiguity eg here port refers to httpport As per discussion VIII Use of --expression option in composed module filter filter Should not be supported require FQN always Should pertain to first filter module always Should pertain to all modules with an expression option here both filters Should fail if not qualified and ambiguity Use labelexpression or typeexpression eg if we had filter transform see VII nesting1nesting2nesting3expression MF VIII Use of --expression option in composed module http filter --expressionsomething transform Should not be supported already valued Should pertain to first filter module always Should pertain to all modules with an expression option here both filters Should fail if not qualified and ambiguity Use labelexpression or typeexpression eg if we had filter transform see VII nesting1nesting2nesting3expression MF,0
Remove AutoLaunch feature from batch jobs Jobs will be started via trigger So we wont need the JobTriggerBean,0
Add remote partitioning to hdfsjdbc job h2 Narrative As a developer I need to be able to process the importing of files in parallel via the hdfsjdbc batch job h2 Acceptance Criteria Be able to provide a list of files to the job and have them be read in parallel based on the number of slaves deployed Use MultiResourcePartitioner to create on partition per incoming file,0
As a s-c-d developer Id like to have module list shell command so I can query and list all the modules supported within the ModuleRegistry,2
Document idleTimeout setting Document --idleTimeout setting to not exceed the HDFS timeout value,0
Find runtime modules by type andor name We need a way to find the runtime module info by module typesource sink processor job,0
Simplify instance deployment code AbstractDeployer has 4 subclasses 3 of which override eg deploy making the boilerplate factorization ineffective Introduce an intermediate class for those deployers that support the concept of an instance Stream Tap Job to some extent,0
Add Eclipse target to EC2 buildgradle So that the code format matches that of the XD Project,0
Update spring-data-hadoop to version 212RELEASE,0
As a user Id like to have the flexibility to change the namespace so that I can isolate ZK metadata based on each tenant profile,5
Add Support for BoldStrong Fonts Hitting this issue in Chrome httpstackoverflowcomquestions22891611google-font-varela-round-doesnt-support-font-weight-in-chrome Looks like Chrome has some issues with making text bold if the font does not explicitly support it,0
Create required infrastructure to easily perform integration testing of shell commands,0
The HTTP Source creates the ChannelPipeline inefficiently The ChannelPipelineFactory used by the HTTP source should cache expensive objects used by the ChannelPipeline between requests because creating them every time is inefficient and in the case of HTTPS it can become even more expensive,0
As a user Id like to have the option to compress messages so that I can influence the performance throughput Itd be beneficial to have support for gzip zip compression and decompression,3
The HDFS Sink should support writing POJOs to HDFS using AvroKite SDK with support for partitioning Support for partitioning on a field eg date,0
Improve implementation of null sink The null sink uses a bridge and in perf testing it seemed to introduce overhead Verify with throughput source and a hand-crafted no-op MessageProcessor impl,0
Create shell command for getting information on all steps of a given job execution,0
Add accepted type logic to module A module can declare one ore more payload types it will accept This will inform the runtime re automatic payload conversion This can be done in the module XML configuration and processed by StreamPlugin,0
Access to LocalMessageBus internal state A LocalMessageBus in singlenode mode has several internal properties that would be useful to monitor at runtime for example via JMX queueSize current size of executors queue and others All fields are currently write-only so its hard to access them from custom code too Public getters would be useful as well as an MBean exposed to JMX,0
Create base perf test criteria Since Kafka and Rabbit have different strategies on how a message system is implemented we will need to update the tests used on rabbit to work with Kafka While they will not be exactly the same as before they should exercise the same principles This story covers Create the consumer and producer execution configurations for kafka-producer-perf-testsh and kafka-consumer-perf-testsh Record the tests a spreadsheet much like the Rabbit Base test spreadsheet,0
As a developer I want to be able to connect to multiple types of transports in an application so that I can receive and send messages to different transport types,5
Add status column for stream list shell command result stream list shell command should display status of the stream deployed undeployed,0
Update XD-Ec2 deployer to use XDTRANSPORT XD-EC2 must use environment variable XDTRANSPORT instead of --transport to declare data-transport for XD,0
As a consequence of not fixing XD-1289 we should document keys of the form xdstreamname that are available to users xdstreamjobname and xdcontainer come to mind there may be others,4
Spring XD should log the address of the admin UI When I start xd-singlenode for instance I would expect to see httplocalhost9393admin-ui listed in the logs,0
DefaultContainerMatcher should make a better attempt at round-robin distribution Currently the index is used globally but applied to a range of candidates that can differ based on the match criteria per invocation,0
As a user Id like to have shell to automatically configure itself against an environment I have setup This really came up with ambari work where shell can be anywhere in a cluster Best I was able to do for now is to build an init file for commandsambari xd-shell deploy already knows locationsaddresses for xd admin and namenode code cat etcspringxdconfxd-shellinit admin config server httpambari-2localdomain9393 hadoop config fs --namenode hdfsambari-2localdomain8020 code and then run those after starting xd-shell code server-unknownscript --file etcspringxdconfxd-shellinit admin config server httpambari-2localdomain9393 Successfully targeted httpambari-2localdomain9393 hadoop config fs --namenode hdfsambari-2localdomain8020 Script required 0662 seconds to execute xd code,1
Add ability to inject delimiter on pre-packaged jobs that deal with files,0
Command to create a tap To store its definition and optionally deploy with --autostart flag,0
Enable configuration of replication factor on the Kafka message bus The field exists and it is referred to in applicationyml but it does not have a setter and the bus will always use the configured default which is 1,0
As a developer Id like to complete the remaining work with DEBS challenge so I can submit by the deadline,2
Do not allow a stream definition to contain ambiguous module references A stream definition such as http transform transform file will limit functionality such as taps since you cant reference which specific module to apply the tap Should be proactive in parsing the DSL and force the use of a label to disambiguate,0
As a developer Id like to enhance test coverage to capture DSL and XML generation variants,5
singlestep-partition-support needs to allow grid size to be configurable h3 Narrative As a developer I need to be able to configure a partitioned jobs grid size so that the correct number of partitions are created the current code is hard coded to 1 for the grid size h3 Acceptance Criteria Expose the gridSize attribute of the MessageChannelPartitionHandler as an option h3 Assumptions Existing OOTB jobs should not be impacted by this given they dont use the grid size,0
Provide Python module to handle IO for implementing a Python shell processor,0
Update documentation to list supported Hadoop distributions After spring hadoop 20 RC4 update,0
As a user Id like to refer to a Pig scriptjob sample so that I can use that as a reference to integrate Pig jobs in XD,5
As a developer Id like to add undeployed status for CF SPI so I can represent the correct status instead of the current unknown state,3
Create REST endpoint for validation of a jobstream definition Have a REST endpoint that would run validation of a definition without actually attempting the creation let alone deployment and return a structured representation of validation errors This to benefit the web ui,0
Topic channels are not broadcasting This needs to work for all transports local rabbit and redis and we need to ensure that we have test coverage for each of those to avoid any regressions The incorrect behavior was observed with all three transports code xdstream create a --definition topicfoo transform --expressionpayload-a log Created new stream a xdstream create b --definition topicfoo transform --expressionpayload-b log Created new stream b xdstream create s --definition http topicfoo Created new stream s xdhttp post --data hi POST textplainCharsetUTF-8 httplocalhost9000 hi 200 OK only one line in log code,0
Upgrade to Jackson 222,0
Create OOTB batch job that moved data from JDBC to HDFS Basic inverse of current hdfsjdbc job,0
Use dot as the composed module option separator Following merge of httpsgithubcomspring-projectsspring-xdpull601 use dot as the separator for a composed module option Need change to the parser to accept dots,0
Document minimum memory requirement for Gradle builds The build failed on two classes from spring-xd-extension-process ShellCommandProcessorjava and ShellCommandProcessorTestsjava with error FAILURE Build failed with an exception What went wrong Execution failed for task spring-xd-extension-processlicenseTest License violations were found Usersvictorchugunovgitreposspringspring-xdextensionsspring-xd-extension-processsrctestjavaorgspringframeworkxdextensionprocessShellCommandProcessorTestsjava In both classes the license is misplaced package orgspringframeworkxdextensionprocess Copyright 2014 the original author or authors Licensed under the Apache License Version 20 the License you may not use this file except in compliance with the License You may obtain a copy of the License at httpwwwapacheorglicensesLICENSE-20 Unless required by applicable law or agreed to in writing software distributed under the License is distributed on an AS IS BASIS WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND either express or implied See the License for the specific language governing permissions and limitations under the License,0
Modify module metadata to exclude default module properties When the runtime modules command displays the the modules metadata properties we can exclude the default module properties such as xdstreamname xdmoduleindex and show only the other properties such as resolved module options etc,0
Incremental data import with jdbchdfs job Enhance the current jdbchdfs job in spring-xd to have an incremental load delta load feature similar to sqoop See sqoop documentation herehttpsqoopapacheorgdocs145SqoopUserGuidehtmlincrementalimports The job will need to maintain some state between executions in order to decide the start point for the next data load The jdbchdfs job definition could take the following 2 new options h5 checkColumn optional Specifies the column to be examined when determining which rows to import the column should not be of type CHARNCHARVARCHARVARNCHAR LONGVARCHARLONGNVARCHAR Column should be numeric or timestamp h5 lastValue optional If specified this will override any data saved from previous job runs If not specified will take the saved max-value from the last job run If no last job run data is available then it will not be an incremental load and all the data which satisfies the query will be used Sqoop provides 2 modes of operation for incremental load append and lastModified For jdbchdfs the job will always append as it is writing to a hdfs file Example To import data from the database table sometable which has a last update column called lastUpdated you could use code xd job create myjob --definition jdbchdfs --sqlselect col1col2col3 from sometable --checkColumnlastUpdated --deploy code The batch job should also be capable of being partitioned to run in parallel across multiple containers,0
XD does not release ports on failed stream creates If stream fails to create while using sources or sinks that need ports Ports are not released If while creating a stream you see Command failed orgspringframeworkxdrestclientimplSpringXDException Failed to bind to 000000009000 Possibly the port is already in use then destroy the stream or all streams for that matter you will not be able to create another stream that uses that port The work around is to cycle the container,0
Creating a tap throws an exception Creating a tap throws an exception In local mode Cannot resolve reference to bean redisConnectionFactory while setting constructor argument nested exception is orgspringframeworkbeansfactoryNoSuchBeanDefinitionException No bean named redisConnectionFactory is defined But also fails when using redis,0
As a user Id like to have the option to provide security configurations so that I can access REST endpoints in a secured manner Ideally all the listed RESThttpsgithubcomspring-projectsspring-xdwikiREST-APIxd-resources endpoints needs to be wrapped within a security layer Scope of this spike Research Spring Security and Spring Boot and the OOTB features Design considerations and approach for XD Developer experience How users will be configuring security credentials How DSL shell will be handled How Admin UI will be handled,8
Create pipes and filters DSL for ingestion Initial simple handcoded implementation for straight through pipe and filter model eg a b c,0
UIFix E2E test warning When running E2E tests the following warning may be observed code Running karmae2e karma task INFO karma Karma v0109 server started at httplocalhost7070karma INFO launcher Starting browser PhantomJS TypeError Cannot read property verbose of undefined at enableWebsocket Usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-connect-proxylibutilsjs10118 at ObjectutilsproxyRequest as handle Usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-connect-proxylibutilsjs1095 at next Usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-contrib-connectnodemodulesconnectlibprotojs19315 at Objectlivereload as handle Usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-contrib-connectnodemodulesconnect-livereloadindexjs1475 at next Usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-contrib-connectnodemodulesconnectlibprotojs19315 at Functionapphandle Usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-contrib-connectnodemodulesconnectlibprotojs2013 at Serverapp Usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-contrib-connectnodemodulesconnectlibconnectjs6537 at ServerEventEmitteremit eventsjs9817 at HTTPParserparseronIncoming httpjs210812 at HTTPParserparserOnHeadersComplete as onHeadersComplete httpjs12123 at Socketsocketondata httpjs196622 at TCPonread netjs52527 code,0
Support a dependencies-manifest aware Module Registry It would be nice to be able to have modules that are simply made of - Their context xml file - Some kind of manifest that expresses dependencies and have the runtime take care of the deps,0
As a developer Id like to update Ambari installed Spring XD cluster to spin-up multiple instances of XD-Admin servers so it is setup for HA,5
Job execution display to show job deploymentdefinition status With XD-1311 the job execution list shows the definitiondeployment status of the associated job We need to show the same information for a given job execution,0
Acceptance test must be able to handle log names with PID suffix Introduced by XD-2006 admin and container logs will have a pid suffix appended to their filename The acceptance tests will have to identify the PID for the admin server and the container servers deployed in the cluster and then append the pid value to the filename contained in the xdcontainerlogdir,0
Harmonize poller configuration See conversation at httpsgithubcomspring-projectsspring-xdpull1509 Several source modules leverage a poller with fixedDelay being a common name for one of the options There is actually PeriodicTriggerMixin available which should be applied to all modules to make sure configuration is harmonized See httpsgithubcomspring-projectsspring-xdpull1384files At the time of writing noformat grep -r poller --includexml grep -v build modulessourcefileconfigfilexmlpoller fixed-delayfixedDelay time-unitSECONDS modulessourcejdbcconfigjdbcxmlpoller fixed-delayfixedDelay time-unitSECONDS modulessourcemailconfigmailxmlpoller fixed-delayfixedDelay time-unitSECONDS modulessourcesftpconfigsftpxmlpoller fixed-delayfixedDelay time-unitSECONDS modulessourcetimeconfigtimexmlpoller triggerfixedDelayTrigger noformat,0
No indication of failure in shell when deploying job referencing nonexistent trigger I see the following output on the shell if I create a job and reference a non-existent trigger Theres a big stack trace in the server log but nothing on the shell side indicating failure A subsequent jobs list also shows the job The same thing happens if I deploy an undeployed Job after deleting its associated Trigger job create --name helloWorldJob --definition myjob --triggernonexistenttrigger Successfully created and deployed job helloWorldJob,0
As a Spring XD developer Id like to move mail module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,2
Enabling security breaks xd-shell After enabling security in XDHOMEconfigserversyml code spring profiles admin security basic enabled true false to disable security settings default realm SpringXD user valid only if securitybasicenabledtrue name johndoe password johndoe role ADMIN VIEW CREATE code Its no longer possible to connect to admin server through xd-shell code server-unknownadmin config server --username johndoe --password johndoe Unable to contact XD Admin Server at httplocalhost9393 server-unknownadmin config info ------------- -------------------------------------------------------------- Credentials usernamejohndoe password Result Unable to contact XD Admin Server at httplocalhost9393 Target httplocalhost9393 Timezone used Greenwich Mean Time UTC 000 ------------- -------------------------------------------------------------- ------------------------------------------------------------------------------- An exception ocurred during targeting orgspringframeworkwebclientHttpClientErrorException 403 Forbidden at orgspringframeworkwebclientDefaultResponseErrorHandlerhandleErrorDefaultResponseErrorHandlerjava91 at orgspringframeworkxdrestclientimplVndErrorResponseErrorHandlerhandleErrorVndErrorResponseErrorHandlerjava50 at orgspringframeworkwebclientRestTemplatehandleResponseRestTemplatejava614 at orgspringframeworkwebclientRestTemplatedoExecuteRestTemplatejava570 at orgspringframeworkwebclientRestTemplateexecuteRestTemplatejava545 at orgspringframeworkwebclientRestTemplategetForObjectRestTemplatejava253 at orgspringframeworkxdrestclientimplSpringXDTemplateinitSpringXDTemplatejava114 at orgspringframeworkxdrestclientimplSpringXDTemplateinitSpringXDTemplatejava102 at orgspringframeworkxdshellcommandConfigCommandstargetConfigCommandsjava112 at sunreflectNativeMethodAccessorImplinvoke0Native Method at sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 at sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 at javalangreflectMethodinvokeMethodjava606 at orgspringframeworkutilReflectionUtilsinvokeMethodReflectionUtilsjava202 at orgspringframeworkshellcoreSimpleExecutionStrategyinvokeSimpleExecutionStrategyjava64 at orgspringframeworkshellcoreSimpleExecutionStrategyexecuteSimpleExecutionStrategyjava57 at orgspringframeworkshellcoreAbstractShellexecuteCommandAbstractShelljava127 at orgspringframeworkshellcoreJLineShellpromptLoopJLineShelljava533 at orgspringframeworkshellcoreJLineShellrunJLineShelljava179 at javalangThreadrunThreadjava745 code It looks like admin base URL httplocalhost9393 is not defined in security section of applicationyml so SpringXDTemplate cant be initialized,0
Add ability to launch job composition h2 Narrative Verify that the job launch works as we expect for the composed job,0
Cannot chain json-field-value-filter json-field-extractor Because StringToJsonNodeTransformer expects a String as input one cannot chain json related processors A simple solution would be to also accept Jackson IN and forward it directly in that case,0
Add conversion support to ChannelRegistrar and ChannelRegistry Implements automatic conversion Provide APIs to channel registry to register Payload conversion Includes Redis and Rabbit transport,0
FilePollHdfsTest fails intermittently From time to time FilePollHdfsTest fails in the CI Acceptance Tests The exception that is fired is as follows javalangAssertionError javalangAssertionError The data returned from hadoop was different than was sent expected942b9f47-8169-4dc3-a2ba-3d8fab04a4dc but wasnull Need to investigate if this is a timing issue with the test more than likely or with the actual module,0
Allow mixins of ModuleOptionsMetadata A lot of modules have similar options Moreover job modules often have options that belong to at least two domains eg jdbc hdfs I think that by using FlattenedCompositeModuleOptionsMetadata we could come up with a way to combine several options POJOs into one Something like public class JdbcHdfsOptionsMetadata OptionsMixin private JdbcOptionsMetadata jdbc OptionsMixin private HdfsOptionsMetadata hdfs this would expose eg driverClass as well as rolloverSize as top level options Values could be actually injected into the fields so that eg custom validation could occur default validation for the mixin class would occur by default,0
Module message conversion fails to work if JMX is enabled If JMX is enabled for modules enabling the IntegrationMBeanExporter the ModuleTypeConversionPlugin fails to get the reference to inputoutput channel for adding the ContentTypeHeaderInterceptor and results in exception It seems like the IntegrationMBeanExporter when JMX is enabled creates JdkDynamicAopProxy for all the integration components and thereby the following check on ModuleTypeConversionPlugin to retrieve the AbstractMessageChannel fails AbstractMessageChannel channel null if isInput channel modulegetComponentinput AbstractMessageChannelclass else channel modulegetComponentoutput AbstractMessageChannelclass I see the reason why AbstractMessageChannel is used here to use some of the methods in the implementing class that didnt exist in the interfaces but IntegrationMBeanExporter creating JdkDynamicAopProxy for the channel fails to resolve as AbstractMessageChannel here Following is the full stack trace To replicate stream create testing --definition http --outputTypetextplain log 345238 ERROR redisInboundAdapter-redisqueue-inbound-channel-adapter1 handlerLoggingHandler145 - orgspringframeworkmessagingMessageHandlingException error occurred in message handler moduleDeployer orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava79 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava601 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricshandleMessageSimpleMessageHandlerMetricsjava106 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricsinvokeSimpleMessageHandlerMetricsjava86 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy62handleMessageUnknown Source orgspringframeworkintegrationconfigServiceActivatorFactoryBean1handleRequestMessageServiceActivatorFactoryBeanjava83 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava152 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava121 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava108 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava218 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava188 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava601 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava113 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava97 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava91 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy61sendUnknown Source orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava114 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava92 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava96 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointpopMessageAndSendRedisQueueMessageDrivenEndpointjava212 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointaccess300RedisQueueMessageDrivenEndpointjava51 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointListenerTaskrunRedisQueueMessageDrivenEndpointjava291 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 javalangThreadrunThreadjava722 Caused by orgspringframeworkxddirtpluginsModuleConfigurationException Bean named output must be of type orgspringframeworkintegrationchannelAbstractMessageChannel but was actually of type comsunproxyProxy70 orgspringframeworkxddirtpluginsstreamModuleTypeConversionPluginconfigureModuleConvertersModuleTypeConversionPluginjava144 orgspringframeworkxddirtpluginsstreamModuleTypeConversionPluginpostProcessModuleModuleTypeConversionPluginjava70 orgspringframeworkxddirtmoduleModuleDeployerpostProcessModuleModuleDeployerjava378 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava282 orgspringframeworkxddirtmoduleModuleDeployerdeployAndStoreModuleDeployerjava271 orgspringframeworkxddirtmoduleModuleDeployerhandleDeployModuleDeployerjava266 orgspringframeworkxddirtmoduleModuleDeployerhandleSingleModuleMessageModuleDeployerjava244 orgspringframeworkxddirtmoduleModuleDeployerhandleMessageInternalModuleDeployerjava171 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 42 more Caused by orgspringframeworkbeansfactoryBeanNotOfRequiredTypeException Bean named output must be of type orgspringframeworkintegrationchannelAbstractMessageChannel but was actually of type comsunproxyProxy70 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava376 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava200 orgspringframeworkcontextsupportAbstractApplicationContextgetBeanAbstractApplicationContextjava979 orgspringframeworkxdmodulecoreSimpleModulegetComponentSimpleModulejava156 orgspringframeworkxddirtpluginsstreamModuleTypeConversionPluginconfigureModuleConvertersModuleTypeConversionPluginjava100 50 more,0
Task Repository h2 Narrative As a user I need to be able to query the current state of a task that has been launched h2 Back story Given the fact that tasks are intended to go away we need to record the state of them as well as their end result in a repository for a user to be able to query This repository will be the system of record when reporting the state of an executingexecuted task,0
Create a Receptor PartitionHandler and related StepExecutionRequestHandler h2 Narrative As a developer I need to be able to create a partitioned batch job that uses Diego Tasks for partition slaves h2 Back story A new partition handler should be created that uses the Receptor API to launch tasks for each of the slaves configurable via grid size,0
Document partitioning through deployment properties As an s-c-d user Id like to have documentation on deployment manifest so I could refer to the relevant bits on partitions Id like to understand how streams withe,0
0xData - investigate embedding 0xData is a rich JVM based machine learning and scoring engine,0
Create unit tests for CounterSinkProperties in s-c-s-m,0
STS import using Gradle Plugin broken How to reproduce Menu File - Import -- Gradle Project Press Next Select the Spring XD Root Folder Press button Build Model This fails with the following log output code FAILURE Build failed with an exception Where Script Usershillertdevgitspring-xdspring-xd-startersspring-xd-module-parentpublish-mavengradle line 32 What went wrong A problem occurred evaluating script dependenciesproperties No such file or directory Try Run with --stacktrace option to get the stack trace Run with --info or --debug option to get more log output BUILD FAILED Total time 2905 secs code If I comment out remove in spring-xd-startersspring-xd-module-parentpublish-mavengradle the following lines everything works code diff --git aspring-xd-startersspring-xd-module-parentpublish-mavengradle bspring-xd-startersspring-xd-module-parentpublish-mavengradle index 6dea47f202f884 100644 --- aspring-xd-startersspring-xd-module-parentpublish-mavengradle bspring-xd-startersspring-xd-module-parentpublish-mavengradle -2810 286 def getAllDependentProjectsproject load versions def versions new Properties -def propertiesFile new Filedependenciesproperties -propertiesFilewithInputStream - versionsloadit - def customizePom code,0
Add XD deployment for YARN Add YARN specific code based on Jannes prototyping Add YARN Client and AppMaster implementations and startup config files This includes shell scripts to deploy XD to YARN Test working on Apache 22 distribution We can modify config files everything should be possible to override by providing command-line args or env variables xd-yarn-deploy --zipFile tmpspring-xd-yarnzip --config tmpspring-xd-yarnyml,0
Update data partitioning functionality to use murmur hash function httpsgithubcomaddthisstream-libblobmastersrcmainjavacomclearspringanalyticshashMurmurHashjava,0
Consider a shared project for POJOs that are shareable betweed model and REST layer,0
Create an Aggregate Counter An aggregate counter rolls up counts into discrete time buckets There is an existing POC implementation in Java based off the library httpsgithubcomthhellertimed-counter The README there has a good description of the desired feature set,0
module info for a composite should display original definition,0
File Source - Provide option to pass on File object This story may need to be broken into several stories Particularly for Batch scenarios one may not want to run a file-to-string-transformer on the payload file in the file source but rather handlepass the file reference itself local SAN etc - eg in case somebody drops a 2GB or in scenarios where one wants to push those large files into HDFS and run hadoop jobs on the data This is important for Batch Jobs as they need to access the file itself for the reader We need to keep in mind the various transports we support Not sure how Kryo handles file serialization I would think we only need the File Meta Data to be persisted not the file-data itself make that configurable,0
Exception when accessing CDH4 namenode Get exception when accessing cdh4 from shell - javalangUnsupportedOperationException This is supposed to be overridden by subclasses comgoogleprotobufGeneratedMessagegetUnknownFields most likely due to protobuf-java-250jar being on the main classpath now Full stack trace code trisbergcarbonTest spring-xd-100BUILD-SNAPSHOTshellbinxd-shell --hadoopDistro cdh4 165522680 WARN main confConfiguration824 - fsdefaultname is deprecated Instead use fsdefaultFS - -- V -- eXtreme Data 100BUILD-SNAPSHOT Admin Server Target httplocalhost9393 Welcome to the Spring XD shell For assistance hit TAB or type help xdhadoop config fs --namenode hdfscdh48020 xdhadoop fs ls Hadoop configuration changed re-initializing shell 165528853 WARN Spring Shell utilNativeCodeLoader62 - Unable to load native-hadoop library for your platform using builtin-java classes where applicable -ls Fatal internal error javalangUnsupportedOperationException This is supposed to be overridden by subclasses comgoogleprotobufGeneratedMessagegetUnknownFieldsGeneratedMessagejava180 orgapachehadoophdfsprotocolprotoClientNamenodeProtocolProtosGetFileInfoRequestProtogetSerializedSizeClientNamenodeProtocolProtosjava30108 comgoogleprotobufAbstractMessageLitetoByteStringAbstractMessageLitejava49 orgapachehadoopipcProtobufRpcEngineInvokerconstructRpcRequestProtobufRpcEnginejava149 orgapachehadoopipcProtobufRpcEngineInvokerinvokeProtobufRpcEnginejava193 comsunproxyProxy43getFileInfoUnknown Source sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgapachehadoopioretryRetryInvocationHandlerinvokeMethodRetryInvocationHandlerjava164 orgapachehadoopioretryRetryInvocationHandlerinvokeRetryInvocationHandlerjava83 comsunproxyProxy43getFileInfoUnknown Source orgapachehadoophdfsprotocolPBClientNamenodeProtocolTranslatorPBgetFileInfoClientNamenodeProtocolTranslatorPBjava629 orgapachehadoophdfsDFSClientgetFileInfoDFSClientjava1545 orgapachehadoophdfsDistributedFileSystemgetFileStatusDistributedFileSystemjava819 orgapachehadoopfsFileSystemglobStatusInternalFileSystemjava1646 orgapachehadoopfsFileSystemglobStatusFileSystemjava1592 orgapachehadoopfsFileSystemglobStatusFileSystemjava1567 orgapachehadoopfsshellPathDataexpandAsGlobPathDatajava271 orgapachehadoopfsshellCommandexpandArgumentCommandjava224 orgapachehadoopfsshellCommandexpandArgumentsCommandjava207 orgapachehadoopfsshellCommandprocessRawArgumentsCommandjava190 orgapachehadoopfsshellCommandrunCommandjava154 orgapachehadoopfsFsShellrunFsShelljava254 orgspringframeworkxdshellhadoopFsShellCommandsrunFsShellCommandsjava412 orgspringframeworkxdshellhadoopFsShellCommandsrunCommandFsShellCommandsjava407 orgspringframeworkxdshellhadoopFsShellCommandslsFsShellCommandsjava110 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkutilReflectionUtilsinvokeMethodReflectionUtilsjava196 orgspringframeworkshellcoreSimpleExecutionStrategyinvokeSimpleExecutionStrategyjava64 orgspringframeworkshellcoreSimpleExecutionStrategyexecuteSimpleExecutionStrategyjava48 orgspringframeworkshellcoreAbstractShellexecuteCommandAbstractShelljava127 orgspringframeworkshellcoreJLineShellpromptLoopJLineShelljava530 orgspringframeworkshellcoreJLineShellrunJLineShelljava178 javalangThreadrunThreadjava744 code,0
As a s-c-d user Id like to have the option of Gemfire SPI so I can use Gemfire and the infrastructure to orchestrate s-c-d data microservices,8
Add back classifier dist to distZip build target Add back classifier dist to distZip build target - it was was accidentally removed,0
Jobs are not completely removed from Jobstore Deploy Type AdminContainer on EC2 Rabbit Transport SHA 8fba31d Steps to reproduce 1 Using Rabbit 33 above create a user that does not have privileges to write to sudo rabbitmqctl adduser joe password omit this step sudo rabbitmqctl setpermissions -p joe 2 Set the rabbitmq user name and password export springrabbitmqusernameacctest export springrabbitmqpasswordacctest23 3 Start container 4 Create stream or job foo 5 Error will occur 6 delete stream or job foo 7 stop container 8 set privilege sudo rabbitmqctl setpermissions -p joe 9 Start container 10 create stream or job foo 11 System will report that foo exists,0
Create RabbitMQ environment and record baseline results Setup Environment Create 110 XD cluster with 1 admin and 3 containers Create 3 node RabbitMQ Cluster Associate Each XD Container to a single Rabbit Node All EC2 instances in the same placement group Execute the following streams noformat stream create q1 --definition load-generator --messageCount2000000 queueq1 stream deploy q1 --properties moduleload-generatorcriteriagroupscontainsone stream create q2 --definition load-generator --messageCount4000000 queueq2 stream deploy q2 --properties moduleload-generatorcriteriagroupscontainstwo stream create q3 --definition load-generator --messageCount4000000 queueq3 stream deploy q3 --properties moduleload-generatorcriteriagroupscontainsthree stream create q4 --definition load-generator --messageCount4000000 queueq4 stream deploy q4 --properties moduleload-generatorcriteriagroupscontainsone stream create q5 --definition load-generator --messageCount4000000 queueq5 stream deploy q5 --properties moduleload-generatorcriteriagroupscontainstwo stream create q6 --definition load-generator --messageCount4000000 queueq6 stream deploy q6 --properties moduleload-generatorcriteriagroupscontainsthree noformat use the following rabbitmq perf tests to retrieve benchmark rates noformat runjavash comrabbitmqexamplesPerfTest -u xdbusqueueq1 -p -x 0 -y 2 -q 500 -z 120 -h amqpxx1compute-1amazonawscom q1txt runjavash comrabbitmqexamplesPerfTest -u xdbusqueueq2 -p -x 0 -y 1 -q 500 -z 120 -h amqpxx2compute-1amazonawscom q2txt runjavash comrabbitmqexamplesPerfTest -u xdbusqueueq3 -p -x 0 -y 1 -q 500 -z 120 -h amqpxx3compute-1amazonawscom q3txt runjavash comrabbitmqexamplesPerfTest -u xdbusqueueq4 -p -x 0 -y 1 -q 500 -z 120 -h amqpxx1compute-1amazonawscom q4txt runjavash comrabbitmqexamplesPerfTest -u xdbusqueueq5 -p -x 0 -y 1 -q 500 -z 120 -h amqpxx2compute-1amazonawscom q5txt runjavash comrabbitmqexamplesPerfTest -u xdbusqueueq6 -p -x 0 -y 1 -q 500 -z 120 -h amqpxx3compute-1amazonawscom q6txt noformat Reach out to SMEs to identify proper configuration,0
As a QA Id like to include acceptance test coverage for mail sink module so that I can validate the functionality as part of every CI build,3
As a s-c-s user Id like to investigate the possibility of s-c-s modules self-registering themselves to service discovery so I could use Spring XD runtime running on CF to discover and orchestrate such modules through streams,8
IP address used as default data when creating paths Invoking PathsensurePath is creating a default value of the host IP address instead of the expected empty value,0
Fix Cloud connector dependencies and service resolution This JIRA addresses couple of issues 1 When the modules are deployed into cloud environment there is an issue where local configuration beans collide with cloud service beans We witnessed an issue where there are two RedisConnectionFactory beans registered in the same application context We need to have a control the way in which the auto configuration gets invoked and service beans are created 2 We need to align the cloud connector dependencies into a common place so that we dont have to specify them at various places like SCS SCS-Binder SCS-modules etc It is a good idea to have these dependencies specified in SCS-modules so that it get used subsequently by SCS when the module is assembled at runtime,0
Step execution progress Shell command to use coherent Id jobExecutionIdstepExecutionId Instead of using jobExecutionId and stepExecutionId as two separate options for the job execution step progress command we can have a single option with id mentioned as jobExecutionIdstepExecutionId,0
yarnmapred application class path broke When copying those xml files to spring xd conf spring xd doesnt pickup those classpath correctly those classpath contains stackname stackversion Those were processed correctly inside phd3hdp but not in spring xd,0
UI The user should be able to view metrics about an executed job,0
Release 100M6,0
As a user Id like to have the option to setup batching so that I can ingest data in batches as opposed to payload-at-a-time,8
Ensure XD Samples share common version dependencies Currently samples use separate build scripts so the XD versions etc may all be different There should be a top level build script or at least a way to ensure the same version dependencies,0
JDK 18 compile warning for ContainerConfiguration The following warning appears when compiling with JDK 8 panel Userspperaltasrcgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserverSingleNodeApplicationjava67 warning auxiliary class ContainerConfiguration in Userspperaltasrcgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserverContainerServerApplicationjava should not be accessed from outside its own source file childContainerConfigurationclass panel Can this be turned into a static inner class,0
RetryTemplate props in Rabbit binder are not used The ConfigurationProperties class for Rabbit binder has some props related to RetryTemplate but those are not used,0
Update instructions to how to setup admin to use RDBMS Need to update instructions to discuss the setup of the relational database requirement for the xd-admin,0
Change default container port from 9000 to something else Change the default port since it conflicts with the default port for the http source,0
Spike Study options for loading reusable configurations SCD Admin will have connection information for a task and job repository This information will need to be transferred to the Task Launcher The scope is to study the following options Would the default place for configurations be in the YAML file config-server should be an option If nothing specified the default is always YAML,0
User to send a message directly to module and receive a message from a module,0
Modules that depend on HttpClient fail when running on YARN on Hadoop 24x and later Trying to run a twitterstream on YARN on HDP 21 and get the following code 140808 121250 ERROR serverContainerRegistrar Exception deploying module orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name orgspringframeworkintegrationxtwitterTwitterStreamChannelAdapter0 defined in URL filespring-xd-yarn-100RELEASEzipmodulessourcetwitterstreamconfigtwitterstreamxml Cannot resolve reference to bean twitterTemplate while setting constructor argument nested exception is orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name twitterTemplate defined in URL filespring-xd-yarn-100RELEASEzipmodulessourcetwitterstreamconfigtwitterstreamxml Instantiation of bean failed nested exception is orgspringframeworkbeansBeanInstantiationException Could not instantiate bean class orgspringframeworksocialtwitterapiimplTwitterTemplate Constructor threw exception nested exception is javalangNoClassDefFoundError orgapachehttpimplclientHttpClients orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveReferenceBeanDefinitionValueResolverjava336 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava108 orgspringframeworkbeansfactorysupportConstructorResolverresolveConstructorArgumentsConstructorResolverjava646 orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava140 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryautowireConstructorAbstractAutowireCapableBeanFactoryjava1114 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanInstanceAbstractAutowireCapableBeanFactoryjava1017 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava504 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava475 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava302 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava228 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava298 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava193 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava703 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava760 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava482 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava691 orgspringframeworkbootSpringApplicationrunSpringApplicationjava320 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava142 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava203 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava98 orgspringframeworkxddirtmoduleModuleDeployerdeployAndStoreModuleDeployerjava88 orgspringframeworkxddirtmoduleModuleDeployerdeployAndStoreModuleDeployerjava78 orgspringframeworkxddirtserverContainerRegistrardeployModuleContainerRegistrarjava231 orgspringframeworkxddirtserverContainerRegistrardeployStreamModuleContainerRegistrarjava577 orgspringframeworkxddirtserverContainerRegistraronChildAddedContainerRegistrarjava447 orgspringframeworkxddirtserverContainerRegistraraccess800ContainerRegistrarjava95 orgspringframeworkxddirtserverContainerRegistrarDeploymentListenerchildEventContainerRegistrarjava826 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 Caused by orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name twitterTemplate defined in URL filespring-xd-yarn-100RELEASEzipmodulessourcetwitterstreamconfigtwitterstreamxml Instantiation of bean failed nested exception is orgspringframeworkbeansBeanInstantiationException Could not instantiate bean class orgspringframeworksocialtwitterapiimplTwitterTemplate Constructor threw exception nested exception is javalangNoClassDefFoundError orgapachehttpimplclientHttpClients orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava278 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryautowireConstructorAbstractAutowireCapableBeanFactoryjava1114 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanInstanceAbstractAutowireCapableBeanFactoryjava1017 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava504 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava475 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava302 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava228 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava298 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava193 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveReferenceBeanDefinitionValueResolverjava328 41 more Caused by orgspringframeworkbeansBeanInstantiationException Could not instantiate bean class orgspringframeworksocialtwitterapiimplTwitterTemplate Constructor threw exception nested exception is javalangNoClassDefFoundError orgapachehttpimplclientHttpClients orgspringframeworkbeansBeanUtilsinstantiateClassBeanUtilsjava164 orgspringframeworkbeansfactorysupportSimpleInstantiationStrategyinstantiateSimpleInstantiationStrategyjava125 orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava270 50 more Caused by javalangNoClassDefFoundError orgapachehttpimplclientHttpClients orgspringframeworkhttpclientHttpComponentsClientHttpRequestFactoryinitHttpComponentsClientHttpRequestFactoryjava74 orgspringframeworksocialsupportClientHttpRequestFactorySelectorHttpComponentsClientRequestFactoryCreator1initClientHttpRequestFactorySelectorjava77 orgspringframeworksocialsupportClientHttpRequestFactorySelectorHttpComponentsClientRequestFactoryCreatorcreateRequestFactoryClientHttpRequestFactorySelectorjava77 orgspringframeworksocialsupportClientHttpRequestFactorySelectorgetRequestFactoryClientHttpRequestFactorySelectorjava52 orgspringframeworksocialoauth1AbstractOAuth1ApiBindingcreateRestTemplateWithCulledMessageConvertersAbstractOAuth1ApiBindingjava188 orgspringframeworksocialoauth1AbstractOAuth1ApiBindingcreateRestTemplateAbstractOAuth1ApiBindingjava169 orgspringframeworksocialoauth1AbstractOAuth1ApiBindinginitAbstractOAuth1ApiBindingjava70 orgspringframeworksocialtwitterapiimplTwitterTemplateinitTwitterTemplatejava79 sunreflectNativeConstructorAccessorImplnewInstance0Native Method sunreflectNativeConstructorAccessorImplnewInstanceNativeConstructorAccessorImpljava57 sunreflectDelegatingConstructorAccessorImplnewInstanceDelegatingConstructorAccessorImpljava45 javalangreflectConstructornewInstanceConstructorjava526 orgspringframeworkbeansBeanUtilsinstantiateClassBeanUtilsjava148 52 more code,0
Add Server Runtime Info to Banner Standalone Admin currently has no shiny banner as container has More importantly it does not say which port its listening on the transport used etc,0
Rest Improve the determination whether a Job Execution is Restartable In BatchJobExecutionsControllerrestartJobExecution we need to do a better check whether a Batch Job Execution is restartable This is also true when executing BatchJobExecutionsControllerlist The check performed under new JobExecutionInfojobExecution timeZone is not sufficient Reason Currently in the UI when I have failed Job Executions I can restart those good However if the next execution succeeds the previously restartable jobs should NOT be marked as restartable anymore Right now you can restart those jobs resulting in a code Caused by orgspringframeworkbatchcorerepositoryJobInstanceAlreadyCompleteException A job instance already exists and is complete for parametersrandom05735953106895085 throwErrortrue If you want to run this job again change the parameters orgspringframeworkbatchcorerepositorysupportSimpleJobRepositorycreateJobExecutionSimpleJobRepositoryjava126 sunreflectGeneratedMethodAccessor211invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworktransactioninterceptorTransactionInterceptor1proceedWithInvocationTransactionInterceptorjava98 orgspringframeworktransactioninterceptorTransactionAspectSupportinvokeWithinTransactionTransactionAspectSupportjava262 orgspringframeworktransactioninterceptorTransactionInterceptorinvokeTransactionInterceptorjava95 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkbatchcorerepositorysupportAbstractJobRepositoryFactoryBean1invokeAbstractJobRepositoryFactoryBeanjava172 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy40createJobExecutionUnknown Source orgspringframeworkbatchcorelaunchsupportSimpleJobLauncherrunSimpleJobLauncherjava125 sunreflectGeneratedMethodAccessor209invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkbatchcoreconfigurationannotationSimpleBatchConfigurationPassthruAdviceinvokeSimpleBatchConfigurationjava117 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy42runUnknown Source orgspringframeworkbatchintegrationlaunchJobLaunchingMessageHandlerlaunchJobLaunchingMessageHandlerjava50 sunreflectGeneratedMethodAccessor208invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkexpressionspelsupportReflectiveMethodExecutorexecuteReflectiveMethodExecutorjava63 orgspringframeworkexpressionspelastMethodReferencegetValueInternalMethodReferencejava95 orgspringframeworkexpressionspelastMethodReferenceaccess000MethodReferencejava44 orgspringframeworkexpressionspelastMethodReferenceMethodValueRefgetValueMethodReferencejava258 orgspringframeworkexpressionspelastCompoundExpressiongetValueInternalCompoundExpressionjava84 orgspringframeworkexpressionspelastSpelNodeImplgetTypedValueSpelNodeImpljava114 orgspringframeworkexpressionspelstandardSpelExpressiongetValueSpelExpressionjava111 orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava159 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessInternalMessagingMethodInvokerHelperjava268 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessMessagingMethodInvokerHelperjava142 orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava75 98 more code,0
Document JMX features Document jmx command line options and refer to jolokia,0
Exception for sample hdfs sample Hi If I create a hdfs stream as proposed in the documentation I get some errors Example stream create --name xxx --definition http --port8000 hdfs --rollover10 stream deploy --name xxx The exception Caused by javaioFileNotFoundException spring-xd-100M7confighadoopproperties No such file or directory javaioFileInputStreamopenNative Method There is a folder spring-xd-100M7xdconfig but no folder spring-xd-100M7config when I copied the file from xdconfig to config it worked fine,0
Fix test failures and hangs on various local builds The scope is to use this as a bucket for any local test failures Lets have them accounted in this story and fix as applicable,0
As a user Id like to incremental-data-load so that I can retrieve only rows newer than some previously-imported,5
Fix JobCommandTests verification of shell result table rows using specific index Some of the tests in JobCommandTests use the verification of shell command results table row on a specific row mostly first row like this String id jobExecutionsgetRowsget0getValue1 displayJobExecutionid It is possible that the list of table rows may have the intended row in different order This poses inconsistent test failures,0
As a developer Id like to clean-up compiler and javadoc warnings from the build so we dont see the warnings in build sysout,2
As a s-c-d user Id like to have runtime info as shell command so I can use this to list the details about the module such as host port and the like,5
Upgrade gruntnode plugins Upgrade in 10x branch what was done in this commit on master httpsgithubcomspring-projectsspring-xdcommit16062d771e23187a1d9e8d549abc646ff44e435b,0
When using file as a source and sink user can not use file sink --mode Cluster Type SingleNode Machine Mac PR httpsgithubcomspring-projectsspring-xdpull1624httpsgithubcomspring-projectsspring-xdpull1626 Stream that reproduces the problem noformat stream create foo --definition filein file --dirtmpxda0180520-c7fa-4d9d-8cc3-e36fbf59496a --patternde59d1b8-f99c-4c43-a8c0-2f6043546689out --modecontents fileout file --binarytrue --modereplace noformat Error Message noformat Command failed orgspringframeworkxdrestclientimplSpringXDException Error with options for module file of type sink mode Failed to convert property value of type javalangString to required type orgspringframeworkxddirtmodulesmetadataFileSinkOptionsMetadataMode for property mode nested exception is javalangIllegalStateException Cannot convert value of type javalangString to required type orgspringframeworkxddirtmodulesmetadataFileSinkOptionsMetadataMode for property mode no matching editors or conversion strategy found noformat Stacktrace noformat 2015-05-19 143056329 120SNAP ERROR qtp671416633-35 restRestControllerAdvice - Caught exception while handling a request orgspringframeworkxddirtpluginsModuleConfigurationException Error with options for module file of type sink mode Failed to convert property value of type javalangString to required type orgspringframeworkxddirtmodulesmetadataFileSinkOptionsMetadataMode for property mode nested exception is javalangIllegalStateException Cannot convert value of type javalangString to required type orgspringframeworkxddirtmodulesmetadataFileSinkOptionsMetadataMode for property mode no matching editors or conversion strategy found orgspringframeworkxddirtpluginsModuleConfigurationExceptionfromBindExceptionModuleConfigurationExceptionjava55 orgspringframeworkxddirtstreamXDStreamParserbuildModuleDescriptorsXDStreamParserjava191 orgspringframeworkxddirtstreamXDStreamParserparseXDStreamParserjava122 orgspringframeworkxddirtstreamAbstractDeployervalidateBeforeSaveAbstractDeployerjava115 orgspringframeworkxddirtrestXDControllersaveXDControllerjava260 sunreflectGeneratedMethodAccessor191invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkwebmethodsupportInvocableHandlerMethoddoInvokeInvocableHandlerMethodjava221 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava137 orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava110 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava776 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava705 orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava85 orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava959 orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava893 orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava966 orgspringframeworkwebservletFrameworkServletdoPostFrameworkServletjava868 javaxservlethttpHttpServletserviceHttpServletjava755 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava842 javaxservlethttpHttpServletserviceHttpServletjava848 orgeclipsejettyservletServletHolderhandleServletHolderjava684 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1496 orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextHeaderFilterdoFilterInternalEndpointWebMvcAutoConfigurationjava291 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava87 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterInternalWebRequestTraceFilterjava102 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworksecuritywebFilterChainProxydoFilterInternalFilterChainProxyjava186 orgspringframeworksecuritywebFilterChainProxydoFilterFilterChainProxyjava160 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava90 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgeclipsejettyservletServletHandlerdoHandleServletHandlerjava499 orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerjava137 orgeclipsejettysecuritySecurityHandlerhandleSecurityHandlerjava557 orgeclipsejettyserversessionSessionHandlerdoHandleSessionHandlerjava231 orgeclipsejettyserverhandlerContextHandlerdoHandleContextHandlerjava1086 orgeclipsejettyservletServletHandlerdoScopeServletHandlerjava428 orgeclipsejettyserversessionSessionHandlerdoScopeSessionHandlerjava193 orgeclipsejettyserverhandlerContextHandlerdoScopeContextHandlerjava1020 orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerjava135 orgeclipsejettyserverhandlerHandlerWrapperhandleHandlerWrapperjava116 orgeclipsejettyserverServerhandleServerjava370 orgeclipsejettyserverAbstractHttpConnectionhandleRequestAbstractHttpConnectionjava494 orgeclipsejettyserverAbstractHttpConnectioncontentAbstractHttpConnectionjava982 orgeclipsejettyserverAbstractHttpConnectionRequestHandlercontentAbstractHttpConnectionjava1043 orgeclipsejettyhttpHttpParserparseNextHttpParserjava865 orgeclipsejettyhttpHttpParserparseAvailableHttpParserjava240 orgeclipsejettyserverAsyncHttpConnectionhandleAsyncHttpConnectionjava82 orgeclipsejettyionioSelectChannelEndPointhandleSelectChannelEndPointjava667 orgeclipsejettyionioSelectChannelEndPoint1runSelectChannelEndPointjava52 orgeclipsejettyutilthreadQueuedThreadPoolrunJobQueuedThreadPooljava608 orgeclipsejettyutilthreadQueuedThreadPool3runQueuedThreadPooljava543 javalangThreadrunThreadjava745 Caused by orgspringframeworkvalidationBindException orgspringframeworkvalidationBeanPropertyBindingResult 1 errors Field error in object target on field mode rejected value replace codes typeMismatchtargetmodetypeMismatchmodetypeMismatchorgspringframeworkxddirtmodulesmetadataFileSinkOptionsMetadataModetypeMismatch arguments orgspringframeworkcontextsupportDefaultMessageSourceResolvable codes targetmodemode arguments default message mode default message Failed to convert property value of type javalangString to required type orgspringframeworkxddirtmodulesmetadataFileSinkOptionsMetadataMode for property mode nested exception is javalangIllegalStateException Cannot convert value of type javalangString to required type orgspringframeworkxddirtmodulesmetadataFileSinkOptionsMetadataMode for property mode no matching editors or conversion strategy found orgspringframeworkxdmoduleoptionsPojoModuleOptionsMetadatabindAndValidatePojoModuleOptionsMetadatajava205 orgspringframeworkxdmoduleoptionsPojoModuleOptionsMetadatainterpolatePojoModuleOptionsMetadatajava139 orgspringframeworkxdmoduleoptionsFlattenedCompositeModuleOptionsMetadatainterpolateFlattenedCompositeModuleOptionsMetadatajava152 orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverModuleOptionsMetadataWithDefaultsinterpolateEnvironmentAwareModuleOptionsMetadataResolverjava168 orgspringframeworkxddirtstreamXDStreamParserbuildModuleDescriptorsXDStreamParserjava188 61 more noformat,0
Stream destroy fails to remove if the underlying modules have been removed In short if you attempt to destroy a stream that has had its modules removed the destroy will fail 1 So if I create my own processorx and use the processor in a stream 2 I then shutdown the admin and container 3 Delete the processorx from the XDHOMEmodules directory 4 Restart the admin and container 5 if you do a stream list the stream that used the processorx is still present 6 but you can not delete the stream because of the exception below To Reproduce using Payload Conversion example 1 Follow the instructions to install and use the myTupleProcessor module in a stream 2 Now shutdown the admin and container 3 rm -rf XDHOMEmodulesprocessormyTupleProcessorxml 4 rm -rf XDHOMElibpayload-conversionjar 5 Startup your admin and container 6 stream all destroy Then type yreturn 6a The shell will report ommand failed orgspringframeworkxdrestclientimplSpringXDException No content to map due to end-of-input at Source javaioStringReader5b8bd3d0 line 1 column 1 6b The Admin Server will report 115943543 ERROR http-nio-9393-exec-1 restRestControllerAdvice199 - Caught exception while handling a request orgspringframeworkxddirtzookeeperZooKeeperAccessException No content to map due to end-of-input at Source javaioStringReader648849d5 line 1 column 1 orgspringframeworkxddirtzookeeperZooKeeperUtilswrapThrowableZooKeeperUtilsjava47 orgspringframeworkxddirtzookeeperZooKeeperUtilswrapThrowableZooKeeperUtilsjava31 orgspringframeworkxddirtzookeeperZooKeeperUtilswrapAndThrowIgnoringZooKeeperUtilsjava65 orgspringframeworkxddirtmodulestoreZooKeeperModuleDefinitionRepositoryfindByNameAndTypeZooKeeperModuleDefinitionRepositoryjava95 orgspringframeworkxddirtstreamXDStreamParserresolveModuleTypeXDStreamParserjava300 orgspringframeworkxddirtstreamXDStreamParserdetermineTypeXDStreamParserjava196 orgspringframeworkxddirtstreamXDStreamParserparseXDStreamParserjava152 orgspringframeworkxddirtstreamStreamDeployerbeforeDeleteStreamDeployerjava116 orgspringframeworkxddirtstreamStreamDeployerbeforeDeleteStreamDeployerjava43 orgspringframeworkxddirtstreamAbstractDeployerdeleteAbstractDeployerjava246 orgspringframeworkxddirtstreamAbstractDeployerdeleteAllAbstractDeployerjava169 orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerdeleteAllAbstractInstancePersistingDeployerjava100 orgspringframeworkxddirtrestXDControllerdeleteAllXDControllerjava110 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeInvocableHandlerMethodjava215 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava132 orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava104 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava749 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava689 orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava83 orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava938 orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava870 orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava961 orgspringframeworkwebservletFrameworkServletdoDeleteFrameworkServletjava885 javaxservlethttpHttpServletserviceHttpServletjava653 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava837 javaxservlethttpHttpServletserviceHttpServletjava728 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava305 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterWebRequestTraceFilterjava115 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextFilterConfiguration1doFilterInternalEndpointWebMvcAutoConfigurationjava137 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava88 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava85 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgapachecatalinacoreStandardWrapperValveinvokeStandardWrapperValvejava222 orgapachecatalinacoreStandardContextValveinvokeStandardContextValvejava123 orgapachecatalinaauthenticatorAuthenticatorBaseinvokeAuthenticatorBasejava472 orgapachecatalinavalvesRemoteIpValveinvokeRemoteIpValvejava680 orgapachecatalinacoreStandardHostValveinvokeStandardHostValvejava171 orgapachecatalinavalvesErrorReportValveinvokeErrorReportValvejava99 orgapachecatalinacoreStandardEngineValveinvokeStandardEngineValvejava118 orgapachecatalinaconnectorCoyoteAdapterserviceCoyoteAdapterjava407 orgapachecoyotehttp11AbstractHttp11ProcessorprocessAbstractHttp11Processorjava1004 orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava589 orgapachetomcatutilnetNioEndpointSocketProcessorrunNioEndpointjava1680 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava724 Caused by comfasterxmljacksondatabindJsonMappingException No content to map due to end-of-input at Source javaioStringReader648849d5 line 1 column 1 comfasterxmljacksondatabindJsonMappingExceptionfromJsonMappingExceptionjava164 comfasterxmljacksondatabindObjectMapperinitForReadingObjectMapperjava3036 comfasterxmljacksondatabindObjectMapperreadMapAndCloseObjectMapperjava2978 comfasterxmljacksondatabindObjectMapperreadValueObjectMapperjava2098 orgspringframeworkxddirtmodulestoreZooKeeperModuleDefinitionRepositoryfindByNameAndTypeZooKeeperModuleDefinitionRepositoryjava82 61 more,0
As a Spring XD developer Id like to refactor current controller with SPI calls so I can invoke the respective Admin SPI implementation based on the deployment Controllers to Refactor ContainersController StreamsController ModulesController JobsController,5
Investigate root cause of Spring XML parsing failures The error below appears to be a concurrency issue related to multiple classloaders loading the same spring XML resource The root cause needs further investigation but it causes intermittent test failures in JobCommandsTests see httpsbuildspringiobrowseXD-JDK8-1375 javalangAssertionError javalangAssertionError Failure CommandResult CommandResult successfalse resultnull exceptionorgspringframeworkxdrestclientimplSpringXDException Unexpected exception parsing XML document from file databamboo-homexml-databuild-dirXD-JDK8-JOB1spring-xd-shellbuildresourcestestspring-xdxdmodulesjobjobWithParametersconfigjobWithParametersxml nested exception is javalangNullPointerException Inflater has been closed javalangAssertionError Failure CommandResult CommandResult successfalse resultnull exceptionorgspringframeworkxdrestclientimplSpringXDException Unexpected exception parsing XML document from file databamboo-homexml-databuild-dirXD-JDK8-JOB1spring-xd-shellbuildresourcestestspring-xdxdmodulesjobjobWithParametersconfigjobWithParametersxml nested exception is javalangNullPointerException Inflater has been closed,0
Optimize deployment of xd-admin and multiple nodes in spring-xd-ec2 to occur in parallel The deployment of nodes is sequential we can reduce the time to deploy a cluster greatly by having these tasks execute in parallel,0
As a s-c-d developer Id like to study Concourse CIhttpconcourseci so I can understand how to use it for s-c-d going forward,3
As a developer Id like to use an efficient approach to read files so I dont have to read line-by-line and keep it in-memory in order to consumewrite the file content Would the tasklet approach be better as opposed to transmitting data via message bus as streams,5
As a developer Id like to have an OOTB MVC-aware HTTP module with embedded tomcat so I can use this module to leverage spring-mvc and spring-security features instead of rewriting them within the existing HTTP source module Adds richer support for content-type in the HTTP Source module See jbrisbin comments httpsgithubcomspring-projectsspring-xdpull879 Adds full header mapping in the source see comments See SO request httpstackoverflowcomquestions29353471spring-xd-as-a-rest-endpoint,8
Failure to get message rates for modules with labels Start XD distributed XD with specified management port and xd messageRateMonitoring enabled true in serversyml to gather stats Create stream file log deploy it navigate to Containers tab in Admin UI Rates are shown correctly Create stream MYFILE file log deploy it navigate to Containers tab in Admin UI - none of the message rates are shown Open browser dev tools console and note 500 error response spring-xd-dirt - ContainersController lines 109-112 creates request to get message rates for modules Typical request http1921680109292managementjolokiareadxdstr4modulelogcomponentnameinputMeanSendRate Typical response codejson requestmbeanxdstr4componentmodulelog1nameinputattributeMeanSendRatetypereadvaluexdstr4componentMessageChannelmodulelog1nameinputMeanSendRate00timestamp1428675070status200 code For file module with label MYFILE the request is http1921680109292managementjolokiareadxdstr4moduleMYFILEcomponentnameoutputMeanSendRate Response codejson mbeanxdstr4componentmoduleMYFILE1nameoutputattributeMeanSendRatetypereadstacktracejavaxmanagementInstanceNotFoundException No MBean with pattern xdstr4moduleMYFILE1componentnameoutput found for reading attributesntat orgjolokiahandlerReadHandlersearchMBeansReadHandlerjava160ntat orgjolokiahandlerReadHandlerfetchAttributesForMBeanPatternReadHandlerjava126ntat orgjolokiahandlerReadHandlerdoHandleRequestReadHandlerjava116ntat orgjolokiahandlerReadHandlerdoHandleRequestReadHandlerjava37ntat orgjolokiahandlerJsonRequestHandlerhandleRequestJsonRequestHandlerjava160ntat orgjolokiabackendMBeanServerHandlerdispatchRequestMBeanServerHandlerjava97ntat orgjolokiabackendLocalRequestDispatcherdispatchRequestLocalRequestDispatcherjava98ntat orgjolokiabackendBackendManagercallRequestDispatcherBackendManagerjava411ntat orgjolokiabackendBackendManagerhandleRequestBackendManagerjava158ntat orgjolokiahttpHttpRequestHandlerexecuteRequestHttpRequestHandlerjava197ntat orgjolokiahttpHttpRequestHandlerhandleGetRequestHttpRequestHandlerjava86ntat orgjolokiahttpAgentServlet4handleRequestAgentServletjava435ntat orgjolokiahttpAgentServlethandleSecurelyAgentServletjava320ntat orgjolokiahttpAgentServlethandleAgentServletjava291ntat orgjolokiahttpAgentServletdoGetAgentServletjava252ntat javaxservlethttpHttpServletserviceHttpServletjava735ntat javaxservlethttpHttpServletserviceHttpServletjava848ntat orgspringframeworkwebservletmvcServletWrappingControllerhandleRequestInternalServletWrappingControllerjava158ntat orgspringframeworkwebservletmvcAbstractControllerhandleRequestAbstractControllerjava146ntat orgspringframeworkbootactuateendpointmvcJolokiaMvcEndpointhandleJolokiaMvcEndpointjava130ntat sunreflectGeneratedMethodAccessor82invokeUnknown Sourcentat sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43ntat javalangreflectMethodinvokeMethodjava483ntat orgspringframeworkwebmethodsupportInvocableHandlerMethoddoInvokeInvocableHandlerMethodjava221ntat orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava137ntat orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava110ntat orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava777ntat orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava706ntat orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava85ntat orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava943ntat orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava877ntat orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava966ntat orgspringframeworkwebservletFrameworkServletdoGetFrameworkServletjava857ntat javaxservlethttpHttpServletserviceHttpServletjava735ntat orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava842ntat javaxservlethttpHttpServletserviceHttpServletjava848ntat orgeclipsejettyservletServletHolderhandleServletHolderjava684ntat orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1496ntat orgspringframeworksecuritywebFilterChainProxydoFilterInternalFilterChainProxyjava186ntat orgspringframeworksecuritywebFilterChainProxydoFilterFilterChainProxyjava160ntat orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467ntat orgeclipsejettyservletServletHandlerdoHandleServletHandlerjava499ntat orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerjava137ntat orgeclipsejettysecuritySecurityHandlerhandleSecurityHandlerjava557ntat orgeclipsejettyserversessionSessionHandlerdoHandleSessionHandlerjava231ntat orgeclipsejettyserverhandlerContextHandlerdoHandleContextHandlerjava1086ntat orgeclipsejettyservletServletHandlerdoScopeServletHandlerjava428ntat orgeclipsejettyserversessionSessionHandlerdoScopeSessionHandlerjava193ntat orgeclipsejettyserverhandlerContextHandlerdoScopeContextHandlerjava1020ntat orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerjava135ntat orgeclipsejettyserverhandlerHandlerWrapperhandleHandlerWrapperjava116ntat orgeclipsejettyserverServerhandleServerjava370ntat orgeclipsejettyserverAbstractHttpConnectionhandleRequestAbstractHttpConnectionjava494ntat orgeclipsejettyserverAbstractHttpConnectionheaderCompleteAbstractHttpConnectionjava971ntat orgeclipsejettyserverAbstractHttpConnectionRequestHandlerheaderCompleteAbstractHttpConnectionjava1033ntat orgeclipsejettyhttpHttpParserparseNextHttpParserjava644ntat orgeclipsejettyhttpHttpParserparseAvailableHttpParserjava235ntat orgeclipsejettyserverAsyncHttpConnectionhandleAsyncHttpConnectionjava82ntat orgeclipsejettyionioSelectChannelEndPointhandleSelectChannelEndPointjava667ntat orgeclipsejettyionioSelectChannelEndPoint1runSelectChannelEndPointjava52ntat orgeclipsejettyutilthreadQueuedThreadPoolrunJobQueuedThreadPooljava608ntat orgeclipsejettyutilthreadQueuedThreadPool3runQueuedThreadPooljava543ntat javalangThreadrunThreadjava744nerrortypejavaxmanagementInstanceNotFoundExceptionerrorjavaxmanagementInstanceNotFoundException No MBean with pattern xdstr4moduleMYFILE1componentnameoutput found for reading attributesstatus404 code This reponse results in JSONException in the ContainersController because its missing value property The module id is somewhat problematic in the request xdstr4modulelog index is but should be index within the stream also node type sourcesinkprocessor is missing Therefore stream mail mail is suffering from the same problem Would be nice to have some sort of a bulk request to query more than one module for inputoutput message rates such that I could get all message rates for modules in the stream,0
Update doc about trigger changes Trigger has been changed to be one single modules taking params as opposed to 3 before Update doc at httpsgithubcomspring-projectsspring-xdwikiBatch-Jobs Also arguably the module could be advertised as a source itself it is only mentioned in the context of batch,0
Investigate link checking tool for user guide Asciidocdoctor might have one as part of it toolchain,0
When a tap is re-deployed after undeploy it doesnt work When a tap on a stream is undeployed and re-deployed it stops working To make it work the main stream associated with the tap needs to be undeployed and re-deployed,0
As a s-c-d developer Id like to create ModuleRegistry implementation so I can use this infrastructure to lookup module coordinates by name,8
Need to set small commit level for Acceptance tests XD-2180 introduced a default commit level for jobs to be 1000 vs the original 100 Now tests sporadically fail Need to set the --commitInterval for the tests to a small value,0
Document the setting of the CORS alloworigin property We do set a default value in xdlibspring-xd-dirt-121RELEASEjarapplicationyml code xd data home fileXDHOMEdata config home fileXDHOMEconfig module home fileXDHOMEmodules customModule home fileXDHOMEcustom-modules ui home fileXDHOMEspring-xd-uidist alloworigin httplocalhost9889 code We need to document how this property can be used to allow for external services to use the XD Rest API and how you can customize it using serversyml,0
As a Flo developer Id like to add improvements to existing Flo parser endpoints so I can streamline the error reporting strategy,3
The state of a task or job should be recorded such that it can be monitored by a user The state of a task or job should be recorded such that it can be monitored by a user,0
Add module description to the JSON response As a user Id like to have the description for each of the modules so that I can use it to understand the module purpose and its capabilities presumably what is captured in javadoc for the module definition,0
deploy-working-dir is set to to root directory when container is started as service When Spring XD is started as a service using service spring-xd-container start the deploy-working-dir in GemFire module is resolved to the top-most directory on Linux This directory is not writable by spring-xd user under which the process is executed When a stream using GemFire is created eg stream create --name gfTest --definition time gemfire-json-server following exception will be thrown code error 20150324 155520798 GMT DeploymentsPathChildrenCache-0 tid0x34 Error when attempting to deploy JAR files on load javaioIOException Unable to write to deploy directory comgemstonegemfireinternalJarDeployerverifyWritableDeployDirectoryJarDeployerjava589 comgemstonegemfireinternalJarDeployerloadPreviouslyDeployedJarsJarDeployerjava68 comgemstonegemfireinternalcacheGemFireCacheImplinitGemFireCacheImpljava839 comgemstonegemfireinternalcacheGemFireCacheImplcreateGemFireCacheImpljava620 comgemstonegemfirecacheclientClientCacheFactorybasicCreateClientCacheFactoryjava207 comgemstonegemfirecacheclientClientCacheFactorycreateClientCacheFactoryjava162 orgspringframeworkdatagemfireclientClientCacheFactoryBeancreateCacheClientCacheFactoryBeanjava93 orgspringframeworkdatagemfireCacheFactoryBeaninitCacheFactoryBeanjava271 orgspringframeworkdatagemfireCacheFactoryBeangetObjectCacheFactoryBeanjava455 orgspringframeworkdatagemfireCacheFactoryBeangetObjectCacheFactoryBeanjava77 orgspringframeworkbeansfactorysupportFactoryBeanRegistrySupportdoGetObjectFromFactoryBeanFactoryBeanRegistrySupportjava168 orgspringframeworkbeansfactorysupportFactoryBeanRegistrySupportgetObjectFromFactoryBeanFactoryBeanRegistrySupportjava103 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetObjectForBeanInstanceAbstractBeanFactoryjava1517 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava251 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava194 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveReferenceBeanDefinitionValueResolverjava351 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava108 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryapplyPropertyValuesAbstractAutowireCapableBeanFactoryjava1469 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorypopulateBeanAbstractAutowireCapableBeanFactoryjava1214 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava537 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava476 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava303 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava230 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava299 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava194 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava743 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava757 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava480 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava691 orgspringframeworkbootSpringApplicationrunSpringApplicationjava321 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava214 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 code deploy-working-dir should be set to a directory which writable by spring-xd user maybe javaiotmpdir,0
Update to Spring Batch Admin 130RC1,0
As a s-c-s developer Id like to bootify ModuleLauncher so I can use Spring Boots support for property setting as well as adding options and new functionality in the future such as CP augmentation,5
As a user Id like to parameterize CodeGen Options so I can generate code on the fly as needed,5
Investigate JobExecutions page list performance Investigate Job Executions list page load timing based on number of job executions to load The investigation can be of the following steps 1 Return all the size restrictions to retrieve the number of job executions 2 Setup 5 10 100 500 1000 number of job executions and measure the page load timings Based on this we can address the paging support mentioned in XD-1864,0
As a developer Id like to replace all Jobs references with Tasks,2
Redis Message Bus still accessed when using direct binding I have a distributed XD Cluster with one admin and two containers using Redis as the message bus In certain cases I want to use direct binding to remove communication with the message bus and deploy all modules to all containers with the aim of improving performance Ive found that even when using direct binding XD still communicates with Redis when it shouldnt need to This could have an impact on performance This is easily reproducible in our 2 container cluster as follows Use the redis-cli monitor command to monitor Redis Create and deploy a simple stream with direct binding code stream create --definition http log --name httpLog stream deploy --name httpLog --properties modulecount0 code As expected both modules get deployed to both nodes Testing shows messages sent to the http endpoint of one container always come out in the log for that container implying direct binding is in play as expected However once the streams are deployed the Redis monitor starts showing a Redis queue being accessed from both XD conatiners code 1444731527086325 0 1001857454 brpop queuehttpLog0 1 1444731528086304 0 1001437337 brpop queuehttpLog0 1 1444731529086341 0 1001857454 brpop queuehttpLog0 1 1444731530086317 0 1001437337 brpop queuehttpLog0 1 1444731531086340 0 1001857454 brpop queuehttpLog0 1 1444731532086505 0 1001437337 brpop queuehttpLog0 1 code This shouldnt need to happen in direct binding These messages stop once the stream is undeployed,0
Rabbit Sink Source --host and --port are not updating module hostport Acceptance Tests failed on the Rabbit Source and Sink Tests The test started failing when XD-1824 was introduced Support RabbitMQ Cluster in sourcesink This story added addresses to support rabbit cluster failover Currently if a user set --host --port to a remote Rabbit instance XD will use the default hostlocalhost and port5672 However using --addresses does work,0
As a developer Id like to port gauge module from XD to s-c-s repo so I can use it as sink module to build streaming pipeline,2
Add SmartLifecycle to ChannelBindingAdapter Make ChannelBindingAdapter implement SmartLifecycle so that it gets started with the highest precedence and before any other message producing bean,0
Version info not available when security enabled When security is enabled the VersionController REST endpoint isnt visible,0
Handle deploying state at the Admin UI When the job is in deploying state until we decide whether the job is actually deployed or failedincomplete there is no way to know if it is fine to launchschedule though the launching requests are going to go to the job launch request queue We could either disable both deployundeploy until the state changes from deploying,0
Add HTTP Delete Stream Operation,0
Design the foundation to port XD modules to s-c-s As an s-c-s developer Id like to brainstorm and design the foundation to port XD modules as s-c-s modules so I can use it as the base and start migrating the modules,0
Gauge Rich Gauge fail to write results to redis for singlenode Steps to reproduce stream create --name test --definition http --port9090 log stream create --name simplegauge --definition tapstreamtest gauge http post --target httplocalhost9090 --data 10 redis-cli get gaugessimplegauge the result redis 1270016379 get gaugessimplegauge nil Note It worked with admincontainer but failed only on xd-singlenode,0
Add an MQTT Sink,0
Add documentation for gemfire cache-listener source Need some sample usage docs for httpsgithubcomspring-projectsspring-xdtreemastermodulessourcegemfire,0
Sonar build is failing httpsbuildspringsourceorgbrowseXD-SONAR-34 Caused by javalangClassNotFoundException orgsonarapiPlugin at orgcodehausplexusclassworldsstrategySelfFirstStrategyloadClassSelfFirstStrategyjava50 at orgcodehausplexusclassworldsrealmClassRealmloadClassClassRealmjava244 at orgcodehausplexusclassworldsrealmClassRealmloadClassClassRealmjava230 94 more,0
JMS Source ActiveMQ failing to use jmsUrl environment variable Deployed on SingleNode Ec2 SingleNode Mac SHA 942c7868e3e0d0cf7730b536170438a0291f5cab Description JMS Source Activemq tried to access a broker on localhost The current deployment uses the following to set the JMS Broker export amqurltcpec2-54-221-32-82compute-1amazonawscom61616 Analysis After reviewing the configuration of the jms-activemq-infrastructure-contextxml it was noted that the brokerUrl environment variable has been changed from amqurl to amqUrl While the jms-activemqproperties has not been changed still amqurl After setting the following the test still failed export amqUrltcpec2-54-221-32-82compute-1amazonawscom61616 After going into the jms-activemq-infrastructure-contextxml and replacing the amqUrl with amqurl the jms source activemq returned to normal operation Incident Acceptance tests reported a failure on Saturday Mornings build that the JMS Source failed,0
As a developer Id like to move the project reactor based gpfdisthttpsgithubcomspring-projectsspring-xd-modulestreemastergpfdist from spring-xd-module repo to the core so I can natively use this sink to write to GPDBHAWQ,2
Refactor CloudFoundryApplicationFactory This class should not know what the test app is This means changing the constructors on CloudFoundryApplication,0
Split integrationx in dedicated XD projects where appropriate Similar to what is done for eg hadoop reactor and http some of the classes in the x package namely gemfire splunk twitter should go in dedicated albeit small projects This would enable further modularization see XD-915,0
Cleanup ModuleDeployer ModuleDeployer has many methods with very similar names that are hard to understand Moreover there is a substantial amount of duplicated code that should be extracted in sub methods with descriptive names One should even consider splitting the class,0
Create EC2 AMI for single-node install of Apache Hadoop 220,0
Enhance Container domain object Currently orgspringframeworkxddirtclusterContainer has name and attributes container attributes This can be enhanced to include all the deployed modules number of deployed modules and any more useful info and can subsequently be used to get a detailed runtime container info,0
Vary producers size ECB-5 Use the number of consumers gave a maximum throughput in the previous test say 10 consumers message size 100 bytes Prefetch 100 Send 1M messages Vary the number of producers Measure the msgsec rate and calculate the data transfer rate in MBsec Number of producers 2 4 6 10 50 During the measurements look at the RabbitMQ Admin UI and see if the queue is backing up,0
Add option to xd-admin and xd-container YARN scripts to allow copying ot HDFS and no execution,0
Disable Collection to Object conversion in DefaultTuple DefaultFormattingConversionService provides Collection - Object conversion which will produce the first item if the target type matches Here this results in an unfortunate side effect getTupleListTuple list would return a Tuple which is misleading In this case it is preferable to treat it as an error if the argument is not a Tuple,0
Prevent deploying modules of same type on a given streamjob when new leadership election happens When the leadership election happens the new deployment supervisors container listener tries to deploy unallocated modules via ArrivingContainerModuleRedeployer into existing container that has the modules of the same type on a given streamjob already deployed Currently on a given streamjob we dont allow more than one deployment of the same module type and there by avoiding any conflicting properties for the given module type,0
Improve type handling for jdbc sink The jdbc sink is currently limited to handling the entire payload as a string and converting a single json object to row data We should improve that and support the following input types - LinkedCaseInsensitiveMap single row - ListLinkedCaseInsensitiveMap multiple rows as a batch insert - JSON string ID74488NAMEFooYEAR2014 single row - JSON array ID74488NAMEFooYEAR2014ID74489NAMEBarYEAR2014 multiple rows as a batch insert - none of the above use payloadtoString The above matches what the new jdbc source puts out depending on outputType used,0
As a s-c-d developer Id like to enforce external libraries from overriding any existing library in the uber-jar,2
Set fetch size when reading from database in pre-packaged jobs When running a query against a large dataset JDBC will attempt to load the entire result set into memory by default If this isnt desired which would be the case in the prepackaged jobs you can set the fetchSize on the JdbcCursorItemReader to set the number of rows to return with each fetch It is good practice to make this match the commit interval If the fetch size is not set with large datasets the stack blows with an OutOfMemoryException,0
Consider using the ConversionService to convert incoming message payload to Reactor based processors input type In noformat BroadcasterMessageHandlerhandleMessageInternal noformat the call codejava else if ClassUtilsisAssignableinputType messagegetPayloadgetClass TODO handle type conversion of payload to input type if possible ringBufferProcessoronNextmessagegetPayload code could try to invoke a conversion service,0
As a developer Id like to create separate repo for Lattice SPI so I dont have to bundle all SPI variants under one admin project,3
Unclear error message using hadoop fs shell commands without configuring a URL When using the shell I forgot to configure the Hadoop URL via hadoop config fs --namenode hdfspivhdsne8020 I then did xdhadoop fs ls xdtweets You must set fs URL before run fs commands The error message should tell me how to set the URL via the hadoop config command I had to go back to the documentation to figure it out Its also not entirely grammatically correct,0
Controllers - Disallow negative pageSize values Currently you can specify negative pageSize values - The controllers should validatate that Right now an internal exception is being return leaking internal details to the caller - Eg httplocalhost9393batchexecutionspageSize-1 results in code errors error logrefBadSqlGrammarException message StatementCallback bad SQL grammar SELECT TOP -1 EJOBEXECUTIONID ESTARTTIME EENDTIME ESTATUS EEXITCODE EEXITMESSAGE ECREATETIME ELASTUPDATED EVERSION IJOBINSTANCEID IJOBNAME FROM BATCHJOBEXECUTION E BATCHJOBINSTANCE I WHERE EJOBINSTANCEIDIJOBINSTANCEID ORDER BY EJOBEXECUTIONID DESC nested exception is javasqlSQLSyntaxErrorException user lacks privilege or object not found TOP message error errors code,0
Jobs list REST endpoint should include deployedundeployed status Currently the jobs definition list REST endpoint doesnt include deployedundeployed status on a given job,0
xd-shell should provide a command line argument --adminUri to specify the location of the admin node xd-shell by default will try to connect to the admin node in the same host You need to run admin config server to specify the URI where the admin node is - every time you run xd-shell xd-shell should have a command line argument --adminUri so that the user can invoke the xd-shell passing the Admin Node Uri as an argument when running the shell and then be able to use xd-shell in interactive mode without having to run admin config server every time,0
Support XD as a service on PCF,0
Improve Redis Bus Error Log Entry code loggererrorFailed to deliver message retries exhausted message sent to queue ERRORSnamecontextgetLastThrowable code Should be code loggererrorFailed to deliver message retries exhausted message sent to queue ERRORS name contextgetLastThrowable code So the actual name is logged,0
Composed modules destination binding order incorrect Created a stream with definition code mySourceModule myProcessorModule log code This stream worked fine but when created composed module with definition code mySourceModule myProcessorModule code Then stream definition code myComposedModule log code get an error stating that the output channel of mySourceModule has no subscribers Looking at previous bugs this appears to be a module binding order in which the source is started before the processor has subscribed to the output channel of the source,0
Update Sources section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmlhttp,0
Rename node references to container This applies to a few places when addressing the issue a search should be done to uncover any others eg ContainerServerApplication public static final String NODEPROFILE node Options classes The transport to use for data messages from node to node The transport to use for control messages between admin and nodes,0
Get rid of custom asciidoctor link transformations Remove noformat filter line - TODO refine regex to only match local documents def match line link if match matchreplaceAllxref23 else line noformat and replace linkFoobar by xrefFoobar,0
Add config file fragment support configuration in XD windows bat scripts The external configuration fragment file support by setting springconfiglocation in the XD startup scripts are not updated in xd-admin xd-container and xd-singlenode bat scripts Please refer httpsgithubcomspring-projectsspring-xdissues582,0
As a XD developer Id like to upgrade to SI 42 Spring 421 and AMQP 15 dependencies so I can take advantage of the latest improvements,3
Update documentation for Kafka sources Include new features added by using Spring Integration Kafka M3,0
No errors in Shell when creating stream with HTTP Source already used port 2 issues exist 1 Current this does not create an error in the shell code stream create --name s1 --definition http log stream create --name s2 --definition http log code On the server-side I see code Caused by javanetBindException Address already in use sunniochNetbind0Native Method sunniochNetbindNetjava344 sunniochNetbindNetjava336 sunniochServerSocketChannelImplbindServerSocketChannelImpljava199 sunniochServerSocketAdaptorbindServerSocketAdaptorjava74 orgjbossnettychannelsocketnioNioServerBossRegisterTaskrunNioServerBossjava193 orgjbossnettychannelsocketnioAbstractNioSelectorprocessTaskQueueAbstractNioSelectorjava366 orgjbossnettychannelsocketnioAbstractNioSelectorrunAbstractNioSelectorjava290 orgjbossnettychannelsocketnioNioServerBossrunNioServerBossjava42 3 more code 2 The Stream should not be saved to the StreamDefinitionRepo in case of an error,0
In XD shell an incomplete command will be executed as the full command When using the XD shell a user can enter the first character of a command and it will be accepted as the full command for example e return will exit the shell The following commands below show how a user can target a new cluster and then get a job execution list by using the first character of the command server-unknowna c s httpec2-54-90-166-140compute-1amazonawscom9393 Successfully targeted httpec2-54-90-166-140compute-1amazonawscom9393 xdj e l Id Job Name Start Time Step Execution Count Execution Status Deployment Status Definition Status -- ----------------------------------------- ----------------------- -------------------- ---------------- ----------------- ----------------- 28 tsle2145f21d-5b0b-49df-b9cc-a3fe65c49ecc 2014-12-18 110847000 2 COMPLETED Undeployed Destroyed 27 ec2Job3 2014-12-18 110713000 2 COMPLETED Undeployed Destroyed 26 ec2Job3,0
More DSL work checking behaviour for non-deployable streams With support for substreamsparameterized streams now in the parser it will be possible to create a stream that cannot be deployed it may not fit the sourceprocessorsink structure or it is a parameterized stream with no default values for parameters Need to check how XD is going to handle these - after creating them attempting to deploy them should return appropriate errors They should exist in the stream directory,0
Detect Module Properties for Non-existent Modules stream create foo --definitionbar baz stream deploy foo --propertiesmodulequxfiz,0
As a user Id like to use a jdbchdfs batch job as a passthrough without chunk processing so that I dont have to incur the batch readwrite overhead,2
Spike Determine how to integrate job events into spring-cloud-streams h2 Narrative As a developer when running a batch job on DiegoLattice as a task I want to be able to receive events based on the job lifecycle h2 Back story XD 1x provides exposure to all of the main listeners Spring Batch supports via streams so they can be listened to This needs to be supported in the new spring-cloud-streams model Note We may want this to depend on XD-2841,0
As a user Id like to refer to job orchestration documentation so I can use it as guideline for building batch workflows,3
DSL needs to have wildcard support for taps Wildcard support for associating inbound and outbound channels with modules The wild card will be represented by an asterisk Example myEmailSource tapjobsend message to all jobs myEmailSource tapsend message to all streamjob taps myEmailSource foosend message to all channels that contain the channels that contains the word foo tapbar myEmailSource,0
Fix misc doc formatting issues Noticed a few issues while reviewing the documentation The sidebar for TOC is no longer there That was really nice Somehow the Using-MQTT-on-XD section is giving an error quote asciidoctor WARNING indexadoc line 167 invalid style for paragraph appendix asciidoctor WARNING indexadoc line 169 include file not found dataprojectsspring-xdbuildasciidocguideUsing-MQTT-on-XDasciidoc distZip quote but I dont notice anything different between that appendix and the others in indexadoc,0
Upgrade groovy version to 222 Currently XD hast testCompile dependency to use orgcodehausgroovygroovy-all221 The spring-integration-groovy uses 222 and it is what spring IO platform uses as well To keep it all same we can change this testCompile dependency to use 222,0
As a QA Id like to include acceptance test coverage for hdfs-dataset module so that I can validate the functionality as part of every CI build,3
As a developer Id like revisit the design to determine the necessity for ID and TimeStamp attributes in Tuple so I can refactor in order to improve performance throughput,1
XD Metrics backed Message Counter A Spring Integration based ServiceActivator that counts the number of messages using the Spring XD metrics support,0
Create a common exception framework for XD Need to capture exceptions from the various projects that make up XD and wrap them in XD Specific exceptions An example of this is when leaving out the channels in the module definitions we see NoSuchBeanExceptions and IllegalArgumentExceptions thrown based on which module and what channel is missing,0
Change SpringSource references in pomxml to Springspringio This is currently in the M6 pom organization nameSpringSourcename urlhttpspringsourceorgurl organization,0
The HDFS Sink should support copying File payloads We should support javaiofile payloads in order to support non-textual file and large text file payloads being uploaded to HDFS Currently text file payloads are converted to a text stream in memory and non-String payloads are converted to JSON first using an object-to-json-transformer Ultimately we need to support streams such as file hdfs where the actually payload being copied to HDFS is not necessarily JSON or textual Need to be able to support headers in the message that will indicate which HDFS file the data should be stored in,0
Integrate grunt based UI build into the XDs gradle build Blog post httpnaleidcomblog20130124calling-gruntjs-tasks-from-gradle seems to be the definitive reference,0
Exception thrown when all containers are shut down If all containers are shut down and theres a stream deployed this exception is thrown on the admin noformat javautilNoSuchElementException javautilArrayListItrnextArrayListjava839 orgspringframeworkxddirtserverModuleDeploymentWriterwriteDeploymentModuleDeploymentWriterjava260 orgspringframeworkxddirtserverContainerListenerredeployStreamModuleContainerListenerjava432 orgspringframeworkxddirtserverContainerListeneronChildLeftContainerListenerjava403 orgspringframeworkxddirtserverContainerListenerchildEventContainerListenerjava159 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 javautilconcurrentFutureTaskrunFutureTaskjava266 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 javautilconcurrentFutureTaskrunFutureTaskjava266 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava744 noformat This is a regression caused by the earlier code refactoring for stream deployment,0
Ensure Job definitions are escaped in UI If using the definition aaa bbb where the definition starts with a and ends with a the definition for the composed job does not appear on the definition page,0
As a s-c-s user Id like to have the modules self-register itself with Eureka whenever theyre installed so I can also discover the same modules using Spring XD Admin SPI and reuse them to create data pipelines,5
Support user impersonation in HDFS sink Should be able to specify which usergroup will own the files that are written in HDFS,0
As a s-c-d developer Id like to create ModuleRegistry stubs so I can create mock streams by interacting with the registry APIs,3
As a s-c-d developer Id like to support multiple app instances This is simply to make controlling app instances more clever Potentially we could use deployment properties to define different yarn app instances like code cloud-datastream deploy --name ticktock --properties moduleyarnappnameapp cloud-datastream deploy --name ticktock --properties moduletimeyarnappnameapp code Motivation to this is that different yarn apps can have different queues and priorities Yarn administrator can define that some app queues have higher priority to reserve resources from Using deployment properties like this allows to customize runtime parameters like how much we try to reserve memcpu for modules etc,2
Remove ConnectionFactorySettings after move to Boot 13 Now that Boot 13 supports SSL and other settings we can remove the ConnectionFactorySettings Configuration,0
Shell Strange behavior when not logged in If not properly logged-in you will see errors like this one Command module list was found but is not currently available type help then ENTER to learn about this command It should possible state something like You dont have the credentials to execute the respective command Please ensure that you are properly authenticated and have the necessary security roles,0
Colors on Job Definition tab are different than other tabs The table background color on the Job Definition Tab is green while the others tabs have a white background They should be consistent,0
Ad-hoc Jobs do not start After XD-554 the ModuleJobExecutorstart does not get called Thus jobs that are run one time do not fire,0
Documentation on XD Architecture Show overall flow of data in a stream the server components admin and container How modules are deployed,0
A job will be associated with a named channel when the job is created When creating a job a named channel will be created with a name of jobyour job name ie jobfoo Required components - A Transform See XD-733 - JobPlugin needs to create the NamedChannel for the job and associate the transform Registrarxml will need an input channel Name channel support will be required - Add --channel to job rest apis to notify system that a named channel is requested Unit Test,0
Support pagination in list command for jobs See XD-477,0
Document MQTT Source and Sink,0
Document trigger source,0
Come up with a consistent Link consumption scheme on the REST client side See discussion at httpsgithubcomspring-cloudspring-cloud-datapull37discussionr36849117 Also relevant httpdocsspringiospring-hateoasdocscurrentreferencehtmlclient,0
Document direct binding As an s-c-d user Id like to refer to documentation on direct binding so I can use it as a reference to deploy a stream that includes directly bound modules Example code java -jar spring-cloud-stream-module-launchertargetspring-cloud-stream-module-launcher-100BUILD-SNAPSHOTjar --modulesorgspringframeworkcloudstreammoduletime-source100BUILD-SNAPSHOTorgspringframeworkcloudstreammodulefilter-processor100BUILD-SNAPSHOTorgspringframeworkcloudstreammodulefilter-processor100BUILD-SNAPSHOT --args0fixedDelay7 --args1expressionpayloadcontains6 --aggregatetrue --springcloudstreambindingsoutputfiltered code,0
As a user Im trying to create a composed job with 20 stepstransitions using Rabbit as the message bus and it doesnt complete successfully,3
Create sample application for RxJava Create port of httpsgithubcomspring-projectsspring-xd-samplestreemasterreactor-moving-average based on RxJava,0
Add support for creating a spring batch job that has an embedded trigger expression,0
As a user I want to be able to provide security credentials to the XD Shell so that I can interact with an xd admin server that is secured via basic auth Technical implementation Add ---password and --username to the admin config command,5
Create infrastructure for Spring cloud task modules Create Parent pom file for build Create settings file Migrate Timestamp task from SCSM to SCTM,0
Module configuration exception should not block admin leader election When the admin leader is elected the leader recalculates the deployed streamjob states If for some reason the streamjob couldnt be loaded with ModuleConfigurationException then the leader fails and subsequently all the deployment requests are being queued We need to discuss how to handle this situation A possible fix could be something like this httpsgithubcomilayaperumalgspring-xdcommitfa6a48072197e8c350eaebe841191e4b6310f437 The issue is that if the stream was already successfully deployed into a container then the stream status would still be set to undeployed by the admin leader during the recalculation Also this issue is very minor as the ModuleConfigException would be thrown only if someone upgrades Admin that uses different module options config than the existing stream definitions,0
Add jars for Avro and Snappy compression to Sqoop job submission We need to have some jars as part of the Sqoop job submission to YARN for Avro we need avro-176jar avro-mapred-176jar for Snappy we need snappy-java-105jar note the 1101 version from xdlib doesnt work commons-compress-141jar We can either have these included using the --libjars option or automatically include them,0
As a Spring XD developer Id like to port transform module from XD to s-c-s repo so I can use it as processor module to build streaming pipeline,2
Accessing Admin REST APIs on CF returns unexpected results As an s-c-d user Im trying to access admin REST endpoints running on CF but Im getting SSL authentication errors,0
provide user friendly messages when dealing with invalid gemfire sink xdstream create --name testgemfire --definition http --port8887 gemfire 162028503 WARN Spring Shell clientRestTemplate524 - POST request for httplocalhost8080streams resulted in 500 Internal Server Error invoking error handler Command failed orgspringframeworkxdrestclientimplSpringXDException orgspringframeworkbeansfactoryBeanDefinitionStoreException Invalid bean definition with name region defined in null Could not resolve placeholder regionName in string value regionName,0
The shell distribution zip is missing hadoop26 libraries The spring-xd-version-shellzip distribution zip doesnt include the libhadoop26 directory and libraries so we get the following exception when starting the shell Exception in thread main javalangNoClassDefFoundError orgapachehadoopconfConfiguration,0
As a user I need a production-ready Docker Image so that I can use that as a baseline to deploy XD with the following setup Ubuntu OS Full XD Jar Java 7x,8
As a Spring XD developer Id like to move jdbc module from XD to s-c-s repo so I can use it as source to build streaming pipeline,2
Update Reactor Stream processor to use latest snapshots The code base is changing a bit so using 20 M1 for development is stable up until all major JIRA issues have bee completed Then we should track snapshots in preparation to move to 20 M2 when it gets released,0
Create CI for XD-EC2 project Automated test will use directly use the Deployer class asserts on basic info of RunningInstance check that EBS was mounted that application was unzipped redis and rabbit are running via port checks http requests on admin port for root path list of modules AfterClass that will look for the cluster name and terminate all instances Look at live tag in JClouds tests for some additional tactics,0
UI Provide fixed version numbers for NPM and Bower dependencies,0
Update to snapshot builds of Spring Shell,0
Support oracle jdbc configuration for XD batch job repository Currently hsqldb postgres and mysql job repositories are supported We need to add configurable oracle jdbc settings,0
Update Modules - Build and Package sections Some info is obsolete and add more content re dependency management,0
Add Greenplum Sink User should have the option of Greenplum DB sink so they can write data directly to Greenplum DB via the pgfdistgploader Greenplum bulk loader The existing JDBC sinks are not suitable for high volume loads The JDBC approach utilizes the master segment of Greenplum for loading datasets instead of the bulk loader utility,0
XD Container not closing file descriptors Currently when running the p-spring-xd stream tests we run into an issue where the XD Container starts throwing errors because it cannot open the module configuration file This happens reliably after 3-4 days of running and always fails on the same modulesyml configuration file This is not to say that the file leak is guaranteed to be related to the modulesyml but its certainly a place to start looking A restart of the container only causes the error to go away for 3-4 days at which point it reappears indicating that the problem is definitely in the XD Container and not in the operating systems configuration Failure stack trace noformat XD ADMIN 120RC1 INFO DeploymentSupervisor-0 zkZKStreamDeploymentHandler - Deployment status for stream end-to-end-http-9630 DeploymentStatusstatefailederrorsjavalangIllegalStateException javaioFileNotFoundException varvcapjobsxd-containerpackagesspring-xdconfigmodulesmodulesyml Too many open files at orgspringframeworkbeansfactoryconfigYamlProcessorhandleProcessErrorYamlProcessorjava186 at orgspringframeworkbeansfactoryconfigYamlProcessorprocessYamlProcessorjava178 at orgspringframeworkbeansfactoryconfigYamlProcessorprocessYamlProcessorjava138 at orgspringframeworkbootenvYamlPropertySourceLoaderProcessorprocessYamlPropertySourceLoaderjava100 at orgspringframeworkbootenvYamlPropertySourceLoaderloadYamlPropertySourceLoaderjava57 at orgspringframeworkbootenvPropertySourcesLoaderloadPropertySourcesLoaderjava126 at orgspringframeworkbootcontextconfigConfigFileApplicationListenerLoaderloadIntoGroupConfigFileApplicationListenerjava381 at orgspringframeworkbootcontextconfigConfigFileApplicationListenerLoaderloadConfigFileApplicationListenerjava369 at orgspringframeworkbootcontextconfigConfigFileApplicationListenerLoaderloadConfigFileApplicationListenerjava339 at orgspringframeworkbootcontextconfigConfigFileApplicationListeneraddPropertySourcesConfigFileApplicationListenerjava174 at orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolver1applyEnvironmentAwareModuleOptionsMetadataResolverjava229 at orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverloadPropertySourcesEnvironmentAwareModuleOptionsMetadataResolverjava219 at orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverlookupEnvironmentEnvironmentAwareModuleOptionsMetadataResolverjava181 at orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolveraccess000EnvironmentAwareModuleOptionsMetadataResolverjava61 at orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverModuleOptionsMetadataWithDefaultsinitEnvironmentAwareModuleOptionsMetadataResolverjava144 at orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverresolveEnvironmentAwareModuleOptionsMetadataResolverjava132 at orgspringframeworkxddirtstreamXDStreamParserbuildModuleDescriptorsXDStreamParserjava206 at orgspringframeworkxddirtstreamXDStreamParserparseXDStreamParserjava122 at orgspringframeworkxddirtstreamStreamFactorycreateStreamStreamFactoryjava84 at orgspringframeworkxddirtserveradmindeploymentzkDeploymentLoaderloadStreamDeploymentLoaderjava101 at orgspringframeworkxddirtservercontainerDeploymentListenerdeployStreamModuleDeploymentListenerjava331 at orgspringframeworkxddirtservercontainerDeploymentListeneronChildAddedDeploymentListenerjava181 at orgspringframeworkxddirtservercontainerDeploymentListenerchildEventDeploymentListenerjava149 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 at orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 at comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 at orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 at orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 at orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 at orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 at javautilconcurrentFutureTaskrunFutureTaskjava266 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 at javautilconcurrentFutureTaskrunFutureTaskjava266 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 at javalangThreadrunThreadjava745 Caused by javaioFileNotFoundException varvcapjobsxd-containerpackagesspring-xdconfigmodulesmodulesyml Too many open files at javaioFileInputStreamopen0Native Method at javaioFileInputStreamopenFileInputStreamjava195 at javaioFileInputStreaminitFileInputStreamjava138 at javaioFileInputStreaminitFileInputStreamjava93 at sunnetwwwprotocolfileFileURLConnectionconnectFileURLConnectionjava90 at sunnetwwwprotocolfileFileURLConnectiongetInputStreamFileURLConnectionjava188 at orgspringframeworkcoreioUrlResourcegetInputStreamUrlResourcejava168 at orgspringframeworkbeansfactoryconfigYamlProcessorprocessYamlProcessorjava158 36 more javalangIllegalStateException javaioFileNotFoundException varvcapjobsxd-containerpackagesspring-xdconfigmodulesmodulesyml Too many open files at orgspringframeworkbeansfactoryconfigYamlProcessorhandleProcessErrorYamlProcessorjava186 at orgspringframeworkbeansfactoryconfigYamlProcessorprocessYamlProcessorjava178 at orgspringframeworkbeansfactoryconfigYamlProcessorprocessYamlProcessorjava138 at orgspringframeworkbootenvYamlPropertySourceLoaderProcessorprocessYamlPropertySourceLoaderjava100 at orgspringframeworkbootenvYamlPropertySourceLoaderloadYamlPropertySourceLoaderjava57 at orgspringframeworkbootenvPropertySourcesLoaderloadPropertySourcesLoaderjava126 at orgspringframeworkbootcontextconfigConfigFileApplicationListenerLoaderloadIntoGroupConfigFileApplicationListenerjava381 at orgspringframeworkbootcontextconfigConfigFileApplicationListenerLoaderloadConfigFileApplicationListenerjava369 at orgspringframeworkbootcontextconfigConfigFileApplicationListenerLoaderloadConfigFileApplicationListenerjava339 at orgspringframeworkbootcontextconfigConfigFileApplicationListeneraddPropertySourcesConfigFileApplicationListenerjava174 at orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolver1applyEnvironmentAwareModuleOptionsMetadataResolverjava229 at orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverloadPropertySourcesEnvironmentAwareModuleOptionsMetadataResolverjava219 at orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverlookupEnvironmentEnvironmentAwareModuleOptionsMetadataResolverjava181 at orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolveraccess000EnvironmentAwareModuleOptionsMetadataResolverjava61 at orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverModuleOptionsMetadataWithDefaultsinitEnvironmentAwareModuleOptionsMetadataResolverjava144 at orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverresolveEnvironmentAwareModuleOptionsMetadataResolverjava132 at orgspringframeworkxddirtstreamXDStreamParserbuildModuleDescriptorsXDStreamParserjava206 at orgspringframeworkxddirtstreamXDStreamParserparseXDStreamParserjava122 at orgspringframeworkxddirtstreamStreamFactorycreateStreamStreamFactoryjava84 at orgspringframeworkxddirtserveradmindeploymentzkDeploymentLoaderloadStreamDeploymentLoaderjava101 at orgspringframeworkxddirtservercontainerDeploymentListenerdeployStreamModuleDeploymentListenerjava331 at orgspringframeworkxddirtservercontainerDeploymentListeneronChildAddedDeploymentListenerjava181 at orgspringframeworkxddirtservercontainerDeploymentListenerchildEventDeploymentListenerjava149 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 at orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 at comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 at orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 at orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 at orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 at orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 at javautilconcurrentFutureTaskrunFutureTaskjava266 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 at javautilconcurrentFutureTaskrunFutureTaskjava266 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 at javalangThreadrunThreadjava745 Caused by javaioFileNotFoundException varvcapjobsxd-containerpackagesspring-xdconfigmodulesmodulesyml Too many open files at javaioFileInputStreamopen0Native Method at javaioFileInputStreamopenFileInputStreamjava195 at javaioFileInputStreaminitFileInputStreamjava138 at javaioFileInputStreaminitFileInputStreamjava93 at sunnetwwwprotocolfileFileURLConnectionconnectFileURLConnectionjava90 at sunnetwwwprotocolfileFileURLConnectiongetInputStreamFileURLConnectionjava188 at orgspringframeworkcoreioUrlResourcegetInputStreamUrlResourcejava168 at orgspringframeworkbeansfactoryconfigYamlProcessorprocessYamlProcessorjava158 36 more noformat,0
Add watch to stream deployment paths DeploymentSupervisor will be responsible for maintaining the state data for each stream When a stream is deployed a watch should be created so that the supervisor can recalculate the state of a stream as modules are addedremoved,0
As a QA Id like to include acceptance test coverage for both script and scripts processor modules so that I can validate the functionality as part of every CI build,3
Fix package-infojava warnings,0
HTTP Source still listens on port 9000 after removal Steps to reproduce 1 curl -d http log httplocalhost8080streamstestHttp 2 curl -X DELETE httplocalhost8080streamstestHttp 3 curl -d http log httplocalhost8080streamstestHttp orgjbossnettychannelChannelException Failed to bind to 000000009000,0
Add Zookeeper distribution in the download zip This will reduce one extra step for getting started using XD in distributed mode out of the box,0
http source module should copy Content-Type header to SI MessageHeadersCONTENTTYPE,0
Verify platform compatibility versions with the XD dependencies We need to make sure there is no conflictingmissing dependency with buildgradle using spring IO platform dependencies httpsjiraspringiobrowseXD-1929 is one such scenario where jolokia dependency went missing,0
Create a scriptProcessor module that allows the execution of a groovy potentially jrubyjython based SI Service Activator This will enable arbitrary processing logic to be used in a processing step See httpblogspringsourceorg20111208spring-integration-scripting-support-part-1 intservice-activator scriptscript langgroovy locationfilescriptsgroovymyscriptgroovy intservice-activator would be the essence of the module Probably lang gets detected from the file extension,0
Vary queue number ECB-7 Based on the the results from B-6 select the number of consumerproducers that give a distinct 5 increase in message rate Below 5 change in message rate prefer lower consumerproducer count Vary the number of PerfTest instances that are run simultaneously and use their own independent queue from 1 until the overall messagessec on the broker plateaus Note the CPU performance using top for the broker and PerfTest processes Test 1 2 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 Test 2 3 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q3 -p -x 1 -y 1 -s 1000 -z 60 -q 500 Test 3 4 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q3 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q4 -p -x 1 -y 1 -s 1000 -z 60 -q 500 Test 4 5 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q3 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q4 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q5 -p -x 1 -y 1 -s 1000 -z 60 -q 500 etc,0
Module failed to deploy because ZK said it already exists Identified in a stream of commits ending with0f4d4ea6b2f16c73c0048e32d8a8753aa25a48fd Transport Redis Admin 1 Container 1 Stream deployed timefile Attachments Admin and container logs Description Admin reports that File sink Module failed to deploy at 001932 because ZK stated it already exists Container shows no deployment of the file sink This could be an artifact in that the old Acceptance tests use the same stream name hence a previous undeploy failed to remove the file This is not seen in the log per se The filejdbc fail above is a legitimate test verifying that a job cant be deployed twice,0
Provide error location when tapping inexistent streammodule See impacted code at httpsgithubcomspring-projectsspring-xdpull951,0
Change JMX option to reference enableJmx instead of disableJmx Make the default value of enableJmx false until we have testeddocumented JMX functionality,0
Infrastructure for RabbitMQ Cluster DB Pre-requisite for Rabbit MQ Benchmarks Infrastructure setup Configuration changes Tool-chain setup,0
Document Kafka source,0
As a user Id like to upgrade Spring XD from 12 RC to 12 GA using the Ambari plugin so I can work on the latest release bits Id like to refer to the documentation to do so,1
add test to startstop stream server in additional to existing tests that check for redis connection we need to add tests that startstop stream server,0
Add Kafka-based implementation for AbstractSingleNodeStreamDeploymentIntegrationTests,0
Rename spring-xd-shell to xd-shell,0
NoNodeException after bouncing admin server Steps to reproduce h6 1 Clear out ZK code zk localhost2181CONNECTED 0 rmr xd code h6 2 Start admin h6 3 Deploy stream code xdstream create --name tt --definition timelog --deploy code Admin log code 163810537 INFO Deployer serverStreamDeploymentListener - Deploying stream Streamnamett 163810545 WARN Deployer serverStreamDeploymentListener - No containers available for deployment of module log for stream tt 163810547 WARN Deployer serverStreamDeploymentListener - No containers available for deployment of module time for stream tt 163810547 INFO Deployer serverStreamDeploymentListener - Deployment status for stream tt DeploymentStatusstatefailed 163810550 INFO Deployer serverStreamDeploymentListener - Stream Streamnamett deployment attempt complete code h6 4 Shut down and restart admin The following is logged code orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsstreamsttmodules orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 orgapachezookeeperZooKeepergetChildrenZooKeeperjava1590 orgapachecuratorframeworkimpsGetChildrenBuilderImpl3callGetChildrenBuilderImpljava214 orgapachecuratorframeworkimpsGetChildrenBuilderImpl3callGetChildrenBuilderImpljava203 orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 orgapachecuratorframeworkimpsGetChildrenBuilderImplpathInForegroundGetChildrenBuilderImpljava199 orgapachecuratorframeworkimpsGetChildrenBuilderImplforPathGetChildrenBuilderImpljava191 orgapachecuratorframeworkimpsGetChildrenBuilderImplforPathGetChildrenBuilderImpljava38 orgspringframeworkxddirtserverStreamDeploymentListenerrecalculateStreamStatesStreamDeploymentListenerjava207 orgspringframeworkxddirtserverDeploymentSupervisorLeaderListenertakeLeadershipDeploymentSupervisorjava352 orgapachecuratorframeworkrecipesleaderLeaderSelectorWrappedListenertakeLeadershipLeaderSelectorjava536 orgapachecuratorframeworkrecipesleaderLeaderSelectordoWorkLeaderSelectorjava398 orgapachecuratorframeworkrecipesleaderLeaderSelectordoWorkLoopLeaderSelectorjava443 orgapachecuratorframeworkrecipesleaderLeaderSelectoraccess100LeaderSelectorjava63 orgapachecuratorframeworkrecipesleaderLeaderSelector2callLeaderSelectorjava244 orgapachecuratorframeworkrecipesleaderLeaderSelector2callLeaderSelectorjava238 javautilconcurrentFutureTaskrunFutureTaskjava266 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 javautilconcurrentFutureTaskrunFutureTaskjava266 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava744 code,0
Eliminate stack trace on xd-container shutdown when active module running After deploying stream such as time log the xd-container emits the following stacktraces if the stream is in a deployed state when that xd-container process is halted via CTRL-C code 201531415 INFO main-EventThread moduleModuleDeployer215 - removed SimpleModule namelog typesink groups index1 128936ff 201531417 ERROR main-EventThread impsCuratorFrameworkImpl512 - Watcher exception javalangIllegalStateException orgspringframeworkcontextannotationAnnotationConfigApplicationContext7bf4bc83 has been closed already orgspringframeworkcontextsupportAbstractApplicationContextassertBeanFactoryActiveAbstractApplicationContextjava956 orgspringframeworkcontextsupportAbstractApplicationContextgetBeanAbstractApplicationContextjava978 orgspringframeworkxdmodulecoreSimpleModulegetComponentSimpleModulejava214 orgspringframeworkxddirtpluginsAbstractMessageBusBinderPluginunbindConsumerAndProducersAbstractMessageBusBinderPluginjava140 orgspringframeworkxddirtpluginsstreamStreamPluginbeforeShutdownStreamPluginjava74 orgspringframeworkxddirtmoduleModuleDeployerbeforeShutdownModuleDeployerjava267 orgspringframeworkxddirtmoduleModuleDeployerdestroyModuleModuleDeployerjava217 orgspringframeworkxddirtmoduleModuleDeployerhandleUndeployModuleDeployerjava197 orgspringframeworkxddirtmoduleModuleDeployerundeployModuleDeployerjava169 orgspringframeworkxddirtserverContainerRegistrarundeployModuleContainerRegistrarjava252 orgspringframeworkxddirtserverContainerRegistrarStreamModuleWatcherprocessContainerRegistrarjava580 orgapachecuratorframeworkimpsNamespaceWatcherprocessNamespaceWatcherjava56 orgapachezookeeperClientCnxnEventThreadprocessEventClientCnxnjava522 orgapachezookeeperClientCnxnEventThreadrunClientCnxnjava498 201531420 INFO main-EventThread serverContainerRegistrar250 - Undeploying module time-0 time typesource deploymentPropertiescount1 201531420 INFO main-EventThread moduleModuleDeployer215 - removed SimpleModule nametime typesource groups index0 51a42578 201531420 ERROR main-EventThread impsCuratorFrameworkImpl512 - Watcher exception javalangIllegalStateException orgspringframeworkcontextannotationAnnotationConfigApplicationContext6d223732 has been closed already orgspringframeworkcontextsupportAbstractApplicationContextassertBeanFactoryActiveAbstractApplicationContextjava956 orgspringframeworkcontextsupportAbstractApplicationContextgetBeanAbstractApplicationContextjava978 orgspringframeworkxdmodulecoreSimpleModulegetComponentSimpleModulejava214 orgspringframeworkxddirtpluginsAbstractMessageBusBinderPluginunbindConsumerAndProducersAbstractMessageBusBinderPluginjava144 orgspringframeworkxddirtpluginsstreamStreamPluginbeforeShutdownStreamPluginjava74 orgspringframeworkxddirtmoduleModuleDeployerbeforeShutdownModuleDeployerjava267 orgspringframeworkxddirtmoduleModuleDeployerdestroyModuleModuleDeployerjava217 orgspringframeworkxddirtmoduleModuleDeployerhandleUndeployModuleDeployerjava197 orgspringframeworkxddirtmoduleModuleDeployerundeployModuleDeployerjava169 orgspringframeworkxddirtserverContainerRegistrarundeployModuleContainerRegistrarjava252 orgspringframeworkxddirtserverContainerRegistrarStreamModuleWatcherprocessContainerRegistrarjava580 orgapachecuratorframeworkimpsNamespaceWatcherprocessNamespaceWatcherjava56 orgapachezookeeperClientCnxnEventThreadprocessEventClientCnxnjava522 orgapachezookeeperClientCnxnEventThreadrunClientCnxnjava498 code,0
Clear Redis after tests The following keys remain after running the test suite code redis 1270016379 keys 1 containers 2 containersapplication9292 code,0
As a s-c-d developer Id like to add test coverage to test shell commands in isolation so I dont have to run end-to-end full stream deployment based functional tests More details herehttpsdocsgooglecomdocumentd18uNqRAgVGO0BHdvDsVg3X78gDBeqXALNC6jJ0YpKwedit,5
XD-EC2 will have to support the --hadoopDistro command line for xd-container,0
Enhancements to Gemfire CQ Source The Gemfire CQ source needs some enhancements enable locator configuration consider decoupling from JSON Currently designed to work with gemfire-json-server to avoid dependence on specific domain objects on the client and server side So produces json strings from PdxInstances stored in the cache,0
Package modules with their support jars Currently a lot of jars that are on the classpath of xd-dirt are there to support modules We should move those to the lib construct of a module and remove them from the CP of dirt But this should not be done by simple mv as wed lose version tracking and dependency management offered by gradle Pending a dependency-aware ModuleRegistry we should be able to alter the buildgradle file so that it - knows about individual modules maybe handles them as project - copies its libs into the appropriate directory - does not copy dependencies that are already legitimate dependencies of xd-dirt this can be achieved by runtime introspection of the dependeny tree of both projects,0
Stream Definition Calls Times-out often We are using the SpringXD REST endpoints for creating and managing streams With Version 100 and 101 the Stream Definition API Call Times-out at times Here is the log from the admin node Look at the 30000 ms in the logs I have also left a few other lines around for context API Call httphostname9393jobsdefinitions We need to come up with a fix for this 14 Oct 2014 174028062 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event deploymentsstreamssample type CHILDADDED 14 Oct 2014 174028198 INFO Deployer serverStreamDeploymentListener - Deploying stream Streamnamesample 14 Oct 2014 174038847 INFO Deployer serverJobDeploymentListener - Deployment status for job filetsjob-sample002 DeploymentStatusstatefailederrorsDeployment of module ModuleDeploymentKeystreamfiletsjob-sample002 typejob labelfilepollsomething to container c77bc83e-bcba-4e4d-9753-e71f603566b1 timed out after 30000 ms 14 Oct 2014 174128225 INFO Deployer serverStreamDeploymentListener - Deployment status for stream sample DeploymentStatusstatefailederrorsDeployment of module ModuleDeploymentKeystreamsample typesink labelsomething to container f877a8e8-08b3-44f9-8f73-bf163acb0cef timed out after 30000 ms Deployment of module ModuleDeploymentKeystreamsample typesource labelhttp to container c77bc83e-bcba-4e4d-9753-e71f603566b1 timed out after 30000 ms 14 Oct 2014 174128227 INFO Deployer serverStreamDeploymentListener - Stream Streamnamesample deployment attempt complete,0
Distributed JobLocator should return a valid job In distributed batch processing in XD the JobLocator implementation for getJobString jobName should return a valid Job FlowJobSimpleJob Since we wont we relying on the MapJobRegistrys joblocator implementation which doesnt work in distributed use case we need to have an appropriate way to return FlowJobSimpleJob using XDs BatchJobLocator,0
Admin UI does not respond after login in IE 11 I have IE 11 The XD admin UI stops responding after the login prompt and I have to kill the browser every time Its not functional I have not tried it with security turned off Attach is the screenshot of the version,0
As a developer Id like to add support for explicit partition count configuration so I can use this option to cleverly route the payload to the intended consumer module,5
Allow Streamservertomcat to chooce free port Currently you need to define a port which tomcat will use to bind to If XD is embedded or run in a Hadoop it is not possible to know which port should be used Current embedded tomcat version is able to use the 0-port trick for it to choose free port Real binded port can be asked from a connector using below example orgspringframeworkxddirtstreamStreamServerjava public int getLocalPort return thistomcatgetConnectorgetLocalPort Also I believe Streamserver should provide a method to ask what is the real url to connect to or atleast what streamserver thinks what it is This will make life much easier for components empedding spring-xd,0
Empty parameter sent to job when launched from UI Job gets a empty keyvalue pair when launching the job from the admin-ui,0
Deploy Spring XD on Hadoop YARN This is a master ticker tracking work enabling XD to run on Hadoop as Yarn application,0
create a gauge module Spring config for simple gauge plus message handler to process message There is some code common to RichGaugeHandler to coerce the payload to a double that should be refactored for reuse,0
Support the ability for a user to create composite modules that can accept parameters Parser creates a module compose command that allows a user to create a module of other modules This composed module can accept parameters,0
Create OOTB batch job for export and processing multiple files from HDFS to JDBC Same setup as XD-987 for ItemReader and ItemProcessor but should write to HDFS One can assume that the table structure has been created already external to the batch job execution,0
HdfsJdbc Acceptance Test,0
Change module naming strategy in parser taking into account no duplicate labels and repeated modules Labels should only be used help uniquely identify a module in a stream The stream definition a x b x c d should throw an error since the label x is applied to two modules Also ambiguity exists with a stream definition such as http transform transform filter hdfs since a module with the name transform will exist twice meaning a tap on transform will result in message from both transform modules To make the naming unique and the usage with taps the following naming strategy is proposed demonstrated by example http transform transform filter hdfs http transform0 transform1 filter hdfs If a use tries to tap on transform an error would be shown saying that you could try to tap on transform0 or transform1 or alternatively use labels http transform filter transform hdfs http transform0 filter transform1 hdfs http x transform filter transform hdfs http x filter transform hdfs,0
Handling boolean type module option properties defaults in option metadata There are few boolean type module option properties whose default values are specified in the module definitions than their corresponding ModuleOptionsMetaData Also when using boolean we need to have module option using primitive type boolean than Boolean type Currently these are some of the module options that require this change initializeDatabase in modules filejdbc hdfsjdbc job modules aggregator processor module jdbc sink module restartable in all the job modules deleteFiles in filejdbc filepollhdfs job modules,0
As a s-c-d developer Id like to upgrade receptor-client to comply with latest Receptor API changes so I can sync-up and take advantage of the recent improvements,3
Support Groovy bean definitions as XD extensions Modify the PluginContextExtensionsInitializer to consume groovy bean definitions as well as XML,0
wordcount failed to run in cloudera VM 57 I download the spring XD example projects and run through the steps acccording the README file for the project I tried to change the hadoop-sitexml serveryml and wordcountxml files but I failed get the I am blocked by this issue Thank you very much in advance for help Best Regards,0
Include job-composition graph in REST endpoint As an XD user Id like to have a REST endpoint that returns job composition graph so I can use it to build visual representation of parent-child relationship,0
Change request mapping for removing a stream deployment in XDController Currently deployments - with an understore in XDController should be something else Need to segment up the url space better for streamjobs to avoid a clash,0
HDFS sink Partition Path causing writes to be slower in certain cases I have not tested this on M7 but I believe it is the case with latest release as well Stream definition 1 stream create logIngestion --definition rabbit --queuesdemo --hostrabbitmq-broker script --locationlinemergegroovy hdfs --rollover10M --idleTimeout10000 --fileUuidtrue --directorydataloganalysis --partitionPathpathpayloadsplitu00011dateFormatyyyyMMddHHpayloadsplitu00010yyyyMMddHHmmss we noticed this was causing writes to be slower Stream definition 2 stream create logIngestion --definition rabbit --queuesdemo --hostrabbitmq-broker script --locationlinemergegroovy hdfs --rollover10M --idleTimeout10000 --fileUuidtrue --directorydataloganalysis but this definition caused the writes to be much faster Please note this was just a one time test I did and not reproduced multiple times Janne also seems to have reproduced this in another use case Thanks Girish,0
ModuleType Refactor Remove ModuleTypegetModuleTypeByTypeName All code should use the enum,0
As a developer Id like to revisit the existing design and identify known limitations andor the gaps,5
Clean Up CompilerJavadoc Warnings noformat UsersgrussellDevelopmentspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtbatchtaskletJobLaunchingTaskletjava96 warning rawtypes found raw type DomainRepository DomainRepository instanceRepository String jobName missing type arguments for generic class DomainRepositoryTID where TID are type-variables T extends Object declared in interface DomainRepository ID extends SerializableComparableID declared in interface DomainRepository UsersgrussellDevelopmentspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtbatchtaskletJobLaunchingTaskletjava116 warning rawtypes found raw type DomainRepository DomainRepository instanceRepository String jobName missing type arguments for generic class DomainRepositoryTID where TID are type-variables T extends Object declared in interface DomainRepository ID extends SerializableComparableID declared in interface DomainRepository UsersgrussellDevelopmentspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtbatchtaskletJobLaunchingTaskletjava127 warning unchecked unchecked conversion thisinstanceRepository instanceRepository required DomainRepositoryJobDefinitionString found DomainRepository UsersgrussellDevelopmentspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtmoduleModuleExceptionjava23 warning serial serializable class ModuleException has no definition of serialVersionUID public class ModuleException extends RuntimeException UsersgrussellDevelopmentspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtmodulesupportModuleDefinitionServicejava130 warning try explicit call to close on an auto-closeable resource targetclose UsersgrussellDevelopmentspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamStreamExceptionjava23 warning serial serializable class StreamException has no definition of serialVersionUID public class StreamException extends RuntimeException Usersgrussellgradlecachesmodules-2files-21orgkitesdkkite-data-core100512563fec38547cf446fbd221069799df1ab158dkite-data-core-100jarorgkitesdkdataDatasetDescriptorclass warning Cannot find annotation method value in type SuppressWarnings class file for eduumdcsfindbugsannotationsSuppressWarnings not found Usersgrussellgradlecachesmodules-2files-21orgkitesdkkite-data-core100512563fec38547cf446fbd221069799df1ab158dkite-data-core-100jarorgkitesdkdataDatasetDescriptorclass warning Cannot find annotation method justification in type SuppressWarnings 3 warnings UsersgrussellDevelopmentspring-xdspring-xd-tuplesrctestjavaorgspringframeworkxdtupleTupleJsonMarshallerTestsjava77 warning unchecked unchecked cast ListTuple body ListTuple tuplegetValuebody required ListTuple found Object api UsersgrussellDevelopmentspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserveradmindeploymentzkContainerListenerjava145 warning - Tag link reference not found DepartedContainerDeployer UsersgrussellDevelopmentspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserveradmindeploymentzkContainerListenerjava145 warning - Tag link reference not found DepartedContainerDeployer UsersgrussellDevelopmentspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtjobdaoXdJdbcSearchableJobExecutionDaojava151 warning - return tag has no arguments UsersgrussellDevelopmentspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtjobdaoXdJdbcSearchableJobExecutionDaojava166 warning - return tag has no arguments UsersgrussellDevelopmentspring-xdspring-xd-rest-domainsrcmainjavaorgspringframeworkxdrestdomainJobExecutionInfoResourcejava252 warning - return tag cannot be used in method with void return type UsersgrussellDevelopmentspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserveradmindeploymentzkContainerListenerjava145 warning - Tag link reference not found DepartedContainerDeployer noformat,0
As a user Id like to have the custom module built as uber-jar hosted in HDFS so that I can deploy the module to newly arriving containers,8
Update XD-EC2 to use placement groups,0
Clean up Spring Configuration - Container context should be separate from Admin Context in local mode consistency across transports Provide a LocalChannelRegistry to bridge deploy and undeploy channels to the ModuleDeployer - Verify Plugins are not in common module context They are only needed by the ModuleDeployer not the Modules - Add global-beans Config for beans to be shared among admin and container and available to modules This would be set as the parent context where needed Currently analytics-contextxml and JobRepository shared by Admin and modules - Fix ModuleDeployer sets parentContext twice - Rename commonxml to module-commonxml NOTE Analytics parent only required in local mode - Write unit tests to verify configurations are as expected Correct bean implementations and no stray beans or redundant instances where not needed - Decouple Command options from System properties in general XD property names this gives us some flexibility in mapping to properties or profiles where appropriate,0
Add cloud connector dependencies for spring-cloud-data admin Spring-cloud-data admin requires lattice connector and spring-cloud-spring-service-connector dependencies so that the admin controllers get access to any services while running on lattice One example is CounterContoller using redis service for MetricRepository,0
UI Refactor Schedule and Launch Screen under Deployments The current screen layout is problematic in cases where there are many deployments Having a dedicated page for Launching or Scheduling jobs may be desirable Alternatively a light-box-based approach may be possible but I personally dont favor that,0
As a developer Id like to create a end-to-end Kafka use-case so I can study demonstrate and verify kafka xd play thats built for scale and performance,3
File Source Name and Duplicates options not working as documented The doc says the name option is the absolute path to the directory to monitor for files but it actually seems to be the name of a dir in tmpxdinput Not sure which is the correct behavior Also name as an option name seems a little vague Maybe something like --directory Also if I set --duplicatestrue it actually prevents duplicates setting prevents-duplicates to true,0
Add Twitter gardenhose source module we have a prototype gardenhose adapter that was built directly upon RestTemplate streaming on a background thread but Spring Social Twitter has an issue on its 11 roadmap that is relevant httpsjiraspringsourceorgbrowseSOCIALTW-2,0
Remove unused code related to accepted media type in MessageBus,0
Create tcpudp load generator script for XD performance testing Create a load generator script which can generate messages at specific 1 Rate 2 Payload 3 Concurrency to a specific tcpudp port where a syslog adapter is listening,0
As a Spring XD developer Id like to move hdfs-dataset module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,5
Update twittersearch module for Twitter 10 API retirement,0
NoNodeException for job creation The following exception was encountered by a few parties for example httpsgopivotal-comsocialcastcommessages21678398 noformat ERROR LeaderSelector-0 leaderLeaderSelector - The leader threw an exception orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsjobsNNNNmodules orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 orgapachezookeeperZooKeepergetChildrenZooKeeperjava1586 orgapachecuratorframeworkimpsGetChildrenBuilderImpl3callGetChildrenBuilderImpljava214 orgapachecuratorframeworkimpsGetChildrenBuilderImpl3callGetChildrenBuilderImpljava203 orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 orgapachecuratorframeworkimpsGetChildrenBuilderImplpathInForegroundGetChildrenBuilderImpljava199 orgapachecuratorframeworkimpsGetChildrenBuilderImplforPathGetChildrenBuilderImpljava191 orgapachecuratorframeworkimpsGetChildrenBuilderImplforPathGetChildrenBuilderImpljava38 orgspringframeworkxddirtserverJobDeploymentListenerrecalculateJobStatesJobDeploymentListenerjava197 orgspringframeworkxddirtserverDeploymentSupervisorLeaderListenertakeLeadershipDeploymentSupervisorjava389 orgapachecuratorframeworkrecipesleaderLeaderSelectorWrappedListenertakeLeadershipLeaderSelectorjava536 orgapachecuratorframeworkrecipesleaderLeaderSelectordoWorkLeaderSelectorjava398 orgapachecuratorframeworkrecipesleaderLeaderSelectordoWorkLoopLeaderSelectorjava443 orgapachecuratorframeworkrecipesleaderLeaderSelectoraccess100LeaderSelectorjava63 orgapachecuratorframeworkrecipesleaderLeaderSelector2callLeaderSelectorjava244 orgapachecuratorframeworkrecipesleaderLeaderSelector2callLeaderSelectorjava238 javautilconcurrentFutureTaskrunFutureTaskjava266 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 javautilconcurrentFutureTaskrunFutureTaskjava266 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava745 noformat No specific details on reproducing yet although the Socialcast thread indicates quote I only hit this when I have tried to deploy a job that fails deployment the first time quote,0
Payload Conversion Sample throws exception After updating the dependency to use the snapshot even with M5 the conversion throws an exception Stacktrace attached,0
As a user Id like to have the option to extend compression support so that I can override the defaults and customize as needed Follow-up from this PR httpsgithubcomspring-projectsspring-xdpull1346,3
As a s-c-d user Id like to have the option to support passing definition parameters into YARN container so I can effectively use those params within the module running inside the container,3
Esper based Complex Event Processing module I would like to see a module created that supports complex event processing I have reviewed GemFire Continuous Query but was not able to find a feature for time windows I have used Esper in the past for this type of processing,0
As a developer Id like to create separate repo for Mesos SPI so I dont have to bundle all SPI variants under one admin project,3
Add Twitter search module tests acceptance tests,0
Harmonize common deployer runtime properties applied to modules Most if not all of the deployers have some concept of customization of the deployed modules be it memory or cpu disk etc This ticket is about harmonizing the handling of such properties with the assumption that we want a per-deployer set of defaults and overridability at deployment time,0
log4jlog4j-over-slf4j logging issue I got below error when executing modules on yarn and it was written in appmaster stderr output code Exception in thread Thread-2 javalangNoClassDefFoundError orgapachelog4jspiThrowableInformation at orgapachelog4jspiLoggingEventinitLoggingEventjava165 at orgapachelog4jCategoryforcedLogCategoryjava391 at orgapachelog4jCategorylogCategoryjava856 at orgslf4jimplLog4jLoggerAdapterlogLog4jLoggerAdapterjava595 at orgapachecommonsloggingimplSLF4JLocationAwareLogwarnSLF4JLocationAwareLogjava192 at orgspringframeworkcontextsupportAbstractApplicationContextdoCloseAbstractApplicationContextjava969 at orgspringframeworkbootcontextembeddedEmbeddedWebApplicationContextdoCloseEmbeddedWebApplicationContextjava150 at orgspringframeworkcontextsupportAbstractApplicationContext1runAbstractApplicationContextjava893 code LoggingEvent is found from both log4j-over-slf4j-1712jar and log4j-1217jar I suppose it depends on which one is used first to load this class Heres what we have in admin and appmaster jar filesspring-cloud-dataflow-yarn-build-tests is my local new sub-project to run tests on a hadoop minicluster code unzip -l targetspring-cloud-dataflow-yarn-build-testsspring-cloud-dataflow-yarn-appmaster-100BUILD-SNAPSHOTjargrep jargrep -i log 62050 2013-05-16 2204 libcommons-logging-113jar 489884 2012-05-06 1324 liblog4j-1217jar 8860 2015-03-26 2156 libslf4j-log4j12-1712jar 2234 2015-09-03 1630 libspring-boot-starter-logging-130M5jar 24567 2015-03-26 2157 liblog4j-over-slf4j-1712jar 40824 2015-08-18 1239 libtomcat-embed-logging-juli-8026jar 66802 2015-05-28 0949 libjboss-logging-330Finaljar code code unzip -l spring-cloud-dataflow-admintargetspring-cloud-dataflow-admin-100BUILD-SNAPSHOTjar grep jargrep -i log 62050 2013-05-16 2204 libcommons-logging-113jar 489884 2012-05-06 1324 liblog4j-1217jar 40824 2015-08-18 1239 libtomcat-embed-logging-juli-8026jar 66802 2015-05-28 0949 libjboss-logging-330Finaljar 2234 2015-09-03 1630 libspring-boot-starter-logging-130M5jar 280928 2015-03-24 1206 liblogback-classic-113jar 455041 2015-03-24 1205 liblogback-core-113jar 24567 2015-03-26 2157 liblog4j-over-slf4j-1712jar code Error went away when I removed log4j-over-slf4j-1712jar from maven deps for yarn appmaster jar I suppose we have same issue with admin server,0
Documentation for sources sinks modules should define which attributes are required and which optional This will eventually be supplied by the admin server but for now write it up by hand in the documentation,0
Improve resilience of route creationremoval The CF implementation requires that a route be created for each new app This works fine on the happy path but is brittle For example it will fail if the route required already exists,0
Split RichGauge in 2 support of the alpha parameter is awkward and can confuse people who are expecting a simple average mean Consider splitting RichGauge in two flavors arithmetic and exponential Involves quite some work at the repository handler and REST level though,0
Investigate JMX object naming of deployed modules and inboundoutbound channel adapters The object naming is still not ideal for XD since SI conventions add some noise Likely need to design and implement a custom naming strategy,0
ZooKeeper Job deployments path state is not updated after successful deployment After successful job deployment the Job deployments path in ZK doesnt get updated with the data state deployed Though this data is not used for deployed instance repository orgspringframeworkxddirtstreamzookeeperZooKeeperJobRepository to check for the deployment status it may be better to have this state updated like stream deployment path,0
Show Stream Tap relationship in Admin UI It would be nice if the admin ui would sort the streams in such a way that the taps that are created for a particular stream are somehow placed UNDER the tapped stream code Stream A -Tap Afoo -Tap Abar code Same goes for the list command in the XD-Shell,0
As a build manager Id like to setup CI infrastructure so that I can run integration tests in Windows OS automatically as we commit-trigger new builds Scope Use the environment where Bamboo is running Gain access to powershell Setup services redis rabbit etc Kick-off CI task,5
Broadcast Undeploy Requests Use an undeploy topic to broadcast undeploy requests to all containers Applies to Redis and Rabbit transports not local Also rename ModuleDeploymentRequest to ModuleOperationRequest with an enum DEPLOY UNDEPLOY,0
The HDFS Store Library should support writing text with delimiter Support writing lines of text separated by a delimiter Support writing a CSV comma-separated variables TSV tab-separated variables No compression,0
Spark streaming plugin shouldnt need tap listener cache Since Spark streaming doesnt use ZK to keep track taps being created we dont need the tap listener cache setup at the container startup,0
UI Create a dedicated Launch Page for Jobs Create a dedicated Launch Page for Jobs Currently we create a launch form underneath the deployments table That is a bit unwieldy when many deployed jobs are shown in the table,0
As a temporary work around to fix XD-1935 make producible media type to applicationjson for Job executions GET request endpoints,1
Modules do not redeploy properly when Zookeeper node is lost SHA baddfc24b08286a78392d5f565742c9bab5adfea EC2 Environment Look at Zookeeper Ec2 Deployment Test Topologypng for a view of the topology h2 The test scenario Bring up a up a 5 container 2 admin XD Cluster up using 3 ZK Server ensemble Create ticktock stream timelog Deploy with --properties modulelogcount5 Kill one of the ZK Servers in the ensemble h2 Observed Behavior In this particular scenario 3 containers were affected by killing sudo kill pid Zookeeper 2 2 Containers did not come back online even though they did show up in the runtime containers h2 Timeline 140821 deployed stream 140910 kill server in ZK Ensemble After waiting a few seconds ran runtime Modules Note log2 is undeployed and log5 is then deployed xdruntime modules Module Container Id Options Deployment Properties ----------------- ------------------------------------ ------------------------------------------ --------------------- foosinklog1 98a32c62-302a-484b-af9c-d670f2a3cfc2 namefoo expressionpayload levelINFO count5 sequence1 foosinklog2 9a3a1846-bac4-4504-81fd-151665d851dc namefoo expressionpayload levelINFO count5 sequence2 foosourcetime1 9a3a1846-bac4-4504-81fd-151665d851dc fixedDelay1 formatyyyy-MM-dd HHmmss count1 sequence1 xdruntime modules Module Container Id Options Deployment Properties ----------------- ------------------------------------ ------------------------------------------ --------------------- foosinklog1 98a32c62-302a-484b-af9c-d670f2a3cfc2 namefoo expressionpayload levelINFO count5 sequence1 foosinklog5 5c454a39-fc4c-4bd3-b828-08cd837dc4ba namefoo expressionpayload levelINFO count5 sequence5 foosourcetime1 9a3a1846-bac4-4504-81fd-151665d851dc fixedDelay1 formatyyyy-MM-dd HHmmss count1 sequence1 xdruntime modules Module Container Id Options Deployment Properties ----------------- ------------------------------------ ------------------------------------------ --------------------- foosinklog1 98a32c62-302a-484b-af9c-d670f2a3cfc2 namefoo expressionpayload levelINFO count5 sequence1 foosinklog5 5c454a39-fc4c-4bd3-b828-08cd837dc4ba namefoo expressionpayload levelINFO count5 sequence5 foosourcetime1 9a3a1846-bac4-4504-81fd-151665d851dc fixedDelay1 formatyyyy-MM-dd HHmmss count1 sequence1 xdruntime containers Container Id Host IP Address PID Groups Custom Attributes ------------------------------------ ---------------- ------------- ---- ------ ----------------- 0ba5e6ce-aedf-429c-b846-1cd4e32836c7 ip-10-2-209-174 102209174 1045 5c454a39-fc4c-4bd3-b828-08cd837dc4ba ip-10-70-9-57 1070957 1099 707a968b-15a5-451f-9034-1e7f05cdcf97 ip-10-70-11-185 107011185 1055 98a32c62-302a-484b-af9c-d670f2a3cfc2 ip-10-110-186-48 1011018648 1056 GROUPA 9a3a1846-bac4-4504-81fd-151665d851dc ip-10-70-9-153 10709153 1020 GROUP0 h2 Undeploy and redeploy stream 141642 Undeploy and redploy with modulelogcount5 xdruntime modules Module Container Id Options Deployment Properties ----------------- ------------------------------------ ------------------------------------------ --------------------- foosinklog1 98a32c62-302a-484b-af9c-d670f2a3cfc2 namefoo expressionpayload levelINFO count5 sequence1 foosinklog2 5c454a39-fc4c-4bd3-b828-08cd837dc4ba namefoo expressionpayload levelINFO count5 sequence2 foosinklog5 9a3a1846-bac4-4504-81fd-151665d851dc namefoo expressionpayload levelINFO count5 sequence5 foosourcetime1 98a32c62-302a-484b-af9c-d670f2a3cfc2 fixedDelay1 formatyyyy-MM-dd HHmmss count1 sequence1 xdruntime containers Container Id Host IP Address PID Groups Custom Attributes ------------------------------------ ---------------- ------------- ---- ------ ----------------- 0ba5e6ce-aedf-429c-b846-1cd4e32836c7 ip-10-2-209-174 102209174 1045 5c454a39-fc4c-4bd3-b828-08cd837dc4ba ip-10-70-9-57 1070957 1099 707a968b-15a5-451f-9034-1e7f05cdcf97 ip-10-70-11-185 107011185 1055 98a32c62-302a-484b-af9c-d670f2a3cfc2 ip-10-110-186-48 1011018648 1056 GROUPA 9a3a1846-bac4-4504-81fd-151665d851dc ip-10-70-9-153 10709153 1020 GROUP0 142106 undeploy foo,0
UI Create a dedicated scheduling page for Jobs Create a dedicated Scheduling Page for Jobs Currently we create a form underneath the deployments table That is a bit unwieldy when many deployed jobs are shown in the table Similar to XD-2320,0
Produce Kafka Baseline numbers on Rackspace,0
Support the ability to create module definitions in Groovy XML is currently required for module definitions XD should also support Java Config and Groovy bean definitions and potentially SI DSLs,0
Add integration tests for SpEL and Groovy based routing,0
As a spring-bus lead Id like to review the current spring-bus architecture and the design specs so I can address any foundation level gaps,5
resourceManagerPort value not recognized when deploying container Attempted to set the rmAddress port to a value other than 8032 by using the resourceManagerPort however the value was not recognized Ive attached the serversyml noformat 2015-01-12 202148935 INFO ConfiguringBeanFactoryPostProcessor - No bean named taskScheduler has been explicitly defined Therefore a default ThreadPoolTaskScheduler will be created 2015-01-12 202148940 INFO ConfiguringBeanFactoryPostProcessor - No bean named taskExecutor has been explicitly defined Therefore a default SyncTaskExecutor will be created 2015-01-12 202150461 INFO SpringYarnConfiguration - Enabling CLIENT for Yarn 2015-01-12 202150475 INFO SpringYarnConfiguration - We couldnt figure out if we could use existing configuration 2015-01-12 202150475 INFO SpringYarnConfiguration - Building configuration for bean yarnConfiguration 2015-01-12 202150498 INFO SpringYarnConfigBuilder - Existing yarnConfiguration null 2015-01-12 202150649 INFO ConfigurationFactoryBean - Overwriting fsUrifile with fsUrihdfs101111721609000 2015-01-12 202150649 INFO ConfigurationFactoryBean - Overwriting rmAddress00008032 with rmAddress101111721608032 2015-01-12 202155965 INFO ConfigurationFactoryBean - Executing with tokens 2015-01-12 202155975 INFO SpringYarnConfigBuilder - Setting configuration for SpringYarnConfigs fsdefaultFShdfs101111721609000 yarnresourcemanageraddress101111721608032 Configuration core-defaultxml core-sitexml yarn-defaultxml yarn-sitexml mapred-defaultxml mapred-sitexml noformat,0
Investigate Reactor-based Dispatchers in the common ApplicationContext that can be used by Modules,0
Remove --transport option except for single node Since transport is now shared by Admin and Container a command line arg is not appropriate since it allows the user to set them to different values which would break XD The recommend way to configure transport is in serversyml The command line arg is still valid for single node,0
Add a Access-Control-Allow-Origin header to responses in order to support cross-origin requests If we want spring-xd to support interactions through a UI then it would make sense that we should support the UI coming from a separate origin This way the UI could remain a separate project and be served from wherever we want So we would need to add the header to all outgoing REST responses We may also need to add a Access-Control-Allow-Methods header as well In the short term the Access-Control-Allow-Origin header could be hard coded to a specific url Im using httplocalhost9889 for now but in the long term we would need this configurable,0
As a developer Id like to review and refactor JobLaunchingTasklet so I can improve performance characteristics,3
Fix cannot find MessageBuilderFactory warning 52747887 WARN DeploymentsPathChildrenCache-0 orgspringframeworkintegrationcontextIntegrationContextUtils195 - No beanFactory supplied cannot find MessageBuilderFactory using default a lot of those,0
Improve E2E Test Coverage,0
As a developer Id like to decouple execution context from job launch lifecycle so that we can avoid CL and serialization errors This fix needs to be formally applied in Spring Batch itself XD will upgrade to Batch release in order to inherit this functionality hence the current workaround with XD-2486 needs reafctored,5
FileJdbcTest JdbcHdfsTest failing JdbcHdfsTest FileJdbcTest works for singlenode but not for admin Container on the same machine,0
As a s-c-d developer Id like to add support to expose counter metrics endpoints so I can consume to feed the dashboards to demonstrate firehose counter pipe,3
As a user Id like to leverage propertieis-location parameter while using Filter or Transform modules so that I can load the user-defined properties included in the external properties file Attempting to include the propertieis-location attribute errors out - refer to the attachment It could also be beneficial to load user-defined properties through stream definition similar to deployment properties Example --scriptmyscriptgroovy --variablesfoobargoogaz,5
Format option to display runtime module properties in shell The runtime module properties requires a format option when displayed in the Shell Based on the PR httpsgithubcomspring-projectsspring-xdpull340 the module properties are stored as String and displayed as is,0
As a user I would like to use fsUri file to use Hadoop LocalFileSystem instead of a running cluster In my use case my data scientist team requested to provide me a local CSV of data that is being loaded using jdbchdfs job The quickest way to solve this was to change the fsUri to file and it should have just worked This will work alright for singlenode setups for multiple containers hosted on multiple machines will split the file across different machines - but then I believe it is fair to assume that the developer must know what he is doing,1
Create REST API for getting information on all steps of a given job execution Adopted functionality from spring batch admin Should include springmvc test framework style tests GET batchjobsexecutionsexecutionIdsteps - Get information on all steps of a given job execution,0
RPM upgrades should not to wipe-out previous installation configssettings As an operator Id like to upgrade to the latest releases of Spring XD and yet not lose the older installation dirsfiles so I can copy and reuse the previously used serversyml configurations,0
As a Spring XD user Id like to create streaming pipelines so I can take advantage of latest specs from both XD and SparkSpark Streaming,3
Document admin-ui improvements,0
Return the list of Jobs from spring-batch-admin The current XD JobController that returns a list of jobs has quite a different API signature than what is in spring-batch-admin To simplify the UI development a new controller JobAdminController will be created that lives under the request path jobsadmin The goal is to return a the current JSON structure of spring-batch-admin jobs request and make only minimal changes to implementations of controllers as found See 1 in the Doc link to json output doc for spring batch Implementation Suggestions There will need to be some SpringMVC setup that will enable the current style of spring-batch-admin controller requests to co-exist with the existing XD Controllers eg the use of json for json marshalling etc This may in fact be the bulk of time spend in this first story to integration spring-batch-admin style controllers into XD A new controller named JobAdminController that in the spring-xd-dirt project in the package orgspringframeworkxddirtrest The JobAdminController will not need to follow the same HATEOAS style as the other controllers at this time The current controller in Spring Batch Admin looks like this code RequestMappingvalue jobs method RequestMethodGET public void jobsModelMap model RequestParamdefaultValue 0 int startJob RequestParamdefaultValue 20 int pageSize int total jobServicecountJobs TableUtilsaddPaginationmodel total startJob pageSize Job CollectionString names jobServicelistJobsstartJob pageSize ListJobInfo jobs new ArrayListJobInfo for String name names int count 0 try count jobServicecountJobExecutionsForJobname catch NoSuchJobException e shouldnt happen boolean launchable jobServiceisLaunchablename boolean incrementable jobServiceisIncrementablename jobsaddnew JobInfoname count null launchable incrementable modeladdAttributejobs jobs code Something like code RequestMappingvalue jobsadminjobs method RequestMethodGET public void jobsModelMap model RequestParamdefaultValue 0 int startJob RequestParamdefaultValue 20 int pageSize We do not have to query the Spring Batch Admin JobService at this time but instead use the JobDeployer to get information about jobs launched by Spring XD IterableJobDefinition jobDefinitions dobDeployerfindAll copy these over to a ListJobInfo as best as possible copy name over not sure how description is getting added to the JSON pari code How to verify it works A sample job needs to be in the modulesjob directory JobCommandTestsAbstractJobIntegrationTest seems to have what is need to stage a job for,0
Gauge and Counter hash and equals should not depend on values The value is mutable so this causes problems if storing metrics in a HashSet for example,0
ApplicationContext ID generation ApplicationContext ID generation is difficult in general Cloud Foundry solves this problem for us by providing unique instance ids to all running instances of an app I dont suppose that helps much in the general case though and we need something a rule of thumb that is unique and preferably deterministic so that nodes retain their ID across process and connector restarts In Cloud Foundry the instance id plays a vital role and will be automatically picked up by the app and applied - need to look at how that plays in a context hierarchy User can set the context id manually using springapplicationname and springapplicationindex,0
As a user Id like to have API and Documentation links in the Abouthttpsgithubcomspring-projectsspring-xdblobmasterspring-xd-uiappscriptssharedviewsabouthtml section within admin-ui It would be ideal to have the version dynamically replaced for every release,1
Refactor test cases to move away from inheritance model of utility methods for streams counters Model the API more akin to SpringXDOperations api,0
Create bridge processor See httpsgithubcomspring-cloudspring-cloud-dataflowissues128 This is needed to support channel channel type constructs,0
Provide IP binding to the spring-xd instance We wanted to bind the spring-xd to the public IP but am not able to do so I scanned at the code here and could make there is not way to bind the IP address httpsgithubcomspring-projectsspring-xdblobmasterspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserverAdminServerApplicationjava This one looks a simple change I can fix it and push the pull request,0
Add aggregate counter year resolution query support,0
Use mocks in shell tests Instead of using real moduleDeployer try using mocks so that the module deployer downloading the maven co-ordinates from repo can be avoided for module deployment case Since module deployer and controllers are tested individually it would be good to focus on shell functionality only for the shell tests,0
Pagination for containers it is limited to only 20 Hi Customer has 48 containers but it only shows 20 containers We need pagination to browse all containers,0
Kafka Source must set autoStartupfalse on KafkaMessageDrivenChannelAdapter If the value is not set the source may start before being bound to the bus throwing a Dispatcher has no subscribers error,0
Remove unnecessary LESS files from XD UI styles Currently the bootstrapless file has all the styles that the bootstrap supports But we should only addcompile the LESS that are needed by XD UI,0
Update acceptance test to use new JMX Module name format the update to the JMX was introduced in XD-2941 Also noticed that we should have been checking source and not sink This was also resolved,0
Switch to use Lettuce driver for Redis Replace the use of Jedis with Lettuce as it has higher performance,0
Automate provisioning story for XD,0
Module option validation not happening anymore It seems that no option validation being Spring or jsr 303 is happening anymore at stream creation time eg noformat stream create foo --definition http --portbar log noformat,0
Turning on Regex Pattern multiline mode in JsonStringToObjectTransformer Based on the PR discussion httpsgithubcomSpringSourcespring-xdpull270commitcomment-4003291 We need to consider turning on multiline mode for pattern matching,0
Problem with tapping and source channels This is a follow on from XD-592 In that bug we fixed up the ability to use tap with pipe Tap when used as a source channel should also work and should deploy in a more optimized fashion since source channels can be directly connected to the subsequent module creation of a pass-through tap instance isnt necessary This test shows the syntax that should work and the current information about how it fails code public void testTapSourceChannel throws IOException FileSink sink1 newFileSink FileSink sink2 newFileSink streamcreatemyhttp http --port9314 transform --expressionpayloadtoUpperCase filter --expressiontrue foo fails with javalangIllegalArgumentException bean myhttp1 is already registered but does not match the required type tapcreatewiretap1 tap myhttptransform transform --expressionpayloadreplaceAlla s sink1 fails in TapDefinition ctor with javalangIllegalArgumentException streamName cannot be empty or null tapcreatewiretap2 tap foo transform --expressionpayloadreplaceAlla s sink2 httpPostDatahttplocalhost9314 Dracarys code I suspect part of the problem initially lies with the code around EnhancedStreamParser that builds the module deployment requests from the Ast parsed from the input DSL string Whether a source channel was originally specified with tap is captured in that Ast but that knowledge doesnt appear to be getting used,0
http module leaks threads Attempts to createuseundeploy a stream involving the http module will result in an OOME stating that VM could not create native thread Other modules should be checked as well noformat javalangThreadrunThreadjava724 Caused by orgspringframeworkcontextApplicationContextException Failed to start bean orgspringframeworkintegrationxhttpNettyHttpInboundChannelAdapter0 nested exception is javalangOutOfMemoryError unable to create new native thread orgspringframeworkcontextsupportDefaultLifecycleProcessordoStartDefaultLifecycleProcessorjava176 orgspringframeworkcontextsupportDefaultLifecycleProcessoraccess200DefaultLifecycleProcessorjava51 orgspringframeworkcontextsupportDefaultLifecycleProcessorLifecycleGroupstartDefaultLifecycleProcessorjava346 orgspringframeworkcontextsupportDefaultLifecycleProcessorstartBeansDefaultLifecycleProcessorjava149 orgspringframeworkcontextsupportDefaultLifecycleProcessorstartDefaultLifecycleProcessorjava91 orgspringframeworkcontextsupportAbstractApplicationContextstartAbstractApplicationContextjava1180 orgspringframeworkxdmodulecoreSimpleModulestartSimpleModulejava273 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava251 orgspringframeworkxddirtmoduleModuleDeployerdeployAndStoreModuleDeployerjava239 orgspringframeworkxddirtmoduleModuleDeployerhandleDeployModuleDeployerjava179 orgspringframeworkxddirtmoduleModuleDeployerhandleMessageInternalModuleDeployerjava150 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 80 more Caused by javalangOutOfMemoryError unable to create new native thread javalangThreadYJPstart0Native Method javalangThreadstart0Threadjava javalangThreadstartThreadjava693 javautilconcurrentThreadPoolExecutoraddWorkerThreadPoolExecutorjava949 javautilconcurrentThreadPoolExecutorexecuteThreadPoolExecutorjava1371 orgjbossnettyutilinternalDeadLockProofWorkerstartDeadLockProofWorkerjava38 orgjbossnettychannelsocketnioAbstractNioSelectoropenSelectorAbstractNioSelectorjava343 orgjbossnettychannelsocketnioAbstractNioSelectorinitAbstractNioSelectorjava95 orgjbossnettychannelsocketnioAbstractNioWorkerinitAbstractNioWorkerjava53 orgjbossnettychannelsocketnioNioWorkerinitNioWorkerjava45 orgjbossnettychannelsocketnioNioWorkerPoolcreateWorkerNioWorkerPooljava45 orgjbossnettychannelsocketnioNioWorkerPoolcreateWorkerNioWorkerPooljava28 orgjbossnettychannelsocketnioAbstractNioWorkerPoolnewWorkerAbstractNioWorkerPooljava99 orgjbossnettychannelsocketnioAbstractNioWorkerPoolinitAbstractNioWorkerPooljava69 orgjbossnettychannelsocketnioNioWorkerPoolinitNioWorkerPooljava39 orgjbossnettychannelsocketnioNioWorkerPoolinitNioWorkerPooljava33 orgjbossnettychannelsocketnioNioServerSocketChannelFactoryinitNioServerSocketChannelFactoryjava149 orgjbossnettychannelsocketnioNioServerSocketChannelFactoryinitNioServerSocketChannelFactoryjava131 orgjbossnettychannelsocketnioNioServerSocketChannelFactoryinitNioServerSocketChannelFactoryjava115 orgspringframeworkintegrationxhttpNettyHttpInboundChannelAdapterdoStartNettyHttpInboundChannelAdapterjava114 orgspringframeworkintegrationendpointAbstractEndpointstartAbstractEndpointjava84 orgspringframeworkcontextsupportDefaultLifecycleProcessordoStartDefaultLifecycleProcessorjava173 91 more noformat,0
Refactor DSL for Taps and Jobs Usage The syntax for both taps and job channels will be prefixed with the word tap The parser will search both the all stream and job for now registries to find the name If the name is present in only in one registry then that definition will be used If the name is present both registries a syntax exception will be issued - The user then can optionally specify which registry to use by adding a second token to the definition that specifies the type of channel the user wants - ie tapstreamstreamName mySink If the user attempts to place a job on the greater left hand side without specifying a notification a syntax error will be thrown Format -- taptypename -- taptypename -- Example tapstreamName mySink tapstreamstreamName mySink mySourcemyProcessor tapstreammySink myEmailSource tapjobjobNamestep1 myEmailSource tapjobNamestep1 tapjobjobName-notifications myEmailSink,0
As a user I would like to connect the Sqoop batch job to Teradata for import jobs I have tried the Teradata JDBC driver directly using codejob create tdTest --definition sqoop --commandimport --args--table FrequentFlyers --connect jdbcteradatatdexpressDATABASEtransportation --driver comteradatajdbcTeraDriver --username dbc --password dbc --target-dirxdteradata --num-mappers 1 code but that results in an NPE The only way so far is to use the Hortonworks Connector for Teradata - httppublic-repo-1hortonworkscomHDPtools2242hdp-connector-for-teradata-1342242-2-distrotargz That one allows me to use the following codejob create tdTest --definition sqoop --commandimport --args--table FrequentFlyers --connect jdbcteradatatdexpressDATABASEtransportation --connection-manager orgapachesqoopteradataTeradataConnManager --username dbc --password dbc --target-dirxdteradata --num-mappers 1 code,3
Ensure DSM matrix is diagonal,0
Profile Improve performance of TupleBuilder See discussion at httpsgithubcomspring-projectsspring-xdpull1311 1 there seems to be unused SimpleDateFormat in TupleBuilder which hurst perf 2 More generally should take some time to profile micro-benchmark TupleBuilder,0
Documentation for field value taps Put on the guide as a section in an input-stream wiki page,0
EnableDisable Boot and Integration MBeans when JMX is enableddisabled Spring Integration MBeans are enabled by default even though XDJMXENABLED is set to false We need to disable JMX on these MBeans as well as Spring Boot MBeans,0
Optimize AbstractSingleNodeStreamDeploymentIntegrationTests XD singlenode currenly initialized in Before should be BeforeClass In this case must be re-initialized for each transport but not for each Test,0
Add standardized way to pass props from DeployersAdmin to ModuleLauncher There is a need to customize the ModuleLauncher behavior itself NOT pass options to modules that are launched which is already supported for example to set the location of the maven repository,0
The ability to import beans referenced in the main context into a module This should be a core feature of any Spring based module The plugin should be able to import explicitly referenced beans This minimizes potential side effects of making the module a child context and is simpler than declaring a shared context parent of the application and the module Provide namespace support for flow,0
Upgrade CI Acceptance AMI to HVM Replace the current paravirtual AMI used for CI tests needed to be replaced with a HVM based AMI Paravirtual is being phased out by Amazon Also so we can utilize VPC and placement groups in the future,0
As a developer I need to investigate the differences in dependency versions so when I createdeploy custom modules in XD I dont run into CPCL issues,1
As a developer Id like to have acceptance test coverage for XD YARN on EC2 so that I can verify simple XD features running on YARN on every build cycle,8
Update Spring Batch to 303RELEASE,0
Update spring-data-hadoop version to 204 for XD 103,0
As a s-c-d developer Id like to add support for having different binder types for modules channels so I can plug rabbit redis or kafka as the source or sink to read and write respectively,8
Deployed modules MBeans are not accessible via Jolokia When a module is deployed it doesnt use Jolokia auto configuration which requires an embedded servlet container configuration But the module context isnt using a servlet context From SimpleModule application new SpringApplicationBuildersourcesPropertyPlaceholderAutoConfigurationclasswebfalse and hence the MBeans that are exposed by the deployed modules arent accessible via Jolokia We definitely dont want SimpleModule to use web application context but we need to figure out if we can use the containers management port to expose the deployed modules MBeans via jolokia,0
Update to Spring Batch 301 snapshots,0
DefaultContainerMatcher - Improve Logging and mention affected Module When deploying a definition with a container match criteria specified and no container could be selected - the logging is ambiguous and should mention the affected module code 115824089 WARN DeploymentSupervisorCacheListener-0 clusterDefaultContainerMatcher - No currently available containers match criteria somecriteria code,0
Create xd-yarn script Create an xd-yarn script that is more Cloud Foundry like - xd-yarn push -p path-to-unzipped-yearn-distro xd-yarn start admin xd-yarn start container,0
Create shell integration tests for stream lifeycle create delete deploy streams,0
XD is not logging when deployed using yarn When deploying XD admin container using Yarn we only get the first 495 characters of the log which is the Ascii Art and Documentation links noformat - -- V -- 110BUILD-SNAPSHOT eXtreme Data Started ContainerServerApplication Documentation httpsgithubcomspring-projectsspring-xdwiki noformat,0
xd-shell from 101 doesnt work with 100 GA admin Targeting xd-shell from 101 to 100 GA admin server fails server-unknownadmin config info ------------- ------------------------------------------------------------- Result Unable to contact XD Admin Server at httplocalhost9393 Target httplocalhost9393 Timezone used Pacific Standard Time UTC -800 ------------- ------------------------------------------------------------- ------------------------------------------------------------------------------- An exception ocurred during targeting javalangNullPointerException at orgspringframeworkxdrestclientimplSpringXDTemplateinitSpringXDTemplatejava110 at orgspringframeworkxdrestclientimplSpringXDTemplateinitSpringXDTemplatejava137 at orgspringframeworkxdshellcommandConfigCommandstargetConfigCommandsjava106 at orgspringframeworkxdshellcommandConfigCommandsafterPropertiesSetConfigCommandsjava191,0
RabbitMQ queues not being removed on stream destroy As part of p-spring-xd testing we create deploy exercise undeploy and destroy a RabbitMQ to RabbitMQ stream every minute Spring XD does not appear to be deleting the queues it creates internally for each stream We have seen as many as 9800 xdbus queues via the RabbitMQ web ui before RabbitMQ runs out of memory and blocks,0
Return the step execution information in the current job execution controller Related to httpsjiraspringsourceorgbrowseBATCH-2109 DistributedJobServicelistJobExecutionsForJob overrides SimpleJobServicelistJobExecutionsForJob and does not include the StepExecutions This is due to serializion issues with Jackson In order to fix this we need to add a Jackson MixIn,0
Fix ClassPackage Tangle Introduced by XD-353 container and event XDContainer references and is referenced by ContainerStartedEvent and stopped httpssonarspringsourceorgdrilldownmeasures7173metricpackagecyclesrids5B5D7717,0
As a user Id like to start multiple instances of xd-containers through the RPM scripts so I can easily spin-up instances on the same nodevm,2
Update httpsgithubcomspring-guidesgs-spring-xd for new Release,0
Shell integration with XD on Yarn We should provide a better shell integration when XD is run on Yarn 1 yarn kill --id TAB completion 2 yarn submit more options like app name 3 yarn list filter by app states etc 4 admin config server TAB completion for running xd apps on yarn,0
Add CONTRIBUTINGmd file Add CONTRIBUTINGmd file use the Spring Integration file as the basis,0
Initial work that uses the module architecture from DIRT,0
As a developer Id like to rerun baseline Tuple and Serialized payloads so I can compare the differences in performance between 081 and 082 Kafka releases Sinks to be included in test In-Memory Transport Hdfs sink Direct Binding Transport Hdfs Sink Kafka Hdfs Sink,8
Add dependencies needed for running a Pig job,0
Error message about memory leak when ctrl-c xd-container and xd-admin eg C094200882 ERROR localhost-startStop-2 loaderWebappClassLoader - The web application appears to have started a thread named Abandoned connection cleanup thread but has failed to stop it This is very likely to create a memory leak The thread name may be different,0
Properly render defaults for module info that use n t etc Characters line t n etc should be either escaped or rendered as human readable variants in module info eg newline,0
As a QA Id like to include acceptance test coverage for reactor-ip source module so that I can validate the functionality as part of every CI build,3
As a developer Id like to remove ID and TimeStamp attributes from the Tuple class so I can improve performance characteristics by not having them go through serde instead we could leverage message headers to collect such information,3
Use the tuple data structure to process data in a spring batch step Do not require a POJO in order to do end-to-end processing in a batch step,0
Create a test case for insulating environment variables in module property lookup For PR httpsgithubcomspring-projectsspring-xdpull682 see if one can have a test case such that a test module would have a PATH property that overlaps with the environment variable It should never resolve to the real unixwindows path,0
Document the file sink,0
Create documentation for the core analytical model abstractions and use of jpmml processor,0
As a s-c-d developer Id like to move rabbit module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,2
Add Jolokia Agent Depending on Run Mode WAR Vs JVM Jolokia Agent Jolokia Vs JVM MBeanServer Probably needs support for Spring Profiles,0
As a Spring XD user Id like to use CloudController based implementation of XD Admin SPI based on ModuleLauncher so I can run data pipeline use-cases running on CF Relevant repos spring-cloud-datahttpsgithubcomspring-cloudspring-cloud-datatreemasterspring-cloud-data-module-deployers spring-cloud-streamhttpsgithubcomspring-cloudspring-cloud-stream Please refer to XD-3194 or XD-3229 as sample spike-deliverables google doc that were completed in the last sprint,8
Investigate stream lifecycle issues with redis store When running with gradlew launch I get a 500 error when I try to re-deploy an undeployed stream A subsequent create or destroy also fail httplocalhost8080stream create --definition time log --name ticktock Created new stream ticktock httplocalhost8080stream undeploy --name ticktock Un-deployed stream ticktock httplocalhost8080stream deploy --name ticktock 130209936 WARN Spring Shell clientRestTemplate524 - PUT request for httplocalhost8080streamsticktock resulted in 500 Internal Server Error invoking error handler Command failed orgspringframeworkwebclientHttpServerErrorException 500 Internal Server Error httplocalhost8080stream deploy --name ticktock 130311453 WARN Spring Shell clientRestTemplate524 - PUT request for httplocalhost8080streamsticktock resulted in 500 Internal Server Error invoking error handler Command failed orgspringframeworkwebclientHttpServerErrorException 500 Internal Server Error httplocalhost8080stream undeploy --name ticktock 130354576 WARN Spring Shell clientRestTemplate524 - PUT request for httplocalhost8080streamsticktock resulted in 500 Internal Server Error invoking error handler Command failed orgspringframeworkwebclientHttpServerErrorException 500 Internal Server Error httplocalhost8080stream undeploy --name ticktock 130448872 WARN Spring Shell clientRestTemplate524 - PUT request for httplocalhost8080streamsticktock resulted in 500 Internal Server Error invoking error handler Command failed orgspringframeworkwebclientHttpServerErrorException 500 Internal Server Error httplocalhost8080stream create --definition time log --name ticktock 130452066 WARN Spring Shell clientRestTemplate524 - POST request for httplocalhost8080streams resulted in 500 Internal Server Error invoking error handler Command failed orgspringframeworkwebclientHttpServerErrorException 500 Internal Server Error httplocalhost8080stream destroy --name ticktock 130514207 WARN Spring Shell clientRestTemplate524 - DELETE request for httplocalhost8080streamsticktock resulted in 500 Internal Server Error invoking error handler Command failed orgspringframeworkwebclientHttpServerErrorException 500 Internal Server Error,0
Documentation for twittersearch file processing Put on the guide as a section in an input-stream wiki page,0
Automatically align version for tomcat components from platform httpsgithubcomspring-projectsspring-xdcommitdb66aa2a329a6fc7ef89a340dd4d562fa70d14a4 introduces orgapachetomcatembedtomcat-embed-logging-log4j which is not covered by platform Yet we should lookup the version to use from other tomcat artifacts using some gradle magic,0
Make requirement for MD5 hash files configurable for the custom module registry Post 12 upgrade the custom modules no longer show up by just copying the jars to the xdcustomModulehome directory Instead I have to use the module upload command to install the modules This is because an MD5 file is required More details in SO threadhttpstackoverflowcomquestions31792220spring-xd-1-2-0-custom-module-deployment,0
Add the various property sources to the Spring Environment bean It would be extremely nice to have the various property sources available in the Spring Environment bean for a module to use,0
Investigate running XD on Cloud Foundry,0
As a developer Id like to add undeployed status for YARN SPI so I can represent the correct status instead of the current unknown state,3
Ensure that only bean definitions for the proper transport are loaded Currently the orgspringframeworkxddirtserverSharedServerContextConfiguration will load everything that matches the classpath ConfigLocationsXDCONFIGROOT busxml path In a normal ie production environment there are no conflicts since only one jar containing message bus definitions is ever on the class path However during testing all the projects containing bus definitions are on the class path which leads to potential conflicts,0
Tab support inconsistent for http post When doing xd http post and press the tab key One should get a list of available options Right now nothing happens I have to press -- and then tab to get the options Interestingly this works for stream create tab key,0
As a user Id like to see the version and SPI type in the about section so I can confirm which build of admin-ui Im currently using,1
Make local message bus properties configurable Currently the local message bus has couple of properties queueSize and polling But these properties can not be configurable via serversyml Also the property prefix needs to align with other message bus properties,0
Provide a conventional way to extend XD Container configuration Provide an easy way for users to add beans eg Gemfire cache configuration or modify default XD configuration such as serializers and message converters A simple approach is to add a well known resource selector such as classpathMETA-INFspringxdextensions or include this path in an extensible Configuration base class In addition we should adopt conventional names for beans that are meant to be extended eg use an xd prefix,0
Gemfire modules fail to deploy when SSL enabled See the attatched log xdout showing Caused by javalangIllegalStateException A connection to a distributed system already exists in this VM It has the following configuration ack-severe-alert-threshold0 ack-wait-threshold15 archive-disk-space-limit0 archive-file-size-limit0 async-distribution-timeout0 async-max-queue-size8 async-queue-timeout60000 bind-address cache-xml-filecachexml cluster-ssl-ciphersany cluster-ssl-enabledtrue cluster-ssl-keystoreUsersdturanskitrustedkeystore cluster-ssl-keystore-passwordpassword cluster-ssl-keystore-typejks cluster-ssl-protocolsany cluster-ssl-require-authenticationtrue cluster-ssl-truststoreUsersdturanskitrustedkeystore cluster-ssl-truststore-passwordpassword Steps to reproduce Refer to httpgemfiredocspivotaliolatestmanagingsecuritysslexamplehtml 1 Install the the attached keystore 2 Install attached gemfireproperties in XDINSTALLxdconfig 3 Install a copy of gemfireproperties in the server path eg if using the gemfire server app installed with the distribution XDINSTALLgemfire and run bingemfire 4 Start the gemfire server 5 Start xd singlenode 6 Start the shell and deploy a stream using a gemfire module this was reported with gemfire-json-server sink but in theory it will affect any since it occurs during client cache creation Note I verified this SSL configuration works with a simple SDG client against the XD server Use SDG 162 and gemfire 800 Also the gemfire-json-server example in the XD reference works as expected without the SSL configuration This may to be related to the module using a its own class loader javalangIllegalStateException A connection to a distributed system already exists in this VM happens because there are 2 instances of DistributedSystem created one for each class loader This happens even when all the module jars are moved to xdlib to force all gemfire classes to be loaded in the parent class loader,0
Update Core Spring Dependency to 400M3,0
filepollhdfs --deleteFilestrue has no effect files are not deleted Setting --deleteFilestrue has no effect any longer This also causes the Script Integration Tests to fail Suspect this is related to the change here httpsgithubcomspring-projectsspring-xdcommit6dbac167758ce23b9a4dbf07169b2d26d1eddef1,0
The ability to override default module path for the plugin or an individual flow Currently modules are assumed to be in classpathMETA-INFspringintegrationmoduleflowxml To reuse modules defined with DIRT may require more flexibility eg int-flowflow root-pathfiledirtmodule,0
Change twittersearch default outputType to be applicationjson The current output type is a Java object - this raises issues wrt to consumers in other JVM that to no have the spring social tweet object in the main container classpath See httpsjiraspringiobrowseXD-1370 Will also create another issue to update twittersearch to generate the raw twitterstream output vs the structure of the spring social tweet object,0
Upgrade Curator to 250,0
xdmodulesequence Property Missing Two separate reports of problems with this property httpstackoverflowcomquestions34439296spring-xd-stream-deployment-failure httpstackoverflowcomquestions34514393issue-in-spring-xd-cluster-when-deploying-my-module,0
Handle AdminServer shutdown cleanly The admin Servers tomcat is not shutdown properly There is an existing method shutdownCleanly on AdminServer but the spring-xd-shell tests hang when we use this method to shutdown the admin server,0
Add incremental load feature to batch docs The incremental load introduced with XD-2309 should be added to the batch docs,0
Admin UI does not show all containers We have 3 reported incidents so still working on reproducing the issue 1 You start multiple nodes but the admin-ui does not show all of them but logs do 2 By restarting the missing nodes they eventually show up in the Admin UI,0
Add HDFS apache Hadoop 22 distro acceptance tests,0
Dont swallow unexpected exceptions in StacktraceFingerprintingCompletionRecoveryStrategy,0
Create XD shell integration test parser Since most of the xdshellitests will do more then one thing deploy a stream start it add a tap add a job stop etc we decided to decouple writing testcases with running it Test cases will be written in spring-shell scriptlets Scriptlets are json files with command and expectedResult as tokens Heres an example code testscript command stream create --definition http file --name http2file result Created new stream http2file command stream list result code A parser will parse scriptlets executes it and asserts on expected results,0
Base server implementation on Spring Boot Server startup is done using Spring Boot as well as starting a module application context at runtime,0
Set auto-startup to false in Kafka source We have to explicitly set it to false in order to avoid an early start of the poller and the associated DistpatcherHasNoSubscribersException,0
Restore previous CmdLine library to populate options Expected benefits are --keyspacevalue as well as --keyvalue on the command line eg XD-1108 nice usage screen,0
As a developer Id like to add a mongodb source using an xml and a property file supporting mixing in of parameters so that I can use this module to ingest data from Mongo,5
Remove dependency on Sprint Boot in xd-dirt tests,0
As a Spring XD developer Id like to move tcp module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,2
StepExecutionInfo can not be retrieved in distributed mode When constructing StepExecutionInfo the TaskletType class could not be loaded as the spring-data-hadoop-batch jar is missing from admin classpath in distributed mode Following exception is thrown SEVERE Servletservice for servlet dispatcherServlet in context with path threw exception Handler processing failed nested exception is javalangNoClassDefFoundError orgspringframeworkdatahadoopbatchhiveHiveTasklet with root cause javalangClassNotFoundException orgspringframeworkdatahadoopbatchhiveHiveTasklet javanetURLClassLoader1runURLClassLoaderjava366 javanetURLClassLoader1runURLClassLoaderjava355 javasecurityAccessControllerdoPrivilegedNative Method javanetURLClassLoaderfindClassURLClassLoaderjava354 javalangClassLoaderloadClassClassLoaderjava425 sunmiscLauncherAppClassLoaderloadClassLauncherjava308 javalangClassLoaderloadClassClassLoaderjava358 orgspringframeworkxddirtjobTaskletTypeclinitTaskletTypejava57 orgspringframeworkxddirtjobStepExecutionInfoinitStepExecutionInfojava94 orgspringframeworkxddirtrestBatchStepExecutionsControllerdetailsBatchStepExecutionsControllerjava98 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeInvocableHandlerMethodjava215,0
Create shell command for getting information on a given step execution,0
Support additional aggregate counter query options,0
Configurable response status code in HTTP Source We have a use case where we need the HTTP source module to return a 204 status instead of the 200 status that is currently returned There may be other status codes that it would be useful to be able to return A simple additional option on the module would allow this to be configured,0
LocalMessageBus Will Only Run 10 Jobs by Default The LocalMessageBus uses the Integration Scheduler to run batch jobs Launching batch jobs with the LocalMessageBus uses the Integration default taskScheduler which only has 10 threads by default Use the LocalMessageBusexecutor instead to free up the scheduler threads However we need to consider whether a separate configuration is needed to limit the number of batch jobs - its possible the existing bus executor configuration is enough,0
Kafka Tests shouldnt assume offset 0 In orgspringframeworkxddirtstreamKafkaSingleNodeStreamDeploymentIntegrationTestsverifyOnDemandQueues when testing the queue partitions for content the read is assumed to start at offset 0 This is incorrect because the topics may exist already especially in a CI environment,0
As a user Id like to refer to the documentation to configure the properties file so I can use it as recommended to represent the deployment manifest,1
Syslog Acceptance Tests,0
OOTB batch jobs for common cases,0
Deploy XD on YARN for a distribution other than Apache Hadoop 22 Suggest trying with Hortonworks 20,0
Create REST API for getting information on the progress of a given step execution There is a NPE in the current spring batch admin functionality Should be springmvc test framework style tests GET batchjobsexecutionsjobExecutionIdstepsstepExecutionIdprogress,0
Undeploy modules when container disconnected from ZK Consider a module running in a container when it is disconnected from ZK noformat 123013021 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123013 123014025 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123014 123015029 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123015 123016031 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123016 123032590 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123032 123742985 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123742 123743398 INFO main-SendThreadfe80000000112181 zookeeperClientCnxn1096 - Client session timed out have not heard from server in 430809ms for sessionid 0x145662be03e0002 closing socket connection and attempting reconnect 123743985 INFO main-SendThreadlocalhost2181 zookeeperClientCnxn975 - Opening socket connection to server localhost000000012181 Will not attempt to authenticate using SASL unknown error 123743986 INFO main-SendThreadlocalhost2181 zookeeperClientCnxn852 - Socket connection established to localhost000000012181 initiating session 123743988 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123743 123743989 INFO main-SendThreadlocalhost2181 zookeeperClientCnxn1094 - Unable to reconnect to ZooKeeper service session 0x145662be03e0002 has expired closing socket connection noformat Currently the module for the disconnected container continues to execute noformat 123745994 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123745 123746997 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123746 123748000 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123747 123748094 ERROR main-EventThread impsCuratorFrameworkImpl512 - Watcher exception orgapachezookeeperKeeperExceptionSessionExpiredException KeeperErrorCode Session expired for xd orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava127 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 orgapachezookeeperZooKeepergetDataZooKeeperjava1155 orgapachecuratorframeworkimpsGetDataBuilderImpl4callGetDataBuilderImpljava302 orgapachecuratorframeworkimpsGetDataBuilderImpl4callGetDataBuilderImpljava291 orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 orgapachecuratorframeworkimpsGetDataBuilderImplpathInForegroundGetDataBuilderImpljava287 orgapachecuratorframeworkimpsGetDataBuilderImplforPathGetDataBuilderImpljava279 orgapachecuratorframeworkimpsGetDataBuilderImplforPathGetDataBuilderImpljava41 orgspringframeworkxddirtserverContainerRegistrarStreamModuleWatcherprocessContainerRegistrarjava609 orgapachecuratorframeworkimpsNamespaceWatcherprocessNamespaceWatcherjava56 orgapachezookeeperClientCnxnEventThreadprocessEventClientCnxnjava522 orgapachezookeeperClientCnxnEventThreadrunClientCnxnjava498 123748097 INFO main-EventThread stateConnectionStateManager194 - State change SUSPENDED 123748097 INFO ConnectionStateManager-0 zookeeperZooKeeperConnection262 - Curator disconnected event SUSPENDED 123748097 WARN ConnectionStateManager-0 serverContainerRegistrar325 - disconnected container 88ba115b-6190-497a-a67c-df1e295bf158 123749001 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123749 123750004 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123750 123751008 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123751 123752012 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123752 123753016 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123753 123754021 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123754 123755023 WARN inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123755 noformat This container should not continue executing the module because the leader admin will likely select another container to execute this module If and when this container reconnects to ZK it can be reassigned modules for deployment This can be done via a simple undeployment or we may even consider closing and reopening the application context,0
Documentation for http file processing Put on the guide as a section in an input sources wiki page httpsgithubcomspringsourcespring-xdwikiGuideGettingStarted,0
As a QA Id like to include acceptance test coverage for shell sink module so that I can validate the functionality as part of every CI build,5
As a user Id like to have the option to configure permissions so that Ill have the flexibility to bind permissions REST endpoint to a specific role Default Roles Admin CRUD Viewer R,2
Resolve classloading issues for custom Hadoop based batch jobs There are several issues making it hard to impossible to create batch jobs that use Pig Hive HBase or other technologies supported by Spring for Apache Hadoop project We need to make the corresponding dependencies available on the Hadoop classpath,0
Trigger can send a message to a named channel Trigger can send a message to a named channel For example trigger create --name mytrigger --definition trigger --cron10 --messageGood Luck we are all counting on you --channel foo Where the --message contains the message that will be sent to foo jobcomponent,0
Create a simple sample application for the jpmml module The sample application should primarily show the round trip that is possible in that offline analysis in R can generate a pmml flle that can be imported and evaluated in an online stream definition The specific use case can be as simple as the IRIS data set or other existing examples such as the fraud demo The sample application resides in httpsgithubcomspring-projectsspring-xd-samples,0
tcp source requires a rn to suffix all inbound data When sending data to the TCP Source if the data is not terminated with a rn when the socket is closed by the client XD throws an exception,0
Upgrade to SHDP 20 M6 The YARN support in M6 changes most of the config properties need to update XD to use new ones,0
Verify we meet all requirements to publish to maven central httpsdocssonatypeorgdisplayRepositoryCentralSyncRequirements has a list of requirements This also means that httpsjiraspringiobrowseXD-1509 is critical to fix,0
XD Admin UI log out does not function properly I am using XD 121RELEASE I have following environment variables XDCONFIGNAME mycompany And SPRINGPROFILEACTIVE prod admin i have XD configuration file mycompany-prodyml with following security configuration Config to enable security on administration endpoints consider adding ssl spring profiles prod security basic enabled true false to disable security settings default realm SpringXD xd security authentication file enabled true users xdadmin pwd ROLEADMINROLEVIEWROLECREATE I get a login screen login works alright When i logout - i still see all the tabs and contents in all the tabs See the attached screenshot,0
Fix intermittent test failures at StreamDeploymentIntegrationTests There are intermittent test failurs in the StreamDeploymentIntegrationTests especially Rabbit tests We can try using EventuallyMatcher and see if that fixes this,0
Add support to restart job composition As an XD user Id like have support restart an existing composed job so I could re-launch it at will,0
As a developer Id like to review the current sonar violations so that I can fix the relevant and update the irrelevant ones as invalid,3
Fix undeploy of stream with a composed module Create a composed module Create a stream that uses that module Try to undeploy the stream Kaboom The dispatch is not correctly implemented in ModuleDeployer,0
As a Spring XD developer Id like to move rabbit module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,2
Module options are not trimmed Spring XD 11 container will throw following exception code javalangIllegalStateException Cant find class used for type of option myField String orgspringframeworkxdmoduleoptionsDefaultModuleOptionsMetadataResolvermakeSimpleModuleOptionsDefaultModuleOptionsMetadataResolverjava147 orgspringframeworkxdmoduleoptionsDefaultModuleOptionsMetadataResolverresolveNormalMetadataDefaultModuleOptionsMetadataResolverjava202 orgspringframeworkxdmoduleoptionsDefaultModuleOptionsMetadataResolverresolveDefaultModuleOptionsMetadataResolverjava164 orgspringframeworkxdmoduleoptionsDelegatingModuleOptionsMetadataResolverresolveDelegatingModuleOptionsMetadataResolverjava44 orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverresolveEnvironmentAwareModuleOptionsMetadataResolverjava127 orgspringframeworkxddirtstreamXDStreamParserparseXDStreamParserjava174 orgspringframeworkxddirtstreamAbstractDeployersaveAbstractDeployerjava96 code when module properties have a trailing whitespace character in type property in example below there is a trailing space in optionsmyFieldtype value code optionsmyFielddescription this is my field optionsmyFieldtype String code Can the property values be trimmed before comparing to DefaultModuleOptionsMetadataResolverSHORTCLASSNAMES map to avoid this problem,0
Update Groovy to 244 There is a vulnerability in Groovy that is fixed in 244 CVE-2015-3253 Remote execution of untrusted code See httpgroovy-langorgsecurityhtml httpmail-archivesapacheorgmodmboxincubator-groovy-users201507mbox3CCADQzvmmYC7RbZnsQ8O63XN4HCMYh9RGRdMiuWupVtupjH8gmailgmailcom3E,0
As a developer Id like to build batch sample using Sqoop so that we can demonstrate some of the capabilities Use cases to consider JDBC to HDFS HDFS to JDBC,8
Command to deploy a job Deploy an existing job Must exist in the JobsRepository,0
Container startstop publish events are not getting processed It looks like Containers ContainerStartedEvent and ContainerStoppedEvent are published from ContainerLaunchers context whereas the ContainerEventListeners are running in XDContainers context This makes the container startstop events not getting processed,0
Create object-to-json transformer processor intchannel idinput intobject-to-json-transformer input-channelinput output-channeloutput intchannel idoutput,0
Create aggregator module Create a processing module based on SIs aggregator component The completion criteria for the aggregator should be a simple count of messages eg received 50 messages and a timeout so that messages dont stay in the aggregator module for more than 30 seconds Implementation suggestions Create an XML based processing module definition using the SI aggregator namespace Only the options to support the features in the description should be exposed as property placeholders How to know it works A shell style integration test that has a source that sends a known amount of messages A ticktock like module would perhaps be a good example 10 messages sent every 100ms with an aggregator set to a aggregate count of 10 should have 1 message output perhaps to file sink whose name is based on time as well is that possible A ticktock example with a 1 second delay and with the aggregator module set to have a timeout of 05 seconds will have only one message in the file again assumign the file name has a timestampcounter in the filename,0
Spike to model the cluster nodes Each node in the cluster advertises itself and the admin node listens to these ads and creates groups out of them The deployment of jobs and stream processing can then be deployed onto a specific group and specific nodes within the group The project httpsgithubcomspring-projectsspring-data-grid is the start of this model,0
Document the RabbitMQ Bus Cleanup REST API,0
Deployment properties should use label instead of name stream create foo --definition label bar xxxx stream deploy foo --properties modulelabelyyyzzz seems to work but it does not The pre-validation is correct but downstream deployment logic still looks for modulebar instead of modulelabel,0
Remove Hadoop distro Enum options Please see the discussion here httpsgithubcomspring-projectsspring-xdpull655filesr10892925,0
Enhance HadoopFileSystemTestSupport to obtain resource for a specific hadoop distro It looks like the HadoopFileSystemTestSupport test rule by default runs against hadoop 12 and we can add a way to support running the hadoop centric tests to run against a given hadoop distro Currently if the test is run against a version other than 12 the rule says 154734469 ERROR main hadoopHadoopFileSystemTestSupport95 - HADOOPFS IS NOT AVAILABLE SKIPPING TESTS orgapachehadoopipcRemoteException Server IPC version 9 cannot communicate with client version 4 orgapachehadoopipcClientcallClientjava1113 orgapachehadoopipcRPCInvokerinvokeRPCjava229 comsunproxyProxy8getProtocolVersionUnknown Source sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava601 orgapachehadoopioretryRetryInvocationHandlerinvokeMethodRetryInvocationHandlerjava85 orgapachehadoopioretryRetryInvocationHandlerinvokeRetryInvocationHandlerjava62 comsunproxyProxy8getProtocolVersionUnknown Source orgapachehadoopipcRPCcheckVersionRPCjava422 orgapachehadoophdfsDFSClientcreateNamenodeDFSClientjava183 orgapachehadoophdfsDFSClientinitDFSClientjava281 orgapachehadoophdfsDFSClientinitDFSClientjava245 orgapachehadoophdfsDistributedFileSysteminitializeDistributedFileSystemjava100 orgapachehadoopfsFileSystemcreateFileSystemFileSystemjava1446 orgapachehadoopfsFileSystemaccess200FileSystemjava67 orgapachehadoopfsFileSystemCachegetFileSystemjava1464 orgapachehadoopfsFileSystemgetFileSystemjava263 orgapachehadoopfsFileSystemgetFileSystemjava124 orgspringframeworkxdtesthadoopHadoopFileSystemTestSupportobtainResourceHadoopFileSystemTestSupportjava49 orgspringframeworkxdtestAbstractExternalResourceTestSupportapplyAbstractExternalResourceTestSupportjava58 orgjunitrulesRunRulesapplyAllRunRulesjava26 orgjunitrulesRunRulesinitRunRulesjava15 orgjunitrunnersBlockJUnit4ClassRunnerwithTestRulesBlockJUnit4ClassRunnerjava379 orgjunitrunnersBlockJUnit4ClassRunnerwithRulesBlockJUnit4ClassRunnerjava340 orgjunitrunnersBlockJUnit4ClassRunnermethodBlockBlockJUnit4ClassRunnerjava256 orgjunitrunnersBlockJUnit4ClassRunnerrunChildBlockJUnit4ClassRunnerjava70 orgjunitrunnersBlockJUnit4ClassRunnerrunChildBlockJUnit4ClassRunnerjava50 orgjunitrunnersParentRunner3runParentRunnerjava238 orgjunitrunnersParentRunner1scheduleParentRunnerjava63 orgjunitrunnersParentRunnerrunChildrenParentRunnerjava236 orgjunitrunnersParentRunneraccess000ParentRunnerjava53 orgjunitrunnersParentRunner2evaluateParentRunnerjava229 orgjunitrunnersParentRunnerrunParentRunnerjava309 orgeclipsejdtinternaljunit4runnerJUnit4TestReferencerunJUnit4TestReferencejava50 orgeclipsejdtinternaljunitrunnerTestExecutionrunTestExecutionjava38 orgeclipsejdtinternaljunitrunnerRemoteTestRunnerrunTestsRemoteTestRunnerjava467 orgeclipsejdtinternaljunitrunnerRemoteTestRunnerrunTestsRemoteTestRunnerjava683 orgeclipsejdtinternaljunitrunnerRemoteTestRunnerrunRemoteTestRunnerjava390 orgeclipsejdtinternaljunitrunnerRemoteTestRunnermainRemoteTestRunnerjava197,0
Publish Spring XD final distribution zip as part of Bamboo artifactory plugin Currently Bamboos gradle artifactory plugin has the artifacts configured to projects targetbuild directory archives We need to have a way to set the final distribution archive as one of the gradle configurations in our buildgradle and refer it inside bamboo artifacts,0
User should be able to provide job deployment properties At the job definitions page user should be able to provide the job deployment manifest module count criteria etc,0
UI The user can view progress information about a given step,0
As a performance tester Id like to re-run baseline benchmarks with compression enabled on Rabbit so that I can compare the results with previous performance snapshots,3
Add licence files in distribution for 3rd party dependencies postgresql is BSD - httpjdbcpostgresqlorgaboutlicensehtml,0
Remove singlenode prefix from embeddedHsql propery in singlenode profile The prefix singlenode in embeddedHsql option property defined in singlenode profile seems to be an overhead as it only exists in singlenode profile Also we dont need a system property XDSINGLENODEEMBEDHSQL as configserversyml can be used to override the default from applicationyml,0
Colocate Modules using labels ie http group1 filter group1 transform file then specifying anything labelled group1 goes to machineX,0
Fix guava dependency for hadoop20 and phd1 Spring Xd currently ships with Guava 120 while Hadoop 205 and Pivotal HD 10 depends on 1102 - this could lead to classpath problems if we include both,0
Remove hard-coded app name from config file,0
Add Steams page to show job triggers The streams page needs to be added to the UI at least to show the job triggers that are created while scheduling XD jobs,0
Make RedisRabbit Rules Conditional Dependent servers should be required on the CI server but optional on developer systems,0
Support JSON to Object Register a JSON to Object converter in the DefaultContentTypeAwareConverterRegistry Currently we only support Object to JSON but not the other way This may or may not work for an arbitrary object but is useful in many cases,0
As a developer Id like to upgrade to Kafkas SI GA release so that I can sync -up with the latest bits The scope is to backport Kafka XD changes to SI Kafka and then upgrade to the GA release,5
Enable Value etc in Module Options Metadata A placeholder to investigate what can be done with Spring configuration in Module Options Metadata classes to simplifyenhance property configuration With Configuration modules these may now be beans in the module context,0
Update Creating a Sink Module section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs10x-SNAPSHOTreferencehtmltestthedeployedmodule3,0
dist task failure - unable to access httpwwwoasis-openorgdocbookxml45docbookxdtd The build task gradlew dist fails with the following error 002016976 ERROR orggradleBuildExceptionReporter 52 more 002016976 ERROR orggradleBuildExceptionReporter Caused by javaxxmltransformTransformerException Failure reading Usersixr303spring-xdbuildreference-workindexxml 002016976 ERROR orggradleBuildExceptionReporter comiclsaxonomBuilderbuildBuilderjava267 002016976 ERROR orggradleBuildExceptionReporter comiclsaxonControllertransformControllerjava936 002016976 ERROR orggradleBuildExceptionReporter comiclsaxonControllertransformcallUnknown Source 002016976 ERROR orggradleBuildExceptionReporter AbstractDocbookReferenceTasktransformDocbookReferencePlugingroovy146 002016976 ERROR orggradleBuildExceptionReporter orggradleinternalreflectJavaMethodinvokeJavaMethodjava63 002016976 ERROR orggradleBuildExceptionReporter 59 more 002016976 ERROR orggradleBuildExceptionReporter Caused by javaioIOException Server returned HTTP response code 500 for URL httpwwwoasis-openorgdocbookxml45docbookxdtd 002016977 ERROR orggradleBuildExceptionReporter orgapachexercesimplXMLEntityManagersetupCurrentEntityUnknown Source 002016977 ERROR orggradleBuildExceptionReporter orgapachexercesimplXMLEntityManagerstartEntityUnknown Source 002016977 ERROR orggradleBuildExceptionReporter orgapachexercesimplXMLEntityManagerstartDTDEntityUnknown Source 002016977 ERROR orggradleBuildExceptionReporter orgapachexercesimplXMLDTDScannerImplsetInputSourceUnknown Source 002016977 ERROR orggradleBuildExceptionReporter orgapachexercesimplXMLDocumentScannerImplDTDDispatcherdispatchUnknown Source 002016977 ERROR orggradleBuildExceptionReporter orgapachexercesimplXMLDocumentFragmentScannerImplscanDocumentUnknown Source 002016977 ERROR orggradleBuildExceptionReporter orgapachexercesparsersXML11ConfigurationparseUnknown Source 002016977 ERROR orggradleBuildExceptionReporter orgapachexercesparsersXML11ConfigurationparseUnknown Source 002016977 ERROR orggradleBuildExceptionReporter orgapachexercesparsersXMLParserparseUnknown Source 002016977 ERROR orggradleBuildExceptionReporter orgapachexercesparsersAbstractSAXParserparseUnknown Source 002016978 ERROR orggradleBuildExceptionReporter orgapachexercesjaxpSAXParserImplJAXPSAXParserparseUnknown Source 002016978 ERROR orggradleBuildExceptionReporter comiclsaxonomBuilderbuildBuilderjava265 The URL httpwwwoasis-openorgdocbookxml45docbookxdtd returns 500 error most of the times Tried to circumvent the error by manually getting the did file locally and running again causes unintended relative path issues Help is very much appreciated,0
add SpEL filter processor It should provide an expression param for SpEL and have a default value of true accept everything,0
Spike Store DSL definition in ZK As an XD developer Id like to explore options to save composed job definition in ZK metadata so I can use the repository to recreate jobs to recover from failure scenarios,0
As a developer Id like to optimize YARN deployer so I can deploy stream and the modules part of the definition rapidly,5
Tail file channel adapters,0
Admin leader should watch ZooKeeper for Stream deployment requests The Stream deployment requests will be written to xdstreamsstreamname and the data on that node will include the state or a boolean indicator for now of whether it should be deployed When a Stream is deployed the leader will consult its Container cache and write the modules to the various xddeployments child nodes see XD-1400,0
Cant compose script processor Consider this simple stream which works out of the box because transformgroovy is shipped with Spring XD code stream create --name stream1 --definition time script --scripttransformgroovy log --deploy code Composing time and script modules like that code module compose --name cmp-time --definition time script --scripttransformgroovy stream create --name stream2 --definition cmp-time log --deploy code will throw following exception in xd-shell code Apr 29 2015 112857 AM orgspringframeworkshellcoreAbstractShell handleExecutionResult INFO Successfully created module cmp-time with type source Apr 29 2015 112857 AM orgspringframeworkshellcoreSimpleExecutionStrategy invoke SEVERE Command failed orgspringframeworkxdrestclientimplSpringXDException Error with options for module cmp-time of type source valid script cannot be null or empty code and following exception in xd-container code 2015-04-29 112857263 111RELEASE ERROR qtp616131272-35 restRestControllerAdvice - Caught exception while handling a request orgspringframeworkxddirtpluginsModuleConfigurationException Error with options for module cmp-time of type source valid script cannot be null or empty orgspringframeworkxddirtpluginsModuleConfigurationExceptionfromBindExceptionModuleConfigurationExceptionjava55 orgspringframeworkxddirtstreamXDStreamParserparseXDStreamParserjava180 orgspringframeworkxddirtstreamAbstractDeployersaveAbstractDeployerjava95 orgspringframeworkxddirtrestXDControllersaveXDControllerjava235 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkwebmethodsupportInvocableHandlerMethoddoInvokeInvocableHandlerMethodjava221 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava137 orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava110 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava777 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava706 orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava85 orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava943 orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava877 orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava966 orgspringframeworkwebservletFrameworkServletdoPostFrameworkServletjava868 javaxservlethttpHttpServletserviceHttpServletjava755 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava842 javaxservlethttpHttpServletserviceHttpServletjava848 orgeclipsejettyservletServletHolderhandleServletHolderjava684 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1496 orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextHeaderFilterdoFilterInternalEndpointWebMvcAutoConfigurationjava291 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava87 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterInternalWebRequestTraceFilterjava100 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworksecuritywebFilterChainProxydoFilterInternalFilterChainProxyjava186 orgspringframeworksecuritywebFilterChainProxydoFilterFilterChainProxyjava160 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava90 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 orgeclipsejettyservletServletHandlerdoHandleServletHandlerjava499 orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerjava137 orgeclipsejettysecuritySecurityHandlerhandleSecurityHandlerjava557 orgeclipsejettyserversessionSessionHandlerdoHandleSessionHandlerjava231 orgeclipsejettyserverhandlerContextHandlerdoHandleContextHandlerjava1086 orgeclipsejettyservletServletHandlerdoScopeServletHandlerjava428 orgeclipsejettyserversessionSessionHandlerdoScopeSessionHandlerjava193 orgeclipsejettyserverhandlerContextHandlerdoScopeContextHandlerjava1020 orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerjava135 orgeclipsejettyserverhandlerHandlerWrapperhandleHandlerWrapperjava116 orgeclipsejettyserverServerhandleServerjava370 orgeclipsejettyserverAbstractHttpConnectionhandleRequestAbstractHttpConnectionjava494 orgeclipsejettyserverAbstractHttpConnectioncontentAbstractHttpConnectionjava982 orgeclipsejettyserverAbstractHttpConnectionRequestHandlercontentAbstractHttpConnectionjava1043 orgeclipsejettyhttpHttpParserparseNextHttpParserjava865 orgeclipsejettyhttpHttpParserparseAvailableHttpParserjava240 orgeclipsejettyserverAsyncHttpConnectionhandleAsyncHttpConnectionjava82 orgeclipsejettyionioSelectChannelEndPointhandleSelectChannelEndPointjava667 orgeclipsejettyionioSelectChannelEndPoint1runSelectChannelEndPointjava52 orgeclipsejettyutilthreadQueuedThreadPoolrunJobQueuedThreadPooljava608 orgeclipsejettyutilthreadQueuedThreadPool3runQueuedThreadPooljava543 javalangThreadrunThreadjava745 Caused by orgspringframeworkvalidationBindException orgspringframeworkvalidationBeanPropertyBindingResult 1 errors Field error in object target on field valid rejected value false codes AssertTruetargetvalidAssertTruevalidAssertTruebooleanAssertTrue arguments orgspringframeworkcontextsupportDefaultMessageSourceResolvable codes targetvalidvalid arguments default message valid default message script cannot be null or empty orgspringframeworkxdmoduleoptionsPojoModuleOptionsMetadatabindAndValidatePojoModuleOptionsMetadatajava205 orgspringframeworkxdmoduleoptionsPojoModuleOptionsMetadatainterpolatePojoModuleOptionsMetadatajava139 orgspringframeworkxdmoduleoptionsFlattenedCompositeModuleOptionsMetadatainterpolateFlattenedCompositeModuleOptionsMetadatajava152 orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverModuleOptionsMetadataWithDefaultsinterpolateEnvironmentAwareModuleOptionsMetadataResolverjava167 orgspringframeworkxdmoduleoptionsHierarchicalCompositeModuleOptionsMetadatainterpolateHierarchicalCompositeModuleOptionsMetadatajava105 orgspringframeworkxdmoduleoptionsFlattenedCompositeModuleOptionsMetadatainterpolateFlattenedCompositeModuleOptionsMetadatajava152 orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverModuleOptionsMetadataWithDefaultsinterpolateEnvironmentAwareModuleOptionsMetadataResolverjava167 orgspringframeworkxddirtstreamXDStreamParserparseXDStreamParserjava177 61 more code,0
Add ZooKeeper timeout options to configuration file The following timeout options should be added to our configuration file session timeout the number of milliseconds before the ZooKeeper session times out connection timeout the number of milliseconds before a connection to a ZooKeeper server times out retry wait period number of milliseconds to wait before attempting a connection after a failed connection max retries number of times to attempt a connection after a failed connection,0
Retrieve description of all registered modules by type The following will retrieve the names of all module types eg- sources sinks jobs processors triggers code GET module-types code Im expecting that the plural would be used but singular would work as well The following gets modules of a given type code GET module-typestype code This would be similar to the modules call in XD-265 but it would only return modules of the specified type,0
As a QA Id like to include acceptance test coverage for null sink module so that I can validate the functionality as part of every CI build,3
Backport Kafka Sink input fix As part of XD-2958 weve changed the input type of the Kafka sink from String to byte The main reason for the change was that it required an arbitrary and often unneeded but expensive conversion to String for the bus payloads Apply the same change to 11 branch,0
Status on Shell command prompt is inconsistent Deployment xd-shell local xd-singlenode ec2 SHA 942c7868e3e0d0cf7730b536170438a0291f5cab Description Case 1 Once successfully connected to a server if you connect to a server that is not present The prompt still shows XD when it should show server-unknown Can be reproduced consistently Conversely Case 2 Attempted to connect to a xd-singlenode on ec2 using a local xd-shell The xd-singlenode was not running After bringing up the xd-singlenode I was able to connect however the status did not change from server-unknown This behavior can not be consistently reproduced but have seen it happen on multiple accounts Steps to reproduce Case 1 1 Bring up shell while xd-singlenode is not running 2 Bring up xd-singlenode 3 Connect to xd-singlenode xdadmin config server httplocalhost9393 4 Connect to a fake address xdadmin config server httpfoobar9393 Case 2 1 Attempt to connect to remote server that is not available xdadmin config server httpec2-54-237-186-186compute-1amazonawscom9393 Unable to contact XD Admin Server at httpec2-54-237-186-186compute-1amazonawscom9393 2 Bring up xd-singlenode on remote server-unknownadmin config server httpec2-54-237-186-186compute-1amazonawscom9393 Successfully targeted httpec2-54-237-186-186compute-1amazonawscom9393 3 Still see the incorrect prompt server-unknown server-unknown,0
Add TaskLet to Stream from SFTP to HDFS,0
Pluralize test classes in package orgspringframeworkxdshellcommand The classes under test are pluralized Therefore the test classes themselves should reflect that Eg rename JobCommandTests to JobCommandsTests as it tests class JobCommands Please check all tests in that package for correct naming,0
Create a packaging model for custom modules Like just discussed after the Spring One session it would be nice to have a packaging model for custom modules Instead of putting all libs in one directory and an XML in another it could be a fat jar including some metadata file pointing to either an XML or to a JavaConfig configuration class inside the jar Some more words why I think its important to have something like that Spring XD can be very well used in the enterprise and at least for job modules its likely to have some dependencies So what do you have to do now to deploy such a module Build a jar with your build process then get it from your repository unpack it and somehow find the relevant XML to copy it into the appropriate folder then inspect the POM to find out what all the dependencies are direct and transient and get them from your repository to copy them into the appropriate folder And of course copy the jar And when using Spring XD in distributed mode you have to do it several times With the approach mentioned above you just build your fat jar with your build process and distribute it to all your nodes nothing complicated And if you implement it like that its easy to have a JavaConfig support thats almost the same,0
Support higher level structure for complex module registry See discussion at httpsgithubcomSpringSourcespring-xdpull240discussionr6045724,0
User wants to setup a priority for triggers In the case that there are not enough resources to fire a trigger the highest priority will be fired first,0
Modify file sink to avoid dot with empty suffix The expression currently appends suffix where the default suffix is out If the suffix value were an empty String this would lead to the file name ending with a dot We should update the expression so that it only appends the dot if the suffix is not empty This might be possible with a ternary expression,0
REST API for Job Management Spring Batch Admin provides a complete but outdated implementation style which covers the full administrative lifecycle of batch jobs their creation stopstart and retrieving information about previous job executions and the status of currently executing job executions SpringXD has a different way of deploying starting and stopping jobs - by sending messages to containers that run the batch job However the reporting state of a job is still stored in a common job repository The purpose of this story is to take the first step to merging in the existing code base that focuses only on the retrieval of information from Spring Batch Admins Job controller The current REST API style of these commands should stay as close to the original spring batch admin style as possible There are several reasons for this 1 It works and time to springone is short and we mgmt has expectations around deliverables that we must strive to meet 2 It gives Andrew a working contract to start developing a UI 3 We can take on this technical debt but refactor after RC1 and before GA while and deliver end-user functionality Attached is the list of endpoints in spring batch admin,0
Add section to documentation that shows command line options available for each server This should likely be in the start the runtime section of Getting Started section,0
Tap Fixture refactoring The Tap fixture does not need to inherit from AbstractModuleFixture Replace moduleName method with moduleToTap The current tap syntax is tapstreamstreamnamemodulelabel and not tapstreamstreamnamemodulelabelmodulename as currently implemented by the label fixture,0
As a user Im trying to list streams 20 in admin-ui to use the pagination however I ended up with blank page and the server-side errored with javalangIllegalStateException Version 110 SNAPSHOT master build Distributed 1 admin and 2 containers Steps to reproduce 1 Deploy the following streams stream create foo1 --definition time log --deploy stream create foo2 --definition time log --deploy stream create foo3 --definition time log --deploy stream create foo4 --definition time log --deploy stream create foo5 --definition time log --deploy stream create foo6 --definition time log --deploy stream create foo7 --definition time log --deploy stream create foo8 --definition time log --deploy stream create foo9 --definition time log --deploy stream create foo10 --definition time log --deploy stream create foo11 --definition time log --deploy stream create foo12 --definition time log --deploy stream create foo13 --definition time log --deploy stream create foo14 --definition time log --deploy stream create foo15 --definition time log --deploy stream create foo16 --definition time log --deploy stream create foo17 --definition time log --deploy stream create foo18 --definition time log --deploy stream create foo19 --definition time log --deploy stream create foo20 --definition time log --deploy stream create foo21 --definition time log --deploy stream create foo22 --definition time log --deploy 2 Go to Streams tab in admin-ui to get a blank page and the following exception in admin logs Error 165519107 110SNAP ERROR http-nio-9393-exec-2 restRestControllerAdvice - Caught exception while handling a request javalangIllegalStateException Not all instances were looked at orgspringframeworkutilAssertstateAssertjava385 orgspringframeworkxddirtrestXDControllerenhanceWithDeploymentsXDControllerjava207 orgspringframeworkxddirtrestXDControllerlistValuesXDControllerjava178 orgspringframeworkxddirtrestStreamsControllerlistStreamsControllerjava63,1
As a user Id like to use partitionResultsTimeout attribute for jobs that inherit singlestep-partitioning strategy but it is not exposed as a metadata attribute in the wiki Note The property should be available for all the jobs that import 3 OOTB jobs have it imported ref attachment,1
Use descriptive texts for some module options defaults Need a way to tell the user that this option will be determined at runtimelate bindings In the module info command references to xdstreamname could read use stream name for example,0
Rabbitmq source is not ingested the data into jdbc sink I am using Spring XD to ingest the data into Pivotal HDMy source is log files which is coming from logstash through Rabbitmq I could able to ingest the log files in HDFS by using Rabbitmq source and HDFS sink However when i try to ingest the data directly into Hawq by using JDBC sinkits not working Shall we directly load Rabbitmq source into any databases like Hawq stream create --name pivotalqueue --definition rabbit --hostmy host name jdbc --columnscolum list ---Not working I configured jdbc in jdbcproperties There was no issue with jdbc configurationbecause i tested this with simple tail source its working and load the data into HAWQ stream create --name pivotalqueue --definition tail --nametmpxdoutputtestout jdbc --columnscolumns list,0
Add Twitter Stream tests acceptance tests,0
Add support for timesequence-size windowed offset updates,0
add PropertyAccessor for Tuple fields in SpEL Example using name code filter --expressionpayloadmyfieldstartsWithfoo code Example using index code filter --expressionpayload2startsWithfoo code This should support nested keys as well code filter --expressionpayloadmyfieldsubfieldstartsWithfoo code,0
XD Zookeeper connection lost XD container loose connection with Zookeeper Im in a distributed environnement - 3 XD container nodes 121 - 1 XD admin - 3 Zookeeper - 3 RabbitMQ - 3 RedisSentinel Logs zookeeperlog noformat 2015-11-25 065307235 myid3 - INFO QuorumPeermyid3000000002181ZooKeeperServer617 - Established session 0x251250651910006 with negotiated timeout 40000 for client 172201958070 2015-11-25 065408525 myid3 - WARN NIOServerCxnFactory000000002181NIOServerCnxn357 - caught end of stream exception EndOfStreamException Unable to read additional data from client sessionid 0x251250651910006 likely client has closed socket at orgapachezookeeperserverNIOServerCnxndoIONIOServerCnxnjava228 at orgapachezookeeperserverNIOServerCnxnFactoryrunNIOServerCnxnFactoryjava208 at javalangThreadrunThreadjava745 2015-11-25 065408621 myid3 - INFO NIOServerCxnFactory000000002181NIOServerCnxn1007 - Closed socket connection for client 172201958070 which had sessionid 0x251250651910006 noformat containerlog noformat 2015-11-25T0653370100 121RELEASE ERROR main-EventThread curatorConnectionState - Connection timed out for connection string 172201121811722018218117220192181 and timeout 30000 elapsed 34187 orgapachecuratorCuratorConnectionLossException KeeperErrorCode ConnectionLoss at orgapachecuratorConnectionStatecheckTimeoutsConnectionStatejava198 curator-client-260jarna at orgapachecuratorConnectionStategetZooKeeperConnectionStatejava88 curator-client-260jarna at orgapachecuratorCuratorZookeeperClientgetZooKeeperCuratorZookeeperClientjava115 curator-client-260jarna at orgapachecuratorframeworkimpsCuratorFrameworkImplgetZooKeeperCuratorFrameworkImpljava474 curator-framework-260jarna at orgapachecuratorframeworkimpsGetDataBuilderImpl4callGetDataBuilderImpljava302 curator-framework-260jarna at orgapachecuratorframeworkimpsGetDataBuilderImpl4callGetDataBuilderImpljava291 curator-framework-260jarna at orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 curator-client-260jarna at orgapachecuratorframeworkimpsGetDataBuilderImplpathInForegroundGetDataBuilderImpljava287 curator-framework-260jarna at orgapachecuratorframeworkimpsGetDataBuilderImplforPathGetDataBuilderImpljava279 curator-framework-260jarna at orgapachecuratorframeworkimpsGetDataBuilderImplforPathGetDataBuilderImpljava41 curator-framework-260jarna at orgspringframeworkxddirtservercontainerDeploymentListenerStreamModuleWatcherprocessDeploymentListenerjava596 spring-xd-dirt-121RELEASEjar121RELEASE at orgapachecuratorframeworkimpsNamespaceWatcherprocessNamespaceWatcherjava67 curator-framework-260jarna at orgapachezookeeperClientCnxnEventThreadprocessEventClientCnxnjava522 zookeeper-346jar346-1569965 at orgapachezookeeperClientCnxnEventThreadrunClientCnxnjava498 zookeeper-346jar346-1569965 2015-11-25T0653370100 121RELEASE ERROR CuratorFramework-0 curatorConnectionState - Connection timed out for connection string 172201121811722018218117220192181 and timeout 30000 elapsed 34189 orgapachecuratorCuratorConnectionLossException KeeperErrorCode ConnectionLoss at orgapachecuratorConnectionStatecheckTimeoutsConnectionStatejava198 curator-client-260jarna at orgapachecuratorConnectionStategetZooKeeperConnectionStatejava88 curator-client-260jarna at orgapachecuratorCuratorZookeeperClientgetZooKeeperCuratorZookeeperClientjava115 curator-client-260jarna at orgapachecuratorframeworkimpsCuratorFrameworkImplperformBackgroundOperationCuratorFrameworkImpljava793 curator-framework-260jarna at orgapachecuratorframeworkimpsCuratorFrameworkImplbackgroundOperationsLoopCuratorFrameworkImpljava779 curator-framework-260jarna at orgapachecuratorframeworkimpsCuratorFrameworkImplaccess400CuratorFrameworkImpljava58 curator-framework-260jarna at orgapachecuratorframeworkimpsCuratorFrameworkImpl4callCuratorFrameworkImpljava265 curator-framework-260jarna at javautilconcurrentFutureTaskrunFutureTaskjava266 na18060 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 na18060 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 na18060 at javalangThreadrunThreadjava745 na18060 2015-11-25T0653390100 121RELEASE ERROR CuratorFramework-0 curatorConnectionState - Connection timed out for connection string 172201121811722018218117220192181 and timeout 30000 elapsed 36191 orgapachecuratorCuratorConnectionLossException KeeperErrorCode ConnectionLoss at orgapachecuratorConnectionStatecheckTimeoutsConnectionStatejava198 curator-client-260jarna at orgapachecuratorConnectionStategetZooKeeperConnectionStatejava88 curator-client-260jarna at orgapachecuratorCuratorZookeeperClientgetZooKeeperCuratorZookeeperClientjava115 curator-client-260jarna at orgapachecuratorframeworkimpsCuratorFrameworkImplperformBackgroundOperationCuratorFrameworkImpljava793 curator-framework-260jarna at orgapachecuratorframeworkimpsCuratorFrameworkImplbackgroundOperationsLoopCuratorFrameworkImpljava779 curator-framework-260jarna at orgapachecuratorframeworkimpsCuratorFrameworkImplaccess400CuratorFrameworkImpljava58 curator-framework-260jarna at orgapachecuratorframeworkimpsCuratorFrameworkImpl4callCuratorFrameworkImpljava265 curator-framework-260jarna 2015-11-25T0654340100 121RELEASE INFO ConnectionStateManager-0 containerContainerRegistrar - Waiting for supervisor to clean up prior deployments elapsed time 26 seconds 2015-11-25T0655050100 121RELEASE INFO ConnectionStateManager-0 containerContainerRegistrar - Waiting for supervisor to clean up prior deployments elapsed time 57 seconds 2015-11-25T0656050100 121RELEASE INFO ConnectionStateManager-0 containerContainerRegistrar - Waiting for supervisor to clean up prior deployments elapsed time 117 seconds 2015-11-25T0657050100 121RELEASE INFO ConnectionStateManager-0 containerContainerRegistrar - Waiting for supervisor to clean up prior deployments elapsed time 177 seconds noformat adminlog noformat 2015-11-25T0654230100 121RELEASE ERROR DeploymentSupervisor-0 cachePathChildrenCache - orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsmodulesallocatedb1de9530-1837-42c0-a6bc-840b1b15aefcJOBTRIGGERsourcetrigger1 at orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 zookeeper-346jar346-1569965 at orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 zookeeper-346jar346-1569965 at orgapachezookeeperZooKeepergetDataZooKeeperjava1155 zookeeper-346jar346-1569965 at orgapachecuratorframeworkimpsGetDataBuilderImpl4callGetDataBuilderImpljava302 curator-framework-260jarna at orgapachecuratorframeworkimpsGetDataBuilderImpl4callGetDataBuilderImpljava291 curator-framework-260jarna at orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 curator-client-260jarna at orgapachecuratorframeworkimpsGetDataBuilderImplpathInForegroundGetDataBuilderImpljava287 curator-framework-260jarna at orgapachecuratorframeworkimpsGetDataBuilderImplforPathGetDataBuilderImpljava279 curator-framework-260jarna at orgapachecuratorframeworkimpsGetDataBuilderImplforPathGetDataBuilderImpljava41 curator-framework-260jarna at orgspringframeworkxddirtserveradmindeploymentzkDepartingContainerModuleRedeployerdeployModulesDepartingContainerModuleRedeployerjava116 spring-xd-dirt-121RELEASEjar121RELEASE at orgspringframeworkxddirtserveradmindeploymentzkContainerListenerchildEventContainerListenerjava140 spring-xd-dirt-121RELEASEjar121RELEASE at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 curator-recipes-260jarna at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 curator-recipes-260jarna at orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 curator-framework-260jarna at comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 guava-1601jarna at orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 curator-framework-260jarna at orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 curator-recipes-260jarna at orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 curator-recipes-260jarna at orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 curator-recipes-260jarna at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 na18060 at javautilconcurrentFutureTaskrunFutureTaskjava266 na18060 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 na18060 at javautilconcurrentFutureTaskrunFutureTaskjava266 na18060 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 na18060 at javautilconcurrentFutureTaskrunFutureTaskjava266 na18060 at javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava180 na18060 at javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava293 na18060 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 na18060 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 na18060 at javalangThreadrunThreadjava745 na18060 noformat If a module is deployed on the node which has lost the connection its not redeployed on one of the two others The only difference between node is that the node in error has less memory When this occurs node doesnt appear anymore on the admin ui And deployed streams do not appear as incomplete but they should if a node has disappear and deployment property modulecount is set to the number of nodes Thanks Mickal,0
Add validation on tap definitions that checks for module names that are part of the stream definition Try code stream create --name aa --definition time log tap create --name t1 --definition tap aalog log code Results in code Command failed orgspringframeworkxdrestclientimplSpringXDException javalangNullPointerException code,0
Deployment manifest to support partitioning a stream We need a methodology for providing partitioning hints A current proposal uses message headers to provide partitionkey the item to partition on destinationregion what to target In the proposal the developer used partitionkey to route the stream message to the node where data was stored in process This was done so downstream stream operations could work on the data with out suffering any network IO The destinationregion was used to target the type of data the downstream streams were going to use in their stream processing,0
Document JSON quoting behavior in shell This may be an issue following the searchreplace from curl to Shell but for example this documentation line does not work http post --target httplocalhost9000 --data symbolVMWprice7204 The backslash prior to quote is left in the payload and hence Jackson chokes on it We need clear rules about quoting at the shell level,0
As a user I would like to have shell interface to the spring-cloud-data rest API The scope for this JIRA could be limited to stream commands,5
Create documentation on the lifcycle of a job in XD This should go in the first section of the Batch Job documentation Here is a rough suggestion The lifecycle of a job in XD 1 Register a job module with the MoudleRegistry by putting a XMLjar files in the XDHOMEmodulesjobs directory 2 Create a job definition from a job module by providing a name and properties that apply to all job instances can be configured at this point The job is not yet deployed 3 Deploy the job to an xd-container A job instance can not be created by sending a message to a job queue that contains optional runtime job parameters 4 Launch a job by sending a message to the job queue with job parametres A Job Instance is created representing a specific run of the job A Job Instance is the Job Definition plus the runtime job parameters You can query for the Job Instances associated with a given job name 5 The job is executed creating a Job Exection object that captures the success or failure of the job You can query for the Job Executions associated with a given job name 6 Undeploy a job This removes the job from xd-container,0
Taps introduction section should show use of shell to create a real stream and a real tap using the shell See httpstaticspringsourceorgspring-xddocs100M1referencehtmltaps The existing docs should be made to show a real stream being created with filter andor transformer and then a tap that goes to logging The shell syntax to also stopundeploy a tap should be shown here as well since the lifecycle is discussed,0
Allow Aggregate Counter to use timestamp field in data Currently the aggregate counter aggerates by the current time However the data may already have a timestamp in it eg streams from activity events on a website It would be useful as an alternative approach to be able to specify this field to aggregate on This would have the following benefits 1 The aggregate counts would be more accurate as they would reflect the acutal event times and not have any lag from an intermediate messgaging system they might have passed through 2 If for whatever reason XD is down comes back up and starts pulling queued messages from the messaging system the aggregate counter will reflect the correct event time Currently you would get a gap and then a spike as a backlog of messages would get allocated to the current aggregate count 3 Old data could be rerun through XD still creating the correct aggregate counts Configuration would be something like stream create --name mytap --definition tapmystream aggregatecounter --namemycount --timestampFieldeventtime without the timestampfield it would behave as currently,0
Handle XD admin server shutdown cleanly There are couple of issues here 1 The admin server destroy - close events onApplicationEventContextClosedEvent listener has stop to stop the admin servers tomcat instance The stop also calls the applicationContexts destroy which loops again to stop 2 With HSQLServer or any batch db serverin future the admin server stop also needs to handle the batch db server shutdown,0
Return rounded interval values from aggregate counter queries The aggregate counter query result currently returns the interval that is passed in whether it is aligned with the bucket resolution requested or not It would be more intuitive if the time values returned are rounded down to the resolution of the query ie whole minutes hours days or whatever,0
Modularize angular app modules based on the functionality When adding streams page to the UI from XD-1667 it is necessary to modularize the angular app modules based on the functionalitycomponents job stream auth etc As we expand into more components and use cases in the UI this definitely makes it easier to concentrate on specific modules based on the functionality,0
Update Wiki to reflect the change from runtime x to cluster x Update the wiki to reflect the change from runtime containers to cluster containers and runtime modules to cluster modules,0
Custom User Configuration file for Jobs Allow users to submit a configuration file as part of the job definition The configuration file should contain all job definition parameters as well as customer parameters that can be reference during runtime Thanks Buelent,0
Create externalized property file to support connectivity to redis We need to have an externalized property fileunder xdconf for the xd-container admin scripts to use as options,0
As a user Id like to use the admin-ui and flo with consistent look and feel,1
Deploy a new job module after XD-singlenode container has started After the xd-singlenode process has started create a new job that has dependencies not already in the parent application context and then create and run a new job that uses the new module Implementation Suggestions Develop in the test tree we can put in the jar and config from httpsgithubcomSpringSourcespring-xd-samplestreemasterbatch-simple How to verify it works In a JUnit test case copy in a new job that has new dependencies copy the lib and config directories into the location where the ModuleRegisty will pick it up Deploy a new job and check in the job repository that the job ran and was successful,0
Set up a project for XD Shell Set up a basic Spring Shell project for XD Shell,0
HdfsMongoDB Job failing due because of missing ID in Default Tuple Looks to have been introduced by httpsgithubcomspring-projectsspring-xdpull1577 Deployment single admin 2 container deployment using RabbitMQ as the transport Below is a partial stacktrace please check log for full stacktrace Log is attached noformat 2015-05-15 105015843 120SNAP ERROR xdbusjobec2Job3-1 stepAbstractStep - Encountered an error executing step readResourcesStep in job ec2Job3 orgspringframeworkdaoInvalidDataAccessApiUsageException Cannot autogenerate id of type javautilUUID for entity of type orgspringframeworkxdtupleDefaultTuple at orgspringframeworkdatamongodbcoreMongoTemplateassertUpdateableIdIfNotSetMongoTemplatejava1153 at orgspringframeworkdatamongodbcoreMongoTemplatedoSaveMongoTemplatejava882 at orgspringframeworkdatamongodbcoreMongoTemplatesaveMongoTemplatejava837 at orgspringframeworkbatchitemdataMongoItemWriterdoWriteMongoItemWriterjava128 at orgspringframeworkbatchitemdataMongoItemWriter1beforeCommitMongoItemWriterjava156 at orgspringframeworktransactionsupportTransactionSynchronizationUtilstriggerBeforeCommitTransactionSynchronizationUtilsjava95 at orgspringframeworktransactionsupportAbstractPlatformTransactionManagertriggerBeforeCommitAbstractPlatformTransactionManagerjava928 at orgspringframeworktransactionsupportAbstractPlatformTransactionManagerprocessCommitAbstractPlatformTransactionManagerjava740 at orgspringframeworktransactionsupportAbstractPlatformTransactionManagercommitAbstractPlatformTransactionManagerjava726 at sunreflectNativeMethodAccessorImplinvoke0Native Method at sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 at sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 at javalangreflectMethodinvokeMethodjava606 noformat,0
Inconsistent API in AbstractSingleNodeNamedChannelSink In AbstractSingleNodeNamedChannelSinkhttpsgithubcomspring-projectsspring-xdblob6bd17162c8a6da0f09f6f8809f694a060c71ecc0spring-xd-dirtsrcmainjavaorgspringframeworkxddirttestsinkAbstractSingleNodeNamedChannelSinkjava the receive and receivePayload methods are non-blocking Methods without timeout parameter are usually blocking and return the first message delivered to the channel eg orgspringframeworkintegrationchannelAbstractPollableChannelreceive Integration tests based on spring-xd-test dependency and embedded xd-singlenode are asynchronous This makes AbstractSingleNodeNamedChannelSink receive method return null in all invocations because test thread is progressing faster than container can process the message in the background Would it be possible to make receive methods behave like in AbstractPollableChannel,0
As a developer Id like to migrate module deployment from the repository abstraction used for streamjob definitions so I can create it as a pluggable runtime SPI,8
SCS- Rename codec packages,0
Add documentation for JDBC to HDFS batch job Add docs to section httpsgithubcomspring-projectsspring-xdwikiBatch-Jobspre-packaged-batch-jobs,0
Make avro sink options consistent with hdfs and add docs,0
JMS source can only connect to localhost Cant connect to remote activemq instance Setup a jms-activemqproperties file with amqurltcpec2-54-198-157-91compute-1amazonawscom61616 Source always refers to defaults of tcplocalhost61616 Localhost works,0
Container nodes should write attributes to ZooKeeper The xdcontainers node is the parent where each Container will write an ephemeral child node The node name should be the Containers ID and the node data should be the Containers attributes host pid and much more to be added later When a Container shuts down cleanly it should eagerly delete the ephemeral node so that watchers are notified immediately For any other case including a network partition the ephemeral node will disappear after the timeout elapses,0
Update to Spring Shell 110M1 release,0
As a Spring XD user Id like to use Diego based Receptor implementation of XD Admin SPI based on ModuleLauncher so I can run data pipeline use-cases running on CF LatticeDiego,8
Command to delete tap,0
As a s-c-s developer Id like to adapt redis counter from XD to s-c-s so I can build streaming pipes using s-c-s modules with simple counters to feed dashboards,3
Create IntegralMetric and IntegralResource types There is some overlap between the gauge and counter repository types and also between the domain resources used by the REST controllers CounterResource GaugeResource The aggregate counter may wish to return a simple count value for the counter too which would also be a simple integral value,0
NPE on stream destroy xdstream create ticktock --definition time log --deploy true 184513310 WARN Spring Shell clientRestTemplate524 - POST request for httplocalhost8080streams resulted in 400 Bad Request invoking error handler Command failed orgspringframeworkxdrestclientimplSpringXDException There is already a stream named ticktock xdstream destroy ticktock 184516505 WARN Spring Shell clientRestTemplate524 - DELETE request for httplocalhost8080streamsticktock resulted in 500 Internal Server Error invoking error handler Command failed orgspringframeworkxdrestclientimplSpringXDException javalangNullPointerException Caused by javalangNullPointerException orgspringframeworkxddirtmoduleModuleDeployerundeployModuleDeployerjava143 orgspringframeworkxddirtmoduleModuleDeployerhandleMessageInternalModuleDeployerjava97,0
Remove Retry from TCP Sink Now that the bus supports retry it is no longer necessary to have the retry advice in the TCP Sink,0
In certain scenarios a job can be redeployed more than once In a scenario where we are using the same job definition ie Jobxml and we create Job Instance Foo If I create and deploy Foo2 using Jobxml I will see only 2 job definitionscorrect but I will see the job run 3 times If I create Foo3 deploy I will see 3 job definitionscorrect but the jobs will run 5 times,0
Twitterstream is broken,0
Update spring-xd-yarn configuration options Need a re-write of the configuration files for YARN deployments,0
Update spring-xd-extension-reactor dependency Currently the reactorEnv bean is defined in module-common context and the spring-xd-dirt has the runtime dependency over spring-xd-extension-reactor project This enables boots ReactorAutoConfiguration to initialize the reactor environment we have the reactor setup configured for both admin and container server applications Since reactor environment is not being used by container and only used by the reactor-syslog module we can move the reactorEnv bean definition in reactor-syslog module There is one caveat in this approach as the reactor environment gets setup everytime a new reactor-syslog module is deployed,0
Remove spark and hadoop dependencies from custom module classpath remove spark and hadoop requirements from spring-xd-module-parent and gradle module plugin,0
Update hdfs sink docs Options that are not covered --codec --idleTimeout --inUsePrefix --inUseSuffix --inputType --overwrite Options Renamed --filename is now --fileName,0
Remove use of system property xdhome to define location for install location rely on environment variable XDHOME This is in the AdminMain and ContainerMain Can get the environment property directly in java code unless provided explicitly on the command line using --xdHomeDir,0
Test against Spring Boot Snapshot build,0
Document Kafka message bus properties For example how to specify the partition count for topics that are created by the message bus,0
Support XDJMXENABLED configuration XD-EC2 needs to allow user to set the XDJMXENABLED flag in the environment prior to admin or container startups,0
As a QA Id like to include acceptance test coverage for gauge sink module so that I can validate the functionality as part of every CI build,3
Add ability to copy job from http site to containers Download zipped Job Modules from a HTTP Site and deploy them to modules on the admin containers before container is started,0
add create and deploy methods to TapDeployer see httpsdocsgooglecomagopivotalcomdrawingsd1kCNbVspRBjGc10itF9cSkwST8WgCjgg3wGzFKqLCAzUedit,0
Infinite recursion StackOverflowError when trying to process JobLaunchingMessageHandlers notifications channel output Transport used Redis It looks like when the job is launched the RedisChannelRegistrys composite handler tries to transform the JobLaunchingMessageHandlers output-channel notifications payload which is of type orgspringframeworkbatchcoreJobExecution and This results in Infinite recursion StackOverflowError Please see the stack trace here 010944827 ERROR task-scheduler-1 redisRedisQueueInboundChannelAdapter148 - Error sending message orgspringframeworkintegrationMessageHandlingException orgspringframeworkcontextApplicationContextException Failed to start bean jobTriggerBean nested exception is orgspringframeworkintegrationMessageHandlingException error occurred in message handler orgspringframeworkintegrationxredisRedisChannelRegistryCompositeHandler26f8f92e orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava76 orgspringframeworkintegrationhandlerServiceActivatingHandlerhandleRequestMessageServiceActivatingHandlerjava67 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava137 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava92 orgspringframeworkintegrationxredisRedisQueueInboundChannelAdapteraccess3RedisQueueInboundChannelAdapterjava1 orgspringframeworkintegrationxredisRedisQueueInboundChannelAdapterListenerTaskrunRedisQueueInboundChannelAdapterjava145 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava53 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskSyncinnerRunFutureTaskjava334 javautilconcurrentFutureTaskrunFutureTaskjava166 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava722 Caused by orgspringframeworkcontextApplicationContextException Failed to start bean jobTriggerBean nested exception is orgspringframeworkintegrationMessageHandlingException error occurred in message handler orgspringframeworkintegrationxredisRedisChannelRegistryCompositeHandler26f8f92e orgspringframeworkcontextsupportDefaultLifecycleProcessordoStartDefaultLifecycleProcessorjava170 orgspringframeworkcontextsupportDefaultLifecycleProcessoraccess200DefaultLifecycleProcessorjava51 orgspringframeworkcontextsupportDefaultLifecycleProcessorLifecycleGroupstartDefaultLifecycleProcessorjava339 orgspringframeworkcontextsupportDefaultLifecycleProcessorstartBeansDefaultLifecycleProcessorjava143 orgspringframeworkcontextsupportDefaultLifecycleProcessorstartDefaultLifecycleProcessorjava89 orgspringframeworkcontextsupportAbstractApplicationContextstartAbstractApplicationContextjava1278 orgspringframeworkxdmoduleSimpleModulestartSimpleModulejava152 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleModuleDeployerjava162 orgspringframeworkxddirtmoduleModuleDeployerhandleDeployModuleDeployerjava149 orgspringframeworkxddirtmoduleModuleDeployerhandleMessageInternalModuleDeployerjava120 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava601 orgspringframeworkexpressionspelsupportReflectiveMethodExecutorexecuteReflectiveMethodExecutorjava69 orgspringframeworkexpressionspelastMethodReferenceMethodValueRefgetValueMethodReferencejava97 orgspringframeworkexpressionspelastCompoundExpressiongetValueInternalCompoundExpressionjava82 orgspringframeworkexpressionspelastSpelNodeImplgetTypedValueSpelNodeImpljava102 orgspringframeworkexpressionspelstandardSpelExpressiongetValueSpelExpressionjava103 orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava144 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessInternalMessagingMethodInvokerHelperjava231 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessMessagingMethodInvokerHelperjava130 orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava73 22 more Caused by orgspringframeworkintegrationMessageHandlingException error occurred in message handler orgspringframeworkintegrationxredisRedisChannelRegistryCompositeHandler26f8f92e orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava79 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava223 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava207 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava172 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava166 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava144 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava223 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava207 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava172 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava166 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava144 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkxddirtpluginsjobJobTriggerBeanexecuteBatchJobJobTriggerBeanjava74 orgspringframeworkxddirtpluginsjobJobTriggerBeanstartJobTriggerBeanjava63 orgspringframeworkcontextsupportDefaultLifecycleProcessordoStartDefaultLifecycleProcessorjava167 45 more Caused by orgspringframeworkintegrationxjsonTypedJsonMapperSmartJsonConversionException Infinite recursion StackOverflowError through reference chain orgspringframeworkbatchcoreJobExecutionstepExecutions-javautilUnmodifiableRandomAccessList0-orgspringframeworkbatchcoreStepExecutionjobExecution-orgspringframeworkbatchcoreJobExecutionstepExecutions-javautilUnmodifiableRandomAccessList0-orgspringframeworkbatchcoreStepExecutionjobExecution-orgspringframeworkbatchcoreJobExecutionstepExecutions-javautilUnmodifiableRandomAccessList0-orgspringframeworkbatchcoreStepExecutionj javautilUnmodifiableRandomAccessList0-orgspringframeworkbatchcoreStepExecutionjobExecution-orgspringframeworkbatchcoreJobExecutionstepExecutions comfasterxmljacksondatabindserstdBeanSerializerBaseserializeFieldsBeanSerializerBasejava611 comfasterxmljacksondatabindserstdBeanSerializerBaseserializeWithTypeBeanSerializerBasejava492 comfasterxmljacksondatabindserBeanPropertyWriterserializeAsFieldBeanPropertyWriterjava571 comfasterxmljacksondatabindserstdBeanSerializerBaseserializeFieldsBeanSerializerBasejava597 comfasterxmljacksondatabindserstdBeanSerializerBaseserializeWithTypeBeanSerializerBasejava492 comfasterxmljacksondatabindserstdCollectionSerializerserializeContentsCollectionSerializerjava119 comfasterxmljacksondatabindserstdCollectionSerializerserializeContentsCollectionSerializerjava23 comfasterxmljacksondatabindserstdAsArraySerializerBaseserializeWithTypeAsArraySerializerBasejava197 comfasterxmljacksondatabindserBeanPropertyWriterserializeAsFieldBeanPropertyWriterjava571 comfasterxmljacksondatabindserstdBeanSerializerBaseserializeFieldsBeanSerializerBasejava597 comfasterxmljacksondatabindserstdBeanSerializerBaseserializeWithTypeBeanSerializerBasejava492,0
As a user Id like to run the sqoop jobs against secured hdfs cluster so I can restrict access to only authorized users,3
Job execution list should mention jobs that have been deleted Create a job execute it a couple of times destroy it and then invoke job execution list The job name column should mention that a job is defunct even though a job with the same name could have been re-created in the interim,0
Add More Sophisticated Retry Configuration to the Rabbit MessageBus XD-1019 added simple stateless retry to the message bus Use stateful retry and an AmqpRejectAndDontRequeueRecoverer enabling failed messages to be requeued on the broker until successful perhaps because another instance can handle the message also provides a mechanism to route failed messages to a dead-letter exchange Requires setting the message id header in bus-generated messages Also add profiles and properties for common retrybackoff policies,0
Convert current REST servlet to Spring MVC,0
Create a loadGenerator source module Create a load-generator source module that will generate messages and dispatch messages to a XD stream,0
Spring Shell --host option does not work When trying to use the --host command line parameter spring shell reports the following error for this command xd-shell --host localhost Oct 25 2013 103525 AM orgspringframeworkshellcoreSimpleParser commandNotFound WARNING Command --host localhost not found for assistance press TAB,0
Move SpEL PropertyAccessors to Module Parent Context When INT-3133 is resolved SpEL PropertyAccessor s are inherited from parent contexts Instead of adding the JsonPropertyAccessor to each modules context add it to the parent instead,0
Fix anchor links so that they work in both the wiki and generated docs Part of the issue is likely with the build script httpsgithubcomspring-projectsspring-xdblobmasterbuildgradleL1859 We should also add a link checker to the CI build,0
Update SI Dependency to 400BUILD-SNAPSHOT,0
As a developer Id like to rerun baseline Tuple and Serialized payloads so I can compare the differences in performance between 081 and 082 Kafka releases Note 111 Benched against 081 12 Benched against 082,8
Upgrade to Spring Boot 120 As to prepare for 11 release we would like to upgrade to Spring Boot 120 RC1 depends on Spring 412 so that we can leverage the new features enhancement and bug fixes Spring Boot Milestoneshttpsgithubcomspring-projectsspring-bootmilestones,0
XD admin leader should cleanup deployment after initializing the container path cache The admin leader starts cleaning up the deployments for the containers that isare no longer connected to the ZK This clean up needs to happen after the container path cache is started by the admin leader,0
Provide support for XD Runtime on Vagrant,0
Known Hosts Configuration for SFTP Source Spring Integration 42 changed the default SFTP session factory to not accept keys from unknown hosts by default This is more secure You either have to provide a pre-populated knownhosts file or set allowUnknownKeys to true If you do both the keys will be automatically added to the known hosts file When updating XD to 420RC1 I simply set the boolean to true to retain the previous behavior Add properties to the SFTP source to allow configuration of these properties at the stream level,0
Exception Consistency Favor using custom exceptions instead of using AssertnotNull review usage and make changes Eg if a stream cant be found or another definition a XYZNotFoundException instead of AssertNull on the return value of a findOne method,0
Deployed streams should be restarted on container start When using Redis store stored deployed streams should be deployed on container restart,0
Replace BeanDefinitionAddingBeanPostProcessor with Ordered Plugins This will allow us to control the order of plugins and use plugins to manage the common module context replacing BeanDefinitionAddingBeanPostProcesser,0
Create a Sink and Source for Riak,0
Health Actuator Endpoint JMX Needs to portray an accurate status for Admin or Containers In cases where the zookeeper ensemble is down or does not have quorum the xd cluster effectively stops all work However the health status of the containers is Up The container health status should be Awaiting Zookeeper Session until it can get a successful zookeeper session,0
Make processorheader-enricher available,0
Add support for typed Batch Steps This may require additional support Jiras for Spring Batch,0
Remove remaining Threadsleeps from the job tests Get rid of all the threadsleeps and code that supported them,0
Add support for grouping in Parser,0
Migrate to SI Redis Queue and Topic Adapters,0
Users need the ability to provision an XD cluster on EC2 via command line tool we need the ability to run an XD cluster to get a handle on general issues and missing features based on running the system in a true clustered environment We dont need to make this an end-user facing feature in the short term eg set a few keys in the shell and then install via a shell command,0
Documentation for data partitioning and all Rabbit Bus properties,0
Update YARN deployment classpath settings for HDP 22 and PHD 30 Need to update classpath settings for PHD 30 and HDP 22,0
JobRepository should be persistent and shared across xd-adminxd-container The current code is creating an in-memory job repository for each batch job that is launched This makes it impossible to query the tables in the job repository across the cluster A single job repository that is backed by a file need to be shared across all jobs that are a launched Implementation Suggestions The XDAdmin server should create the job repository schema if not found in a HSQLDB database when it starts up The bean definitions should be added to the same context that the analytics are being loaded in as it is already shared across xd-adminxd-container The analytics context should be renamed to something more generic shared parent context or something There is some clean up removal of the code in the current JobPlugin META-INFspring-xdpluginsjobcommonxml wouldnt be needed anymore That might be all not sure How to verify it works A JUnit test that verifies the spring batch tables were created in the job repository when xd-admin is launched This would require deleting the backing db file before instantiating singlenodexd-adminxd-container If you start the xd-container it should be able to find the necessary DataSourceJobRepository beans information to be able to contact the database We dont have DI style JUnit tests so this will required getting a reference to the xd-container and its application context and performing getBeanJobRepositoryclass,0
Testers need ability to wait for a file to be created in XD directory Users need ability to wait for user specified time in millis for a file to be created in the XD directory If file is not created in allotted time then return false else return true Also check to see if a file exists in the XD directory,0
AggregateCounterTemplate should not use Joda Not only should it not use Joda see XD-668 but the passing of dates currently relies on default formatting,0
The HDFS Store Library should support compression when writing to Sequence Files Support for using compression when writing Sequence Files Either block or record-based compression,0
Implement Mesos SPI As an s-c-d user Id like to deploy s-c-d on Mesos,0
Create config support based on channel registry type We need to have the XD container admin reading the registry specific property based on the registry type selected From Mark F on one of the code review comments Maybe rather than having redis rabbit etc properties all within a containerproperties we should rely upon naming conventions instead Specifically we could have a single configurable property for the type of channel registry redis rabbit or local being possible values and then we could use something like import resourceconfigregistrytypexml contextproperty-placeholder locationconfigregistrytypeproperties,0
Add single threaded executor service to DeploymentSupervisor This will eliminate any race conditions between deployments and containers joiningleaving the cluster,0
Test processor module in isolation Register the module under test and have access to a source channel that drives messages into the processor and a output channel where output messages are sent Examples Built-in Message conversion send JSON to a processor module that accepts Tuples,0
Vary consumer size EC-DB-4 Using a single producer message size of 1000 bytes Pretch of 100 Send 1M messages and increase or decrease so that a given test iteration takes about 2 minutes Vary the number of consumers Measure the msgsec rate and calculate the data transfer rate in MBsec Number of consumers 1 2 4 6 10 50 During the measurements look at the RabbitMQ Admin UI and see if the queue is backing up,0
Create a shell command processor and sink Create processor and sink modules that can execute a shell command using stdin and stdout to stream data,0
Gradle Launch needs to use singlenodemain vs admin main,0
As a Spring XD developer Id like to move tcp-client module from XD to s-c-s repo so I can use it as source to build streaming pipeline,2
Enable Spring Boot Loader support As part of running in Cloud Foundry one quick workaround for the lack of classpath support would be to use the Spring Boot Loader special ClassLoader and jar-inside-a-jar support httpsgithubcomspring-projectsspring-boottreemasterspring-boot-toolsspring-boot-loader,0
Make transport serialization configurable The refactoring done for M6 prevents overriding codec bean configured for MessageBus Since MB is now in SharedServerContext that context can only be altered by a custom OrderedContextInitializer for example There is currently no mechanism provided by the BootStrapContext for dynamically loading a users OrderedContextInitializer,0
Exclude DB initialization for JDBC sink test To enrich acceptance test Id like to lazy initialize DB for JDBC Sink acceptance tests Check to see if it is already initialized and decide,0
As a s-c-d developer Id like to add support for hadoop commands in shell so I can use it to query the hadoop file system,3
As a user Id like to refer to Hive sample so that I can use that as a reference to integrate Hive to query and analyze,2
As a developer I want to have a BinderFactory abstraction so that I can support multiple binder types in the future,5
Update Spring Integration to 420M2 416 on 12x Also Spring Framework 420RC2 Spring AMQP 150M1 Also Batch 304,0
Test Recommended XD Cluster Strategy on slowbad network h1 Run Acceptance tests on the following deployments h2 Slow Network Simulate slow network by deploying a XD cluster where the ZK Ensemble is only available via WAN h2 Network packet loss Simulate cases where a network packets can be lost,0
FileDeletionListener resolves resources once In the filejdbc job there is the option to delete the imported files This functionality is created using a listener called the FileDeletionStepExecutionListener When you run the job the first time with the --deleteFilestrue everything works as expected The second time you run the job the files are not deleted I believe the issue here is that since the FileDeletionStepExecutionListener is a singleton the resources are resolved only once the first time the job runs and so it works the first time but if the job is run again later and new files match the expression they are not picked up I believe the fix is to make the FileDeletionStepExecutionListener used in this job step scoped,0
As a user Im trying to setup HA cluster using Ambari installed Spring XD however Im running into issues with the overrides More details herehttpsgithubcomspring-projectsspring-xd-ambariissues6,5
HTTP source should emit raw payload Current implementation converts to a String See if we can emit raw payload given that we also emit content-type header Setting to 8 points as this may have lots of implications down the line though,0
http post in shell incorrectly mentions default of --target option the value for --target is required there is no default but the hint for that option states otherwise code xdhttp post --target http post --target required --target the location to post to default if option not present httplocalhost9000 code,0
As a s-c-d developer Id like to setup ghpages branch for s-c-d and s-c-s-m repos so I can start pushing documentation with PR commits,5
In EC2 deployment Allow users to set download jars into the libxd directory In cases where the deployment requires jars that can not be included with the distribution the user should be able to pull a jar from a http site and place it in libxd The use case is that when we removed the mysql jar from the distribution the CI tests could not start the XD instances on EC2 without it It was suggested that we use the postgresql instead but decided to continue the use of mysql for acceptance tests,0
shell cp command fails from the wordcount sample code xd cp tmpnietzsche-chapter-1txt tmpxdinputwordCountFiles You cannot specify option more than once in a single command code,0
Shell integration tests should be able to be run across all transports Automate running integration tests on all supported transports,0
As a s-c-s developer Id like to support XD-like features where modules bind to incoming messages via expressions or other mechanism so I can bind message properties to every microservice modules,5
As a developer Id like to create EC2 AMI with the necessary packages so that I can run the Kafka Perf tests,2
UI Visual representation of StreamJob with deployed modules For a given streamjob we need a visual representation of the streamjob with any deployed modules,0
As a s-c-d developer Id like to pass any overrides via external config file so I can influence and override the default module configurations ex module resolution from a different maven coordinate,3
Create OOTB batch job that uses the Hadoop Shell to copy multiple files from HDFS to a local directory This is the inverse of XD-986 and will require creating a custom tasklet but with the inputoutput reversd,0
Update documentation section Running in Distributed Mode to show use of RabbitMQ in addition to Redis The documentation in the Running in Distributed Mode chapter should discuss that the distributed runtime can use essentially any middleware to communicate between nodes This functionality is provided by the core ChannelRegistry abstraction A new intro paragraph shoul convey that it isnt a redis only or rabbitmq only system There should be Installing RabbitMQ and Starting RabbitMQ sections to match those for Redis Starting Spring XD in Distributed Mode should cover how to configure the system to select to use Redis or Rabbit,0
As a user Id like to have the ability to mass-ingest data from various database systems so that Im not restricted with the current approach jdbchdfs that is dependent on JDBC drivers Spike Scope Identify integration options Collaborate to determine the design Document outcome design specs,5
Add support for offline module resolution h2 Narrarive As a developer I need to be able to test modules without pushing them to a remote maven repository I should be able to do mvn install in my module project locally which will install the artifact into my local repository and have it resolvable by spring-cloud-streams,0
As a s-c-d developer Id like to provide optional key-value pairs as deployment properties so I could leverage them at the runtime to instruct how the modules will be deployed The scope of this story is to specifically support count to represent N instances of modules that share the same environment variables,8
Add Batch Job Listeners Automatically Add Batch Job Listeners Automatically Each major listener category should send notifications to own channel StepExecution Chunk Item etc Add attribute to disallow automatic adding of listeners,0
IllegalStateException when deploying orphaned stream modules upon a matching container arrival Upon a matching container arrival if there are orphaned stream modules to be deployed then following exception is thrown javalangIllegalStateException Container missing at orgspringframeworkutilAssertstateAssertjava385 at orgspringframeworkxddirtcoreStreamDeploymentsPathhasDeploymentInfoStreamDeploymentsPathjava275 at orgspringframeworkxddirtcoreStreamDeploymentsPathbuildStreamDeploymentsPathjava233 at orgspringframeworkxddirtserverContainerListenergetContainersForStreamModuleContainerListenerjava337 at orgspringframeworkxddirtserverContainerListenerredeployStreamsContainerListenerjava278 at orgspringframeworkxddirtserverContainerListeneronChildAddedContainerListenerjava186 at orgspringframeworkxddirtserverContainerListenerchildEventContainerListenerjava155,0
Remove support for the leading on items that have a declared namespace When using jobs taps we no longer need to have the leading ie tapfoo We should only support tapfoo,0
More DSL work exploiting sourcesink channels The DSL changes under XD-369 now build stream Ast objects that can include a source and sink channel code Source Channel mystreamfoo count log Sink Channel http count foo code These new fields in the Ast object need to be copied into the module deployment request objects and then used at the destination as the channels for wiring things together Currently the only channels used are the NNN numeric channels where NNN is the index of the module in the stream definition The sourcesink channels are extra channels that need creating - the source channel acting as a real source for the next module in the chain whilst the sink channel acts as a sink output for the last channel in the chain I can think of two ways to handle the implementation - In order to police the stream structure as source processor sink maybe special SourceChannel and SinkChannel modules are created to represent these channels and when deployment happens the deployer understands that they dont represent a real request to deploy a module but simply the channels to wire up to the adjacent module - Carry sourcesink channel info in the existing module definitions But then the verification of sourceprocessorsink structure will need modification to say a source isnt necessary if the first processor has a source channel attached and a sink isnt necessary if the last processor has a sink channel attached,0
Command for creating a job optional --autostart switch to also deploy the job,0
Add support for deploying a batch job with partitioning across multiple XD nodes This is a very big story needs some planningdiscussion before starting work Should be able to be implemented as a plugin,0
Spike for EC2 deployments,0
As a user Id like to use the latest release of gemfire sink so I can create a streaming pipeline to land data in gemfire,2
As a user I should be able to leverage native WebSocket sink so that I can take the advantage of full-duplex communications channels over a single TCP connection,8
Update Spring Framework to 424,0
Create a BroadcasterMessageHandler that uses a Serialized Broadcaster This is a parallel implementation to the RxJava httpsgithubcomspring-projectsspring-xdblobmasterspring-xd-rxjavasrcmainjavaorgspringframeworkxdrxjavaSubjectMessageHandlerjava That will allow multiple threads to broadcast an event but allow processing to occur one at a time on any thread,0
Spike for writing to HDFS See Epic httpsjiraspringsourceorgbrowseXD-234,0
As a s-c-d developer Id like to add hdfs sink to module registry so I can use this module to build streaming pipeline and write to Hadoop,1
Delete post module and CF profile This would get rid of the CF specific post module keeping the general abstraction of http source across CF and non-CF environments,0
LocalMessageBus PubSub Needs a Bounded Task Exectutor Since 11 PubSub channels in the LocalMessageBus run on a CachedThreadPoolExecutor For high volume environments where back-pressure might occur on a topic thread we could overwhelm the system with threads Add a local bus configuration to limit the thread pool used for PubSubs and queue tasks where there are no threads available It would be a bus-wide setting,0
add create and deploy methods to JobDeployer see httpsdocsgooglecomagopivotalcomdrawingsd1kCNbVspRBjGc10itF9cSkwST8WgCjgg3wGzFKqLCAzUedit Create the deployer if it doesnt exist,0
As a user I want to know my configuration options are for enabling SSLHTTPS and Basic authentication for administration endpoints so that I can secure my application,1
Add Job RDBMS config in Ambari plugin Spring XD Ambari plugin only supports HDB as job db HDB is not good in production environment It will be great if we can specify RDB in spring xd installationconfig process,0
Fix images alignment in reference pdf doc The reference pdf doc has some of the images not aligned well within the document For the latest doc from snapshot build please refer here httprepospringiolibs-snapshot-localorgspringframeworkxdspring-xd100BUILD-SNAPSHOT,0
stack trace on xd-admin restart when redploying streams the trace below occurs in the admin console but the Admin continues to handle subsequent deployment requests fine it seems To reproduce start xd-admin and xd-container just 1 of each deploy time log kill both xd-admin and xd-container start xd-container by itself wait 10 seconds or so then start xd-admin result code 213501575 ERROR ContainersPathChildrenCache-0 cachePathChildrenCache550 - orgapachezookeeperKeeperExceptionNodeExistsException KeeperErrorCode NodeExists for xddeploymentsmodulesf89e5fdc-7dc1-49fb-93cc-d536ab853f12ssourcetime-0 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava119 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 orgapachezookeeperZooKeepercreateZooKeeperjava783 orgapachecuratorframeworkimpsCreateBuilderImpl11callCreateBuilderImpljava676 orgapachecuratorframeworkimpsCreateBuilderImpl11callCreateBuilderImpljava660 orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 orgapachecuratorframeworkimpsCreateBuilderImplpathInForegroundCreateBuilderImpljava656 orgapachecuratorframeworkimpsCreateBuilderImplprotectedPathInForegroundCreateBuilderImpljava441 orgapachecuratorframeworkimpsCreateBuilderImplforPathCreateBuilderImpljava431 orgapachecuratorframeworkimpsCreateBuilderImplforPathCreateBuilderImpljava411 orgapachecuratorframeworkimpsCreateBuilderImpl4forPathCreateBuilderImpljava319 orgapachecuratorframeworkimpsCreateBuilderImpl4forPathCreateBuilderImpljava255 orgspringframeworkxddirtserverContainerListeneronChildAddedContainerListenerjava272 orgspringframeworkxddirtserverContainerListenerchildEventContainerListenerjava152 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava494 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava488 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava293 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava485 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache11runPathChildrenCachejava755 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 code,0
Avoid duplication when loading streams for deployment See ContainerListenerloadStream and StreamListeneronChildAdded Both require the stream definition as well as stream deployment manifest,0
Shell does not report failed deploy attempt During the slow network tests the user undeployed a stream and then immediately redeployed the same stream to get the modules on different containers The deployment failed as reflected in the stacktrace below from the admin server however the the shell did not report an error and the user could not deploy the stream The stream in question is httplog The Shell did not report any error Stream list does show the state of the stream as failed executing a stream deploy fails with the following error Command failed orgspringframeworkxdrestclientimplSpringXDException The stream named foo is already deployed Undeploy and deploy of the stream worked 175439487 INFO Deployer serverStreamDeploymentListener - Deployment status for stream foo DeploymentStatusstatefailederrorsorgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsmodulesallocated73f0a93d-e213-414d-8337-6c04409ec210foosourcehttp1status orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 orgapachezookeeperZooKeepergetDataZooKeeperjava1155 orgapachecuratorframeworkimpsGetDataBuilderImpl4callGetDataBuilderImpljava302 orgapachecuratorframeworkimpsGetDataBuilderImpl4callGetDataBuilderImpljava291 orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 orgapachecuratorframeworkimpsGetDataBuilderImplpathInForegroundGetDataBuilderImpljava287 orgapachecuratorframeworkimpsGetDataBuilderImplforPathGetDataBuilderImpljava279 orgapachecuratorframeworkimpsGetDataBuilderImplforPathGetDataBuilderImpljava41 orgspringframeworkxddirtserverModuleDeploymentWriterwriteDeploymentModuleDeploymentWriterjava205 orgspringframeworkxddirtserverModuleDeploymentWriterwriteDeploymentModuleDeploymentWriterjava163 orgspringframeworkxddirtserverStreamDeploymentListenerdeployStreamStreamDeploymentListenerjava166 orgspringframeworkxddirtserverStreamDeploymentListeneronChildAddedStreamDeploymentListenerjava100 orgspringframeworkxddirtserverInitialDeploymentListenerEventHandlercallInitialDeploymentListenerjava217 orgspringframeworkxddirtserverInitialDeploymentListenerEventHandlercallInitialDeploymentListenerjava186 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 175439496 INFO Deployer serverStreamDeploymentListener - Stream Streamnamefoo deployment attempt complete,0
Dead Letter is not created on all RabbitMQ queues for partionned stream Hi If I use the modulenameproducerparitionKeyExpression and the module as also autoBindDLG enabled the creates RabbbitMQ queues do not have the DeadLetter policy The first queue has it xdbusstream0-0 but others do not have it xdbusstream0-N Thanks Mickal,0
SpringXDs syslog source does not fully support syslog RFC5424 SpringXDs syslog source cannot parse rfc5424 messages into a Map For the messages we get in RFC 3164 springXD converts these to a Map Since the rfc5424 data cannot be interpreted then the map contains just one key called UNDECODED The result of this is that we get a string that looks like this when we convert the message to a String code UNDECODED182Dec 02 2014 075635 ASA-6-113008 AAA transaction status ACCEPT user jbloggs code Should be something like this note the values below are for illustrative purposes only and should not be used as test data code FACILITY22 SEVERITY6 TIMESTAMPTue Dec 02 075635 HOSTthe-hostname-that-sent-the-data TAGASA-6-113008 MESSAGE code h3 Root Cause Spring integration does not parse these messages There is a JIRA for SI here httpsjiraspringiobrowseINT-3450,0
As a user Id like to refer to OOTB batch jobs and the documentation so I can jump to the right job section and review details,1
Support partitioning properties Using these as a starting point support the standard binder partitioning properties httpsgithubcomspring-cloudspring-cloud-streamblobmasterspring-cloud-stream-bindersspring-cloud-stream-binder-spisrcmainjavaorgspringframeworkcloudstreambinderBinderPropertiesjavaL69 httpsgithubcomspring-cloudspring-cloud-streamblobmasterspring-cloud-stream-bindersspring-cloud-stream-binder-spisrcmainjavaorgspringframeworkcloudstreambinderMessageChannelBinderSupportjavaL663,0
As a user Id like to have a common shared location so that I can place the dependent jars that are required by 2 or more custom modules Current Recommendation Place the dependent jar under xdlib folder if it necessary to support different versions of jars then bundle it in custom module to get around the classloader problem if a oldernewer version exist in xdlib,5
Update httpsgithubcomspring-projectsspring-xdwikiModules Need to update the Modules page and any other that describes top level xml files Also describe alternate module implementations XD-713 XD-1805 XD-2100,0
Add a JMS Sink XD currently has rabbit source and sink but only a source for JMS Add a JMS sink - the provider infrastructure should be configured in a similar manner to the source --provider Other properties needed code destinationName destinationExpression sessionTransacted deliveryPersistent pubSubDomain priority timeToLive code if any of these properties are set we need to coerce the explicit-qos-enabled to be true,0
HdfsTextFileWriter incompatible with MaprFS Use of FsShell in AbstractHdfsWriterinitializeCounterIfNecessary causes MaprFS to throw an unimplemented operation exception Replacing the FsShell code with FileSystemlistStatus allows it to be used with MaprFs,0
TCP-Client source module throws ClassNotFoundException Version XD 11 M1 Problem Trying to use tcp-client source module and observing an exception while deploying the stream Stream Definition codexml curl --data namedummy-firehose --data definitiontcp-client --decoderLF --port8080 log --data deploytrue httplocalhost9393streamsdefinitions namedummy-firehosestatusnulldefinitiontcp-client --decoderLF --port8080 loglinksselfhrefhttplocalhost9393streamsdummy-firehose code The same curl command works fine against XD 101 release,0
Create shell integration tests for tap lifeycle creating taps deleting,0
Create OOTB file to HDFS batch import job that is launched by a stream Same processing as XD-984 but the job instacne is launched via an event from the input file source Supporting a single file per job launch is OK job create blah --definition filehdfs stream create csvStream --definition file --reftrue --dirUsersluke --patterncsv jobblah the job should be documented,0
As a user Id like to include the deployment manifest from the file so that I dont have spend time typing as inline properties,3
Update to use SHDP 200RELEASE,0
rename Bridge to Binding and add direction orgspringframeworkintegrationxbusBridge should now be called Binding we can also move the INBOUNDOUTBOUND direction or possibly the CONSUMERPRODUCER role into this class that should simplify its usage in conditional code within the MessageBus code and also reduce the use of in and out as Strings in that same code,0
add create and deploy methods to StreamDeployer see httpsdocsgooglecomagopivotalcomdrawingsd1kCNbVspRBjGc10itF9cSkwST8WgCjgg3wGzFKqLCAzUedit Refactor current DefaultStreamDeployer,0
Normalize and refactor component packaging decomposition Normalize and refactor as needed functionality currently included in - spring-integration-core LocalChannelRegistry - spring-integration-module Module types upon which Flow are built - xd-module Depend Module types common to DIRT and Spring Integration - spring-integration-flow Flow specific types namespace support etc,0
Channel Registry Refactoring Factor out common RedisRabbit ChannelRegistry code Also factor out common inboundtap code very similar Change transport nternals to Use AbstractTransformer instead of ARPMH and BridgeHandler,0
Optimize JobService queries and batch domain object usages Based on the discussion from here httpsgithubcomspring-projectsspring-xdpull849issuecomment-43215168 we need a better strategy to handle some of the queries and updates to the batch domain objects,0
Document dynamic classpath feature,0
Fix compilation errors after moving SingleNodeApplication package Samples including Singlenode tests need to update for package changes,0
Add value-expression to gauges See httpstackoverflowcomquestions30112430payload-filters-transforms-rich-gauges30115234 for the use case It should be possible to extract both a numeric value and a gauge name from the message,0
As a devops I would prefer having my module registry located in centralized github repository This would allow all the admins and containers in the cluster pointing to the same module registry Any new module upload would be pushed to the same github repo which will make the cluster always be in sync on the Module Registry,5
Update to SHDP 211 for fixing hdfs store writer to recover after error writing to hdfs The hdfs sink doesnt recover after error writing to hdfs Steps to reproduce - create a stream using hdfs sink with a small rollover code xdstream create --name errtest --definition time hdfs --rollover50 --deploy code stop the datanodes and wait for an exception like code 2015-03-03 104157832 110RELEASE ERROR task-scheduler-3 handlerLoggingHandler - orgspringframeworkmessagingMessageHandlingException failed to write Message payload to HDFS nested exception is orgapachehadoopipcRemoteExceptionjavaioIOException File xderrtesterrtest-7txttmp could only be replicated to 0 nodes instead of minReplication 1 There are 1 datanodes running and 1 nodes are excluded in this operation orgapachehadoophdfsserverblockmanagementBlockManagerchooseTarget4NewBlockBlockManagerjava1549 orgapachehadoophdfsservernamenodeFSNamesystemgetAdditionalBlockFSNamesystemjava3200 orgapachehadoophdfsservernamenodeNameNodeRpcServeraddBlockNameNodeRpcServerjava641 orgapachehadoophdfsprotocolPBClientNamenodeProtocolServerSideTranslatorPBaddBlockClientNamenodeProtocolServerSideTranslatorPBjava482 orgapachehadoophdfsprotocolprotoClientNamenodeProtocolProtosClientNamenodeProtocol2callBlockingMethodClientNamenodeProtocolProtosjava orgapachehadoopipcProtobufRpcEngineServerProtoBufRpcInvokercallProtobufRpcEnginejava619 orgapachehadoopipcRPCServercallRPCjava962 orgapachehadoopipcServerHandler1runServerjava2039 orgapachehadoopipcServerHandler1runServerjava2035 javasecurityAccessControllerdoPrivilegedNative Method javaxsecurityauthSubjectdoAsSubjectjava415 orgapachehadoopsecurityUserGroupInformationdoAsUserGroupInformationjava1628 orgapachehadoopipcServerHandlerrunServerjava2033 orgspringframeworkxdintegrationhadoopoutboundHdfsStoreMessageHandlerhandleMessageInternalHdfsStoreMessageHandlerjava129 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 sunreflectGeneratedMethodAccessor86invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricshandleMessageSimpleMessageHandlerMetricsjava107 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricsinvokeSimpleMessageHandlerMetricsjava87 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy136handleMessageUnknown Source orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava239 sunreflectGeneratedMethodAccessor82invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava114 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava98 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava92 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy125sendUnknown Source orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputAbstractMessageProducingHandlerjava248 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlerproduceOutputAbstractMessageProducingHandlerjava171 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputsAbstractMessageProducingHandlerjava119 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava105 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava239 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputAbstractMessageProducingHandlerjava248 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlerproduceOutputAbstractMessageProducingHandlerjava171 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputsAbstractMessageProducingHandlerjava119 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava105 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava239 sunreflectGeneratedMethodAccessor82invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava114 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava98 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava92 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy137sendUnknown Source orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 orgspringframeworkintegrationendpointSourcePollingChannelAdapterhandleMessageSourcePollingChannelAdapterjava130 orgspringframeworkintegrationendpointAbstractPollingEndpointdoPollAbstractPollingEndpointjava219 orgspringframeworkintegrationendpointAbstractPollingEndpointaccess000AbstractPollingEndpointjava55 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava149 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava146 orgspringframeworkintegrationendpointAbstractPollingEndpointPoller1runAbstractPollingEndpointjava298 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 orgspringframeworkintegrationutilErrorHandlingTaskExecutorexecuteErrorHandlingTaskExecutorjava49 orgspringframeworkintegrationendpointAbstractPollingEndpointPollerrunAbstractPollingEndpointjava292 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava54 orgspringframeworkschedulingconcurrentReschedulingRunnablerunReschedulingRunnablejava81 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by orgapachehadoopipcRemoteExceptionjavaioIOException File xderrtesterrtest-7txttmp could only be replicated to 0 nodes instead of minReplication 1 There are 1 datanodes running and 1 nodes are excluded in this operation orgapachehadoophdfsserverblockmanagementBlockManagerchooseTarget4NewBlockBlockManagerjava1549 orgapachehadoophdfsservernamenodeFSNamesystemgetAdditionalBlockFSNamesystemjava3200 orgapachehadoophdfsservernamenodeNameNodeRpcServeraddBlockNameNodeRpcServerjava641 orgapachehadoophdfsprotocolPBClientNamenodeProtocolServerSideTranslatorPBaddBlockClientNamenodeProtocolServerSideTranslatorPBjava482 orgapachehadoophdfsprotocolprotoClientNamenodeProtocolProtosClientNamenodeProtocol2callBlockingMethodClientNamenodeProtocolProtosjava orgapachehadoopipcProtobufRpcEngineServerProtoBufRpcInvokercallProtobufRpcEnginejava619 orgapachehadoopipcRPCServercallRPCjava962 orgapachehadoopipcServerHandler1runServerjava2039 orgapachehadoopipcServerHandler1runServerjava2035 javasecurityAccessControllerdoPrivilegedNative Method javaxsecurityauthSubjectdoAsSubjectjava415 orgapachehadoopsecurityUserGroupInformationdoAsUserGroupInformationjava1628 orgapachehadoopipcServerHandlerrunServerjava2033 orgapachehadoopipcClientcallClientjava1468 orgapachehadoopipcClientcallClientjava1399 orgapachehadoopipcProtobufRpcEngineInvokerinvokeProtobufRpcEnginejava232 comsunproxyProxy134addBlockUnknown Source orgapachehadoophdfsprotocolPBClientNamenodeProtocolTranslatorPBaddBlockClientNamenodeProtocolTranslatorPBjava399 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgapachehadoopioretryRetryInvocationHandlerinvokeMethodRetryInvocationHandlerjava187 orgapachehadoopioretryRetryInvocationHandlerinvokeRetryInvocationHandlerjava102 comsunproxyProxy135addBlockUnknown Source orgapachehadoophdfsDFSOutputStreamDataStreamerlocateFollowingBlockDFSOutputStreamjava1532 orgapachehadoophdfsDFSOutputStreamDataStreamernextBlockOutputStreamDFSOutputStreamjava1349 orgapachehadoophdfsDFSOutputStreamDataStreamerrunDFSOutputStreamjava588 code start the datanodes again the sink never recovers and has to be undeployed and redeployed,0
Refactor s-c-s samples to use ConfigurationProperties The spring-cloud-streams samples have module options classes copied over from XD They should use a pure ConfigurationProperties approach making sure metadata is generatedhand written as appropriate Mixins are still referenced there but obviously cant work so provide an equivalent,0
Remove RedisStreamDeploymentIntegrationTests and RabbitStreamDeploymentIntegrationTests These are duplicates of SingleNodeDeploymentIntegrationTests,0
Easier Customization of Headers Passed by RedisMessageBus httpstackoverflowcomquestions25072967spring-xd-redis-message-bus-removing-headers-from-the-message2508153825081538 Currently you have to modify redis-busxml in the dirt jar,0
Package up the UI code when building the distribution so that it can be shown by xd-admin The UI code will be sitting in one or more top level directories in the repository This story will address the need to 1 copy over the UI code into a location so that it can be picked up by the embedded servlet container when the distribution zip is unzipped After running xd-admin or xd-singlenode one should be able to hit the UI at httplocalhost8999xd just an example,0
Fix clustercontainers REST endpoint with security enabled Once the containers management server is secured the admin server needs to know which REST template to use to get the message rates from the deployed modules inside the containers,0
Cant use Apache Velocity in custom modules Creating a custom processor module with Apache Velocity orgapachevelocityvelocity17 as dependency results in javalangClassNotFoundException during stream deployment code 2015-04-08 173532595 111RELEASE INFO DeploymentsPathChildrenCache-0 serverDeploymentListener - Deploying module ModuleDescriptor144d1f50 moduleName custom-velocity-processor moduleLabel custom-velocity-processor group velocity-stream sourceChannelName null sinkChannelName null index 1 type processor parameters mapempty children listempty 2015-04-08 173532768 111RELEASE WARN DeploymentsPathChildrenCache-0 supportDefaultListableBeanFactory - FactoryBean threw exception from getObjectType despite the contract saying that it should return null if the type of its object cannot be determined yet javalangNoClassDefFoundError orgapachevelocityappVelocityEngine orgspringframeworkuivelocityVelocityEngineFactoryBeangetObjectTypeVelocityEngineFactoryBeanjava69 orgspringframeworkbeansfactorysupportFactoryBeanRegistrySupportgetTypeForFactoryBeanFactoryBeanRegistrySupportjava66 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorygetTypeForFactoryBeanAbstractAutowireCapableBeanFactoryjava795 orgspringframeworkbeansfactorysupportAbstractBeanFactoryisTypeMatchAbstractBeanFactoryjava542 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorydoGetBeanNamesForTypeDefaultListableBeanFactoryjava436 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorygetBeanNamesForTypeDefaultListableBeanFactoryjava404 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorygetBeanNamesForTypeDefaultListableBeanFactoryjava398 orgspringframeworkintegrationjmxconfigJmxIntegrationConfigurationInitializerregisterMBeanExporterHelperIfNecessaryJmxIntegrationConfigurationInitializerjava42 orgspringframeworkintegrationjmxconfigJmxIntegrationConfigurationInitializerinitializeJmxIntegrationConfigurationInitializerjava38 orgspringframeworkintegrationconfigIntegrationConfigurationBeanFactoryPostProcessorpostProcessBeanFactoryIntegrationConfigurationBeanFactoryPostProcessorjava48 orgspringframeworkcontextsupportPostProcessorRegistrationDelegateinvokeBeanFactoryPostProcessorsPostProcessorRegistrationDelegatejava265 orgspringframeworkcontextsupportPostProcessorRegistrationDelegateinvokeBeanFactoryPostProcessorsPostProcessorRegistrationDelegatejava177 orgspringframeworkcontextsupportAbstractApplicationContextinvokeBeanFactoryPostProcessorsAbstractApplicationContextjava606 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava462 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava691 orgspringframeworkbootSpringApplicationrunSpringApplicationjava321 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava214 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by javalangClassNotFoundException orgapachevelocityappVelocityEngine javanetURLClassLoader1runURLClassLoaderjava366 javanetURLClassLoader1runURLClassLoaderjava355 javasecurityAccessControllerdoPrivilegedNative Method javanetURLClassLoaderfindClassURLClassLoaderjava354 javalangClassLoaderloadClassClassLoaderjava425 sunmiscLauncherAppClassLoaderloadClassLauncherjava308 javalangClassLoaderloadClassClassLoaderjava358 39 more code Attached is module source code Executing commands in xd-shell-commandscmd file is enough to trigger the exception Everything works when velocity jar is placed in XDHOMElib and excluded from the processor module,0
As a s-c-s developer Id like to investigate the right approach to include external library as dependency ex MySQL so I can decide better handling of libraries which needs loaded and available in root CP at the runtime,8
Provide ability to disable tab completion for specific module options Not all module options are born equal Some are more importantuseful than others and having the more expert ones show up eg in TAB completion is very noisy esp given how JLine2 currently presents the whole stream definition typed so far when doing completion as opposed to just the last bit,0
As a user Id like to have a separate YML file to list the deployment manifest properties so that I dont have to include as part of the stream definition,8
Provide module configuration templates for twitter sources Provide module templates including required property keys but not values for XDMODULECONFIGsourcetwittertwitterproperties Also look for any other packaged modules that have required properties that should be statically configured and we cannot provide defaults The Source modules document should be more clear regarding the configuration of these properties,0
module delete on windows throws exception used module upload for processorpayload-conversion from XD samples All worked well until I tried to delete the module customModule in serversyml was set to xd customModule home filecprojectmymodulehome StackTrace noformat 2015-03-06 015433460 110RELEASE ERROR qtp1891077689-37 restRestController Advice - Caught exception while handling a request javalangIllegalArgumentException Could not delete module processorpayload-c onversion at orgspringframeworkutilAssertisTrueAssertjava65 at orgspringframeworkxddirtmoduleModuleDefinitionServicedeleteMod uleDefinitionServicejava121 at orgspringframeworkxddirtrestModulesControllerdeleteModulesCont rollerjava155 at sunreflectNativeMethodAccessorImplinvoke0Native Method at sunreflectNativeMethodAccessorImplinvokeUnknown Source at sunreflectDelegatingMethodAccessorImplinvokeUnknown Source at javalangreflectMethodinvokeUnknown Source at orgspringframeworkwebmethodsupportInvocableHandlerMethoddoInvok eInvocableHandlerMethodjava221 at orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeF orRequestInvocableHandlerMethodjava137 at orgspringframeworkwebservletmvcmethodannotationServletInvocabl eHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava110 at orgspringframeworkwebservletmvcmethodannotationRequestMappingH andlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava777 at orgspringframeworkwebservletmvcmethodannotationRequestMappingH andlerAdapterhandleInternalRequestMappingHandlerAdapterjava706 at orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapt erhandleAbstractHandlerMethodAdapterjava85 at orgspringframeworkwebservletDispatcherServletdoDispatchDispatch erServletjava943 at orgspringframeworkwebservletDispatcherServletdoServiceDispatche rServletjava877 at orgspringframeworkwebservletFrameworkServletprocessRequestFrame workServletjava966 at orgspringframeworkwebservletFrameworkServletdoDeleteFrameworkSe rvletjava890 at javaxservlethttpHttpServletserviceHttpServletjava761 at orgspringframeworkwebservletFrameworkServletserviceFrameworkSer vletjava842 at javaxservlethttpHttpServletserviceHttpServletjava848 at orgeclipsejettyservletServletHolderhandleServletHolderjava684 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1496 at orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConf igurationApplicationContextHeaderFilterdoFilterInternalEndpointWebMvcAutoConf igurationjava291 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerR equestFilterjava107 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1467 at orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInterna lHiddenHttpMethodFilterjava77 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerR equestFilterjava107 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1467 at orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInter nalHttpPutFormContentFilterjava87 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerR equestFilterjava107 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1467 at orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilter InternalWebRequestTraceFilterjava100 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerR equestFilterjava107 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1467 at orgspringframeworksecuritywebFilterChainProxydoFilterInternalFi lterChainProxyjava186 at orgspringframeworksecuritywebFilterChainProxydoFilterFilterChai nProxyjava160 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1467 at orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfig urationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava90 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerR equestFilterjava107 at orgeclipsejettyservletServletHandlerCachedChaindoFilterServlet Handlerjava1467 at orgeclipsejettyservletServletHandlerdoHandleServletHandlerjava 499 at orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerj ava137 at orgeclipsejettysecuritySecurityHandlerhandleSecurityHandlerjav a557 at orgeclipsejettyserversessionSessionHandlerdoHandleSessionHandl erjava231 at orgeclipsejettyserverhandlerContextHandlerdoHandleContextHandl erjava1086 at orgeclipsejettyservletServletHandlerdoScopeServletHandlerjava 428 at orgeclipsejettyserversessionSessionHandlerdoScopeSessionHandle rjava193 at orgeclipsejettyserverhandlerContextHandlerdoScopeContextHandle rjava1020 at orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerj ava135 at orgeclipsejettyserverhandlerHandlerWrapperhandleHandlerWrapper java116 at orgeclipsejettyserverServerhandleServerjava370 at orgeclipsejettyserverAbstractHttpConnectionhandleRequestAbstrac tHttpConnectionjava494 at orgeclipsejettyserverAbstractHttpConnectionheaderCompleteAbstra ctHttpConnectionjava971 at orgeclipsejettyserverAbstractHttpConnectionRequestHandlerheader CompleteAbstractHttpConnectionjava1033 at orgeclipsejettyhttpHttpParserparseNextHttpParserjava644 at orgeclipsejettyhttpHttpParserparseAvailableHttpParserjava235 at orgeclipsejettyserverAsyncHttpConnectionhandleAsyncHttpConnecti onjava82 at orgeclipsejettyionioSelectChannelEndPointhandleSelectChannelEn dPointjava667 at orgeclipsejettyionioSelectChannelEndPoint1runSelectChannelEnd Pointjava52 at orgeclipsejettyutilthreadQueuedThreadPoolrunJobQueuedThreadPoo ljava608 at orgeclipsejettyutilthreadQueuedThreadPool3runQueuedThreadPool java543 at javalangThreadrunUnknown Source noformat,0
Allow users to set attribute values on a container Allow users to configure arbitrary key value pairs for a container instance that may be referenced in deployment descriptors to target specific container instances,0
The command line for xd-admin and xd-container to support an additional option pipeProtocol that is used to determine the middleware for sending admin requests and data between processing steps The name pipeProtocol is tentative 1 The command line scripts for xd-admin and xd-container would support a --pipeProtocol option with the default being to use Redis Otherwise use xd-singlenode 2 The xd-admin and xd-container scripts will use the value of pipeProtocol to set the java system property xdpipeProtocol when launching the app,0
Classpath issues with gemfire-json-server sink The GemFire client for SpringXD is throwing javalangNoClassDefFoundError for the class comgemstonegemfirecacheclientinternalPingOp after a Stream sinking to gemfire-json-server is destroyed Issue starts after destroying a stream which makes me think we might be unloading the jar files from the classpath while still keeping a connection to the gemfire server Steps to reproduce 1 Create a region in Gemfire to test eg gfshcreate region --nameStocks --typeREPLICATE Member Status ------- ------------------------------------- server1 Region Stocks created on server1 2 Create a simple stream in Spring XD that writes to that region in gemfire-json-server Deploy it for single node and let it run for a few seconds eg XD stream create streamx --definition trigger --fixedDelay3 http-client --urlhttpsqueryyahooapiscomv1publicyqlqselect from yahoofinancequote where symbol in MSFTformatjsonenvstoredatatablesorgalltableswithkeys --httpMethodGET splitter --expressionjsonPathpayloadqueryresultsquote gemfire-json-server --useLocatortrue --hostlocalhost --port10334 --regionNameStocks --keyExpressionpayloadgetFieldSymbol --deploy 3 Destroy the stream eg XD stream destroy streamx 3 Wait a few seconds and check the xd-singlenode output youll see the exception as following error 20150313 110452437 PDT poolTimer-client-pool-14 tid0x15a Unexpected error in pool task comgemstonegemfirecacheclientinternalLiveServerPingerPingTask635c9341 javalangNoClassDefFoundError comgemstonegemfirecacheclientinternalPingOp comgemstonegemfirecacheclientinternalLiveServerPingerPingTaskrun2LiveServerPingerjava83 comgemstonegemfirecacheclientinternalPoolImplPoolTaskrunPoolImpljava1197 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 javautilconcurrentFutureTaskrunAndResetFutureTaskjava308 comgemstonegemfireinternalScheduledThreadPoolExecutorWithKeepAliveDelegatingScheduledFuturerunScheduledThreadPoolExecutorWithKeepAlivejava252 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava745,0
Batch Notification Sample fails to execute paymentwitherrortxt is not present in the project --makeUnique is not available for this command anymore Syntax for http post needs to be updated Need to add a job deploy command or --deploy Throws Exception when deployed stacktrace attached,0
Created Acceptance CI test environment for 10x Create the infrastructure Mongo Hadoop ActiveMQ Gemfire Mysql etc in EC2 for the 102 acceptance tests Retrofit the 102 to use the new infrastructure Create a 102 branch for XD-EC2,0
Basic support for Plugin contributed Module Options Metadata Pending a better approach and extension point see XD-1050 provide a way to factor out common recurring options for modules inputType outputType job parameters,0
User wants the ability to limit the total number of jobs running simultaneously,0
Document how to specify custom-modules location via Environment variable It is possible to specify the location of custom modules via the environment variable XDCUSTOMMODULEHOME which is provided by Spring Boot property key derivation mechanism in this case derived from xdcustomModulehome This allows a user to specify a custom modules location that survives a complete wipe of spring-xd installations,0
dbpassword not being passed when Sqoop job --create called from Spring-XD Batch job Created a single definition Sqoop Job --create statement When processed through Sqoop direct see attach image for props in repos jobname sqoop2 Notice job definition set dbrequirepassword false and has a propname called dbpassword that holds the value for password When same definition is created as a batch job via Spring-XD see image jobname lookupdjob the dbrequirepassword prop is set to TRUE and the dbpassword is not even created as a row This causes a password prompt when trying to execute the job in Sqoop direct that was created via a spring-XD batch job Note the job definition for Spring-XD job contains meta-connect with username and password defined as well as import jdbc --connect username and password When created via Sqoop no Spring-XD password is stored and job is able to execute with no prompt Please see attachment for repository job values Highlighted in yellow is the discrepant property and value attribution Please reach out if there are questions or need further details To automate Spring-XD batch job using Sqoop via Spring we can not be prompted for password Spring-XD Job definition job create sqooplookupdjobv1 --definition sqoop --commandjob --args--create lookupdjob --meta-connect jdbcpostgresqlxxxxxxxxx5433bdluserxxxxxpasswordxxxxxx -- import --connect jdbcoraclethinxxxxxxcomxxxxGDWP --username xxxxx --password xxxxx --query SELECT ROWWID LKUPID TRIMTRANSLATELKUPCD CHR10CHR13 - AS LKUPCD TRIMTRANSLATELKUPDESC CHR10CHR13 - AS LKUPDESC TRIMTRANSLATELKUPTYPE CHR10CHR13 - AS LKUPTYPE TRIMTRANSLATELKUPVAL CHR10CHR13 - AS LKUPVAL SRCSTRTDT SRCENDDT WINSERTDT WUPDATEDT FROM MASTERDATAWLOOKUPD WHERE 11 AND CONDITIONS --incremental append --check-column ROWWID --last-value 10150 --target-dir usermonasj1bdldatasqoopjobtest --num-mappers 1 --fields-terminated-by --append Sqoop Direct Definition sqoop job --create sqoop2 --meta-connect jdbcpostgresqlxxxxxxxxx5433bdluserxxxxxpasswordxxxxxx -- import --connect jdbcoraclethinxxxxxxcomxxxxGDWP --username xxxxx --password xxxxx --query SELECT ROWWID LKUPID TRIMTRANSLATELKUPCD CHR10CHR13 - AS LKUPCD TRIMTRANSLATELKUPDESC CHR10CHR13 - AS LKUPDESC TRIMTRANSLATELKUPTYPE CHR10CHR13 - AS LKUPTYPE TRIMTRANSLATELKUPVAL CHR10CHR13 - AS LKUPVAL SRCSTRTDT SRCENDDT WINSERTDT WUPDATEDT FROM MASTERDATAWLOOKUPD WHERE 11 AND CONDITIONS --incremental append --check-column ROWWID --last-value 10150 --target-dir usermonasj1bdldatasqoopjobtest --num-mappers 1 --fields-terminated-by --append,0
Manual acknowledgement with Kafka bus doesnt work When the kafka message headers are expected to be set with acknowledgement flags to manually acknowledge the messages at the consumer side the message headers are missing,0
Remove launcherxml and transport-launcherxml configuration These are no longer used post boot,0
As a user Id like to use Kafka source through simple consumer API as opposed to high-level so that I can gain full control to offsets and partition assignment deterministically Spike scope - Study simple consumer API functionality - Document findings approach and next steps,8
Prevent submiting jobs that are not currently deployed using Admin UI Job modules Launch and Schedule command buttons are active even if the job module isnt deployed or has been destroyed Get errors like Yikes something bad happened while launching job myjob4 The job named myjob4 is not currently deployed,0
Test sink module in isolation Register the module under test Send a message to the sink using a test source and verify the sink contents - this requires checking an external resource - depends on the sink,0
provide a property on twittersearch to enable the object-to-json transformer Twitter search source should produce JSON or Pojo The Pojo requires a custom wrapper class that is JSON friendly eg zero arg constructor The twittersearch module should have a parameter --json truefalse default true to control the output type,0
Use Deque instead of LinkedList when gathering metrics When profiling metrics we noticed a small improvement when using Deque instead of LinkedList in ExponentialMovingAverageRatio ExponentialMovingAverageRate,0
Update to Reactor 203,0
Support PartitioningBus Properties in the RedisMessageBus PR httpsgithubcomspring-projectsspring-xdpull926,0
As a developer Id like to have a simplified UX around parameters for GPDB so I dont have to escape each parameter The scope is also to test the Sqoop job with SQLServer and GPDB to identify the UX differences,8
Investigate why netty 37 is in xdlib and not 366,0
Documentation typo in JSON SPEL filter In the JSON SPEL Filter twitter example here httpdocsspringiospring-xddocs100M5referencehtmlfilter hashTags should not have a capital T Should be hashtags,0
XD container can not be started before the admin server The job single partitioned step support from singlestep-partitioner-supportxml has the batch job DAOs loaded from batchxml During container startup when the jobExecutionDao bean is initialized it makes the db connection to the underlying batch database which admin server initializes Here is the exception 153003600 INFO main xmlXmlBeanDefinitionReader316 - Loading XML bean definitions from class path resource META-INFspring-xdbatchbatchxml 153006154 WARN main annotationConfigurationClassEnhancer318 - Bean method StepScopeConfigurationstepScope is non-static and returns an object assignable to Springs BeanFactoryPostProcessor interface This will result in a failure to process annotations such as Autowired Resource and PostConstruct within the methods declaring Configuration class Add the static modifier to this method to avoid these container lifecycle issues see Bean Javadoc for complete details 153006705 INFO main supportPostProcessorRegistrationDelegateBeanPostProcessorChecker309 - Bean orgspringframeworkxddirtserverParentConfigurationJmxConfiguration of type class orgspringframeworkxddirtserverParentConfigurationJmxConfiguration is not eligible for getting processed by all BeanPostProcessors for example not eligible for auto-proxying 153007266 INFO main annotationAnnotationMBeanExporter416 - Registering beans for JMX exposure on startup 153007291 INFO main annotationAnnotationMBeanExporter896 - Bean with name XDParentConfigMBeanExporter has been autodetected for JMX exposure 153007299 INFO main annotationAnnotationMBeanExporter659 - Located managed bean XDParentConfigMBeanExporter registering with JMX server as MBean orgspringframeworkintegrationmonitornameXDParentConfigMBeanExportertypeIntegrationMBeanExporter 153009637 INFO main concurrentThreadPoolTaskScheduler165 - Initializing ExecutorService scheduler 155608788 INFO main concurrentThreadPoolTaskScheduler203 - Shutting down ExecutorService scheduler 155608806 INFO main annotationAnnotationMBeanExporter434 - Unregistering JMX-exposed beans on shutdown 155608853 INFO main autoconfigureAutoConfigurationReportLoggingInitializer118 - Error starting ApplicationContext To display the auto-configuration report enabled debug logging start with --debug 155608854 INFO main listenerClasspathLoggingApplicationListener54 - Application failed to start with classpath fileUsersiperumalworkspacespring-xdmodulesprocessorscripts fileUsersiperumalworkspacespring-xdspring-xd-dirtbin fileUsersiperumalworkspacespring-xdspring-xd-testbin fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkintegrationspring-integration-test400M374e696bad60aab349c74f52839eb43ed0e1ce0e2spring-integration-test-400M3jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkintegrationspring-integration-amqp400M332dd5001acffd82391d756cf3b5ba73ca4075aedspring-integration-amqp-400M3jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkintegrationspring-integration-redis400M3ed5e47b6844212bb88c112c559556b4cb3d6b087spring-integration-redis-400M3jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkdataspring-data-hadoop200M49f1acbf66f3a97d42a8f5b00eb0c0cad11562730spring-data-hadoop-200M4jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkdataspring-data-redis111RELEASEe2d5e9cfdaaa3fbcc2a8d4bdbe06daf771cb4e39spring-data-redis-111RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkspring-context401RELEASEcb996939c8d48ae55ec933041f17e7fba4d9e27dspring-context-401RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkspring-context-support401RELEASE94dc23c49a74f3f4b894b29416b08202e5976f49spring-context-support-401RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkspring-tx401RELEASEb93b2c39b09ff858a42db85a0a9a8ce232a6779spring-tx-401RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkspring-test401RELEASE367212c3b84c63a48220efa0fe8e9a3a937fcf68spring-test-401RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21comlambdaworkslettuce2331366615be02807a568c5f2d3a4475a3d27a879a6lettuce-233jar fileUsersiperumalgradlecachesmodules-2files-21orghsqldbhsqldb23093306187b1a782f2b929d12536022185487037d2hsqldb-230jar fileUsersiperumalgradlecachesmodules-2files-21orgapachetomcattomcat-jdbc70423827da9ca05ff115f239a2372bd44cfd729c692dtomcat-jdbc-7042jar fileUsersiperumalgradlecachesmodules-2files-21junitjunit4114e031bb61df09069aeb2bffb4019e7a5034a4ee0junit-411jar fileUsersiperumalgradlecachesmodules-2files-21commons-iocommons-io24b1b6ea3b7e4aa4f492509a4952029cd8e48019adcommons-io-24jar fileUsersiperumalgradlecachesmodules-2files-21orgcodehausgroovygroovy-all210a14306a090eec2fa91017b77ac079361f68e1830groovy-all-210jar fileUsersiperumalgradlecachesmodules-2files-21orghamcresthamcrest-library134785a3c21320980282f9f33d0d1264a69040538fhamcrest-library-13jar fileUsersiperumalgradlecachesmodules-2files-21orghamcresthamcrest-core1342a25dc3219429f0e5d060061f71acb49bf010a0hamcrest-core-13jar fileUsersiperumalgradlecachesmodules-2files-21orgobjenesisobjenesis109b473564e792c2bdf1449da1f0b1b5bff9805704objenesis-10jar fileUsersiperumalgradlecachesmodules-2files-21orgmockitomockito-core195c3264abeea62c4d2f367e21484fbb40c7e256393mockito-core-195jar fileUsersiperumalgradlecachesmodules-2files-21commons-loggingcommons-logging1115043bfebc3db072ed80fbd362e7caf00e885d8aecommons-logging-111jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkspring-core401RELEASEe39774d97c9dadfe49e6dfd16e3868bc1e390554spring-core-401RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkspring-beans401RELEASE605582e95fb62b43fb4a843babdcf739f3497e92spring-beans-401RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21aopallianceaopalliance10235ba8b489512805ac13a8f9ea77a1ca5ebe3e8aopalliance-10jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkspring-aop401RELEASEff68e4cfdbb2be3e8d8a7f34e7cbacc1860dfe75spring-aop-401RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkspring-expression401RELEASE452cb22401e868a1e79677dd22b6a3097fc603faspring-expression-401RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkretryspring-retry103RELEASE33b967f6abaa0a496318bff2ce96e6da6285a54dspring-retry-103RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkspring-messaging401RELEASE829829afd9135368faa1e3a5261404f602a2e939spring-messaging-401RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkintegrationspring-integration-core400M312b445cfa896b906facd2be289adcdfe839f6104spring-integration-core-400M3jar fileUsersiperumalgradlecachesmodules-2files-21orghamcresthamcrest-all1363a21ebc981131004ad02e0434e799fd7f3a8d5ahamcrest-all-13jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkamqpspring-amqp130M2e668db16a4206e96531b978e5978868ba0ebf4e9spring-amqp-130M2jar fileUsersiperumalgradlecachesmodules-2files-21comrabbitmqamqp-client3229e4485e734415e84ea3caea25650f8651f388a3aamqp-client-322jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkamqpspring-rabbit130M2ceb54c437d2d00c3a22d59982922f24fbf78c8aspring-rabbit-130M2jar fileUsersiperumalgradlecachesmodules-2files-21orgslf4jslf4j-api166ce53b0a0e2cfbb27e8a59d38f79a18a5c6a8d2b0slf4j-api-166jar fileUsersiperumalgradlecachesmodules-2files-21orgslf4jjcl-over-slf4j166ec497945fdcaf7fd970ae9931b9bbfaf735d385ejcl-over-slf4j-166jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkspring-jdbc401RELEASE7d46d07d44f56af7cdcbba53ff671c5487f9547spring-jdbc-401RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21commons-clicommons-cli122bf96b7aa8b611c177d329452af1dc933e14501ccommons-cli-12jar fileUsersiperumalgradlecachesmodules-2files-21xmlencxmlenc052d82554efbe65906d83b3d97bd7509289e9db561axmlenc-052jar fileUsersiperumalgradlecachesmodules-2files-21commons-codeccommons-codec144216af16d38465bbab0f3dff8efa14204f7a399acommons-codec-14jar fileUsersiperumalgradlecachesmodules-2files-21commons-httpclientcommons-httpclient301d6364bcc1b2b2aa69d008602d36a700453648560commons-httpclient-301jar fileUsersiperumalgradlecachesmodules-2files-21orgapachecommonscommons-math21b3c4bdc2778ddccceb8da2acec3e37bfa41303e9commons-math-21jar fileUsersiperumalgradlecachesmodules-2files-21commons-collectionscommons-collections321761ea405b9b37ced573d2df0d1e3a4e0f9edc668commons-collections-321jar fileUsersiperumalgradlecachesmodules-2files-21commons-langcommons-lang2416313e02a793435009f1e458fa4af5d879f6fb11commons-lang-24jar fileUsersiperumalgradlecachesmodules-2files-21commons-beanutilscommons-beanutils1705675fd96b29656504b86029551973d60fb41339bcommons-beanutils-170jar fileUsersiperumalgradlecachesmodules-2files-21commons-digestercommons-digester18dc6a73fdbd1fa3f0944e8497c6c872fa21dca37ecommons-digester-18jar fileUsersiperumalgradlecachesmodules-2files-21commons-beanutilscommons-beanutils-core180175dc721f87e4bc5cc0573f990e28c3cf9117508commons-beanutils-core-180jar fileUsersiperumalgradlecachesmodules-2files-21commons-configurationcommons-configuration1632cadde23955d7681b0d94a2715846d20b425235commons-configuration-16jar fileUsersiperumalgradlecachesmodules-2files-21orooro2085592374f834645c4ae250f4c9fbb314c9369d698oro-208jar fileUsersiperumalgradlecachesmodules-2files-21commons-netcommons-net141abb932adb2c10790c1eaa4365d3ac2a1ac7cb700commons-net-141jar fileUsersiperumalgradlecachesmodules-2files-21commons-elcommons-el101df2c042b3f2de0124750241ac6c886dbfa2cc2ccommons-el-10jar fileUsersiperumalgradlecachesmodules-2files-21orgeclipsejdtcore31188c83ce444cf46d02494da37c9fa1eebc9ce9ceacore-311jar fileUsersiperumalgradlecachesmodules-2files-21orgapachehadoophadoop-core1213e5874122a26a735162a380627210779b41bfd59hadoop-core-121jar fileUsersiperumalgradlecachesmodules-2files-21orgapachehadoophadoop-streaming1214baac190cf4cd4a6d085780cbcab1a89493f932bhadoop-streaming-121jar fileUsersiperumalgradlecachesmodules-2files-21orgapachehadoophadoop-tools121b08c16bd0448fbcadab67c4f8df837c094fdc91ehadoop-tools-121jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkdataspring-data-hadoop-core200M4ff4cefb0870d61fdc9efe26d118310c02b5eafbbspring-data-hadoop-core-200M4jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkdataspring-data-hadoop-batch200M447de250d5d9b48ed1319a747e3b06fdc46d939efspring-data-hadoop-batch-200M4jar fileUsersiperumalgradlecachesmodules-2files-21ionettynetty366Finale4e40738ce9bee0a92389cb739c94d7839778647netty-366Finaljar fileUsersiperumalgradlecachesmodules-2files-21orgapachetomcattomcat-juli7042f0049ac94514d69231c41ed96238efb94ffdd9cftomcat-juli-7042jar fileUsersiperumalworkspacespring-xdspring-xd-analyticsbin fileUsersiperumalworkspacespring-xdspring-xd-tuplebin fileUsersiperumalgradlecachesmodules-2files-21comfasterxmljacksoncorejackson-databind2223c8f6018eaa72d43b261181e801e6f8676c16ef6jackson-databind-222jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkbatchspring-batch-infrastructure300BUILD-SNAPSHOTcfaea737589c43c54ff338ae27e1bee477620176spring-batch-infrastructure-300BUILD-SNAPSHOTjar fileUsersiperumalgradlecachesmodules-2files-21comeaiouuiduuid3277ba5105d949cd589aff75400d9f7d3676691a46uuid-32jar fileUsersiperumalgradlecachesmodules-2files-21comfasterxmljacksoncorejackson-annotations222285cb9c666f0f0f3dd8a1be04e1f457eb7b15113jackson-annotations-222jar fileUsersiperumalgradlecachesmodules-2files-21comfasterxmljacksoncorejackson-core222d20be6a5ddd6f8cfd36ebf6dea329873a1c41f1bjackson-core-222jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkdataspring-data-commons162RELEASEe96a0458cdc3179ca70c880f42315bb75df4faf5spring-data-commons-162RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21joda-timejoda-time218f79e353ef77da6710e1f10d34fc3698eaaacbcajoda-time-21jar fileUsersiperumalgradlecachesmodules-2files-21log4jlog4j12175af35056b4d257e4b64b9e8069c0746e8b08629flog4j-1217jar fileUsersiperumalgradlecachesmodules-2files-21orgslf4jjcl-over-slf4j175cd5970bd13fa85f7bed41ca606d6daf7cbf1365jcl-over-slf4j-175jar fileUsersiperumalgradlecachesmodules-2files-21orgslf4jslf4j-log4j121756edffc576ce104ec769d954618764f39f0f0f10dslf4j-log4j12-175jar fileUsersiperumalgradlecachesmodules-2files-21nljqnoequalsverifierequalsverifier11360cd685f314a9cebfd0595d88fea45fba2f47918equalsverifier-113jar fileUsersiperumalgradlecachesmodules-2files-21orgslf4jslf4j-api1756b262da268f8ad9eff941b25503a9198f0a0ac93slf4j-api-175jar fileUsersiperumalgradlecachesmodules-2files-21orgobjenesisobjenesis1163db1176f16448172611266154e4f6d39a0e1e68objenesis-11jar fileUsersiperumalgradlecachesmodules-2files-21cglibcglib-nodep2259afed7ab65e7ec6585d5bc60556c3cbd203532bcglib-nodep-22jar fileUsersiperumalworkspacespring-xdspring-xd-rest-domainbin fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkhateoasspring-hateoas080RELEASE819c25e1ff12b7fca483d76b4e7d20221f621fcdspring-hateoas-080RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkbatchspring-batch-admin-manager130M15afc7442417af8c46ae51480ed2b83943283d449spring-batch-admin-manager-130M1jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkbatchspring-batch-core300BUILD-SNAPSHOT8168f58716cd305040eaa87c82dc61822b03415cspring-batch-core-300BUILD-SNAPSHOTjar fileUsersiperumalgradlecachesmodules-2files-21orgcodehausjacksonjackson-core-asl19133c304d70f42f832e0a86d45bd437f692129299a4jackson-core-asl-1913jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkspring-web401RELEASE2ace92025f042e1d3ddfdbba093172e3572ac130spring-web-401RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkspring-webmvc401RELEASE2dbc91a6413115f7ffbe94f0fa9bc9fda3281d90spring-webmvc-401RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21orgobjenesisobjenesis13dc13ae4faca6df981fc7aeb5a522d9db446d5d50objenesis-13jar fileUsersiperumalgradlecachesmodules-2files-21orgslf4jslf4j-api17281d61b7f33ebeab314e07de0cc596f8e858d97slf4j-api-172jar fileUsersiperumalgradlecachesmodules-2files-21orgaspectjaspectjrt166ff58f520e1a304b8a02b8cea8b96b1b8e5b25b0aspectjrt-166jar fileUsersiperumalgradlecachesmodules-2files-21orgaspectjaspectjweaver166c0383be877cfa4ec6b62202c942a89a6264a2be6aspectjweaver-166jar fileUsersiperumalgradlecachesmodules-2files-21commons-poolcommons-pool133231230c1d7631b66a74d1c4653cfd65a6f9ea0commons-pool-13jar fileUsersiperumalgradlecachesmodules-2files-21commons-dbcpcommons-dbcp1224fd4c6110e9bca3a655b717eb2e5920febb8403dcommons-dbcp-122jar fileUsersiperumalgradlecachesmodules-2files-21commons-iocommons-io14a8762d07e76cfde2395257a5da47ba7c1dbd3dcecommons-io-14jar fileUsersiperumalgradlecachesmodules-2files-21commons-langcommons-lang214763ecc9d78781c915c07eb03e90572c7ff04205commons-lang-21jar fileUsersiperumalgradlecachesmodules-2files-21commons-fileuploadcommons-fileupload121384faa82e193d4e4b0546059ca09572654bc3970commons-fileupload-121jar fileUsersiperumalgradlecachesmodules-2files-21netsfehcacheehcache-core230e59473c71a31e8e19da4fbc7028585c8ed51d69fehcache-core-230jar fileUsersiperumalgradlecachesmodules-2files-21commons-collectionscommons-collections32f951934aa5ae5a88d7e6dfaa6d32307d834a88becommons-collections-32jar fileUsersiperumalgradlecachesmodules-2files-21orgfreemarkerfreemarker2315c8cfe522476fcec8da5c980d58bf62d6ab0cf27cfreemarker-2315jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkbatchspring-batch-admin-resources130M1bdf7d5afc02397385fce8731409f606e54d4d033spring-batch-admin-resources-130M1jar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkretryspring-retry102RELEASEd673c90a9fd8f0de5f20d53d61047849f707f42bspring-retry-102RELEASEjar fileUsersiperumalgradlecachesmodules-2files-21javaxbatchjavaxbatch-api1065392d027a6eb369fd9fcd1b75cae150e25ac03cjavaxbatch-api-10jar fileUsersiperumalgradlecachesmodules-2files-21comibmjbatchcomibmjbatch-tck-spi108ac869b0a60bff1a15eba0fb6398942410396938comibmjbatch-tck-spi-10jar fileUsersiperumalgradlecachesmodules-2files-21xpp3xpp3min114c19d4e90b43059058f6e056f794f0ea4030d60b86xpp3min-114cjar fileUsersiperumalgradlecachesmodules-2files-21comthoughtworksxstreamxstream133f755b1a46744302712b1b962c4ab64de392f477xstream-13jar fileUsersiperumalgradlecachesmodules-2files-21orgcodehausjettisonjettison111a01a2a1218fcf9faa2cc2a6ced025bdea687262jettison-11jar fileUsersiperumalworkspacespring-xdspring-xd-modulebin fileUsersiperumalworkspacespring-xdspring-xd-module-spibin fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkbootspring-boot-autoconfigure100RC17830d0dd26f75841d8b5c2c72c42b864b1192ddbspring-boot-autoconfigure-100RC1jar fileUsersiperumalgradlecachesmodules-2files-21javaxvalidationvalidation-api100GAb6bd7f9d78f6fdaa3c37dae18a4bd298915f328evalidation-api-100GAjar fileUsersiperumalgradlecachesmodules-2files-21orghibernatehibernate-validator431Final49b31d8ea51fa21cc78a89e9d4ddb11d6bfb4669hibernate-validator-431Finaljar fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkbootspring-boot100RC17e53b72a368c495a482d3a213ad6338f8f7afcfaspring-boot-100RC1jar fileUsersiperumalgradlecachesmodules-2files-21orgjbossloggingjboss-logging310CR228725380c07f917ace4e511db21cc45e9ae5a72bjboss-logging-310CR2jar fileUsersiperumalworkspacespring-xdspring-xd-hadoopbin fileUsersiperumalgradlecachesmodules-2files-21orgspringframeworkdataspring-data-hadoop-store200M41d3d691c0e6952ba26724339668e17040c368683spring-data-hadoop-store-200M4jar fileUsersiperumalgradlecachesmodules-2files-21orgxerialsnappysnappy-java11071c46e2313e9288,0
Vary consumers size DB-4 Using a single producer message size of 1000 bytes Pretch of 100 Send 1M messages and increase or decrease so that a given test iteration takes about 2 minutes Vary the number of consumers Measure the msgsec rate and calculate the data transfer rate in MBsec Number of consumers 1 2 4 6 10 50 During the measurements look at the RabbitMQ Admin UI and see if the queue is backing up,0
Create tests for StreamJob deployments path data verification Based on the discussion here httpsgithubcomspring-projectsspring-xdpull852issuecomment-43356579 we would like to have tests created for verifying the StreamJob deployments path data,0
User wants to restart failed job from SCD User wants to restart a failed Job via the CLI ie task relaunch job-instance id,0
Dont perform error-level logging for normal application behavior in batch admin functionality Assumption The batch job wordCountJob does not exist Executing the REST endpoint httplocalhost9393batchjobswordCountJobexecutions yields the correct response code errors xmlnsatomhttpwwww3org2005Atom error logrefNoSuchBatchJobException message Batch Job with the name wordCountJobjob doesnt exist message error errors code One could argue though that this is technically not an error but a statusapplication message no However the consolelog logs at error level with a full stacktrace I think the full stacktrace should only be available when debugging is allowed In normal mode I think we should log only at info or warn level without the full stacktrace,0
Create separate distribution for shell Create zip distribution for shell,0
As a user Id like to refer to the documentation so I can configure HDFS backed module registry XD-2287 as recommended,1
Yarn Environment for XD Acceptance Tests Create an 26 Yarn Environment on EC2 for which XD can be deployed for acceptance tests,0
Support exponential moving average in RichGauge This could easily be supported in the existing gauge by adding a setAlpha method to RichGaugeService and adding the extra parameter alpha to the gauge data httpsenwikipediaorgwikiExponentialmovingaverage If not set it would default to the current behaviour simple mean otherwise it would calculate the exponential moving average in place of the mean,0
As a user I want to know how to enable and configure LDAP as an authentication provider for the administration server so that I can set up my security configuration accordingly,1
Review critical sonar warning httpssonarspringiodrilldownissuesorgspringframeworkxdspring-xdseverityCRITICAL,0
Add paging and sorting to Field Value Counter API see discussion at httpsgithubcomspring-projectsspring-xdcommit2f0e80b5e337b71c9c70de510a44d2f050d10fa7,0
As a s-c-d developer Id like to publish the s-c-d image to DockerHub so I can incrementally push the latest commits to the remote location,1
Add config dir to classpath to support custom properties-locations The transform filter and script processor modules support passing in a properties-location for script variables We need a default location on the classpath for users to provide custom properties files,0
Add starting of newly build XD server running of smoketest bash script and killing of XD server to CI test,0
Upgrade to Spring Boot 11 SNAPSHOT,0
Add additional embedded servlet container config to load static UI resources Configure embedded servlet container needs to know where to load the UI code,0
Shell - Handle Pagination This may be broken down into 2 issues First of all we need to define the proper UI interaction for the CLI to deal with pagination and then of course the actual implementation,0
Provide an option --deletetrue on the File Source Provide an option --deletetrue on the File Source If the file reading is not ref an option --deletetrue will remove the file once it was read,0
multiple streams with same port for HTTP Source Using a singleXD VM I can create multiple streams with the same http port Stream Name Stream Definition Status ----------- ----------------- ------ xdstream create --definition http --port8081file --dirtmptest3 --name test1 --deploy Created and deployed new stream test1 xdstream create --definition http --port8081file --dirtmptest3 --name test1 --deploy Created and deployed new stream test1 xdstream create --definition http --port8081file --dirtmptest3 --name test2 --deploy Created and deployed new stream test2 xdstream create --definition http --port8081file --dirtmptest3 --name test3 --deploy Created and deployed new stream test3 xdstream list Stream Name Stream Definition Status ----------- -------------------------------------- -------- test1 http --port8081file --dirtmptest3 deployed test2 http --port8081file --dirtmptest3 deployed test3 http --port8081file --dirtmptest3 deployed ISSUES 1 No error is returned for the duplicate use of the port In M5 an error was returned 2 The status shows as deployed for all three 3 Even though there are three streams Only the first stream is active I can post to the first stream that was declared and it will successfully post to the directory If I post to the remaining streams I dont get an error and I no data is written to the flle 4 If I remove the working stream the remaining stream still dont work,0
Upon a container departure redeployment of batch job fails on an existing container When there are multiple containers A B and C and a batch job is deployed into one of the containers A When the container A goes down the admin server tries re-deploy the job module that was deployed in container A into other matching container But when the re-deployment happens it tries to update the distributed job locator as if a new job is being deployed and following exception is thrown 171338811 ERROR DeploymentsPathChildrenCache-0 cachePathChildrenCache550 - javalangRuntimeException orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name job Post-processing of the FactoryBeans object failed nested exception is orgspringframeworkxddirtjobBatchJobAlreadyExistsException Batch Job with the name myjob3 already exists orgspringframeworkxddirtserverContainerRegistrardeployJobContainerRegistrarjava411 orgspringframeworkxddirtserverContainerRegistraronChildAddedContainerRegistrarjava355 orgspringframeworkxddirtserverContainerRegistraraccess8ContainerRegistrarjava349 orgspringframeworkxddirtserverContainerRegistrarDeploymentListenerchildEventContainerRegistrarjava695 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava494 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava488 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava253 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava485 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache11runPathChildrenCachejava755 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskSyncinnerRunFutureTaskjava334 javautilconcurrentFutureTaskrunFutureTaskjava166 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskSyncinnerRunFutureTaskjava334 javautilconcurrentFutureTaskrunFutureTaskjava166 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava722 Caused by orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name job Post-processing of the FactoryBeans object failed nested exception is orgspringframeworkxddirtjobBatchJobAlreadyExistsException Batch Job with the name myjob3 already exists orgspringframeworkbeansfactorysupportFactoryBeanRegistrySupportdoGetObjectFromFactoryBeanFactoryBeanRegistrySupportjava167 orgspringframeworkbeansfactorysupportFactoryBeanRegistrySupportgetObjectFromFactoryBeanFactoryBeanRegistrySupportjava103 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetObjectForBeanInstanceAbstractBeanFactoryjava1514 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava252 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava195 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava699 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava760 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava482 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava648 orgspringframeworkbootSpringApplicationrunSpringApplicationjava311 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava130 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava241 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava186 orgspringframeworkxddirtmoduleModuleDeployerdeployAndStoreModuleDeployerjava176 orgspringframeworkxddirtmoduleModuleDeployerdeployAndStoreModuleDeployerjava166 orgspringframeworkxddirtserverContainerRegistrardeployModuleContainerRegistrarjava230 orgspringframeworkxddirtserverContainerRegistrardeployJobContainerRegistrarjava399 20 more Caused by orgspringframeworkxddirtjobBatchJobAlreadyExistsException Batch Job with the name myjob3 already exists orgspringframeworkxddirtpluginsjobDistributedJobLocatoraddJobDistributedJobLocatorjava114 orgspringframeworkxddirtpluginsjobBatchJobRegistryBeanPostProcessorpostProcessAfterInitializationBatchJobRegistryBeanPostProcessorjava106 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryapplyBeanPostProcessorsAfterInitializationAbstractAutowireCapableBeanFactoryjava421 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorypostProcessObjectFromFactoryBeanAbstractAutowireCapableBeanFactoryjava1698 orgspringframeworkbeansfactorysupportFactoryBeanRegistrySupportdoGetObjectFromFactoryBeanFactoryBeanRegistrySupportjava164 36 more,0
Add new reactor tcp module A reactor based TCP module that would support some basic CODECS Should evaluate if this new TCP module would subsume the current reactor-syslog module functionality or if the reactor-syslog module should be enhancedupgradted,0
Module count not respected when label is used code xd stream create test --definition http t1transform --expressionpayload log xdstream deploy test --properties modulet1count2 Deployed stream test xdruntime modules Module Id Container Id Options Deployment Properties Unit status ------------------- ------------------------------------ ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ------------------------------------------------------------------------------------------ ----------- testprocessort11 393d3af0-68e8-49b2-8601-da063cfbf98a validtrue expressionpayload consumersequence1 producernextmodulecount1 count1 consumercount1 sequence1 deployed testsinklog1 f6bb3189-9c0e-44e8-962b-025e2288ffe3 nametest expressionpayload levelINFO consumersequence1 count1 consumercount1 sequence1 deployed testsourcehttp1 f6bb3189-9c0e-44e8-962b-025e2288ffe3 sslPropertiesLocationclasspathhttpSSLproperties maxContentLength1048576 port9000 messageConverterClassorgspringframeworkintegrationxhttpNettyInboundMessageConverter httpsfalse producernextmodulecount1 count1 sequence1 deployed code Works fine without the label code xdstream destroy test Destroyed stream test xdstream create test --definition http transform --expressionpayload log Created new stream test xdstream deploy test --properties moduletransformcount2 Deployed stream test xdruntime modules Module Id Container Id Options Deployment Properties Unit status -------------------------- ------------------------------------ ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ------------------------------------------------------------------------------------------ ----------- testprocessortransform1 f6bb3189-9c0e-44e8-962b-025e2288ffe3 validtrue expressionpayload consumersequence1 producernextmodulecount1 count2 consumercount2 sequence1 deployed testprocessortransform2 393d3af0-68e8-49b2-8601-da063cfbf98a validtrue expressionpayload consumersequence2 producernextmodulecount1 count2 consumercount2 sequence2 deployed testsinklog1 393d3af0-68e8-49b2-8601-da063cfbf98a nametest expressionpayload levelINFO consumersequence1 count1 consumercount1 sequence1 deployed testsourcehttp1 f6bb3189-9c0e-44e8-962b-025e2288ffe3 sslPropertiesLocationclasspathhttpSSLproperties maxContentLength1048576 port9000 messageConverterClassorgspringframeworkintegrationxhttpNettyInboundMessageConverter httpsfalse producernextmodulecount2 count1 sequence1 deployed code,0
Links in asciidoctor generated HTMLdocbook documentation are broken The issue arises because the linkdocumentLabel asciidoc macro is meant for external documents and creates ulink in docbook a hrefdocument in html whereas we want link linkendanchor a hrefdocanchor resp We also want it to continue working in github live view I guess what could work is to have the macro either override the link macro or create our own if github supports that that looks like linkdocumentanchorLabel the anchor works out of the box in asciidoc and should work in github but override it for the html and docbook backends to render to the correct form The thing is there are several ways to createoverride macros and templates they render to some of which make sense to our setup - having asciidocconf in the directory of the processed document httpasciidocorguserguidehtmlX27 - having docbookconfhtmlconf in the directory of the processed document httpasciidocorguserguidehtmlX27 - defining macros using attributes httpasciidocorguserguidehtmlsettingconfigurationentries I tried all of those but to no avail These DO WORK with plain asciidoc but not with our toolchain Dont know if the problem is with asciidocTOR or with the gradle wrapper though,0
As a developer Id like to integrate with Spring Data repository thats backed by Kafka changelog so I can leverage the benefits of local data affinity off-heap in order to run stateful stream processing logic,8
Move Redis Rule to a separate repo As an s-c-d developer Id like to move redis Rule to a separate repo so I can consume the test fixtures in different projects,0
Enable shutdown containers from admin server When the container starts up it has a random http port for management configurations If the container has management port enabled then we can store it as container attribute If the admin can reach out to the container on that port then we can provide an option to shutdown container from the admin server,0
Update Docker Versions Update the current docker images to 110 Release,0
As a user Id like to clean up message bus resources associated with the stream so that when the stream is destroyed so does the coupled queuestopics,3
Support groups container attribute A container instance may be designated as belonging to a group The end user may define this attribute using yaml config as xdcontainergroupscomma delimited string or an environment variable or --groups command line argument,0
Create TaskLauncher h2 Narrative As Spring XD I will be able to launch Spring Boot jar files as Diego Tasks h2 Back story The TaskLauncher will be responsible for listening for launch requests looking up the definition in the TaskDescriptorRepository and launching it The first implementation of this would be a Receptor based implementation See httpsdocsgooglecomdocumentd1q964adRCA-kJkei0GBToJHLXJJTV7TaTpQT0ymsbcedit,0
Remove mr1 jar from cdh5 hadoop build There is an hadoop-core-250-mr1-cdh533jar in the libcdh5 directory - we need to remove that from the dist,0
Improve stream processing capabilities,0
Channel Registry,0
First class JSON Path support Similar to xpath with XML there are now some initial support in SI that enable the use of filterrouters based on JSON Path expressions That support needs to be reviewed and then brought up to the level of exposure in Spring XD so that routerfilter modules could use JSON Path json-path-filterrouter are components that need to be created perhaps others This story needs to be broken down further,0
Investigate missing stepExecutions in JobRepositorygetLastJobExecution When the job is run with its jobParameters by SimpleJobLauncher its lastJobExecutions stepExecutions are checked for UNKNOWN status to throw JobRestartException It looks like the stepExecutions for the lastJobExecution are never set and the collection stepExecutions is not fetched from job repository Hence not sure if the following condition in SimpleJobLaunchers runfinal Job job final JobParameters jobParameters would ever get executed for StepExecution execution lastExecutiongetStepExecutions if executiongetStatus BatchStatusUNKNOWN throw throw new JobRestartExceptionStep executiongetStepName is of status UNKNOWN end if end for,0
Test scripts on windows that use XDMODULECONFIGLOCATIONNAME,0
Add Timestamp to XD Message History I dont recall why this commit httpsgithubcomgaryrussellspring-xdcommitba15a1390f7e448dbc723ee76a45c2e239e0994e was not applied to master but having the timestamp for each step in the history will be useful See this github issue httpsgithubcomspring-projectsspring-xd-modulesissues24issuecomment-154436643,0
As a developer Id like to create a example to demonstrate JDBC to HDFS data movement,8
Disable MongoDB boot autoconfiguration at XD runtime XD runtime admin container and singlenode have MongoDB boot autoconfiguration enabled This spins off MongoDB client and thereby the cleaner thread running on all these runtime The MongoDB based modules wont have any impact when we disable this autoconfiguration,0
XD should use same hadoop security keys as Spring for Apache Hadoop For kerberos and other security related settings we use keys like springhadoopuserPrincipal mentioned in httpsgithubcomspring-projectsspring-xdwikiHadoop-Kerberos However when we added boot config props to shdp we used a sub keys like springhadoopsecurityuserPrincipal Itd be good if wed fix these to be same in both XD and SHDP not to cause confusion,0
Support --reftruefalse for sftp source The file and ftp sources allow working with either the javaioFile or its contents For consistency the sftp source should support the same mechanism,0
Vary message size EC-DB-2 Use a single producer single consumer prefetch size 50 Send 1M messages and increase or decrease so that a given test iteration takes about 2 minutes Vary the message size and measure the msgsec rate and calculate data transfer rate in MBsec Message Sizes 100 bytes 1000 10000 100000 During the measurements look at the RabbitMQ Admin UI and see if the queue is backing up,0
As a Spring XD developer Id like to move mqtt module from XD to s-c-s repo so I can use it as source to build streaming pipeline,2
Ambari plugin doesnt work with securityenabled It seems like springxdshell will pull jhs principal and keytab from mapred-sitexml When springxdshell is installed in edge node Amabri returns cant find jhs keytab and failed Details herehttpsgithubcomspring-projectsspring-xd-ambariissues8,0
Migrate repositories to ZooKeeper all state about the running system containers streams and jobs should be available via ZK and ultimately the --store option should not be needed 1 Refactor ModuleDefinitionRepository to use ZooKeeper remove RedisModuleDefinitionRepository remove InMemoryModuleDefinitionRepository 2 Refactor ModuleDependencyRepository to use ZooKeeper remove RedisModuleDependencyRepository remove InMemoryModuleDependencyRepository 3 Refactor RuntimeModuleInfoRepository to use ZooKeeper rename ModuleMetadata remove RedisRuntimeModuleInfoRepository remove AbstractRedisRuntimeModuleInfoRepository remove InMemoryRuntimeModuleInfoRepository 4 Refactor RuntimeContainerModuleInfoRepository to use ZooKeeper rename ContainerMetadata remove RedisRuntimeContainerModuleInfoRepository remove InMemoryRuntimeContainerModuleInfoRepository 5 Remove support for --store remove the memory-storexml and the redis-storexml instead include just one repositoriesxml in shared server config remove the associated property key and the Options properties 6 Remove the events and listeners that were being used,0
Remove toStringTransformer from tcp Source Add Binary Support to the http Source The TCP source unconditionally converts to String This prevents binary transfers Remove the transformer if the user wants a String she can use tcp --outputTypetextplaincharsetUTF-8 assuming the byte stream has valid UTF-8 encoding Another option would be to add a --binary option but since conversion can already handle it its probably better to use that On the other hand a --binary option would enable backwards compatibility The http source also unconditionally converts to String,0
Modularize XD UI From httpsjiraspringsourceorgbrowseXD-1231 we understand the importance of modularizing client side javascript code This story tracks modularization of XD UI,0
We no longer validate the --hadoopDistro options in the xd scripts We no longer validate the --hadoopDistro options in the xd scripts Seem sthe classes doing this validation were removed for boot We do this validation in the xd-shell script,0
Rename XDContainer and associated classes to Node Rename XDContainer ContainerMain ContainerLauncher ContainerLauncherFactory and any variable or methodNames bean names etc that refer to container in favor of the term Node Eliminate the dirtcontainer package and move Node into server,0
When creating a job with the fixed-delay parameter in the shell command fails Need to change the name from fixed-delay to fixeddelay or fixedDelay System rejects the -,0
Setting active profiles drops contiaineradmin profile When setting an active property via SPRINGPROFILESACTIVE environment variable the profile set ContainerServerApplication or AdminServerApplication is ignored ConfigFileApplicationListener in spring boot has an if else in the load method which skips adding the additional properties added to the StandardEnvironment if the environment variable exists This could be a bug for Spring Boot but I wasnt sure if the mutual exclusion was intentional Additionally it would be nice to know when this feature is included in spring xd if it is a spring boot bug,0
Servers not finding logging file 123043930 WARN main loggingLoggingApplicationListener - Logging environment value filedataprojectsspring-xdbuilddistspring-xdxdconfigxd-container-loggerproperties cannot be opened and will be ignored There are extra slashes in there probably due to some recent changes related to xdconfig location in the scripts,0
As a developer Id like to create a gpload tasklet so I can ingest data from various sources into GPDB in an efficient manner,5
Reorganize OOTB module list in docs Sort alphabetically nest Available modules section appropriately Optionally move to a whole different PART in reference doc,0
Make Enum Conversions for ModuleOptions more lenient If you have a an option --modetextLine presently the enum MUST be named textLine I think it would improve the user-experience if we allowed users to pass in values such as --modetextLine --modetextline --modeTEXTLINE,0
Update HDFS sink to use unique id GUID as part of file name HDFS sink needs to have unique identifier for container id added as part of file name Part of the file name in the directory will be the container id GUID - like base-pathlogfile-GUID-1txt,0
Change default date formats to be yyyy-MM-dd We have some places where we us a default data format specified as yyyyMMdd In Spring for Apache Hadoop we use yyyy-MM-dd for partitioning path expressions This seems more in line with ISO standard date format For consistency we should have both SHDP and XD use the same default format,0
Add Partitioned Job Integration Tests Using Other Bus Implementations JobCommandTests in xd-shell only uses a LocalMessageBus so the problem in XD-2323 was not discovered until a manual integration test was executed At a minimum JobCommandTeststestLaunchPartitionedJob should be run with all bus implementations,0
Update to Spring AMQP 132 If the rabbit source receives a message it cant convert a MessageConversionException is thrown and the message is rejected and requeued causing an endless loop Add an ErrorHandler to the inbound adapter to detect and convert MCE to AmqpRejectAndDontRequeueException Also consider adding a retry interceptor to do the same for exceptions in modules when using local transport,0
Add Spring Retry to Rabbit Message Bus Log and purge bad messages,0
Rabbit Source - Make Default QueueName Stream Name Consistency with JMS Source,0
An error message occurs about the shortDescription header-enricher Here is an error I got using the header-enricher from spring-xd-modules codejava Field error in object info on field shortDescription rejected value A Header Enricher to set message headers in a stream codes PatterninfoshortDescriptionPatternshortDescriptionPatternjavalangStringPattern arguments orgspringframeworkcontextsupportDefaultMessageSourceResolvable codes infoshortDescriptionshortDescription arguments default message shortDescriptionLjavaxvalidationconstraintsPatternFlag11eeec65pIsUppercase default message Short description must start with a capital letter and end with a dot code And if I look the config properties indeed short description doesnt end with a dot codejava infoshortDescription A Header Enricher to set message headers in a stream code,0
XD-EC2 needs to provide ability to use a preinstalled zip vs downloading from s3 Current Behavior Currently XD-EC2 downloads an XD zip file from the location specified by the xd-dist-url after verifying that the file is accessible,0
Create SI components that wrap Reactors TCP server,0
RabbitMQ Dead Letter for TAP not deleted If automatic binding of dead letter is enabled for rabbit mq and taps are deployed anytime the tap is undeployed the dead letter for that tap still remains The tap uses a unique name and the queue for that is automatically deleted but the dead letter queue for it is not This problem becomes worse when containers are running in yarn and may not live for long periods of time Many dead letter queues for taps can become overwhelming,0
TAB completion for existing entities Provide Shell TAB completion when referencing an existing entity,0
HDFS ItemWriter Base integration of core HDFS writer functionality with Spring Batch,0
Update the EC2 deployer EC2 Deployer Needs to change its configuration behavior to use environment variables vs the property files Remove ConfigureSystem class since we will use environment variables instead Allow users to set environment variables via the xd-ec2 properties If properties are not present use those that are available in the applicationyml Utilize JClouds environment variable setup features to implement this behavior,0
Modules sinks processors sources should be able to be easily tested inside the IDE using JUnit,0
As a developer Id like to port Log module from XD to s-c-s repo so I can use it as sink modules to build streaming pipeline,2
DSL parser that reads both stream and job definitions from multi line definitions The story XD-2993 addresses the DSL parser to read the multi line stream definitions We need to support adding multi line parser support for with the mixture of both streamjob definitions As a developer I would setup job definition and have a stream definition that triggers the job in the same multi line content,0
Add spring-xd-exec directory to Git repo Without the directory Spring XD cannot be imported into STS using its own Gradle support,0
Gradle Import Broken by Hadoop Pseudo Projects When importing Spring-XD as a gradle project in STS while building the model we get Root exception javalangIllegalArgumentException Project location doesnt exist spring-xdspring-xd-hadoophadoop11 gradlew eclipse creates these directories but the plugin needs them before running that task The problem seems to be that these projects are not really projects Perhaps a quick fix would be to commit these directories with a dummy file,0
As a developer Id like to run acceptance test coverage in Windows so that I can evaluate XD functionalities The scope is to provision Windows image in EC2 and run acceptance test in the environment Potentially also try to create this as CI build,3
Investigate job event listeners when the job is created as java config When the job module is configured using java config there seems to be some issue with the way out of the box job event listeners are created Please see the discussion here httpsgithubcomspring-projectsspring-xdpull1506,0
Display a Field Value Counter,0
Refactor the Module and Container Repositories All of the following are currently defined in META-INFspring-xdinternalrepositoriesxml among others like StreamStreamDefinition and JobJobDefinition repos code combine some of these in repositoriesxml and reconsider the use of Repository abstractions everywhere bean idcontainerMetadataRepository classorgspringframeworkxddirtcontainerstoreZooKeeperContainerMetadataRepository bean idmoduleMetadataRepository classorgspringframeworkxddirtmodulestoreZooKeeperModuleMetadataRepository bean idmoduleDependencyRepository classorgspringframeworkxddirtmodulestoreZooKeeperModuleDependencyRepository bean idmoduleDefinitionRepository classorgspringframeworkxddirtmodulestoreZooKeeperModuleDefinitionRepository code At the very least the Module repositories could be combined and also we should remove ModuleDefinitionRepositoryUtils that provides static utility methods since we no longer need that for reuse across multiple repo impls Finally we should reconsider the use of actual Repository interfaces for these since in most cases there are only one or two methods being called Thus its not necessary to support the full range of CRUD operations for which those Repository interfaces are intended,0
As a user Id like to refer to the documentation so that I can connect to Sqoop as recommended and create job definition based on the exposed metadata options,1
JobDeployer hides root exceptions on failure When deploying jobs the following code line 103 hides the root cause of deployment failure if exceptionClassNameequalsBEANCREATIONEXCEPTION exceptionClassNameequalsBEANDEFINITIONEXEPTION throw new MissingRequiredDefinitionExceptiondefinitiongetName causegetMessage For example orgspringframeworkxddirtstreamMissingRequiredDefinitionException Error creating bean with name dataSourceInitializer defined in file UserslukeWorkspring-xdbuilddistspring-xdxdmodulesjobhdfsjdbcconfighdfsjdbcxml Cannot resolve reference to bean databasePopulator while setting bean property databasePopulator nested exception is orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name databasePopulator defined in file UserslukeWorkspring-xdbuilddistspring-xdxdmodulesjobhdfsjdbcconfighdfsjdbcxml Initialization of bean failed nested exception is javalangNullPointerException orgspringframeworkxddirtstreamJobDeployerdeployJobDeployerjava103 orgspringframeworkxddirtstreamJobDeployerdeployJobDeployerjava67 orgspringframeworkxddirtrestXDControllersaveXDControllerjava242,0
Create a new Kerberos ticket instead of renew the current one Running Spring-XD singlenode with a kerberized hadoop cluster on CDH 532 with JDK 17 and JCE 17 The kerberos ticket policies are expiration 24 hours renew 7 days I need to keep the Spring XD server running constantly because my flows are always waiting for incoming files to be ingested into the HDFS but the kerberos session expires if there arent jobs to run before the expiration date The expiration policies cant be changed due internal company policies Is there a way which Spring XD can generate a new ticket instead of renew the current one when a job or stream start executing The Spring XD server has configured the hadoopproperties like Use serversyml to change URI for namenode You can add additional properties in this file dfsnamenodekerberosprincipalhdfsHOSTEDACOMPANYCOM yarnresourcemanagerprincipalyarnHOSTEDACOMPANYCOM yarnapplicationclasspathoptclouderaparcelsCDHlibhadoopoptclouderaparcelsCDHlibhadoopliboptclouderaparcelsCDHlibhadoop-hdfsoptclouderaparcelsCDHlibhadoop-hdfsliboptclouderaparcelsCDHlibhadoop-yarnoptclouderaparcelsCDHlibhadoop-yarnliboptclouderaparcelsCDHlibhadoop-mapreduceoptclouderaparcelsCDHlibhadoop-mapreducelib hadoopsecurityauthorizationtrue hadoopsecurityauthenticationkerberos springhadoopuserKeytabfileexporthomeuseruserkeytab springhadoopuserPrincipaluserERSCOMPANYCOM Connecting to Kerberized Hadoop Spring XD doc configuration Appendix D springhadoopsecurityauthMethodkerberos springhadoopsecurityuserKeytabexporthomeuseruserkeytab springhadoopsecurityuserPrincipaluserERSCOMPANYCOM springhadoopsecuritynamenodePrincipalhdfsHOSTEDACOMPANYCOM springhadoopsecurityrmManagerPrincipalyarnHOSTEDACOMPANYCOM,0
Use External Connection Factory in TCP Syslog Source WARN log emitted because the embedded connection factory does not get an application event publisher Will be fixed in SI M3 INT-3107,0
Fix incorrect IP Address associated with containers The XD Container IP address displayed on both singlenode and Distributed modes are incorrect both on Shell as well as Admin-UI Example Noticed IP address as 101010 Following function in RuntimeUtilshttpdocsspringioautorepodocsspring-xd101RELEASEapiorgspringframeworkxddirtutilRuntimeUtilshtml could be flawed code public static String getIpAddress try forEnumerationNetworkInterface enumNic NetworkInterfacegetNetworkInterfaces enumNichasMoreElements NetworkInterface ifc enumNicnextElement if ifcisUp for EnumerationInetAddress enumAddr ifcgetInetAddresses enumAddrhasMoreElements InetAddress address enumAddrnextElement if address instanceof Inet4Address addressisLoopbackAddress return addressgetHostAddress catch IOException e ignore return unknown code,0
Documentation on the module system and how to contribute new modules For people who are familiar with SpringSpring Integration provide documents that show how to add additional input sourcessinks,0
Vary queue number on 32 core machine ECB-8 Rerun test XD-2278 on a EC2 32 core machine and see when we max out,0
As a developer Id like to continue XD-on-LatticeDiego PoC and will be focused on the design of a pluggable SPI so it is more generally applicable than Lattice with the Receptor API being just one implementation option,8
Refactor StreamParser to return a StreamDefinition code StreamDefinition sd streamParserparsename dslText code We should also consider explicit methods such as parseStream so that parseJob and parseComposedModule are at least separate methods if not separate parser classes that share the common parser support class that is the core of todays parser The parsing for completion providers should probably be spun off to its own class as well In the end there should be no need for a ParsingContext enum but rather more explicitly named methods and dedicated classes if that seems like the right approach the StreamDefinition should be composed of ModuleDescriptors that name is not set in stone and other Stream-level metadata like sourcesink channels consider merging some of StreamFactory code there and the rest into StreamDeployer merge ModuleDescriptor and ModuleDeploymentRequest as part of this effort again a new name could be considered but ModuleDescriptor should take precedence over ModuleDeploymentRequest and note in the process that ModuleDescriptor was originally designed to be immutable taking constructor args but as we migrated the prototype code into XD itself this was violated We may want to consider a builder approach and we likely want to avoid the need for a ModuleDefinition within the ModuleDescriptor,0
Update http source to use netty 4 Platform version of netty is 4018Final Current http source is using 37 Packagesclasses have changed in netty4,0
Disable auto-formatting of JavaDoc,0
As a user Id like to have the option to use the SFTP source module so that I can access transfer and mange files over any reliable data streams Reference Spring Integration SFTP Adapterhttpdocsspringiospring-integrationreferencehtmlsftphtml Need to consider the infrastructure for testing,2
Improve DeploymentVerifier when stream state is complete As part of XD-1591 DeploymentVerifier was modified to take the node structure into account As indicated in the review below the implementation does not take module properties such as count into account httpsgithubcomspring-projectsspring-xdpull939filesr13730134 This means the implementation is incorrect For now this wont affect us since all tests at the moment are single node However this can be drastically improved and simplified once XD-1270 is completed At that point well be able to simply read a single ZK node to determine ifwhen a deployment succeeded,0
UI Responsive layout for supported user agentsMobile Tablet and Desktop The current admin UI uses bootstrap 300 which provides responsive design We need to expand our scope to support all supported user agents This requires changes to use user agent specific layout for the UI views,0
The ModuleOptions in ModuleMetadata should contain type information When querying the ModuleMetadataRepository the ModuleOptions in class ModuleMetadata are currently only provided as properties This is a problem in cases where I need to determine the type of the property For instance security sensitive properties should not be exposed verbatim but rather be masked Right now it seems impossible easily to determine whether a property is eg of type orgspringframeworkxdmoduleoptionstypesPassword,0
Admin UI login Page failing to load due to requirejs timeout - FE When i use the admin-ui web portal which runs on port 9393 there is a load timeout issue by requirejs failing to load the login screen Could the team please look into this issue ASAP or give me some other alternative sping-ui-issuepngthumbnail,0
Small method name refactorings and add Javadoc in batch controllers BatchJobsControllerlistForJob should be executionsForJob BatchJobsControllerjobInstances should be instancesForJob The JavaDoc for the class and each method should be more descriptive about their functionality,0
xd-singlenode --verbose prints configuration information twice If you start xd-singlenode with the --verbose flag the configuration information is printed twice Steps to reproduce 1 run xd-singlenode --verbose Example output code - -- V -- 110BUILD-SNAPSHOT eXtreme Data Started SingleNodeApplication Documentation httpsgithubcomspring-projectsspring-xdwiki 204043098 110SNAP INFO main serverSingleNodeApplication - Starting SingleNodeApplication v110BUILD-SNAPSHOT on gauss with PID 79926 UserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-xd-dirt-110BUILD-SNAPSHOTjar started by tom in UserstomDocumentsdevreposspringspring-xdbuilddistspring-xd 204043512 110SNAP INFO main serverSingleNodeApplication - Started SingleNodeApplication in 0993 seconds JVM running for 1374 204056218 110SNAP INFO main utilXdConfigLoggingInitializer - XD Home UserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxd 204056218 110SNAP INFO main utilXdConfigLoggingInitializer - Transport local 204056218 110SNAP INFO main utilXdConfigLoggingInitializer - XD config location fileUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdconfig 204056218 110SNAP INFO main utilXdConfigLoggingInitializer - XD config names serversapplication 204056218 110SNAP INFO main utilXdConfigLoggingInitializer - XD module config location fileUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdconfigmodules 204056218 110SNAP INFO main utilXdConfigLoggingInitializer - XD module config name modules 204056219 110SNAP INFO main utilXdConfigLoggingInitializer - Admin web UI httpgauss9393admin-ui 204056219 110SNAP INFO main utilXdConfigLoggingInitializer - Zookeeper at localhost38225 204056219 110SNAP INFO main utilXdConfigLoggingInitializer - Zookeeper namespace xd 204056219 110SNAP INFO main utilXdConfigLoggingInitializer - Analytics memory 204056226 110SNAP INFO main utilXdConfigLoggingInitializer - ApplePubSubSocketRendertmplaunch-k1iYmYRender BROWSERopen CRASHHOMEUserstomgvmcrashcurrent DISPLAYtmplaunch-16fQxeorgmacosforgexquartz0 EDITORvim GAIDENHOMEUserstomgvmgaidencurrent GEMHOMEUserstomrvmgemsruby-193-p484 GEMPATHUserstomrvmgemsruby-193-p484Userstomrvmgemsruby-193-p484global GLIDEHOMEUserstomgvmglidecurrent GRADLEHOMEUserstomgvmgradlecurrent GRAILSHOMEUserstomgvmgrailscurrent GREPCOLOR133 GREPOPTIONS--colorauto GRIFFONHOMEUserstomgvmgriffoncurrent GROOVYSERVHOMEUserstomgvmgroovyservcurrent GROOVYHOMEUserstomgvmgroovycurrent GVMBROADCASTSERVICEhttpcastgvmio GVMBROKERSERVICEhttpreleasegvmio GVMDIRUserstomgvm GVMINITtrue GVMPLATFORMDarwin GVMSERVICEhttpapigvmtoolnet GVMVERSION220 HADOOPDISTROhadoop25 HOMEUserstom IRBRCUserstomrvmrubiesruby-193-p484irbrc JAVAHOMELibraryJavaJavaVirtualMachinesjdk18025jdkContentsHome JAVAMAINCLASS79926orgspringframeworkxddirtserverSingleNodeApplication JBAKEHOMEUserstomgvmjbakecurrent LANGenUSUTF-8 LAZYBONESHOMEUserstomgvmlazybonescurrent LCALLenUSUTF-8 LCCTYPEUTF-8 LESS-F -g -i -M -R -S -w -X -z-4 LESSTERMCAPmb0131m LESSTERMCAPmd0131m LESSTERMCAPme0m LESSTERMCAPse0m LESSTERMCAPso004730m LESSTERMCAPue0m LESSTERMCAPus0132m LOGNAMEtom LSCOLORSexfxcxdxbxGxDxabagacad LSCOLORSdi34ln35so32pi33ex31bd3601cd3301su314007sg364007tw324007ow334007 MAVENHOMEApplicationsdevtoolsapache-maven-321 MYRUBYHOMEUserstomrvmrubiesruby-193-p484 OLDPWDUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxd PAGERless PATHUserstomgvmvertxcurrentbinUserstomgvmspringbootcurrentbinUserstomgvmlazybonescurrentbinUserstomgvmjbakecurrentbinUserstomgvmgroovyservcurrentbinUserstomgvmgroovycurrentbinUserstomgvmgriffoncurrentbinUserstomgvmgrailscurrentbinUserstomgvmgradlecurrentbinUserstomgvmglidecurrentbinUserstomgvmgaidencurrentbinUserstomgvmcrashcurrentbinUserstomrvmgemsruby-193-p484binUserstomrvmgemsruby-193-p484globalbinUserstomrvmrubiesruby-193-p484binLibraryFrameworksPythonframeworkVersions27binusrlocalbinusrlocalsbinusrbinbinusrsbinsbinoptX11binusrlocalgobinusrtexbinUserstomrvmbinUserstomyadrbinUserstomyadrbinyadrApplicationsdevtoolsapache-maven-321binApplicationsdevtoolsapache-ant-192binUserstomrvmbin PID79926 PS4 FredxI FgreenNiFwhite PWDUserstomDocumentsdevreposspringspring-xdbuilddistspring-xd SCREENNO SECURITYSESSIONID186a4 SHELLbinzsh SHLVL1 SPRINGBOOTHOMEUserstomgvmspringbootcurrent SSHAUTHSOCKtmplaunch-KXqpmPListeners TERMxterm-256color TERMPROGRAMAppleTerminal TERMPROGRAMVERSION326 TERMSESSIONCLASSIDD65D4C24-B8F2-4B53-9179-EC38F2DCD1AE TERMSESSIONID3FA5B432-B6C3-4F62-A7FB-00EB6B0F18C7 TMPDIRvarfolders6bqk0vj57j3dd579vd8z0fjr0000gnT USERtom VERTXHOMEUserstomgvmvertxcurrent VISUALvim XDANALYTICSmemory XDCONFIGLOCATIONfileUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdconfig XDCONFIGNAMEserversapplication XDHOMEUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxd XDJMXENABLEDtrue XDMODULECONFIGLOCATIONfileUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdconfigmodules XDMODULECONFIGNAMEmodules XDTRANSPORTlocal CFUSERTEXTENCODING0x1F500 CHECKFIX14369341 systemarchx8664 systemnameOSX systemtypeDarwin systemversion109 analyticsmemory awttoolkitsunlwawtmacosxLWCToolkit catalinabasevarfolders6bqk0vj57j3dd579vd8z0fjr0000gnTtomcat70649452825156489829393 catalinahomevarfolders6bqk0vj57j3dd579vd8z0fjr0000gnTtomcat70649452825156489829393 catalinauseNamingfalse document-- embeddedHsqltrue endpointsjmxenabledtrue endpointsjmxuniqueNamestrue endpointsjolokiaenabledtrue fileencodingUTF-8 fileencodingpkgsunio fileseparator ftpnonProxyHostslocallocal1692541616925416 gopherProxySetfalse httpnonProxyHostslocallocal1692541616925416 javaawtgraphicsenvsunawtCGraphicsEnvironment javaawtheadlesstrue javaawtprinterjobsunlwawtmacosxCPrinterJob javaclasspathUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdmodulesprocessorscriptsUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdconfigUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibactivation-111jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibamqp-client-341jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibaopalliance-10jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibargs4j-2016jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibasm-31jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibaspectjrt-181jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibaspectjweaver-181jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibavro-176jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibavro-compiler-176jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcglib-221-v20090111jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibclassmate-100jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcomibmjbatch-tck-spi-10jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-beanutils-192jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-cli-12jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-codec-17jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-collections-321jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-compress-141jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-configuration-16jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-daemon-1013jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-dbcp-14jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-digester-21jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-el-10jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-fileupload-131jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-httpclient-31jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-io-24jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-jexl-211jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-lang-26jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-math-21jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-net-33jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-pool-16jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-pool2-22jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcurator-client-260jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcurator-framework-260jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcurator-recipes-260jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibdisruptor-321jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibgroovy-all-233jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibgs-collections-500jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibgs-collections-api-500jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibguava-1601jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibguice-30jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibguice-servlet-30jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibhibernate-validator-503FinaljarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibhsqldb-232jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjackson-annotations-233jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjackson-core-233jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjackson-core-asl-1913jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjackson-databind-233jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjackson-mapper-asl-1913jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjavassist-3181-GAjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjavaxbatch-api-10jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjavaxinject-1jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjavaxmail-147jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjboss-logging-311GAjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjcl-over-slf4j-177jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjedis-252jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjersey-guice-19jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjettison-12jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjline-211jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjoda-time-23jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjolokia-core-122jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjopt-simple-46jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjson-path-091jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjson-simple-111jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjson-smart-12jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjsr305-200jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjul-to-slf4j-177jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibkafka210-0811jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibkite-data-core-0170jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibkite-hadoop-compatibility-0170jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibkryo-222jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdliblog4j-1217jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdliblog4j-over-slf4j-177jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibmetrics-annotation-220jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibmetrics-core-220jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibmongo-java-driver-2122jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibnetty-370FinaljarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibobjenesis-21jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibognl-306jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibopencsv-23jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparanamer-23jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-avro-141jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-column-141jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-common-141jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-encoding-141jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-format-200jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-generator-141jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-hadoop-141jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-jackson-141jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibpostgresql-92-1002-jdbc4jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibreactor-core-112RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibscala-library-2101jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibslf4j-api-177jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibslf4j-log4j12-177jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibsnakeyaml-114jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibsnappy-java-1101jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-amqp-140RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-aop-412RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-batch-admin-manager-130RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-batch-admin-resources-130RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-batch-core-301RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-batch-infrastructure-301RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-batch-integration-301RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-beans-412RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-120RC1jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-actuator-120RC1jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-autoconfigure-120RC1jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-loader-120RC1jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-starter-120RC1jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-starter-logging-120RC1jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-starter-security-120RC1jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-starter-thymeleaf-120RC1jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-starter-tomcat-120RC1jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-starter-web-120RC1jarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-cloud-cloudfoundry-connector-100RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-cloud-core-100RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-cloud-spring-service-connector-100RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-context-412RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-context-support-412RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-core-412RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-data-commons-191RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-data-mongodb-151RELEASEjarUserstomDocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-data-redis-141RELEASEjarUserstomDocumentsdevreposspring,0
Job Repo in container needs access to Admins HSQLDB The HSQLDB that stores the JobRepository needs to have its content exposed via TCP network service so that container has access to update the status of a job run -Needs to have property that enumerates the host and port for the admin that is accessible by the user -If one is not specified it should default to localhost9500 Testing - Unit Tests - Bring up module and admin Verify that default host and port work Verify that container on different machine has access to admin,0
As a s-c-s developer Id like to refactor the current ModuleLauncher contract with Boots JarLauncher API so we dont have to maintain duplicate functionality,1
As a developer Id like to add support to flush offsets intelligently so I can reliably process streams based on successful message acknowledgements from the module-producer,8
Close parent contexts when shutting down,0
Improve Server Configuration - Database Configuration section Make it more clear what drivers need to be copied where See - httpsgithubcomspring-projectsspring-xdissues1653,0
Job DeleteDestroy Command for shell,0
upgrade to ioprojectreactor breaks generated POMS gradlew install fails for spring-xd-extension-batch and spring-xd-extension-reactor The first case is a simple update to gradlebuild-extensionsgradle The 2nd causes several compilation errors that are not trivial for a Reactor noob,0
Add Simple Batch Sample to Spring XD Samples repo This example should require no code Just the basic XML,0
Remove substream from the documentation This will come back in M3 once we iron out the issues,0
Write out initial stream deployment state Currently when a stream is deployed by DeploymentSupervisor the event thread blocks until all deployment requests have been answered or timed out If there were any deployment errors we log a stack trace Instead or in addition to we need to write out the results of the deployment request My initial thought is that it would go under panel xddeploymentsstreamsnamestate panel The data for state will be a JSON map with fields state and an optional errorDescription,0
The parser should be able to handle a parameter name with a - hyphen embedded Right now it treats it as a new parameter start and fails,0
As a s-c-s user Id like to store module metadata in Eureka so I can use the repository to determine the current state,2
UI Add Pagination to Containers Page Add Pagination to Containers Page,0
MessageChannelItemWriter h2 Narrative As a user of XD I want to be able to use a job as a source To do so we need the output of a job to be written to a message channel h2 Acceptance Criteria Create a new ItemWriter in the Spring Batch project to write to a Spring Integration message channel,0
Validate time field processing with AggregateCounter AggregateCounter needs a test case along the lines of of orgspringframeworkxdanalyticsmetricsintegrationFieldValueCounterHandlerTests that will demonstrate the base functionality of the module as well as use of the timeField and dateFormat options,0
error messages not thrown when creating gemfire sink without starting gemfire server stream create --name test1 --definition http --port8827 gemfire-server Created new stream test1 stream create --name test2 --definition http --port8828 gemfire-json-server Created new stream test2 even if gemfire server is not started streams are successfully created This behavior is inconsistent with hdfs where if hdfs connection is not available creating stream using http hdfs will fail,0
BackPort scriptxml Bug Fix An additional commit httpsgithubcomspring-projectsspring-xdcommitdb1f585 for XD-2230 was applied only to master it needs to be backported to 10x slocationscript httpsgopivotal-comsocialcastcommessages22909482,0
Documentation for rich gauge taps Put on the guide as a section in an input-stream wiki page,0
Create a pipe protocol independent StreamDeployer Create StreamDeployer that does not depend on an adapter implementation,0
Remove warnings from Shell hadoop commands Some hadoop commands generate warningsdeprecation messages We should try to get rid of most of them code xdhadoop fs ls xd --recursive Hadoop configuration changed re-initializing shell lsr DEPRECATED Please use ls -R instead 130107120 WARN Spring Shell utilNativeCodeLoader62 - Unable to load native-hadoop library for your platform using builtin-java classes where applicable drwxr-xr-x - trisberg supergroup 0 2014-07-17 1119 xdhashtagcount drwxr-xr-x - trisberg supergroup 0 2014-07-17 1119 xdhashtagcountoutput -rw-r--r-- 3 trisberg supergroup 0 2014-07-17 1119 xdhashtagcountoutputSUCCESS -rw-r--r-- 3 trisberg supergroup 833 2014-07-17 1119 xdhashtagcountoutputpart-r-00000 drwxr-xr-x - trisberg supergroup 0 2014-07-16 1828 xdtweets -rw-r--r-- 3 trisberg supergroup 982993 2014-07-16 1828 xdtweetstweets-0txt code,0
As a developer Id like to move 12x branch to EC2 infrastructure so I can reliably run CI test suites,2
Document splitter aggregator processors,0
Spike Research requestreply support to Kafka Message Bus The scope is to research the available options to provide requestreply support for Kafka Document findings POCs Previous Desc The bindRequestor and bindReplier methods of the message bus need to be implemented,0
Make transport configuration extensible Change message-busxml to read import resourceclasspathMETA-INFspring-xdtransportsXDTRANSPORT-busxml So new transports may be configured in external jars,0
Re-deployment of streamjob modules upon container departure doesnt choose appropriate container candidates Upon container departure the ContainerListeners onChildLeft event triggers redeployment of streamjob modules that were deployed into the leaving container During the redeployment it happens that the container candidates from the DefaultContainerMatcher sometimes based on the subset from distributeForRequestedCountListContainer candidates int count includes the container which already have the module of the same streamjob definition deployed This causes the re-deployment silently swallowing the NodeExistsException and the module being re-deployed doesnt actually get deployed,0
Update rpm and brew recipes,0
User wants ability to test processors Be able to point to the processor xml file eg modulesprocessorstransformerxml and have access to a source channel that drives messages into the processor and a output channel where output messages are send The outbound channel is queue backed Test sending JSON to a processor module that uses Tuples,0
Upgrade sink and processor modules to use new conversion service,0
Move ephemeral nodes from xdstreams to xddeploymentsstreams To have a clear separation of definition vs runtime information move the ephemeral nodes written by containers from xdstreamsstream-name to xddeploymentsstreamsstream-name Same for jobs,0
Move XDHOMEmodulesprocessorscripts out of the way Since the refactoring of the module registry that does not look inside a module it cant know that the scripts directory is not a module Everything that is a direct child of source processor sink job should be a module archive Everything else supporting that should be moved out eg in modulescommon,0
Admin needs to clean up failed deployment attempts If a container fails to deploy a module the admin needs to clean up the xddeploymentsmodulesCONTAINER-IDmodule path so that another attempt can be made to deploy that module to that container,0
Kafka source and sink headers shouldnt interfere with bus functionality The Kafka sink should not make use of the message headers sent by the Kafka receivers in the Kafka bus Similarly the headers received from the Kafka source should not be propagated when sending to the Kakfa bus httpsgithubcomspring-projectsspring-xdissues1804,0
Separate Module Context Refresh from Context Start Split plugin module processing into pre and post processing where preprocessing is done before the context is refreshed and post processing is done after the refresh but before the start In the Stream plugin wire the module into the ChannelRegistry during post processing instead of using the ChannelRegistrar,0
Provide a way to debug the http source The http source does not provide debug logging to see information such as http headers and requests in particular if a non OK response is returned I updated the log4j config for orgjbossnetty but it had no effect I suspect this is due to the need to configure the netty logging system via InternalLoggerFactorysetDefaultFactorynew Log4JLoggerFactory,0
Allow arbitrary headers to be set in http-client processor See httpstackoverflowcomquestions26880903using-mappedrequestheaders-in-spring-xd,0
Re-deployment of hdfs sink reuses filename of first deployment Need to check for existing files with the same file counter,0
Update CI server to run tests that depend on rabbitredis and hadoop,0
Update Getting Started chapter to include a section on starting the shell The chapter on how to start up the shell should ocme right after start the runtime and before create the stream,0
JDBC sink doesnt deserialize JSON types correctly Expected 1 Create MYTABLE table with DATE or TIMESTAMP column MYTIME 2 Create a stream ending with code object-to-json jdbc --tableNameMYTABLE code 3 Send a message with payload being a Java object that has a property myTime of type javautilDate 4 Message payload is inserted into MYTABLE table date is correctly stored in MYTIME column Actual 4 Exception is thrown from JDBC sink which attempts to bind a long into MYTIME column Root cause JDBC sink uses orgspringframeworkxdjdbcJdbcMessagePayloadTransformer class to deserialize JSON payload into Map which will later be used to bind parameters into javasqlPreparedStatement Unfortunately JdbcMessagePayloadTransformer and MessageTransformingHandler which is calling it doesnt respect jsonTypeId message header so information about Java types is lost Other Spring XD components serialize javautilDate as Unix timestamp eg object-to-json transformer JDBC sink will deserialize the date as javalangLong and later attempt to bind incorrect type to query parameter In case of GemFire XD following exception will be thrown during query parameter binding phase code compivotalgemfirexdinternalsharedcommonsanityAssertFailure ASSERT FAILED Number of parameters expected for message id 22005 3 does not match number of arguments received 2 compivotalgemfirexdinternalsharedcommonsanitySanityManagerASSERTSanityManagerjava239 compivotalgemfirexdinternalsharedcommoni18nMessageUtilformatMessageMessageUtiljava245 compivotalgemfirexdinternalsharedcommoni18nMessageUtilgetCompleteMessageMessageUtiljava151 compivotalgemfirexdinternalsharedcommoni18nMessageUtilgetCompleteMessageMessageUtiljava191 compivotalgemfirexdinternalsharedcommoni18nMessageUtilgetCompleteMessageMessageUtiljava107 compivotalgemfirexdinternalclientamSqlExceptioninitSqlExceptionjava184 compivotalgemfirexdinternalclientamPreparedStatementPossibleTypesthrow22005ExceptionPreparedStatementjava4007 compivotalgemfirexdinternalclientamPreparedStatementsetLongPreparedStatementjava843 compivotalgemfirexdinternalclientamPreparedStatementsetObjectPreparedStatementjava1688 orgspringframeworkjdbccoreStatementCreatorUtilssetValueStatementCreatorUtilsjava402 orgspringframeworkjdbccoreStatementCreatorUtilssetParameterValueInternalStatementCreatorUtilsjava235 orgspringframeworkjdbccoreStatementCreatorUtilssetParameterValueStatementCreatorUtilsjava150 orgspringframeworkjdbccorePreparedStatementCreatorFactoryPreparedStatementCreatorImplsetValuesPreparedStatementCreatorFactoryjava300 orgspringframeworkjdbccorePreparedStatementCreatorFactoryPreparedStatementCreatorImplcreatePreparedStatementPreparedStatementCreatorFactoryjava252 orgspringframeworkjdbccoreJdbcTemplateexecuteJdbcTemplatejava638 orgspringframeworkjdbccoreJdbcTemplateupdateJdbcTemplatejava909 orgspringframeworkjdbccoreJdbcTemplateupdateJdbcTemplatejava933 orgspringframeworkjdbccorenamedparamNamedParameterJdbcTemplateupdateNamedParameterJdbcTemplatejava313 orgspringframeworkintegrationjdbcJdbcMessageHandlerexecuteUpdateQueryJdbcMessageHandlerjava130 orgspringframeworkintegrationjdbcJdbcMessageHandlerhandleMessageInternalJdbcMessageHandlerjava112 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 372 more code,0
Configure Jackson ObjectMappers to Allow Single Quotes Allow Json payloads from external sources eg http post to contain single quoted field names and values This is required where XD uses Jackson to convert payloads from Json to object or Tuples,0
Rename ModuleDeployer For more info please see here httpsgithubcomspring-projectsspring-xdpull1021filesr14617723,0
spring-xd-module-parent creates resources outside of target folder Custom modules that use code groupIdorgspringframeworkxdgroupId artifactIdspring-xd-module-parentartifactId version110RELEASEversion code as a parent will get a lib directory created in the module root source directory This forces us to add additional ignores in version control system Following Maven convention all build files should be created under target folder so lib folder should be created as targetlib,0
Create Better UI instead of Boots default Whitelabel Error Page Create a better UI instead of Boots default Whitelabel Error Page,0
Missing guava-1102jar dependency for hadoop distros We used to have a shared guava-1102jar dependency in the lib dir Thats no longer there so hadoop distros that require this now fail at least any hadoop 20x based ones We should also upgrade to current Hadoop versions Hadoop 22 stable,0
Add tab completion for named channels ie queuexyz Tab completion doesnt currently listsupport queue as a source For example if typing the following stream stream create b --definition queuebar transform --expressionpayload-bar log --deploy Tab completion doesnt recognize or suggest queue or anything after it until after the first bar The same applies to named channels queue as a sink,0
Update launcherxml to have protocol independent beans defined and an import statement to load protocol specific defintiions from a system property defined location launcherxml can make use of the system property xdpipeProtocol inside an import statement This determines which version of the XD infrastructure to load for example what ChannelRegistry implementation Local or Redis based or specific message listener containers File name conventions should be used so if the option passed in from the command line is --pipeProtocol localChannel then the XML filename looked for has the Protocol suffix applied eg localChannelProtocol and is loaded via the classpath Redis and Local will not be the only options other implementations will be provided in the future eg Rabbit and the user may be able to provide their own implementations of these infrastructure classes an advanced task,0
Send count check occasionally fails on Acceptance tests Acceptance tests check the number of sends for each module after a single event is triggered This should entail that each module in the stream should have a send count of 1 Sporadically this test will fail on a sink where the send count will be 2 The stacktrace below occurred on a singleAdmin2 container deployment with rabbit as its transport and this stream was used tcp --port1234 file --binarytrue --modeREPLACE javalangAssertionError javalangAssertionError Module file1 for channel input did not have expected count expected1 but was2 javalangAssertionError Module file1 for channel input did not have expected count expected1 but was2 orgjunitAssertfailAssertjava88 orgjunitAssertfailNotEqualsAssertjava743 orgjunitAssertassertEqualsAssertjava118 orgjunitAssertassertEqualsAssertjava555 orgspringframeworkxdintegrationutilXdEc2ValidationverifySendCountsXdEc2Validationjava349 orgspringframeworkxdintegrationutilXdEc2ValidationverifySendCountsXdEc2Validationjava323 orgspringframeworkxdintegrationutilXdEc2ValidationassertReceivedXdEc2Validationjava140 orgspringframeworkxdintegrationtestAbstractIntegrationTestassertReceivedAbstractIntegrationTestjava490 orgspringframeworkxdintegrationtestTcpTesttestTCPSourceCRLFTcpTestjava41 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgjunitrunnersmodelFrameworkMethod1runReflectiveCallFrameworkMethodjava47 orgjunitinternalrunnersmodelReflectiveCallablerunReflectiveCallablejava12 orgjunitrunnersmodelFrameworkMethodinvokeExplosivelyFrameworkMethodjava44 orgjunitinternalrunnersstatementsInvokeMethodevaluateInvokeMethodjava17 orgjunitinternalrunnersstatementsRunBeforesevaluateRunBeforesjava26 orgspringframeworktestcontextjunit4statementsRunBeforeTestMethodCallbacksevaluateRunBeforeTestMethodCallbacksjava74 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgspringframeworktestcontextjunit4statementsRunAfterTestMethodCallbacksevaluateRunAfterTestMethodCallbacksjava83 orgspringframeworktestcontextjunit4statementsSpringRepeatevaluateSpringRepeatjava72 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunChildSpringJUnit4ClassRunnerjava233 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunChildSpringJUnit4ClassRunnerjava87 orgjunitrunnersParentRunner3runParentRunnerjava238 orgjunitrunnersParentRunner1scheduleParentRunnerjava63 orgjunitrunnersParentRunnerrunChildrenParentRunnerjava236 orgjunitrunnersParentRunneraccess000ParentRunnerjava53 orgjunitrunnersParentRunner2evaluateParentRunnerjava229 orgspringframeworktestcontextjunit4statementsRunBeforeTestClassCallbacksevaluateRunBeforeTestClassCallbacksjava61 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgspringframeworktestcontextjunit4statementsRunAfterTestClassCallbacksevaluateRunAfterTestClassCallbacksjava71 orgjunitrunnersParentRunnerrunParentRunnerjava309 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunSpringJUnit4ClassRunnerjava176 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterrunTestClassJUnitTestClassExecuterjava86 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterexecuteJUnitTestClassExecuterjava49 orggradleapiinternaltaskstestingjunitJUnitTestClassProcessorprocessTestClassJUnitTestClassProcessorjava69 orggradleapiinternaltaskstestingSuiteTestClassProcessorprocessTestClassSuiteTestClassProcessorjava48 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingdispatchContextClassLoaderDispatchdispatchContextClassLoaderDispatchjava32 orggradlemessagingdispatchProxyDispatchAdapterDispatchingInvocationHandlerinvokeProxyDispatchAdapterjava93 comsunproxyProxy2processTestClassUnknown Source orggradleapiinternaltaskstestingworkerTestWorkerprocessTestClassTestWorkerjava105 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingremoteinternalhubMessageHubHandlerrunMessageHubjava355 orggradleinternalconcurrentDefaultExecutorFactoryStoppableExecutorImpl1runDefaultExecutorFactoryjava64 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava724,0
Remove XDContainer and rename LauncherApplication Post-boot refactoring XDContainer lifecycle methods are not being used Refactor by merging relevant functionality into LauncherApplication Rename LauncherApplication to ContainerServerApplication consistent with AdminServerApplication,0
Create a reusable responsive UI layout to render the XD PagedResoures in tabular view Create a reusable responsive UI layout to render the PagedResources returned from REST endpoint As part of this try upgrading the bootstrap to 300 and use the responsive styles offered in it,0
Error deploying stream when admin running and container arrives after stream deployment request Steps to reproduce 1 start xd-admin 2 start shell and create and deploy stream time hdfs 3 start container I got 2014-07-10 091029019 boot - 19923INFO DeploymentSupervisorCacheListener-0 --- InitialDeploymentListener Path cache event deploymentsstreamstest type CHILDADDED 2014-07-10 091029137 boot - 19923INFO Deployer --- StreamDeploymentListener Deploying stream Streamnametest 2014-07-10 091029146 boot - 19923WARN Deployer --- StreamDeploymentListener No containers available for deployment of stream test 2014-07-10 091029146 boot - 19923INFO Deployer --- StreamDeploymentListener Stream Streamnametest deployment attempt complete 2014-07-10 091108003 boot - 19923INFO DeploymentSupervisorCacheListener-0 --- ContainerListener Path cache event containers007c2bcc-13f4-466e-95d3-bd926bb456ea type CHILDADDED 2014-07-10 091108006 boot - 19923INFO DeploymentSupervisorCacheListener-0 --- ArrivingContainerModuleRedeployer Container arrived 007c2bcc-13f4-466e-95d3-bd926bb456ea 2014-07-10 091108176 boot - 19923 ERROR DeploymentSupervisorCacheListener-0 --- PathChildrenCache orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsstreamstestmodules at orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 at orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 at orgapachezookeeperZooKeepergetChildrenZooKeeperjava1590 at orgapachecuratorframeworkimpsGetChildrenBuilderImpl3callGetChildrenBuilderImpljava214 at orgapachecuratorframeworkimpsGetChildrenBuilderImpl3callGetChildrenBuilderImpljava203 at orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 at orgapachecuratorframeworkimpsGetChildrenBuilderImplpathInForegroundGetChildrenBuilderImpljava199 at orgapachecuratorframeworkimpsGetChildrenBuilderImplforPathGetChildrenBuilderImpljava191 at orgapachecuratorframeworkimpsGetChildrenBuilderImplforPathGetChildrenBuilderImpljava38 at orgspringframeworkxddirtserverArrivingContainerModuleRedeployerdeployUnallocatedStreamModulesArrivingContainerModuleRedeployerjava133 at orgspringframeworkxddirtserverArrivingContainerModuleRedeployerdeployModulesArrivingContainerModuleRedeployerjava106 at orgspringframeworkxddirtserverContainerListenerchildEventContainerListenerjava99 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 at orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 at comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 at orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 at orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 at orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 at orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 at javalangThreadrunThreadjava744,0
As a spring-cloud-stream user Id like to build stream definitions using dot-delimited syntax for resolving properties for Tuple and JSON,3
UI User should be able to see step execution info in a table below job detail On clicking the job detail page we should display all the step executions associated with the specific job execution in a table view,0
Add LICENSE to be included in root directory of distribution should contain apache licence,0
Register only known classes with Kryo in PojoCodec Currently PojoCodec calls kryoregisterClass type on every serdeser invocation This fails with 11 because instances are pooled and a different instance may be used to serialize and deserialize See httpsgithubcomEsotericSoftwarekryoregistration The fix is to not register classes on the fly Classes serialized by PojoCodec will not be registered by default This will work but is less efficient XD should provide an easy way to register types known to be serialized on the MessageBus passed between modules,0
Move BatchJobExecutionsByJobName to BatchJobsController from BatchJobExecutionsController We need to move the BatchJobExecutionsByJobName method to BatchJobsController as that seems appropriate,0
Column name of JDBC sink module should not hard code to payload Current implementation of JDBC sink module insert data into payload column But I cant just change the default column payload to something else using --columns option Because JdbcMessagePayloadTransformer compare the columnName to payload and it hard coded,0
UI Cluster view of a container We need a visual representation of the XD cluster with runtime container and deployed modules,0
Rename controllers to have pluralized named eg JobsController See implementation used for Steams and apply to jobs taps triggers,0
As a developer Id like to upgrade to SHDP GA release so that I can sync -up with the latest bits,1
Job Plugin - Notification Channel not correctly bound to MessageBus,0
As a user Id like to have guidance to create custom modules so that I can align the development practices with recommended approach 1120 Update Scope of this task is to create an example to demonstrate and document the capability,1
As a user Id like to have an optional arbitrary side channels created so that when creating a module channels other than the primary stream channels input output could be added to the bus ie creating a tap channel within a flow The optional side channels can be used to tracetrack module progress,8
Spring XD unable to save metadata for long steps Hey Guys We are facing an annoying problem and I cant figure out how solve it For some reason when we run a step that takes long time 4 hours or more spring XD is unable to save the metadata and throws the following error 2015-10-25T094910-0400 120RELEASE ERROR task-scheduler-2 stepAbstractStep - Encountered an error executing step ingest-logs in job ingest-logs-flow orgspringframeworkormjpaJpaSystemException commit failed nested exception is orghibernateTransactionException commit failed orgspringframeworkormjpavendorHibernateJpaDialectconvertHibernateAccessExceptionHibernateJpaDialectjava244 nana orgspringframeworkormjpavendorHibernateJpaDialecttranslateExceptionIfPossibleHibernateJpaDialectjava155 nana orgspringframeworkormjpaJpaTransactionManagerdoCommitJpaTransactionManagerjava521 nana orgspringframeworktransactionsupportAbstractPlatformTransactionManagerprocessCommitAbstractPlatformTransactionManagerjava757 spring-tx-416RELEASEjar416RELEASE orgspringframeworktransactionsupportAbstractPlatformTransactionManagercommitAbstractPlatformTransactionManagerjava726 spring-tx-416RELEASEjar416RELEASE orgspringframeworktransactionsupportTransactionTemplateexecuteTransactionTemplatejava150 spring-tx-416RELEASEjar416RELEASE orgspringframeworkbatchcoresteptaskletTaskletStep2doInChunkContextTaskletStepjava271 spring-batch-core-303RELEASEjar303RELEASE orgspringframeworkbatchcorescopecontextStepContextRepeatCallbackdoInIterationStepContextRepeatCallbackjava77 spring-batch-core-303RELEASEjar303RELEASE orgspringframeworkbatchrepeatsupportRepeatTemplategetNextResultRepeatTemplatejava368 spring-batch-infrastructure-303RELEASEjar303RELEASE orgspringframeworkbatchrepeatsupportRepeatTemplateexecuteInternalRepeatTemplatejava215 spring-batch-infrastructure-303RELEASEjar303RELEASE orgspringframeworkbatchrepeatsupportRepeatTemplateiterateRepeatTemplatejava144 spring-batch-infrastructure-303RELEASEjar303RELEASE orgspringframeworkbatchcoresteptaskletTaskletStepdoExecuteTaskletStepjava257 spring-batch-core-303RELEASEjar303RELEASE orgspringframeworkbatchcorestepAbstractStepexecuteAbstractStepjava198 spring-batch-core-303RELEASEjar303RELEASE orgspringframeworkbatchcorejobSimpleStepHandlerhandleStepSimpleStepHandlerjava148 spring-batch-core-303RELEASEjar303RELEASE orgspringframeworkbatchcorejobflowJobFlowExecutorexecuteStepJobFlowExecutorjava64 spring-batch-core-303RELEASEjar303RELEASE orgspringframeworkbatchcorejobflowsupportstateStepStatehandleStepStatejava67 spring-batch-core-303RELEASEjar303RELEASE orgspringframeworkbatchcorejobflowsupportSimpleFlowresumeSimpleFlowjava165 spring-batch-core-303RELEASEjar303RELEASE orgspringframeworkbatchcorejobflowsupportSimpleFlowstartSimpleFlowjava144 spring-batch-core-303RELEASEjar303RELEASE orgspringframeworkbatchcorejobflowFlowJobdoExecuteFlowJobjava134 spring-batch-core-303RELEASEjar303RELEASE orgspringframeworkbatchcorejobAbstractJobexecuteAbstractJobjava304 spring-batch-core-303RELEASEjar303RELEASE orgspringframeworkbatchcorelaunchsupportSimpleJobLauncher1runSimpleJobLauncherjava135 spring-batch-core-303RELEASEjar303RELEASE orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 spring-core-416RELEASEjar416RELEASE orgspringframeworkbatchcorelaunchsupportSimpleJobLauncherrunSimpleJobLauncherjava128 spring-batch-core-303RELEASEjar303RELEASE sunreflectNativeMethodAccessorImplinvoke0Native Method na17067 sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 na17067 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 na17067 javalangreflectMethodinvokeMethodjava606 na17067 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 spring-aop-416RELEASEjar416RELEASE orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 spring-aop-416RELEASEjar416RELEASE orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 spring-aop-416RELEASEjar416RELEASE orgspringframeworkbatchcoreconfigurationannotationSimpleBatchConfigurationPassthruAdviceinvokeSimpleBatchConfigurationjava127 spring-batch-core-303RELEASEjar303RELEASE orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 spring-aop-416RELEASEjar416RELEASE orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 spring-aop-416RELEASEjar416RELEASE comsunproxyProxy53runUnknown Source nana orgspringframeworkbatchintegrationlaunchJobLaunchingMessageHandlerlaunchJobLaunchingMessageHandlerjava50 spring-batch-integration-303RELEASEjar303RELEASE sunreflectNativeMethodAccessorImplinvoke0Native Method na17067 sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 na17067 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 na17067 javalangreflectMethodinvokeMethodjava606 na17067 orgspringframeworkexpressionspelsupportReflectiveMethodExecutorexecuteReflectiveMethodExecutorjava112 spring-expression-416RELEASEjar416RELEASE orgspringframeworkexpressionspelastMethodReferencegetValueInternalMethodReferencejava129 spring-expression-416RELEASEjar416RELEASE orgspringframeworkexpressionspelastMethodReferenceaccess000MethodReferencejava49 spring-expression-416RELEASEjar416RELEASE orgspringframeworkexpressionspelastMethodReferenceMethodValueRefgetValueMethodReferencejava342 spring-expression-416RELEASEjar416RELEASE orgspringframeworkexpressionspelastCompoundExpressiongetValueInternalCompoundExpressionjava88 spring-expression-416RELEASEjar416RELEASE orgspringframeworkexpressionspelastSpelNodeImplgetTypedValueSpelNodeImpljava131 spring-expression-416RELEASEjar416RELEASE orgspringframeworkexpressionspelstandardSpelExpressiongetValueSpelExpressionjava330 spring-expression-416RELEASEjar416RELEASE orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava164 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessInternalMessagingMethodInvokerHelperjava276 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessMessagingMethodInvokerHelperjava142 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava75 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerServiceActivatingHandlerhandleRequestMessageServiceActivatingHandlerjava71 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava99 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava287 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava245 spring-integration-core-415RELEASEjarna orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 spring-messaging-416RELEASEjar416RELEASE orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 spring-messaging-416RELEASEjar416RELEASE orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 spring-messaging-416RELEASEjar416RELEASE orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputAbstractMessageProducingHandlerjava231 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerAbstractMessageProducingHandlerproduceOutputAbstractMessageProducingHandlerjava154 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputsAbstractMessageProducingHandlerjava102 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava105 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava287 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava245 spring-integration-core-415RELEASEjarna orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 spring-messaging-416RELEASEjar416RELEASE orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 spring-messaging-416RELEASEjar416RELEASE orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 spring-messaging-416RELEASEjar416RELEASE orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputAbstractMessageProducingHandlerjava231 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerAbstractMessageProducingHandlerproduceOutputAbstractMessageProducingHandlerjava154 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputsAbstractMessageProducingHandlerjava102 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava105 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationendpointPollingConsumerhandleMessagePollingConsumerjava74 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationendpointAbstractPollingEndpointdoPollAbstractPollingEndpointjava219 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationendpointAbstractPollingEndpointaccess000AbstractPollingEndpointjava55 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava149 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava146 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationendpointAbstractPollingEndpointPoller1runAbstractPollingEndpointjava298 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 spring-integration-core-415RELEASEjarna orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 spring-core-416RELEASEjar416RELEASE orgspringframeworkintegrationutilErrorHandlingTaskExecutorexecuteErrorHandlingTaskExecutorjava49 spring-integration-core-415RELEASEjarna orgspringframeworkintegrationendpointAbstractPollingEndpointPollerrunAbstractPollingEndpointjava292 spring-integration-core-415RELEASEjarna orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava54 spring-context-416RELEASEjar416RELEASE orgspringframeworkschedulingconcurrentReschedulingRunnablerunReschedulingRunnablejava81 spring-context-416RELEASEjar416RELEASE javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 na17067 javautilconcurrentFutureTaskrunFutureTaskjava262 na17067 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 na17067 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 na17067 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 na17067 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 na17067 javalangThreadrunThreadjava745 na17067 Caused by orghibernateTransactionException commit failed orghibernateenginetransactionspiAbstractTransactionImplcommitAbstractTransactionImpljava187 nana orghibernatejpainternalTransactionImplcommitTransactionImpljava77 nana orgspringframeworkormjpaJpaTransactionManagerdoCommitJpaTransactionManagerjava517 nana 97 common frames omitted Caused by orghibernateTransactionException unable to commit against JDBC connection orghibernateenginetransactioninternaljdbcJdbcTransactiondoCommitJdbcTransactionjava116 nana orghibernateenginetransactionspiAbstractTransactionImplcommitAbstractTransactionImpljava180 nana 99 common frames omitted Caused by commysqljdbcexceptionsjdbc4MySQLNonTransientConnectionException Communications link failure during commit Transaction resolution unknown sunreflectNativeConstructorAccessorImplnewInstance0Native Method na17067 sunreflectNativeConstructorAccessorImplnewInstanceNativeConstructorAccessorImpljava57 na17067 sunreflectDelegatingConstructorAccessorImplnewInstanceDelegatingConstructorAccessorImpljava45 na17067 javalangreflectConstructornewInstanceConstructorjava526 na17067 commysqljdbcUtilhandleNewInstanceUtiljava389 mysql-connector-java-5134jar5134 commysqljdbcUtilgetInstanceUtiljava372 mysql-connector-java-5134jar5134 commysqljdbcSQLErrorcreateSQLExceptionSQLErrorjava958 mysql-connector-java-5134jar5134 commysqljdbcSQLErrorcreateSQLExceptionSQLErrorjava937 mysql-connector-java-5134jar5134 commysqljdbcSQLErrorcreateSQLExceptionSQLErrorjava926 mysql-connector-java-5134jar5134 commysqljdbcSQLErrorcreateSQLExceptionSQLErrorjava872 mysql-connector-java-5134jar5134 commysqljdbcConnectionImplcommitConnectionImpljava1616 mysql-connector-java-5134jar5134 orgapachecommonsdbcpDelegatingConnectioncommitDelegatingConnectionjava301 commons-dbcp-14jar14 orgapachecommonsdbcpPoolingDataSourcePoolGuardConnectionWrappercommitPoolingDataSourcejava200 commons-dbcp-14jar14 orghibernateenginetransactioninternaljdbcJdbcTransactiondoCommitJdbcTransactionjava112 nana 100 common frames omitted 2015-10-25T094910-0400 120RELEASE ERROR task-scheduler-2 stepAbstractStep - Encountered an error saving batch meta data for step ingest-logs in job ingest-logs-flow This job is now in an unknown state and should not be restarted orgspringframeworkdaoOptimisticLockingFailureException Attempt to update step execution id8 with wrong version 1 where current version is 2 orgspringframeworkbatchcorerepositorydaoJdbcStepExecutionDaoupdateStepExecutionJdbcStepExecutionDaojava255 spring-batch-core-303RELEASEjar303RELEASE We are using a MySQL database with the following configurations spring datasource url jdbcmysqlhosttomysql3306singnode username admin password admin driverClassName commysqljdbcDriver validationQuery select 1 testOnBorrow true If you guys know this issue or have some ideas how solve please let me know Thanks in advance Hctor,0
Rename or reconsider the module display command note from PR 365 quote We should probably create a new story to at least rename module display to module showconfig or something but possibly even reconsider it altogether In some sense its even violating the encapsulation of ModuleRegistry It wont work for java-config style modules or spring-integration Groovy DSL modules Personally if anything Id rather see those config files themselves exposed as part of an admin UI What you are doing with the options here fits better with the encapsulation principle and the fact that typical usage should not require detailed knowledge of the actual underlying configuration of a Module quote,0
Add Redis binaries for Windows Presently Spring XD does not ship Windows binaries for Redis However Microsoft is actively working 1 on supporting Redis on Windows You can download Windows Redis binaries from httpsgithubcomMSOpenTechredistree26binrelease 1 httpblogsmsdncombinteroperabilityarchive20130422redis-on-windows-stable-and-reliableaspx,0
Update XdEc2Validation to reference rootmanagement endpoint change jolokialist to managementjolokialist etc,0
As a user Id like to mass ingest data from databases and others into HDFSHAWQGPDB so that I dont have to write custom code and as well as be able to ingest in an efficient way,5
As a s-c-d user Id like to create a new banner so I can embed and display the banner when the shell server boots-up Perhaps use this banner generatorhttppatorjkcomsoftwaretaagpdisplayfStandardtSpring20Cloud0AData20Flow20203E3E3E3E3E20,1
As a developer Id like to upgrade to SI 421 release so I can take advantage of the latest improvements,1
Add TAP support in DSLShell As an s-c-d user Id like to have tap support in s-c-dataflow DSLShell so I can fork the same data and do some ad-hoc analysis without impacting the original stream,0
As a developer Id want to document the limitations of HSQL DB when using composed jobs,1
As a Flo developer Id like to have a new DSL parser so I can easily detect incorrect moduleoption values when supplied from the Flo UI Example MyStream mail log tapstreamMyStreambar log If parsed separately which Flo UI does the current parser endpoint will barf on the second stream because it doesnt know about the first stream MyStream,8
Change composed module behavior to black box Composed Module currently behave as white boxes As soon as a module is composed say http filter then all options of the children modules are available as eg httpport and filterexpression in the example above Change this so that a composed module is a black box user has to explicitly expose an option for it to be available most certainly using a short name Hardcoding of values would be retained and possibly overridable Possible syntaxes 1 code module compose foo --definition http --portmyport1234 filter code 2 code module compose foo --definition http filter --expose port code 21 in case of ambiguity simulated in this particular example code module compose foo --definition http filter --expose httpport code 22 for specifying a default code module compose foo --definition http filter --expose port1234 code 3 allow both 1 and 2 using 1 mainly for cases where we dont map 1 to 1 with the underlying option eg code filter --expressionexprfoo code,0
Documentation for syslog file processing Put on the guide as a section in an input-stream wiki page,0
Document that modules can reference property values in serversyml Modules can use property values in serversyml which is very handy to keep batch and hdfs functionality working without duplication of config values in serversyml and modulesyml or individual modules The configuration section should highlight the common cases where this occurs batch hdfs rabbitmqmqtt where using the server config values as defaults is useful and that they can still be overridden,0
JDBC connection pool errors We are seeing JDBC connection pool errors when running jdbchdfs jobs and jdbc streams The exception is code Caused by javasqlSQLException Failed to validate a newly established connection at orgapachetomcatjdbcpoolConnectionPoolborrowConnectionConnectionPooljava802 at orgapachetomcatjdbcpoolConnectionPoolborrowConnectionConnectionPooljava617 at orgapachetomcatjdbcpoolConnectionPoolgetConnectionConnectionPooljava186 at orgapachetomcatjdbcpoolDataSourceProxygetConnectionDataSourceProxyjava127 at orgspringframeworkjdbcdatasourceDataSourceTransactionManagerdoBeginDataSourceTransactionManagerjava204 21 more code A workaround is to specify --testOnBorrowfalse when creating the job This has also been reported on SO httpstackoverflowcomquestions33148929springxd-issue-in-mysql-as-source-failed-to-validate-a-newly-established-connec,0
Add option to specify fsUri to hdfs sinks We should have an --fsUri parameter for hdfs and hdfs-dataset sinks so we can write to different file systems hdfs webhdfs,0
Remove Trigger as a source for Acceptance Tests To remain consistent across all processor sink job tests http should be used as the source,0
Throughput in a stream with any processor One of the goal for a micro benchmark is to compare throughput difference between two types of streams 1 source sink 2 source processor sink For this test I used reactor-tcp source throughput-sampler as sink and created a NoOp processor Tests were performed on a single node container with direct binding turned on for all streams 1 Throughput for sourcesink noformat stream create reactortcp --definition reactor-ip --transporttcp --port4000 throughput-sampler stream deploy reactortcp --properties modulecount0 noformat On my system I get following numbers Throughput sampled for 5000000 items 345423s in 14475ms elapsed time 2 Throughput for sourceprocessorsink Code for NoOpProcessor is available here httpsgithubcomparikhkcxd-noop-processor noformat stream create reactornoop --definition reactor-ip --transporttcp --port5000 noopprocessor throughput-sampler stream deploy reactornoop --properties modulecount0 noformat On the same system the throughput reduces to less then 70Ksec Throughput sampled for 5000000 items 67250s in 74349ms elapsed time Yourkit shows 50 of CPU time on following thread noformat ringBuffer-17 RUNNABLE DAEMON javalangreflectMethodgetParameterAnnotations Methodjava770 orgspringframeworkxdintegrationreactornetNetServerInboundChannelAdapter1acceptObject NetServerInboundChannelAdapterjava53 reactornetAbstractNetChannel3acceptEvent AbstractNetChanneljava131 reactornetAbstractNetChannel3acceptObject AbstractNetChanneljava128 reactoreventroutingArgumentConvertingConsumerInvokerinvokeConsumer Class Object ArgumentConvertingConsumerInvokerjava73 reactoreventroutingConsumerFilteringEventRouterrouteObject Event List Consumer Consumer ConsumerFilteringEventRouterjava78 reactoreventdispatchAbstractLifecycleDispatcherrouteAbstractLifecycleDispatcherTask AbstractLifecycleDispatcherjava64 reactoreventdispatchAbstractSingleThreadDispatcherSingleThreadTaskrun AbstractSingleThreadDispatcherjava50 reactoreventdispatchRingBufferDispatcher3onEventRingBufferDispatcherRingBufferTask long boolean RingBufferDispatcherjava115 reactoreventdispatchRingBufferDispatcher3onEventObject long boolean RingBufferDispatcherjava112 comlmaxdisruptorBatchEventProcessorrun BatchEventProcessorjava128 javalangThreadrun Threadjava745 noformat,0
Fix clustercontainers REST endpoint with security enabled Once the containers management server is secured the admin server needs to know which REST template to use to get the message rates from the deployed modules inside the containers,0
Final review of REST API structure document for streams taps and jobs Get closure on open discussion points for REST API wrt to streams taps and jobs,0
add spring-integration-groovy to container dependencies This will enable the use of groovy scripts within modules,0
Move binder to SCS project Move project out of httpsgithubcompperaltageode-scdf into httpsgithubcomspring-cloudspring-cloud-stream,0
Deploy Batch Jobs on XD h2 Narrative As a developer I need a way to deploy job configurations as well as the related custom code to XD h2 Acceptance Criteria Provide the ability to register jobs that have been deployed as modules via something like curl -d job httplocalhost8080streamsmyJob where job is the name of the job definition located in modulesjob and myJob is the name of the resulting registered job Confirm that both regular jobs and Spring Hadoop based jobs can be packagedrun,0
Enhance XD on YARN to use SHDP container clustering Currently yarn runtime needs two yarn appmaster instancesone for admins one for containers SHDPs container grouping added functionality to run different type of containers within a same appmaster Beyond this container grouping will also give more functionality like ramping containers updown on-demand creating groups with different settings dynamically and restarting failed containers,0
Need to check the deployment requests in StreamsControllerIntegrationTest we should check the actual deployment requests were built correctly for each module in the testCreateUndeployAndDeleteOfStream test Currently we just use the anyListOf check,0
Cant build and run singlenode spring-cloud-data-rest app on Ubuntu Building and then running spring-cloud-data-rest app on Ubuntu fails when trying to create the first stream The configuration ends up with a CloudFoundryConfig instead of LocalConfig for the moduleDeployer Env Ubuntu 1504 java version 18051 JavaTM SE Runtime Environment build 18051-b16 Java HotSpotTM 64-Bit Server VM build 2551-b03 mixed mode Error code 2015-08-10 114347199 ERROR 11062 --- nio-9393-exec-1 oscdrcRestControllerAdvice Caught exception while handling a request javalangUnsupportedOperationException null orgspringframeworkclouddatamoduledeployercloudfoundryCloudFoundryModuleDeployerdeployCloudFoundryModuleDeployerjava30 spring-cloud-data-module-deployer-cloudfoundry-100BUILD-SNAPSHOTjar100BUILD-SNAPSHOT orgspringframeworkclouddatarestcontrollerStreamControllerdeployStreamStreamControllerjava213 spring-cloud-data-rest-100BUILD-SNAPSHOTjar100BUILD-SNAPSHOT orgspringframeworkclouddatarestcontrollerStreamControllersaveStreamControllerjava140 spring-cloud-data-rest-100BUILD-SNAPSHOTjar100BUILD-SNAPSHOT sunreflectNativeMethodAccessorImplinvoke0Native Method na18051 sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 na18051 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 na18051 javalangreflectMethodinvokeMethodjava497 na18051 orgspringframeworkwebmethodsupportInvocableHandlerMethoddoInvokeInvocableHandlerMethodjava221 spring-web-420RELEASEjar420RELEASE orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava137 spring-web-420RELEASEjar420RELEASE orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava111 spring-webmvc-420RELEASEjar420RELEASE orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandlerMethodRequestMappingHandlerAdapterjava806 spring-webmvc-420RELEASEjar420RELEASE orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava729 spring-webmvc-420RELEASEjar420RELEASE orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava85 spring-webmvc-420RELEASEjar420RELEASE orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava959 spring-webmvc-420RELEASEjar420RELEASE orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava893 spring-webmvc-420RELEASEjar420RELEASE orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava970 spring-webmvc-420RELEASEjar420RELEASE orgspringframeworkwebservletFrameworkServletdoPostFrameworkServletjava872 spring-webmvc-420RELEASEjar420RELEASE javaxservlethttpHttpServletserviceHttpServletjava648 tomcat-embed-core-8023jar8023 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava846 spring-webmvc-420RELEASEjar420RELEASE javaxservlethttpHttpServletserviceHttpServletjava729 tomcat-embed-core-8023jar8023 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava291 tomcat-embed-core-8023jar8023 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava206 tomcat-embed-core-8023jar8023 orgapachetomcatwebsocketserverWsFilterdoFilterWsFilterjava52 tomcat-embed-websocket-8023jar8023 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava206 tomcat-embed-core-8023jar8023 orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextHeaderFilterdoFilterInternalEndpointWebMvcAutoConfigurationjava235 spring-boot-actuator-130BUILD-SNAPSHOTjar130BUILD-SNAPSHOT orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 spring-web-420RELEASEjar420RELEASE orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava206 tomcat-embed-core-8023jar8023 orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterInternalWebRequestTraceFilterjava102 spring-boot-actuator-130BUILD-SNAPSHOTjar130BUILD-SNAPSHOT orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 spring-web-420RELEASEjar420RELEASE orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava206 tomcat-embed-core-8023jar8023 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava87 spring-web-420RELEASEjar420RELEASE orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 spring-web-420RELEASEjar420RELEASE orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava206 tomcat-embed-core-8023jar8023 orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 spring-web-420RELEASEjar420RELEASE orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 spring-web-420RELEASEjar420RELEASE orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava206 tomcat-embed-core-8023jar8023 orgspringframeworkwebfilterCharacterEncodingFilterdoFilterInternalCharacterEncodingFilterjava85 spring-web-420RELEASEjar420RELEASE orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 spring-web-420RELEASEjar420RELEASE orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava206 tomcat-embed-core-8023jar8023 orgspringframeworkbootactuateautoconfigureMetricsFilterdoFilterInternalMetricsFilterjava69 spring-boot-actuator-130BUILD-SNAPSHOTjar130BUILD-SNAPSHOT orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 spring-web-420RELEASEjar420RELEASE orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava206 tomcat-embed-core-8023jar8023 orgapachecatalinacoreStandardWrapperValveinvokeStandardWrapperValvejava219 tomcat-embed-core-8023jar8023 orgapachecatalinacoreStandardContextValveinvokeStandardContextValvejava106 tomcat-embed-core-8023jar8023 orgapachecatalinaauthenticatorAuthenticatorBaseinvokeAuthenticatorBasejava502 tomcat-embed-core-8023jar8023 orgapachecatalinacoreStandardHostValveinvokeStandardHostValvejava142 tomcat-embed-core-8023jar8023 orgapachecatalinavalvesErrorReportValveinvokeErrorReportValvejava79 tomcat-embed-core-8023jar8023 orgapachecatalinacoreStandardEngineValveinvokeStandardEngineValvejava88 tomcat-embed-core-8023jar8023 orgapachecatalinaconnectorCoyoteAdapterserviceCoyoteAdapterjava518 tomcat-embed-core-8023jar8023 orgapachecoyotehttp11AbstractHttp11ProcessorprocessAbstractHttp11Processorjava1091 tomcat-embed-core-8023jar8023 orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava668 tomcat-embed-core-8023jar8023 orgapachetomcatutilnetNioEndpointSocketProcessordoRunNioEndpointjava1521 tomcat-embed-core-8023jar8023 orgapachetomcatutilnetNioEndpointSocketProcessorrunNioEndpointjava1478 tomcat-embed-core-8023jar8023 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 na18051 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 na18051 orgapachetomcatutilthreadsTaskThreadWrappingRunnablerunTaskThreadjava61 tomcat-embed-core-8023jar8023 javalangThreadrunThreadjava745 na18051 2015-08-10 114347284 WARN 11062 --- nio-9393-exec-1 mmaExceptionHandlerExceptionResolver Handler execution resulted in exception null code,0
Decouple messagebus dependencies Refactoring scope spring-xd-dirt Message bus dependencies The goal is to decouple them from startup phase to further enhance initialization time,0
Package Shell binary next to xd-admin and xd-container The shell should be an executable delivered out of the box in much the same way that xd-container and xd-admin are right now If we follow how redismongo distribut the shell it sits side by side with the other binaries,0
As a user Id like to have an option to disable DB requirement so that I can setup to use DIRT runtime when stream processing is the only requirement,8
As a user Id like to have an option to have the hdfs sink use Syncable writes to provide better resiliency in the case of sinkcontainer failures Im willing to accept the performance penalty if I choose this option,3
Add http port command line option to AdminMain Currently StreamServer has setPort but no way for end user to set it,0
Upgrade to Reactor 20 M2,0
Spring XD using Redis as data transport is failing to start in CI Acceptance Test,0
Job channels need to denote a namespace Job channels need to have a namespace ie job-somejobname Where the - is the delimiter for the namespace The preference is to use the instead of the - But XD-766 needs to be completed in order to support this,0
Make module class loader or module available to implementation of custom module Requirements Make the class loader of the custom XD module available to the code of the custom module Javassists toClass method uses the threads local class loader to load classeshttpsjboss-javassistgithubiojavassisthtmljavassistCtClasshtmltoClass-- This is most definitely inappropriate in the case of Spring XD modules since many classes come from the lib directory of the module Those will produce a ClassDefNotFound exception in javassist Currently the ModuleFactory basically throws away the class loader after generating it code private Module createSimpleModuleModuleDescriptor moduleDescriptor ModuleOptions moduleOptions ModuleDeploymentProperties deploymentProperties if logisInfoEnabled loginfocreating simple module moduleDescriptor SimpleModuleDefinition definition SimpleModuleDefinition moduleDescriptorgetModuleDefinition ClassLoader moduleClassLoader ModuleUtilscreateModuleRuntimeClassLoaderdefinition moduleOptions thisparentClassLoader Class extends SimpleModule moduleClass determineModuleClassSimpleModuleDefinition moduleDescriptorgetModuleDefinition moduleOptions AssertnotNullmoduleClass StringformatRequired module artifacts are either missing or invalid Unable to determine module type for module definition ss moduleDescriptorgetType moduleDescriptorgetModuleName return SimpleModuleCreator createModulemoduleDescriptor deploymentProperties moduleClassLoader moduleOptions moduleClass code I think it would be sufficient if either the current module or the class loader itself could be injected into the custom classes of the custom XD module As far as I can see I cannot get a grip on the Module instance in the current state of XD system,0
Create multi-container single host testing framework Use external JVM launch support provided by the Oracle Tools framework httpsjavanetprojectsoracletools,0
Check for high CPU usage with syslog-tcp-reactor module,0
Enable configuration of Executors in source and sink modules by default using Dispatchers in parent context Need to understand how individual modules may or may not share Dispatchers that are part of the parent context If modules have their own dispatchers those also need to be configurable,0
Fix minor bug with Gemfire sources httpsgithubcomspring-projectsspring-xdblobmastermodulescommongemfire-connectiongroovyL8 is syntactically incorrect It looks like the intention was to pass this a property but it appears it is treated as a literal value which Groovy coerces to true Thus subscription-enabled is always true It should be configurable although some modules require subscription-enabled to be true,0
As a Spring XD developer Id like to move gpfdist module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,2
Upgrade asciidoctor toolchain This will in turn allow us to get rid of the custom logic for handling crossref links between documents,0
Investigate using Redis txs and pipeline for InboundOutbound Q Adapter perf improvements Investigate using transactions and pipelining to improve performance of both the inbound and outbound RedisQueue channel adapters Involves testing against a pre-release of SDR 11 M2,0
Create listdelete commands for all the metrics We need to add listdelete commands for the metrics InMemoryAggregateCounter FieldValueCounter Gauge RichGauge Currently the AbstractMetricsController class has the delete method to delete the metric from the repository We can probably use the same for all the metrics,0
Upgrade to ZooKeeper 346 346 was released on 20140310 httpzookeeperapacheorgdocr346releasenoteshtml Especially relevant for us they updated Netty from 322 to 366 httpsissuesapacheorgjirabrowseZOOKEEPER-1715,0
Create test script that reproduces failure in writing to HDFS when undeploying and redeploying a stream See httpsgithubcomspring-projectsspring-xdpull415issuecomment-29024329 This test should be created so that it reproduces the failure and then turned off so that when we switch to the new HDFS writing code,0
jdbdhdfs job definition parameter partitionResultsTimeout issues The partitionResultsTimeout parameter for jdbchdfs job definition cannot be set for the master step if the job has a partition definition The partitionResultsTimeout is set for the individual partition steps only The master steps fails after the default timeout,0
As a XD user Im trying to access URI - GET jobsexecutionsstepsprogress hasRoleROLEVIEW but it fails with 403 forbidden error for the role with view access More details herehttpsissuetrackerspringsourcecombrowseVESC-475 Another URL with the same error httpHOST9393streamsdefinitionsjsonpage0size10,1
Avoid all modules deploying to the first container instance upon system restart A possible approach is to set a configurable wait period when the first container arrives If another container arrives during the wait period reset the clock When the wait period expires start deploying modules,0
Redis backed aggregate counters should return results inclusive of startend time interval An aggregate counter query should return results inclusive of start and end time startend for time resolutions minute hour day month,0
Improve Module Options support note from PR 365 - which has been merged - providing the initial level of support Pending issues to be addressed in another PR - x complex case - x default values for complex case when option is not surfaced back to the module eg suffix in our canonical example - plugin provided options and values - descriptive defaults instead of actual defaults eg use stream name - JSR303 Validation,0
Update Analytics Rich Gauge section to use Shell commands instead of curl,0
Make job names unique across tests that use the same JobRepository The job names used by the tests should be unique across the tests when use the same JobRepository,0
Bind Producer Before Consumer quote Here is the full exception orgspringframeworkmessagingMessageDeliveryException Dispatcher has no subscribers for channel ResourceConfiguredModule namefilter typeprocessor grouprequest-rate index0 58b0f318use-expressiondefaultadminsinglenodehsqldbServer9393output nested exception is orgspringframeworkintegrationMessageDispatchingException Dispatcher has no subscribers and here is that stream topichttpstartstop filter --expressionpayloadgetHttpStartStopgetPeerTypenameequalsClient requestRateAggregator appMetricsSplitter router --expressiontopicapp-request-rate-jsonPathpayloadappId 259 PM Gary Russell MarkFisher IlayaperumalGopinathan PatrickPeralta This looks like another not fixed by the previous fix timing problem with taps when using singlenode The tap is started before the tap stream is deployed But its not clear to me how the filter module could be deployedbound as a consumer before the requestRateAggregator 308 PM Gary Russell I see the problem AbstractMessageBusBinderPluginbindConsumerAndProducers binds the consumer before the producer - this is the wrong order for a passive component such as the filter cc DavidTuranski quote,0
As a developer Id like to document the Kryo optimization guidelines so the end-users can refer to it while tuning to improve performance,3
Create plugin module for reactor based processors As an developer Id like to have a similar approach to creating reactor based stream processor as with Spark and RxJava A plugin should allow a reactor processor module to specify the bare minimum to work eg the processor class Explore how additional configuration can be achieved with well known module option commands,0
Remove external config properties for modules There are some modules that use external config properties kafka producerconsumer hadoop properties etc We need to avoid using such properties and have them configured inside module so that module and its properties are self contained,0
Refactor Binder Configuration to use AutoConfiguration Currently EnableModule hardcodes references to both the redis and rabbit configuration classes which trigger or dont trigger based on the presence of another jar which itself has the meat of the configuration This is typically what boot AutoConfiguration is for Moreover adding a new binding eg Kafka or a stub for module testing would require to crack open EnableModule,0
User should be able to view the list of all Deployed Jobs On clicking the Deployed Jobs we can have a table view of all the deployed jobs This is again a responsive table layout with all the job definitions with status deployed The deployed XD job corresponds to a single batch Job Instance This story addresses the UI layout changes to display existing JobInstance information,0
Better handle the lifecycle of module classloaders The various methods is ModuleUtils sometimes create module classloaders just for the sake of loading a single file URLClassLoader are now closeable which we should try to do but not too early Some of the signatures in that class are problematic esp the ones that return a Resource because we dont know when the client will be done with that resource So we cant close the underlying CL for them Investigate other approaches callback style signatures ie doWithClassLoadercl for certain cases global CL caching mechanism per module typename but then issues arise when module bytecode is changed etc,0
Fix Startup Messages Started container AdminServerApplication Documentation httpsgithubcomSpringSourcespring-xdwiki,0
User wants a list of currently executing jobs,0
Deploying with twittersearch source throws Jackson ClassDefNotFound exception The upgrade to Jackson 22 included the following change to the build script code projectspring-xd-dirt description Spring XD DIRT configurations runtimetestRuntimeexclude group orgcodehausjackson code Spring social twitter template depends on these classes,0
Acceptance Tests fail to map some EC2 internal IPs to External IPs The acceptance tests interrogate the XD-Admin for the containers that are available When on EC2 the admin only returns the internal EC2 addresses without the associated suffix of ec2internal or compute-1internal Defect The acceptance tests only handled the most common suffix of ec2internal Thus some CI Acceptance tests will fail because because the containers IPs were not properly mapped Thus the acceptance tests should map internal to external IP without regard to the suffixes EC2 issues FYI EC2 issues addresses in 2 different formats ip-XXX-XXX-XXX-XXXec2internal or domU-XX-XX-XX-XX-XX-XXcompute-1internal The code only able to handle ip-XXX-XXX-XXX-XXXec2internal,0
As a XD build master Id like to fix local gradlew dist and distZip targets the outstanding build issues so I can evaluate that publish builds works as expected,3
Make Job notification channels subscribable Currently the job notification channels are direct channels We need to make these pubsub channels With XD-885 allowing automatic job listeners registration this would allow us to create named channel syntax like topicjobmyjobname-jobExecution log topicjobmyjobname-stepExecution log,0
JMX shouldnt register taps or streams if the creation fails Theres a lifecycle problem when a tap creation fails eg because the DSL syntax is wrong Subsequent attempts to create the tap will fail with an error linkslogrefMessageHandlingExceptionmessageorgspringframeworkcontextApplicationContextException Failed to start bean orgspringframeworkintegrationmonitorIntegrationMBeanExporter092e27d20-4c48-4131-866c-91b6cb642ca2 nested exception is orgspringframeworkjmxexportUnableToRegisterMBeanException Unable to register MBean MessageChannelMonitor namenullChannel sends0 receives0 with key xdtap1typeMessageChannelnamenullChannelindex1modulelog nested exception is javaxmanagementInstanceAlreadyExistsException xdtap1typeMessageChannelnamenullChannelindex1modulelog Disabling JMX solves the issue reproduce Create a bad stream definition name bad Try to recreate with the same name but correct stream definitions The system will report that the stream already exists,0
the filepollhdfs job fails on second submission Definitions job create pollHdfs --definition filepollhdfs --namesnameage --deploy true stream create csvStream --definition file --moderef --dirUserstrisbergTestfiles --patterncsv queuejobpollHdfs --deploy Here is the exception code orgspringframeworkdatahadoopstoreStoreException Error while flushing stream nested exception is javaniochannelsClosedChannelException orgspringframeworkxdbatchitemhadoopHdfsTextItemWriterupdateHdfsTextItemWriterjava135 orgspringframeworkbatchitemsupportCompositeItemStreamupdateCompositeItemStreamjava74 orgspringframeworkbatchcoresteptaskletTaskletStepdoExecuteTaskletStepjava250 orgspringframeworkbatchcorestepAbstractStepexecuteAbstractStepjava198 orgspringframeworkbatchcorejobSimpleStepHandlerhandleStepSimpleStepHandlerjava148 orgspringframeworkbatchcorejobflowJobFlowExecutorexecuteStepJobFlowExecutorjava64 orgspringframeworkbatchcorejobflowsupportstateStepStatehandleStepStatejava67 orgspringframeworkbatchcorejobflowsupportSimpleFlowresumeSimpleFlowjava165 orgspringframeworkbatchcorejobflowsupportSimpleFlowstartSimpleFlowjava144 orgspringframeworkbatchcorejobflowFlowJobdoExecuteFlowJobjava134 orgspringframeworkbatchcorejobAbstractJobexecuteAbstractJobjava304 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncher1runSimpleJobLauncherjava135 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncherrunSimpleJobLauncherjava128 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkbatchcoreconfigurationannotationSimpleBatchConfigurationPassthruAdviceinvokeSimpleBatchConfigurationjava127 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy54runUnknown Source orgspringframeworkbatchintegrationlaunchJobLaunching code,0
As a Spring XD developer Id like to port json-to-tuple module from XD to s-c-s repo so I can use it as processor module to build streaming pipeline,2
Add functionality to download XD distribution zip to each EC2 instance as specified by user User specifies download distribution zip file from properties file See XD-969 for key-value pairs Copy the distribution from the shared EBSS3 the ebs volume assigned to the each nodeadmin instance If not on shared ebss3 pull from http site specified by user and put on the shared EBS volume Unzip the distribution from on the ebs volume for the instance to the homeubuntu directory make sure privileges are set to ubuntu not root How to verify it works Create a JUNit style integration test that Deletes a known zip distribution from EBSS3 Invoke the application functionality should be a 1 liner that will start up the instance and download the zip distribution from the URI provided in xd-ec2properties Verify the file is now in EBSS3 and also on the instance Tear down created instance Create new instance passing in the same URI of the zip distribution Verify as before,0
As a s-c-d user Im unable to push admin app to CF due to SSL certification errors while bootstrapping Consider adding CF trusted certificatehttpsgithubcompivotal-cfcloudfoundry-certificate-truster as a CF SPI dependency Adding CF trusted certificate as dependency doesnt help either code Fri Sep 25 2015 125532 GMT-0400 EDT App0 ERR Caused by sunsecurityvalidatorValidatorException PKIX path building failed sunsecurityprovidercertpathSunCertPathBuilderException unable to find valid certification path to requested target Fri Sep 25 2015 125532 GMT-0400 EDT App0 ERR at sunsecurityvalidatorPKIXValidatordoBuildPKIXValidatorjava387 Fri Sep 25 2015 125532 GMT-0400 EDT App0 ERR at sunsecurityvalidatorPKIXValidatorengineValidatePKIXValidatorjava292 Fri Sep 25 2015 125532 GMT-0400 EDT App0 ERR at sunsecurityvalidatorValidatorvalidateValidatorjava260 Fri Sep 25 2015 125532 GMT-0400 EDT App0 ERR at sunsecuritysslX509TrustManagerImplvalidateX509TrustManagerImpljava324 Fri Sep 25 2015 125532 GMT-0400 EDT App0 ERR at sunsecuritysslX509TrustManagerImplcheckTrustedX509TrustManagerImpljava229 Fri Sep 25 2015 125532 GMT- code,3
JDBCHDFS Master Process Timeout error The JDBCHDFS Master process fails with a timeout error while the child process is still processing data The error message on the error message on the master process is orgspringframeworkintegrationMessageTimeoutException Timeout occurred before all partitions returned orgspringframeworkbatchintegrationpartitionMessageChannelPartitionHandlerhandleMessageChannelPartitionHandlerjava141 orgspringframeworkbatchcorepartitionsupportPartitionStepdoExecutePartitionStepjava106 orgspringframeworkbatchcorestepAbstractStepexecuteAbstractStepjava198 orgspringframeworkbatchcorejobSimpleStepHandlerhandleStepSimpleStepHandlerjava148 orgspringframeworkbatchcorejobflowJobFlowExecutorexecuteStepJobFlowExecutorjava64 orgspringframeworkbatchcorejobflowsupportstateStepStatehandleStepStatejava67 orgspringframeworkbatchcorejobflowsupportSimpleFlowresumeSimpleFlowjava162 orgspringframeworkbatchcorejobflowsupportSimpleFlowstartSimpleFlowjava141 orgspringframeworkbatchcorejobflowFlowJobdoExecuteFlowJobjava134 orgspringframeworkbatchcorejobAbstractJobexecuteAbstractJobjava304 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncher1runSimpleJobLauncherjava135 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncherrunSimpleJobLauncherjava128 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkbatchcoreconfigurationannotationSimpleBatchConfigurationPassthruAdviceinvokeSimpleBatchConfigurationjava127 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy47runUnknown Source orgspringframeworkbatchintegrationlaunchJobLaunchingMessageHandlerlaunchJobLaunchingMessageHandlerjava50 sunreflectNativeMethodAccessorImpl,0
Update to spring-data-hadoop 200M4 Update dependencies to spring-data-hadoop 200M4,0
Upgrade to SI-Kafka Extension release We would want to upgrade SI Kafka extension dependency to inherit the refactoring work with Kafka simple consumer API,0
As a user Id like to use Boot-based ModuleRunner for use in container-managed environments so I can run XD without xd-containers Scope Complete the remaining deployment properties work,8
StreamDeployerdeleteAll does not handle dependency tracking create a composed module use it in a stream delete ALL streams Try to delete the composed module fails thinking that its still used by the stream,0
Custom Module not loading class from the modulelib The modulelib contains the necessary jars but it is not taken I am attaching the simple custom module which contains just few beans Here is how I am creating the job from the xd-shell job create --name job1 --definition job-custom --deploy The server logs contains this error 104320193 110M2 INFO DeploymentsPathChildrenCache-0 serverDeploymentListener - Deploying module ModuleDescriptor2963e1e2 moduleName job-custom moduleLabel job-custom group job1 sourceChannelName null sinkChannelName null index 0 type job parameters mapempty children listempty 104320697 110M2 ERROR DeploymentsPathChildrenCache-0 bootSpringApplication - Application startup failed javalangNoClassDefFoundError orgspringframeworkoxmUnmarshaller javalangClassgetDeclaredMethods0Native Method javalangClassprivateGetDeclaredMethodsClassjava2531 javalangClassgetDeclaredMethodsClassjava1855 orgspringframeworkutilReflectionUtilsgetDeclaredMethodsReflectionUtilsjava571 I already had been discussing this over the forums but could not get much help stackoverflowcomquestions27878047noclassdefinitionerror-with-simple-bean-configuration If I place the spring-oxm jar in the spring-xd lib I get this error javalangIllegalStateException Cannot convert value of type orgspringframeworkoxmjaxbJaxb2Marshaller to required type orgspringframeworkoxmUnmarshaller for property unmarshaller no matching editors or conversion strategy found,0
Batch jobs send job and step events on channels This is the other side of launching a job by sending a message The Job plugin should add listeners at the jobstep level so that the jobstep context information can be sent out on a channel myjobnotifications is a suggested channel name that would be created automatically,0
Add acceptance test to extract and assert payload from JSON object To enrich the acceptance test Id like to evaluate JSON object to extract Good and Bad instead of just relying on a basic filter test to assert the payload content,0
As a user Id like to consume multiple topic-partitions so I can have the option to consume from multiple data endpoints and still be able to serve the data via single queue,3
Research Spark integration options Spike scope Brainstorm Identify options Document,0
Hadoop distro option hdp20 is broken Starting the shell with --hadoopDistro hdp20 causes this Exception in thread main orgspringframeworkbeansfactoryparsingBeanDefinitionParsingException Configuration problem Unable to locate Spring NamespaceHandler for XML schema namespace httpwwwspringframeworkorgschemahadoop Offending resource URL jarfileUserstrisbergDemospring-xd-100BUILD-SNAPSHOTshelllibspring-xd-shell-100BUILD-SNAPSHOTjarMETA-INFspringspring-shell-pluginxml Creating a stream time hdfs in xd-singlenode started with --hadoopDistro hdp20 causes this javalangIllegalStateException Cant find class used for type of option codec orgspringframeworkdatahadoopstorecodecCodecs,0
As a user Id like to use the Mail source to connect to secured IMAP andor SMTP mail servers Mail source config file requires a utilproperties bean with ssltls properties provided to the adapter via the java-mail-properties attribute Ref Examplehttpdocsspringiospring-integrationdocslatest-gareferencehtmlmailhtml codexml beansbeans profiledefault utilproperties idjavaMailProperties beansprop keymailimapsocketFactoryclassjavaxnetsslSSLSocketFactorybeansprop beansprop keymailimapsocketFactoryfallbackfalsebeansprop beansprop keymailstoreprotocolimapsbeansprop beansprop keymaildebugfalsebeansprop utilproperties beansbeans code List of all java-mail propertieshttpsjavamailjavanetnonavdocsapicomsunmailsmtppackage-summaryhtml,1
Documentation for deleting triggers,0
Ability to send files as attachment mail sink Id be very pratical if the mail sink has the ability to send files as attachment Ie add the attribute attachment-filename to header-enricher,0
If a job is created that uses a trigger that has not been created and deployed it throws a 500 error instead of a 400,0
add counter module,0
As a developer Id like to isolate the Hadoop tests in a different project so that the DIRT project doesnt have to depend upon thus eliminating the incorrect CP file generation in eclipse,3
New job that executes SQL script using JDBC Create OOTB batch job that executes SQL script using JDBC - can be used for Hive2 jobs or HAWQ jobs etc Christian Tzolov provided the following baed on Dave Syers JdbcTasklte httpssrcspringframeworkorgsvnspring-batch-adminsandboxcloud-samplesrcmainjavaorgspringframeworkbatchadminsamplejobJdbcTaskletjava Attached is a simple job module that can run sql commands on Hawq or other DB over jdbc Just unzip it in springxdxdmodulesjob folder and create something like this xd job create analyticsJob --definition jdbc --driverClassNameorgpostgresqlDriver --urljdbcpostgresqlHAWQ master host5432gpadmin --usernamegpadmin --password --sqlCREATE TABLE fonectademoanalytics AS SELECT segmenttiluokka count as cnt FROM fonectademosegmenttiluokka GROUP BY segmenttiluokka --deploy,0
As a developer Id like to get rid off XDRuntimeException from XD,1
Investigate long running tests and create refactoring issues httpssonarspringsourceorgdashboardindex7173did3 Shows which of our current tests take the most time to execute xddirtstream and xdshellcommand are where the most time is spent In xddirtstream it seems likely that time can be reduced by not restarting a new single node server per test but sharing it across tests eg RabbitSingleNodeStreamDeploymentIntegrationTests LocalSingleNodeStreamDeploymentIntegrationTests RedisSingleNodeStreamDeploymentIntegrationTests As a first pass the test that take longer than 15 seconds in that report should be investigated,0
Users should be able to package custom modules as a single zip file See XD-194 for additional considerations Zip support should be similar to uber-jar or possibly replace uber-jar support,0
Enable Job deployment properties for job deploy Support the ability to provide deployment properties for job deploy,0
springrabbitmqaddresses environment variable is ignored When trying to configure XD to use a RabbitMQ instance other than the default localhost5672 a user is supposedto updated the springrabbitmqaddresses environment variable or the springrabbitmqaddresses setting in the serversyml file In this case XD is ignoring this environment variable h3 Steps to reproduce set the transport by using export XDTRANSPORTrabbit set the springrabbitmqaddresses by export springrabbitmqaddressesfoo5672 Startup a admin container on your local machine deploy ticktock this should fail start up a local rabbitmq deploy a new ticktock and stream will deploy,0
Remove copyrightlicence info in UI screens,0
Update documentation for module launcher The s-c-s-module-launcher document requires update for running it on standalone docker lattice Also the docker-compose yml requires fix so that modules in there are bound together,0
Could not override rabbit sink modules rabbit connection factory properties Currently RabbitMQ sink modules connection properties could not be overridden by xdconfighomeconfigPropertiesrabbitproperties even if local-override is set to true It looks like the AmqpTemplate used by the AMQP outbound channel adapter doesnt use the connection factory defined in the sink module,0
As a developer Id like to run Kafka tests with Kafka Server as a separate running process so that I can improve build experience,3
Fix wiki documentation to use xd shell command prompt to read xd We need to fix the github wiki to use the xd shell command prompt xd,0
Rest-Client should not force usage of Joda Time The Rest-Client project should not impose Joda to the user,0
Allow local data transport option for the container Currently local is not a supported data transport for the container It should be an option Note that local is not valid for control transport for a standalone container So we need to revisit the current semantics that default the control transport to be the same as the data transport ie --transportlocal should fail,0
Remove usage of dummy MD in spring-xd-module This creates a dependency cycle that eclipse cant handle doesnt discern between scope like IDEA does I believe we can get rid of dummy in tests that are in spring-xd-module,0
Make XD-EC2 Bootiful,0
As a consequence change gradle script regarding generation of documentation remove pushGeneratedDocs task etc remove link rewriting that is no longer needed,8
Expose Job parameters for JobExecutions Currently the way that we are accessing JobExecutions from batch admin the JobParameters are not being filled in We are using a orgspringframeworkbatchadminserviceJdbcSearchableJobExecutionDao to grab the job executions from the database The database queries that it uses does not include the JobParameters which is stored in a different table I think that this will require a change to batch admin in order to properly expose the parameters,0
Consolidate Trigger Sources into a single Source Currently we have 2 trigger sources trigger cron-trigger The preference is to have a user to just use a single trigger source for example trigger myjob trigger --cron myjob trigger --fixedDelay myjob One option to handle this is to use spel to reference a bean and then have different trigger beans defined ie triggercronTriggerBean Each trigger bean would setup the channel with the correct poller,0
Create a new Broadcast stream per thread The data that is entering a broadcast stream can only occur from one thread at a time to prevent race conditions inside the stream implementation The current handler shares a single broadcast stream Change to create a new one per thread usage,0
Add dependencies needed for running a Hive job,0
As a user Id like to have the option to version the custom modules so I can evolve the custom module fragments in increments and be able to roll-out upgrades seamlessly,5
Create RuntimeModuleDescriptor that represents runtime module instance See this for more info httpsgithubcomspring-projectsspring-xdpull1021filesr14611854,0
Develop tasklet to execute a Job h2 Narrative As the system I would like a way to launch a previously deployed job module from another job module h2 Back story For the composed job story we will have a driver job that consists of each step that represents the execution of a job This story is the creation of a Tasklet that will launch the child job and upon its completion set the results of the drivers step to that of the slave jobs results,0
Cleanup hsqldb data directory used by tests after each test completion Currently the data directory created by the HSQLDB process during the tests run is not cleaned up and may cause issues We should delete the data directory after each test completion,0
More DSL work Documentation updates for new format Once issues like XD-438 have been completed the wiki doc will need updates to reflect the current behaviour and syntax options,0
Create shell script to retrieve list of xd components running on YARN,0
Update Java Version to 7,0
Add jetty-util-6126jar and jsr311-api-111jar as required jars so they will be on the XD classpath This is needed for the use of the webhdfs scheme to talk to HDFS over http,0
Fix Tail Source to Use Native Adapter by Default Support all available options,0
Problem with tapping on a module using a named sink channel code mystream http transform --payloadexpressiontoUpperCase foo tap mystreamtransform log code This appears to fail because we cant tap into whatever was created to represent the named channel foo There is an Ignore test in StreamCommandTests called testTappingModulesVariationsWithSinkChannel which checks this The parser is currently resolving tap mystreamtransform to tap --channelfoo,0
As a developer Id like to include the following improvements as part of the EC2 CI infrastructure so that we can reliably run the CI builds and also assert over feature functionalities Scope Enable distributed jvm test Change from using artifactory gradle task to a command task that calls gradlew Test w embedded hadoop off Turn on maxParallelForks,5
XD-Admin fails to start When starting xd-admin getting the following exception noformat 2015-03-20 142553904 120SNAP WARN main annotationAnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name moduleRegistry defined in class path resource META-INFspring-xdinternalrepositoriesxml Cannot create inner bean orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean175e137b of type orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean while setting constructor argument with key 1 nested exception is orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean175e137b defined in class path resource META-INFspring-xdinternalrepositoriesxml Invocation of init method failed nested exception is javalangNoClassDefFoundError orgapachehadoopfsFSDataInputStream orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveInnerBeanBeanDefinitionValueResolverjava313 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava122 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveManagedListBeanDefinitionValueResolverjava382 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava157 orgspringframeworkbeansfactorysupportConstructorResolverresolveConstructorArgumentsConstructorResolverjava648 orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava140 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryautowireConstructorAbstractAutowireCapableBeanFactoryjava1131 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanInstanceAbstractAutowireCapableBeanFactoryjava1034 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava504 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava476 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava303 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava230 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava299 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava194 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava762 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava757 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava480 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava691 orgspringframeworkbootSpringApplicationrunSpringApplicationjava321 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava129 orgspringframeworkxddirtserverAdminServerApplicationrunAdminServerApplicationjava89 orgspringframeworkxddirtserverAdminServerApplicationmainAdminServerApplicationjava73 Caused by orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean175e137b defined in class path resource META-INFspring-xdinternalrepositoriesxml Invocation of init method failed nested exception is javalangNoClassDefFoundError orgapachehadoopfsFSDataInputStream orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1566 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava539 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava476 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveInnerBeanBeanDefinitionValueResolverjava299 22 more Caused by javalangNoClassDefFoundError orgapachehadoopfsFSDataInputStream javalangClassforName0Native Method javalangClassforNameClassjava190 orgspringframeworkxddirtmoduleExtendedResourceclinitExtendedResourcejava47 orgspringframeworkxddirtmoduleWritableResourceModuleRegistryafterPropertiesSetWritableResourceModuleRegistryjava123 orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBeanafterPropertiesSetCustomModuleRegistryFactoryBeanjava70 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinvokeInitMethodsAbstractAutowireCapableBeanFactoryjava1625 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1562 25 more Caused by javalangClassNotFoundException orgapachehadoopfsFSDataInputStream javanetURLClassLoader1runURLClassLoaderjava366 javanetURLClassLoader1runURLClassLoaderjava355 javasecurityAccessControllerdoPrivilegedNative Method javanetURLClassLoaderfindClassURLClassLoaderjava354 javalangClassLoaderloadClassClassLoaderjava425 sunmiscLauncherAppClassLoaderloadClassLauncherjava308 javalangClassLoaderloadClassClassLoaderjava358 32 more 2015-03-20 142553911 120SNAP ERROR main bootSpringApplication - Application startup failed orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name moduleRegistry defined in class path resource META-INFspring-xdinternalrepositoriesxml Cannot create inner bean orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean175e137b of type orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean while setting constructor argument with key 1 nested exception is orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean175e137b defined in class path resource META-INFspring-xdinternalrepositoriesxml Invocation of init method failed nested exception is javalangNoClassDefFoundError orgapachehadoopfsFSDataInputStream orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveInnerBeanBeanDefinitionValueResolverjava313 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava122 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveManagedListBeanDefinitionValueResolverjava382 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava157 orgspringframeworkbeansfactorysupportConstructorResolverresolveConstructorArgumentsConstructorResolverjava648 orgspringframeworkbeansfactorysupportConstructorResolverautowireConstructorConstructorResolverjava140 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryautowireConstructorAbstractAutowireCapableBeanFactoryjava1131 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanInstanceAbstractAutowireCapableBeanFactoryjava1034 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava504 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava476 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava303 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava230 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava299 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava194 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava762 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava757 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava480 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava691 orgspringframeworkbootSpringApplicationrunSpringApplicationjava321 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava129 orgspringframeworkxddirtserverAdminServerApplicationrunAdminServerApplicationjava89 orgspringframeworkxddirtserverAdminServerApplicationmainAdminServerApplicationjava73 Caused by orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean175e137b defined in class path resource META-INFspring-xdinternalrepositoriesxml Invocation of init method failed nested exception is javalangNoClassDefFoundError orgapachehadoopfsFSDataInputStream orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1566 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava539 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava476 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveInnerBeanBeanDefinitionValueResolverjava299 22 more Caused by javalangNoClassDefFoundError orgapachehadoopfsFSDataInputStream javalangClassforName0Native Method javalangClassforNameClassjava190 orgspringframeworkxddirtmoduleExtendedResourceclinitExtendedResourcejava47 orgspringframeworkxddirtmoduleWritableResourceModuleRegistryafterPropertiesSetWritableResourceModuleRegistryjava123 orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBeanafterPropertiesSetCustomModuleRegistryFactoryBeanjava70 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinvokeInitMethodsAbstractAutowireCapableBeanFactoryjava1625 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1562 25 more Caused by javalangClassNotFoundException orgapachehadoopfsFSDataInputStream javanetURLClassLoader1runURLClassLoaderjava366 javanetURLClassLoader1runURLClassLoaderjava355 javasecurityAccessControllerdoPrivilegedNative Method javanetURLClassLoaderfindClassURLClassLoaderjava354 javalangClassLoaderloadClassClassLoaderjava425 sunmiscLauncherAppClassLoaderloadClassLauncherjava308 javalangClassLoaderloadClassClassLoaderjava358 32 more 2015-03-20 142553915 120SNAP ERROR main serverAdminServerApplication - Error creating bean with name moduleRegistry defined in class path resource META-INFspring-xdinternalrepositoriesxml Cannot create inner bean orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean175e137b of type orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean while setting constructor argument with key 1 nested exception is orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name orgspringframeworkxddirtmoduleCustomModuleRegistryFactoryBean175e137b defined in class path resource META-INFspring-xdinternalrepositoriesxml Invocation of init method failed nested exception is javalangNoClassDefFoundError orgapachehadoopfsFSDataInputStream noformat Reproduced Locally mac and on EC2 xd-singlenode works fine Commit 4673b5ab97,0
Show visual representation of stream in admin UI,0
buildgradle doesnt handle a small handful of libraries Trying to build spring-xd for the first resulted in lots of errors inside STS I had an empty m2 repo,0
As a user Id like to have an OOTB jdbcgpfdist batch job so I can read from JDBC and write to HAWQGPDB using gpfdist protocol The scope is to reuse the existing gpfdist sink code and adapt it to fit the batch model gpfdist writer,8
Get notified when created named channel is ready For testing purposes it would be super-helpful if there be a hook to get notified when a named channel is up and running In current tests one may have to resort to Threadsleep,0
Provide an option to pretty print JSON output Probably the cleanest approach is to provide a properties file in the xd config directory that enables this globally eg jsonprettyprinttrue This will require some refactoring of the ModuleTypeConversion plugin ie use DI in streamsxml,0
Add a tcp-client source module Add a module that can act as a tcp client as opposed to our current tcp module which acts as a server waiting for an incoming connection Also the module should allow to send commands to the remote server The typical minimal case for such a protocol is to send PING messages but a stateful mechanism should be put in place for more complex cases,0
As a user Id like to refer to the wiki so that I can create a job with partitions that in turn expects tableName and columns be explicitly included in the job definition It is also beneficial to call-out sql and tableName metadata options are mutually exclusive Following logic in JdbcHdfsOptionsMetadata needs documented codejava AssertTruemessage Use tableName AND columns when using partition column boolean isPartitionedWithTableName if StringUtilshasTextpartitionColumn return StringUtilshasTexttableName StringUtilshasTextsql else return true code,1
Support external datasource for single node application Currently single node application assumes to use hsqldb server by default and starts the hsqldb as it starts We need a way to provide external datasource and not to start hsqldb by default when the single node starts up,0
Stream data from fitbit API which uses Oauth to HDFS I am using the XD shell to create a stream that pulls from an Oauth source to HDFS as my sink Does Spring XD have some standard approach to this Here were some thoughts 1Use http source with mappedRequestHeadersNot sure how to pass the OAuth here 2Create HttpOutboundGateway that will execute a GET request 3Code a new twitter like source and build the source code,0
Investigate and remove explicit thread sleep in AbstractSingleNodeStreamDeploymentIntegrationTests There are explicit Threadsleep calls after deploy in some of the test methods in AbstractSingleNodeStreamDeploymentIntegrationTests Also the test method deployAndUndeploy doesnt have explicit Threadsleep and fails inconsistently with this error javalangAssertionError stream test0 not undeployed orgjunitAssertfailAssertjava88 orgjunitAssertassertTrueAssertjava41 orgspringframeworkxddirtstreamAbstractSingleNodeStreamDeploymentIntegrationTestswaitForUndeployAbstractSingleNodeStreamDeploymentIntegrationTestsjava332 orgspringframeworkxddirtstreamAbstractSingleNodeStreamDeploymentIntegrationTestsdeployAndUndeployAbstractSingleNodeStreamDeploymentIntegrationTestsjava221 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava601 orgjunitrunnersmodelFrameworkMethod1runReflectiveCallFrameworkMethodjava47 orgjunitinternalrunnersmodelReflectiveCallablerunReflectiveCallablejava12 orgjunitrunnersmodelFrameworkMethodinvokeExplosivelyFrameworkMethodjava44 orgjunitinternalrunnersstatementsInvokeMethodevaluateInvokeMethodjava17 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgjunitrunnersParentRunnerrunLeafParentRunnerjava271 orgjunitrunnersBlockJUnit4ClassRunnerrunChildBlockJUnit4ClassRunnerjava70 orgjunitrunnersBlockJUnit4ClassRunnerrunChildBlockJUnit4ClassRunnerjava50 orgjunitrunnersParentRunner3runParentRunnerjava238 orgjunitrunnersParentRunner1scheduleParentRunnerjava63 orgjunitrunnersParentRunnerrunChildrenParentRunnerjava236 orgjunitrunnersParentRunneraccess000ParentRunnerjava53 orgjunitrunnersParentRunner2evaluateParentRunnerjava229 orgjunitinternalrunnersstatementsRunBeforesevaluateRunBeforesjava26 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgspringframeworkxdtestAbstractExternalResourceTestSupport1evaluateAbstractExternalResourceTestSupportjava71 orgjunitrulesExternalResource1evaluateExternalResourcejava48 orgjunitrulesExternalResource1evaluateExternalResourcejava48 orgjunitrulesRunRulesevaluateRunRulesjava20 orgjunitrunnersParentRunnerrunParentRunnerjava309 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterrunTestClassJUnitTestClassExecuterjava86 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterexecuteJUnitTestClassExecuterjava49 orggradleapiinternaltaskstestingjunitJUnitTestClassProcessorprocessTestClassJUnitTestClassProcessorjava69 orggradleapiinternaltaskstestingSuiteTestClassProcessorprocessTestClassSuiteTestClassProcessorjava50 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava601 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingdispatchContextClassLoaderDispatchdispatchContextClassLoaderDispatchjava32 orggradlemessagingdispatchProxyDispatchAdapterDispatchingInvocationHandlerinvokeProxyDispatchAdapterjava93 comsunproxyProxy2processTestClassUnknown Source orggradleapiinternaltaskstestingworkerTestWorkerprocessTestClassTestWorkerjava103 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava601 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingremoteinternalhubMessageHubHandlerrunMessageHubjava355 orggradleinternalconcurrentDefaultExecutorFactoryStoppableExecutorImpl1runDefaultExecutorFactoryjava64 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava722,0
Remove unnecessary usage of modulegetIndex Following the merge of httpsgithubcomspring-projectsspring-xdcommit03cf962845499610ad021d9e6689bccbf5e13cef investigate calling sites of modulegetIndex or any similar API and remove it if needed,0
As a Spring XD user Id like to persist module aka cf apps metrics directly so I can relay that information via REST-APIs and not depend on the current coupling of xd-containers Currently SBoots export API allows us to snapshot metrics default redis on a specific interval default 5s This could be something to explore as part of this scope,5
Add support for creating fixed delay fixed rate triggers,0
For file based item reader jobs stepjob completion message should have name of file sent on named channel It looks like we dont handle deletion of source files currently We should provide some support for that - Maybe there is a way to into Spring Integrations PseudoTransactionManager support httpdocsspringiospring-integrationapiorgspringframeworkintegrationtransactionPseudoTransactionManagerhtml The File Source should possibly also support File archival functionality But that might also be a dedicated processor Not sure where we want to set the semantic boundaries for the File Source,0
To be able to run the tests without conflicting with an existing XD admin serverlauncher In line with what we address at httpsjiraspringsourceorgbrowseXD-1223 there are cases where tests fail when there is an existing instance of hsqldb running Since hsqldb uses the same port and database it causes issues,0
Add index-based access to TuplePropertyAccessor,0
Document router processor module for an example see comments here httpsjiraspringsourceorgbrowseXD-671,0
Cant execute query on Hive Hey Guys We are currently trying to connect Hive by spring-xd to create a table Unfortunatly we are not able to do it We are using the attached job configuration hivexml trying to connect by Hive Thrift Client with the following configuration hadoophive-client-factory hosthivehost port10000 hadoophive-tasklet idhive-script hadoopscript USE TESTING DROP TABLE IF EXITS testHiveBatchTable CREATE TABLE testHiveBatchTable key int value string hadoopscript hadoophive-tasklet For Some reason spring XD is not finding the TTransportException class The full log is in the singlenodehivequerylog file attached After that we tried uploading all the dependencies to the lib folder of the job but now we are facing problems with log4j full log is in singlenodehivequery2log attached and we are unable to deploy the job in any of the two cases Please Could you help us to solve this problem Thanks in advance,0
Update Base AMI to be a HVM,0
Default option values broken for composed modules May want to fix properly when tackling the module options for composed modules but this is currently broken and wasnt at some point module compose upperHttp --definition http transform --expressionpayloadtoUpperCase stream create foo --definition upperHttp log This will fail saying that port cant be resolved This will work though module compose upperHttp --definition http --port9000 transform --expressionpayloadtoUpperCase stream create foo --definition upperHttp log Note that stream create foo --definition upperHttp --portxxx log should work too wut wont but thats another bug will create after this one,0
As a s-c-d developer Id like to explore options to bootstrap and setup Lattice based infrastructure for s-c-ds bare metal deployment,5
Distributed test should verify container shutdown After each test execution the containers are shut down via code After public void after distributedTestSupportshutdownContainers distributedTestSupportensureTemplatestreamOperationsdestroyAll public void shutdownContainers for IteratorMapEntryLong JavaApplicationSimpleJavaApplication iterator mapPidContainersentrySetiterator iteratorhasNext iteratornextgetValueclose iteratorremove code The problem is that close guarantees that the process is shut down but it does not guarantee that the container is no longer registered in ZooKeeper The cleanup procedure should verify that no containers appear in the output of the runtime containers shell command This will prevent the next test from deploying to a non-existent container,0
Remove ability to do index-based tapping,0
Type Conversion across modules This story will need to be broken down further The current code mixes together the type conversion that happens within a single JVM for data that is passed on a local transport between modules and serializationdeserialization between JVMs This should be separated There was a suggestion that we could perhaps use typed data channels in SI as a means implement the type conversion between modules The media-type conversion support in Spring 4 is another part of this solution,0
Move resusable analytics repository classes to a new project The analytics project has been used as a host for common repository classes because it was easily visible by both -dirt and other stuff cant remember which This should be cleaned and a dedicated project for core utility re-usable whatever classes should be created,0
Multiple module instances consuming from taps or topics get duplicate messages on redis Message Bus If I deploy more than one instance of a module eg using modulenamecount 1 or modulenamecount 0 that consumes from a tap or topic then I get duplicate messages if Im using Redis as the message bus It looks like this is the same issue as XD-3100 but the fix for that only fixed Rabbit as the message bus This is easy to reproduce on a 2 container cluster using a Redis Message Bus Create and deploy streams as follows code stream create --definition http log --name httpLog stream deploy --name httpLog --properties modulecount0 stream create --definition tapstreamhttpLog transform --expressionpayloadtoString TAPPED log --name httpLogTap stream deploy --name httpLogTap --properties modulecount0 code On container 1 send a message code curl --data test message 001 httplocalhost9000httpLog code Container 1 logs are then code 2015-10-13 141628853 INFO 22774 --- ol-28-thread-18 xdsinkhttpLog test message 001 2015-10-13 141628855 INFO 22774 --- enerContainer-4 xdsinkhttpLogTap test message 001 TAPPED code and container 2 code 2015-10-13 141628859 INFO 22719 --- enerContainer-4 xdsinkhttpLogTap test message 001 TAPPED code Ie the tapped message is duplicated picked up by both tap module instances Similarly for topics create and deploy these streams code stream create --definition http topicmytopic --name httpTopic stream deploy --name httpTopic --properties modulecount0 stream create --definition topicmytopic transform --expressionpayloadtoString TOPIC CONSUMER 1 log --name topicConsumer1 stream deploy --name topicConsumer1 --properties modulecount0 stream create --definition topicmytopic transform --expressionpayloadtoString TOPIC CONSUMER 2 log --name topicConsumer2 stream deploy --name topicConsumer2 --properties modulecount0 code On container 1 send a message code curl --data test message 002 httplocalhost9000httpLog code Container 1 logs are then code 2015-10-13 143423168 INFO 22774 --- enerContainer-2 xdsinktopicConsumer2 test message 002 TOPIC CONSUMER 2 2015-10-13 143423172 INFO 22774 --- enerContainer-2 xdsinktopicConsumer1 test message 002 TOPIC CONSUMER 1 code and container 2 code 2015-10-13 143423173 INFO 22719 --- enerContainer-2 xdsinktopicConsumer2 test message 002 TOPIC CONSUMER 2 2015-10-13 143423177 INFO 22719 --- enerContainer-2 xdsinktopicConsumer1 test message 002 TOPIC CONSUMER 1 code Ie the topic message is picked up by each instance of the module in each stream In this case I would expect each stream to pick up the message once ie I would get a single output for each stream test message 002 TOPIC CONSUMER 2 once on either container test message 002 TOPIC CONSUMER 1 once on either container,0
Update JClouds to 18 Have to update the code because of deprecation and to get ready for 20,0
First deploylaunch of Pig job that includes yarn-sitexml file fails Deploying and launching a Pig job that contains a yarn-sitexml config file fails on the first deploy after XD starts up This happens consistently The error is Error Could not find or load main class orgapachehadoopmapreducev2appMRAppMaster which indicates that the yarn-sitexml file never made it to the classpath Un-deploying and re-deploying the job seems to fix the problem,0
Add option to set PARTITIONHEADER Build on top of httpsgithubcomspring-projectsspring-integration-extensionspull116files wrt the partition header to use see httpsgithubcomspring-projectsspring-xdpull1200issuecomment-57622400,0
Add dependency to spring batch admin in spring-xd-dirt We should depend on dependency groupIdorgspringframeworkbatchgroupId artifactIdspring-batch-admin-managerartifactId versionprojectparentversionversion dependency dependency groupIdorgspringframeworkbatchgroupId artifactIdspring-batch-admin-resourcesartifactId versionprojectparentversionversion dependency we are using spring batch 220RELEASE We need to depend on spring-batch-admin version 130BUILD-SNAPSHOT,0
Revise the available hadoopDistro options We should adjust our --hadoopDistro options to the ones supported in the new spring-data-hadoop 101RELEASE - hadoop12 default cdh4 hdp13 phd1 hadoop20 This includes updating the wiki pages,0
Add command for deleting a stream,0
Flo UI unresponsive after some time The Chrome UI Interface for flo stream creation stops responding after some time It starts working once the browser history cookies etc are cleaned up The drop down stops working im unable to look at or edit module properties connecting different modules doesnt work either Drag and drop operations still work command line stream creation still works is anyone else facing these issues Thanks,0
Ensure that branch-specific documentation is pulled and generated,0
Features and bug fixes for named channels,0
Factor out duplicated SpEL script logic See discussion at httpsgithubcomSpringSourcespring-xdpull250filesr6034885,0
Create TapRepository see StreamsRepository as an example This includes in memory and Redis implementations,0
Update docs for new Tap syntax Now that taps are just channels we need to update the docs The preceding colon is no longer needed and will be removed altogether so all examples should be like this code tapfoo bar code,0
hdfs-dataset sink with getName method in Pojo Having a pojo code public class User private String name public String getName return user public void setNameString name thisname name code with code hdfs-dataset --inputTypeapplicationx-java-objecttypetestUser code throws exception code 124327698 110SNAP ERROR task-scheduler-1 handlerLoggingHandler - orgspringframeworkmessagingMessageHandlingException Expression evaluation failed payloadgetClassgetName nested exception is orgspringframeworkexpressionAccessException Problem invoking method public javalangString testUsergetName code Which I believe is caused by correlation-strategy-expression spel in aggregator code intaggregator input-channelinput correlation-strategy-expressionpayloadgetClassgetName release-strategy-expressionsize batchSize expire-groups-upon-completiontrue send-partial-result-on-expirytrue message-storemessageStore output-channelobjects code Changing getName method in pojo to something else works,0
Basic authentication realm is always null Besides the Basic authentication realm being always null securitybasicrealm is always ignored,0
Few integration tests fail if JMX is enabled If JMX is enabled some of the integration tests fail This is similar to what we see in XD-1295 One example of this case is the test classes that extend StreamTestSupport In StreamTestSupport the BeforeClass has this line moduleDeployer containerContextgetBeanModuleDeployerclass When JMX is enable the IntegrationMBeanExporter creates JdkDynamicProxy for the ModuleDeployer since it is of type MessageHandler and thereby the above line to get bean by the implementing class type ModuleDeployer fails There are few other places where we use to refer the implementing classes on getBean Looks like we need to fix those as well,0
XD UI on Yarn Technically speaking of we want to integrate XD UI on Hadoop tools we should do it so that the proxy on resource manager works with XD UI From Hadoop Yarn resource manager point of view this proxied url is the applications tracking urlwhich is registered when application is deployed,0
SFTP Source Requires PassPhrase with Private Key Private keys do not require pass phrases hence its bogus for the source to require one,0
Stream Destroy fails if stream deploy failed From Eric Deploying using the following stream fails probably because of issues around quoting stream create foo --definition time filter --expressionpayloadcontains0 log --deploy When you try to destroy the stream the destroy fails which shouldnt happen whether the stream was valid or not,0
Only ship relevant modules files The current build ships everything that is found in the modules directory including build artifacts such as build or IDEA iml files Restrict the build to only include config lib at the moment,0
As a user Id like to have direct shell commands to scale updown a given module instance so I can avoid SPI specific CLI commands that needs run outside of data flow,5
HTML Doco has font issues for source It seems the html rendering of documentation is using a variable width font for some of the code esp sourcesh apparently rendering Weird thing though is that when mouse hovering over some of them they went back to fixed width See screenshot httpstaticspringsourceorgspring-xddocscurrent-SNAPSHOTreferencehtmlstarttheruntimeandthexdshell,0
Change banner of shell to say only xd,0
Add install script for Redis This assumes the redis source tar is available under rootDirredisredis-2613targz The install script does the following - Check the platform OS arch - unzip the tar compile the sources,0
Create RPM for distribution Package SpringXD into an RPM install path optpivotalspring-xd-100M5 with symlink optpivotalspring-xd - current version initd scripts to startstopstatus service springxd-admin startstopstatus service springxd-container startstopstatus usergroup springxdpivotal Host springxd rpm in Pivotal repo yum install springxd Support RHELCentOS version 5 and 6 tested on latest updates Support for 32 and 64 bits Support Java 16 and 17,0
As a XD developer Id like to explore repository options for composed jobs so I have the leverage to readwrite composed job definitions,5
Generate asciidoc doc from module options Generate asciidoc fragments for each modules options this way it is always up to date,0
Upgrade to Spring Hadoop 20 RC2,0
Identify scenario where XD JDBC based jobs fail to connect to DB During an integration test over the weekend the cluster based tests failed They showed that a job was left in an inconsistent state incomplete and other jdbc job tests failed because they could not connect to the database,0
Add acceptance test to include Gemfire use case To enrich acceptance test Id like to have basic coverage to evaluate Gemfire use cases An example would be to ingest data from HTTP source and write it to Gemfire server,0
Local control channels enabled in SingleNodeApplication when alternate transport is selected This causes intermittent test failures when testing streams with other transports since ModuleDeployer receives duplicate requests from multiple threads Fix is to check for local transport before invoking setUpControlChannels,0
Fix classpath and servlet container issues Several issues with 130M1 staged version - we now use Tomcat instead of Jetty which prevent s xd-admin from starting on YARN - we now have Guava 180 on classpath instead of 1601 - xd-yarn push doesnt work hadoop client for 271 needs Servlet API - updating Hadoop to 271 instead of 260 -- this causes Curator to also update to 271 which throws exception on startup,0
Add HdfsMongoDb Acceptance Test Create Acceptance Test Add Mongo to Ec2 Acceptance Test Environment,0
Create rich gauge service A rich gauge stores a number and also rmd min max Implementations for in-memory and redis,0
Incorrect refresh period for groovy scripts All modules that allow groovy implementations filter script transform router tcpclient allow automatic refresh of the script when it changes In the XD documentation it is stated that this refresh occurs every minute eg for filter at httpdocsspringiospring-xddocs130RELEASEreferencehtmlfilter The script is checked for updates every 60 seconds so it may be replaced in a running system This set up can be seen in the spring xml for the modules - eg again for filter codexml filter input-channeltoscript output-channeloutput int-groovyscript locationscriptfiltergroovy script-variable-generatorvariableGenerator refresh-check-delay60 filter code However from the spring integration documentation httpdocsspringiospring-integrationdocs424RELEASEreferencehtmlmessaging-endpoints-chapterhtmlscripting-config it specifies that the refresh-check-delay parameter is actually in milliseconds - ie the above XD configuration would recheck the script every 60 milliseconds which may be a performance concern as it will be checking the lastmodified time of the script file Ideally this parameter would be configurable - in our case we would usually eliminate the refresh check altogether set to -1 as our scripts will not change or if they did a redeploy of the module would pick it up,0
Process for creating and deploying custom XD modules,0
Packaging of lib directory for shell contains many jars that are not used Between M5 and M6 the size of the shelllib directory went up 50 MB Investigate and remove jars from being packaged that are not used,0
As a user Id like to have the option of editing the deployedundeployed stream so that I dont have to destroy to just change any deployment property,8
As a s-c-d developer Id like to move the external library to its own project so we have a clear separation of functionalities in s-c-d repo,3
Upgrade to spring boot 13 Upgrade dependencies to Spring Boot 13x,0
As a user I want to be able to control the starting offset of the Kafka source when a stream is deployed so that I can replay a topic if necessary Note - starting offset is only considered when the stream is deployed - progress made by modules must survive their crash for a running stream - undeploying and redeploying a stream with a specific start offset will cause the stream to read again from the start TBD what happens when streams are undeployedredeployed - where do they resume from,8
UI The user can view the job properties that were specified when the job definition was created as well as job parameters when it was launchedexecuted,0
As a user Id like to create a stream such as generator perf-meter so that I can ingest 1M messages of 1000 bytes and one thread using XDs singlenode container and measure performance characteristics,8
Workaround latest boot snapshot issue The workaround explicitly updates spring-core latest boot needs it merges all applicationyml documents that are not profile-specific under on spring key the latest boot requires it at least for now Boot may go back see spring-projectsspring-boot2022,0
As a developer Id like to upgrade to Kafka 082 so I can leverage the latest features in order to test the performance characteristics,8
Add REST endpoint for launching Job We need a REST endpoint to launch a job Given the constraint on JobRegistry being not persistent and not available outside the container JVM we can not use the batch job admin controllerservice to launch the job One possible way is to use the trigger source to launch the job at XD,0
Multiple SLF4J bindings on the classpath Summary says it all When starting we now get noformat SLF4J Class path contains multiple SLF4J bindings SLF4J Found binding in jarfileUsersebottardgradlecachesartifacts-24filestoreorgslf4jslf4j-log4j12175jar6edffc576ce104ec769d954618764f39f0f0f10dslf4j-log4j12-175jarorgslf4jimplStaticLoggerBinderclass SLF4J Found binding in jarfileUsersebottardgradlecachesartifacts-24filestoreorgslf4jslf4j-log4j12161jarbd245d6746cdd4e6203e976e21d597a46f115802slf4j-log4j12-161jarorgslf4jimplStaticLoggerBinderclass SLF4J See httpwwwslf4jorgcodeshtmlmultiplebindings for an explanation SLF4J Actual binding is of type orgslf4jimplLog4jLoggerFactory noformat Most certainly introduced by 1c4817ee60ae9325f6394dcc78aa803c47818546 or 72baec92f2e7bbe860b4a9dc6c994536c1670881,0
Create plugin module for RxJava based processors As an developer Id like to have a similar approach to creating reactor based stream processor as with Spark and RxJava A plugin should allow a reactor processor module to specify the bare minimum to work eg the processor class Explore how additional configuration can be achieved with well known module option commands,0
Rabbit source module with outputType fails to deploy To replicate the issue Create stream stream create rabbittest --definition rabbit --queuestest --outputTypetextplain log Stacktrace thrown 175956436 ERROR http-nio-9393-exec-3 restRestControllerAdvice191 - Caught exception while handling a request javalangIllegalArgumentException Module option named outputType is already present orgspringframeworkxdmoduleoptionsFlattenedCompositeModuleOptionsMetadatainitFlattenedCompositeModuleOptionsMetadatajava56 orgspringframeworkxdmoduleoptionsDelegatingModuleOptionsMetadataResolverresolveDelegatingModuleOptionsMetadataResolverjava49 orgspringframeworkxddirtstreamXDStreamParserparseXDStreamParserjava117 orgspringframeworkxddirtstreamAbstractDeployersaveAbstractDeployerjava73 orgspringframeworkxddirtrestXDControllersaveXDControllerjava227 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava601 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeInvocableHandlerMethodjava214 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava132 orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava104 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava749 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava690 orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava83 orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava945 orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava876 orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava961 orgspringframeworkwebservletFrameworkServletdoPostFrameworkServletjava863 javaxservlethttpHttpServletserviceHttpServletjava647 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava837 javaxservlethttpHttpServletserviceHttpServletjava728 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava305 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterWebRequestTraceFilterjava114 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextFilterConfiguration1doFilterInternalEndpointWebMvcAutoConfigurationjava131 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava88 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterMetricFilterAutoConfigurationjava97 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterMetricFilterAutoConfigurationjava82 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgapachecatalinacoreStandardWrapperValveinvokeStandardWrapperValvejava222 orgapachecatalinacoreStandardContextValveinvokeStandardContextValvejava123 orgapachecatalinaauthenticatorAuthenticatorBaseinvokeAuthenticatorBasejava472 orgapachecatalinavalvesRemoteIpValveinvokeRemoteIpValvejava680 orgapachecatalinacoreStandardHostValveinvokeStandardHostValvejava171 orgapachecatalinavalvesErrorReportValveinvokeErrorReportValvejava99 orgapachecatalinacoreStandardEngineValveinvokeStandardEngineValvejava118 orgapachecatalinaconnectorCoyoteAdapterserviceCoyoteAdapterjava407 orgapachecoyotehttp11AbstractHttp11ProcessorprocessAbstractHttp11Processorjava1004 orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava589 orgapachetomcatutilnetNioEndpointSocketProcessorrunNioEndpointjava1680 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava722,0
UI Step Execution Progress will show value than 100 In cases where I re-run a job and during the job execution the percentage complete will tally the total runtime of the current execution and all previous executions See the attached image,0
As a user Id like to have latest Spring Boot snapshot pulled as a dependency so that I can inherit and implement the OOTB security features,1
Create gradle task to check that all projects have descriptions This keeps coming up as an issue that prevents us from publishing to maven central,0
Spike Destroy composed job As an XD developer Id like to explore options to remove composed job so I can clean-up unused resources and memory footprints,0
Spring Batch jobs should be able to be deployed to the DIRT runtime and managed,0
Clean up mismatches and bugs in how mdoule options and server configuration is handled,0
Need to be able to specify password for Redis Running on Cloud Foundry and other managed environments we need to be able to specify a Redis password in addition to host and port,0
HTTPS Source Configuration issues 1 The sample httpSSLproperties file that is included in the distribution contains the line quote keystorepassPhrasesecret quote The correct key value is keyStorepassPhrase This issue causes HTTPS sources to deploy but not bind to the port 2 The password is always defaulting to secret,0
Processor modules should support scripts in languages other than groovy Filter Transform and Script modules all assume the provided script is written in Groovy This is partly due to the fact that the lang attribute of int-scriptscript cant be set to a property value ie langlanggroovy which would allow users to pass in the expected language Or perhaps we could use a SPEL expression or script to pick the language based on the file extension,0
As a s-c-d developer Id like to have module info module list module register and module unregister commands so I can interact with ModuleRegistry,8
Add redisConnectionFactory with connection pool We need to add a connection pool to the Redis connection factory used for the transport otherwise well see exceptions like these 125754842 ERROR inboundtictoc0-redisqueue-inbound-channel-adapter1 inboundRedisQueueMessageDrivenEndpoint183 - Failed to execute listening task Will attempt to resubmit in 5000 milliseconds orgspringframeworkdataredisRedisSystemException Redis exception nested exception is comlambdaworksredisRedisException Unable to connect at orgspringframeworkdataredisconnectionlettuceLettuceExceptionConverterconvertLettuceExceptionConverterjava46 at orgspringframeworkdataredisconnectionlettuceLettuceExceptionConverterconvertLettuceExceptionConverterjava36 at orgspringframeworkdataredisconnectionlettuceLettuceConverterstoDataAccessExceptionLettuceConvertersjava159 at orgspringframeworkdataredisconnectionlettuceLettuceConnectionconvertLettuceAccessExceptionLettuceConnectionjava253 at orgspringframeworkdataredisconnectionlettuceLettuceConnectionbRPopLettuceConnectionjava1508 at orgspringframeworkdatarediscoreDefaultListOperations12inRedisDefaultListOperationsjava163 at orgspringframeworkdatarediscoreAbstractOperationsValueDeserializingRedisCallbackdoInRedisAbstractOperationsjava51 at orgspringframeworkdatarediscoreRedisTemplateexecuteRedisTemplatejava185 at orgspringframeworkdatarediscoreRedisTemplateexecuteRedisTemplatejava153 at orgspringframeworkdatarediscoreAbstractOperationsexecuteAbstractOperationsjava86 at orgspringframeworkdatarediscoreDefaultListOperationsrightPopDefaultListOperationsjava160 at orgspringframeworkdatarediscoreDefaultBoundListOperationsrightPopDefaultBoundListOperationsjava105 at orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointpopMessageAndSendRedisQueueMessageDrivenEndpointjava178 at orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointaccess300RedisQueueMessageDrivenEndpointjava51 at orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointListenerTaskrunRedisQueueMessageDrivenEndpointjava291 at javalangThreadrunThreadjava724 Caused by comlambdaworksredisRedisException Unable to connect at comlambdaworksredisRedisClientconnectRedisClientjava176 at comlambdaworksredisRedisClientconnectAsyncRedisClientjava139 at orgspringframeworkdataredisconnectionlettuceLettuceConnectiongetAsyncDedicatedConnectionLettuceConnectionjava2924 at orgspringframeworkdataredisconnectionlettuceLettuceConnectiongetDedicatedConnectionLettuceConnectionjava2932 at orgspringframeworkdataredisconnectionlettuceLettuceConnectionbRPopLettuceConnectionjava1506 11 more Caused by javanetBindException Cannot assign requested address at sunniochNetconnect0Native Method at sunniochNetconnectNetjava465 at sunniochNetconnectNetjava457 at sunniochSocketChannelImplconnectSocketChannelImpljava639 at orgjbossnettychannelsocketnioNioClientSocketPipelineSinkconnectNioClientSocketPipelineSinkjava108 at orgjbossnettychannelsocketnioNioClientSocketPipelineSinkeventSunkNioClientSocketPipelineSinkjava70 at orgjbossnettychannelChannelsconnectChannelsjava634 at orgjbossnettychannelAbstractChannelconnectAbstractChanneljava207 at comlambdaworksredisRedisClientconnectRedisClientjava165 15 more,0
As a developer Id like to upgrade to SI 422GA release so I can leverage the latest improvements,1
Able to bypass authorization checks by appending json or xml How to reproduce 1 Enable security 2 Use a user that has the following role only ROLECREATE 3 Make a normal REST call code httplocalhost9393runtimecontainers code yields the desired response code timestamp 2015-03-26T165117010Z status 403 error Forbidden message Access is denied path runtimecontainers code Now try code httplocalhost9393runtimecontainersjson code This produces code links rel self href httplocalhost9393runtimecontainerspagesizesort content containerId 86eea5aa-b18e-41c5-a3f5-42dfa10713c1 groups deploymentSize 0 deployedModules messageRates null attributes ip 1001119 host INTEGRATIONlocal groups pid 52686 id 86eea5aa-b18e-41c5-a3f5-42dfa10713c1 links rel self href httplocalhost9393runtimecontainers86eea5aa-b18e-41c5-a3f5-42dfa10713c1 page size 20 totalElements 1 totalPages 1 number 0 code,0
Handle paginated responses Currently we handle only a single page response from CC SPI list requests but potentially there could be multiple ones,0
As a module developer I would like the JsonStringToTupleConverter in the Spring Cloud Streams project to maintain the types provided in the JSON string and not convert everything to a String representation,1
Container does not fail if sharing same ports on same machine with another container SHA baddfc24b08286a78392d5f565742c9bab5adfea EC2 Environment Look at Zookeeper Ec2 Deployment Test Topologypng for a view of the topology h2 The test scenario Can be duplicated with single server ZK ensemble Start Container on a EC2 instance Wait till it joins cluster Start 2nd container on same EC2 instance h2 Observed Behavior Container 1 starts normally Container 2 reports that failed to bind to address shown in attached stack trace But does not terminate Shown as valid container when executing runtime containers command xdruntime containers Container Id Host IP Address PID Groups Custom Attributes 0c88a300-9469-4f21-a256-7733259b13c7 ip-10-70-11-185 107011185 2061 256c35b7-c9f4-43ba-81dd-e1bfff0fb7c1 ip-10-70-9-57 1070957 3604 31fedc48-2762-4c45-8075-1dce64af5391 ip-10-110-186-48 1011018648 2396 GROUPA 524bb933-a8b5-4014-a0b5-06d4fa8b30c2 ip-10-2-209-174 102209174 2123 e993026e-e2ac-4d16-9890-0786149d7b75 ip-10-110-186-48 1011018648 2524 GROUPA f9437b15-1ee2-4827-99d4-e7957f9abdf2 ip-10-70-9-153 10709153 2366 GROUP0,0
The HDFS Sink should support writing POJOs to HDFS using Avro Serialization Writing POJOs using CDK Data Avro We should support both partitioned and un-partitioned This story addresses only un-partitioned Document limitations in terms of which Java types are supported and not supported by the Avro serialization,0
Use MessageBus Binding to start underlying endpoint The messagebus implementations upon registration of consumer and producer fromto messagebus the corresponding endpoints start Instead of directly calling the start on adapterconsumer we can call the corresponding Bindings start which calls the underlying endpoint to start This is in-line with the way the corresponding endpoints are stopped using Bindings stop during undeploydestroy,0
Ad-Hoc Job needs to have option for launch and forget When running an ad-hoc job without the use of a trigger adhoc or named The user has to wait for job to complete before receiving a success We need to launch a job and get a success back to the user letting them know the job has been launched for example --immediate,0
Enabling of JMX support is broken However this is triggered depending on whether httpsgithubcomspring-projectsspring-xdpull477files is merged yet or not jmx seems to be broken because of duplicate beans mbeans names,0
As a developer Id like to port file module from XD to s-c-s repo so I can use it as source module to build streaming pipeline,3
RefactorSimplify JobPlugin Currently the JobPlugin extends AbstractPlugin and the AbstractPlugin has got lots of unused code like it doesnt do anything with preProcessSharedContext in there,0
Reduce Sonar Critical Errors Should keep the critical error count as close to zero as possible,0
As a user Id like to have the option to provide single-user security configurations so that I can override them as needed Reference Spring Boot - Securityhttpdocsspringiospring-bootdocs11x-SNAPSHOTreferencehtmlboot-features-securityhtml Scope Configurations can be provided through serversyml file,1
As a user I want to have a documentation that shows how to configure multiple topics with Kafka source module,1
Create startup script to start one admin multiple containers We could have a XD startup script something like this xd-distributed --admins1 --containers3 We could possibly provide a configuration option to specify the admin port so that multiple admin servers can be started,0
Shell Improve LoginAuthentication Capabilities Currently the shell does not automatically detect whether authentication for the targeted admin server is necessary Upon start or change of the admin server URL the shell should check the requirements and if necessary prompt the user to provide credentials There is also a REST endpoint that could be used for that code httplocalhost9393securityinfo code See also XD-2870 for reference,0
Check job restartable flag for JobExecution restart action job create bogus --definition jdbchdfs --sqlselect from bogus --restartablefalse job deploy bogus job launch bogus httplocalhost9393admin-uijobsexecutions click Restart Job Execution on the failed job execution get message Job was relaunched container log has 123627231 ERROR task-scheduler-10 handlerLoggingHandler145 - orgspringframeworkmessagingMessageHandlingException orgspringframeworkbatchcorerepositoryJobRestartException JobInstance already exists and is not restartable,0
Introduce cache to ZooKeeperContainerRepository Add Cache implementation for ZooKeeperContainerRepository,0
Splunk module is broken Splunk sink module doesnt work at all It throws javalangVerifyError exception like following nested exception is javalangVerifyError class orgspringframeworkintegrationsplunkoutboundSplunkOutboundChannelAdapter overrides final method onInitV This is because SplunkOutputChannelAdapter refers old spring integration jar but recent AbstractReplyProducingMessageHandler which SplunkOutputChannelAdapter extends set final to onInit method Hence it doesnt work SplunkOutboundChannelAdapter should be fixed to not override onInit method and replace the jar file spring-integration-splunk-100M1jar,0
Failed to create a stream with Script processor I attempted to create a stream with a Script processor using Spring XD shell codexdstream create --name test1 --definition tcp --port17654 script --locationprint-stacktracegroovy null Command failed orgspringframeworkxdrestclientimplSpringXDException Error with options for module script of type processor location option named location is not supported code Ive corrected the syntax as described in docs by replacing --location with --script codexdstream create --name test1 --definition tcp --port17654 script --scriptprint-stacktracegroovy null Created new stream test1code My stream was created but the deployment failed with exception code 200445105 103RELEASE INFO Deployer serverStreamDeploymentListener - Deployment status for stream test1 DeploymentStatusstatefailederrorsorgspringframeworkbeansfactoryBeanDefinitionStoreException Invalid bean definition with name orgspringframeworkintegrationconfigServiceActivatorFactoryBean0 defined in null Could not resolve placeholder location in string value location nested exception is javalangIllegalArgumentException Could not resolve placeholder location in string value location orgspringframeworkbeansfactoryconfigPlaceholderConfigurerSupportdoProcessPropertiesPlaceholderConfigurerSupportjava211 orgspringframeworkcontextsupportPropertySourcesPlaceholderConfigurerprocessPropertiesPropertySourcesPlaceholderConfigurerjava180 orgspringframeworkcontextsupportPropertySourcesPlaceholderConfigurerpostProcessBeanFactoryPropertySourcesPlaceholderConfigurerjava155 orgspringframeworkcontextsupportPostProcessorRegistrationDelegateinvokeBeanFactoryPostProcessorsPostProcessorRegistrationDelegatejava265 orgspringframeworkcontextsupportPostProcessorRegistrationDelegateinvokeBeanFactoryPostProcessorsPostProcessorRegistrationDelegatejava162 orgspringframeworkcontextsupportAbstractApplicationContextinvokeBeanFactoryPostProcessorsAbstractApplicationContextjava609 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava464 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava691 orgspringframeworkbootSpringApplicationrunSpringApplicationjava320 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava142 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava201 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by javalangIllegalArgumentException Could not resolve placeholder location in string value location orgspringframeworkutilPropertyPlaceholderHelperparseStringValuePropertyPlaceholderHelperjava174 orgspringframeworkutilPropertyPlaceholderHelperreplacePlaceholdersPropertyPlaceholderHelperjava126 orgspringframeworkcoreenvAbstractPropertyResolverdoResolvePlaceholdersAbstractPropertyResolverjava194 orgspringframeworkcoreenvAbstractPropertyResolverresolveRequiredPlaceholdersAbstractPropertyResolverjava158 orgspringframeworkcontextsupportPropertySourcesPlaceholderConfigurer2resolveStringValuePropertySourcesPlaceholderConfigurerjava175 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorresolveStringValueBeanDefinitionVisitorjava282 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorresolveValueBeanDefinitionVisitorjava209 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorvisitIndexedArgumentValuesBeanDefinitionVisitorjava150 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorvisitBeanDefinitionBeanDefinitionVisitorjava84 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorresolveValueBeanDefinitionVisitorjava169 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorvisitIndexedArgumentValuesBeanDefinitionVisitorjava150 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorvisitBeanDefinitionBeanDefinitionVisitorjava84 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorresolveValueBeanDefinitionVisitorjava169 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorvisitPropertyValuesBeanDefinitionVisitorjava141 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorvisitBeanDefinitionBeanDefinitionVisitorjava82 orgspringframeworkbeansfactoryconfigPlaceholderConfigurerSupportdoProcessPropertiesPlaceholderConfigurerSupportjava208 31 more code scriptxml in 103 taghttpsgithubcomspring-projectsspring-xdblobv103modulesprocessorscriptconfigscriptxml uses codeint-groovyscript locationlocation code The Script 103 processor docshttpdocsspringioautorepodocsspring-xd103RELEASEreferencehtmlscript have issues with properties naming eg example is using --location while later --script is used Same with --propertiesLocation and --properties-location,0
Restore deployment properties for orphaned modules As part of XD-1338 we modified how module deployment works Now module deployment requests include deployment properties as the data for the ZooKeeper node This allows us to reuse those properties when a container exit the cluster and the module is redeployed to another container However if there are no other containers to handle the deployment the module deployment node is erased along with the properties This mean no module will ever handle the partition that module was responsible for This condition needs to be handled so that partitioned streams continue to function in cases where the cluster temporarily doesnt have enough containers to support the stream,0
Create documentation on the general DSL syntax The asciidoc wiki should have a section included in the Sidebarasciidoc as well that describes the general usage of the DSL syntax,0
CORS issue when trying to use HTTP in singlenode When Im trying to send a json object to spring-xd I get the following error even though I opened up requests to allow all XMLHttpRequest cannot load httplocalhost9000 No Access-Control-Allow-Origin header is present on the requested resource Origin httplocalhost3000 is therefore not allowed access Config spring profiles singlenode xd transport local ui alloworigin,0
Jolokia based aggregator for cluster monitoring,0
As a QA Id like to include acceptance test coverage for router sink module so that I can validate the functionality as part of every CI build,3
xdhomedata shows up after gradlew build When the XD starts up and does not see its job repo it will create one in thexdhomedata directory When xdhome is not set in system properties the job repo creates a literal xdhomedata directory,0
As a developer Id like to troubleshoot and fix root level access over CF SPI REST calls theyre broke at the moment Access for following calls fail code href httpss-c-dataflow-admincfappspezpivotalio80streams href httpss-c-dataflow-admincfappspezpivotalio80tasks href httpss-c-dataflow-admincfappspezpivotalio80metricscounters href httpss-c-dataflow-admincfappspezpivotalio80metricscountersname href httpss-c-dataflow-admincfappspezpivotalio80modules href httpss-c-dataflow-admincfappspezpivotalio80completionsstreamstartdetailLevel code,1
The use of labelled modules and taps needs more explanation httpsgithubcomspring-projectsspring-xdwikiTaps mentions this but the explanation needs more elaboration and example eg mystream - http flibble transform --expressionpayloadtoUpperCase file tapstreammystreamflibble transform --expressionpayloadreplaceAllA log,0
Test with Java8 runtime,0
replace the hacky parser with a good one Replace the existing DSL parser that uses string indexing with a more robust one based on a derivative of SpEL This will provide a stable base on which to quickly iterate on syntax,0
Spike for transformation of the parsed streamjob definition to a Physical Deployment Model taking into account a Deployment Manifest The initial parsing of a streamjob definitions into a list of ModuleDeploymentRequests needs to be transformed into a Physical Deployment Model that takes into account 1 module co-location 2 partitioning 3 number of instances 4 node assignment an potentially other data related to the runtime properties of a module eg concurrency settings The an external DeploymentManifest will be used to capture this information A deployment of a stream or job will then need to optionally provide a reference to deployment manifest,0
xd-shell tab completion missing for http postget xd-shell tab completion missing for http post and http get cli commands Typing xdhttp post tab tab gives no suggestions event though --file or --data are required,0
Reduce necessity for quoting in parameter values in DSL expressions parameter values that include spaces need to be quoted but this becomes overly complex in this kind of case Here is what you want to say code http --port9995 filter --expressionpayloadmatcheshello world code With the rule parameter values that contain spaces must be quoted it would be this code http --port9995 filter --expressionpayloadmatcheshello world code But then to include single quotes within a single quoted string you need to use two of them - so it becomes code http --port9995 filter --expressionpayloadmatcheshello world code Less than ideal,0
Add support for update in gpfdist sink Currently we can only do plain inserts should follow same logic from native gpfdist sink and add upserts,0
As a CF user Id like to have the ability to override the HDFS location so that I can change where the custom module uber-jar can be stored and retrieved,3
As a developer Id like to identify the Kafka configurations so that I could setup infrastructure to perform performance testing,3
Generated pom does not include spring boot 11 dependency The change in XD 101 to use Spring Boot 117 meant that we cant pickup the boot dependency by importing the platform-bom Andy Ws suggestion is to change the generated pom to refer to the platform-bom as a parent not import and then declare the explicit dependency on Boot 117,0
End user guide for data streams Put on the guide as a section in an streams wiki page End user focused no need to mention spring underpinning impl details,0
As a developer Id like to separate mocks vs real repository coupling from the test infrastructure so it is easy to test against thin layer of dependencies,8
FileJdbc Job throws exception during Acceptance Tests Currently the testFileJdbcJobMultipleInvocations fails on line 156 stating data is different in table that what is expected Currently this is failing on the single admincontainer deployment using redis as a transport Also seeing the following exception in the attached log noformat 200SNAP ERROR xdbusjobec2Job30requests-1 stepAbstractStep - Encountered an error executing step step1 in job ec2Job3 orgspringframeworkbatchitemItemStreamException Failed to initialize the reader Caused by javalangIllegalStateException Input resource must exist reader is in strict mode URL filetmpxdoutputfilejdbctestfilejdbctest1out noformat The file is should be present and data present for the test At least according to the checker on EC2 and local deployments,0
Job deployment list returns 404 after Laptop wakes up Version XD 101 Mac OSX 1095 Problem - Deployed a simple batch job in singlenode - Laptop put to sleep mode - After login notice that ZK is establishing connection - Continues to clean-up prior to redeployment but never goes through successfully - Listing job both in UI and Shell states it is undeployed Gunnars experiment - System is running in Single Node - Laptop goes to sleep - After waking up your laptop from sleep you cannot retrieve the list of deployed jobs anymore in AdminUI Error Only getting back a 404 - NoSuchBatchJobException Batch Job with the name abcd doesnt exist,0
Create or document existing project template for custom module creation The wiki docs on creating custom modules have entire buildgradle files in them Would be good to explore existing STS templates maven archetypes etc or create new ones for authoring custom modules,0
Undeploying twitterstream logs warning - MessageDeliveryException To reproduce - Download recent snapshot - httprepospringiolibs-snapshot-localorgspringframeworkxdspring-xd100BUILD-SNAPSHOTspring-xd-100BUILD-20140715101224-1-distzip Start XD and shell - xdstream create --name tweets --definition twitterstream file --deploy xdstream undeploy --name tweets Note the IllegalStateException has been fixed for RC1 still need to fix the MessageDeliveryException There is an error logged in the logs code 083757022 INFO DeploymentsPathChildrenCache-0 moduleModuleDeployer - deployed SimpleModule nametwitterstream typesource grouptweets index0 581a12b9 083802685 INFO main-EventThread serverContainerRegistrar - Undeploying module ModuleDescriptor4807f3e2 moduleName twitterstream moduleLabel twitterstream group tweets sourceChannelName null sinkChannelName null sinkChannelName null index 0 type source parameters mapempty children listempty 083802687 INFO main-EventThread moduleModuleDeployer - removed SimpleModule nametwitterstream typesource grouptweets index0 581a12b9 083802705 INFO DeploymentsPathChildrenCache-0 serverContainerRegistrar - Path cache event deploymentsmodulesallocatedfa40cb45-3c16-4b19-81e9-eb6d357d186dtweetssourcetwitterstream1 type CHILDREMOVED 083802779 WARN task-scheduler-4 twitterTwitterStreamChannelAdapter - Exception while reading stream orgspringframeworkmessagingMessageDeliveryException Dispatcher has no subscribers for channel SimpleModule nametwitterstream typesource grouptweets index0 581a12b9defaultcontainer0todiscardDeletes orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava81 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 sunreflectGeneratedMethodAccessor86invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava113 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava97 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava91 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy81sendUnknown Source orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava109 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava94 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava98 orgspringframeworkintegrationxtwitterTwitterStreamChannelAdapterdoSendLineTwitterStreamChannelAdapterjava154 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTask2extractDataAbstractTwitterInboundChannelAdapterjava200 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTask2extractDataAbstractTwitterInboundChannelAdapterjava186 orgspringframeworkwebclientRestTemplatedoExecuteRestTemplatejava553 orgspringframeworkwebclientRestTemplateexecuteRestTemplatejava521 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTaskreadStreamAbstractTwitterInboundChannelAdapterjava180 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTaskrunAbstractTwitterInboundChannelAdapterjava158 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava54 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 Caused by orgspringframeworkintegrationMessageDispatchingException Dispatcher has no subscribers orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava107 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 33 more 083802780 WARN task-scheduler-4 twitterTwitterStreamChannelAdapter - Exception while reading stream waiting for 250 ms before restarting 083802781 ERROR task-scheduler-4 handlerLoggingHandler - javalangIllegalStateException javalangInterruptedException sleep interrupted orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterwaitAbstractTwitterInboundChannelAdapterjava258 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterwaitLinearBackoffAbstractTwitterInboundChannelAdapterjava232 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapteraccess600AbstractTwitterInboundChannelAdapterjava54 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTaskrunAbstractTwitterInboundChannelAdapterjava174 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava54 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 Caused by javalangInterruptedException sleep interrupted javalangThreadsleepNative Method orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterwaitAbstractTwitterInboundChannelAdapterjava254 11 more code,0
Create a command to browse the HDFS file system There are existing commands that can be taken from httpsgithubcomSpringSourcespring-hadoop-samples or httpsgithubcomSpringSourceimpala that can be used for this,0
Re-enable support for tapping labels and named channels As of XD-685 we no longer have the ability to 1 Tap a named channel ala stream1foo sink stream2 tapfoo sink 2 Tap a stream whose source is a named channel ala stream2tapstream1 sink 3 Tap a label ala stream1http obfuscator transform --expressionpayloadreplaceAllpassword file stream2tapstream1obfuscator sink Loss of named channel support is due to the fact that we are creating a WireTap on a modules local output channel only thus we never tap named channels We are not supporting labels because we only create a named channel called tapstreammodule on stream creation so later creation of tap on stream1obfuscator is referring to a non-existent named channel,0
UI Analytics Tab - Ensure that graphs are responsive Even for relatively large resolutions eg 1024px the graph breaks the browser window We should ensure that the graphs work on smaller screens,0
Use new Table classes provided by Spring Shell The classes orgspringframeworkxdshellutilTable orgspringframeworkxdshellutilTableHeader orgspringframeworkxdshellutilTableRow are now provided by orgspringframeworkshellsupporttable Objectives We should use those But wait for SHL-142 to be complete Improve all tests that use the table classes - Avoid accessing table data using numeric keys rowcolumn numbers - Instead use business keys such as table header names etc,0
As a SCDF user I want to be able to register artifacts as libraries so that I can reference them in include and exclude statements,2
Create microbenchmark performance test of reactor syslog adapter vs standard syslog adapter We need to verify that we are seeing improved throughput when using the reactor based syslog adapter A suggestion on a basic stream to perform a microbenchmark this would be using in-memory counters singlenode with the stream definition syslog counter Based on the results of this microbenchmark other stories may need to be created,0
Vary producer size EC-DB-5 Use the number of consumers gave a maximum throughput in the previous test say 10 consumers message size 100 bytes Prefetch 100 Send 1M messages Vary the number of producers Measure the msgsec rate and calculate the data transfer rate in MBsec Number of producers 2 4 6 10 50 During the measurements look at the RabbitMQ Admin UI and see if the queue is backing up,0
Create JobDefinition repository h2 Narrative As XD I need a persistent way to register job definitions beyond the map registry implementation provided by Spring Batch h2 Acceptance Criteria XD should be able to register unregister and find job definitions via the registry The registry should be backed by Redis so that it is persistent,0
Publish golo themed docs documentation to staticspringsourceorg as part of nightly build The wiki repo contains a script gen-docssh that we are planning to use to generate a pretty HTML version of the Getting Started guide We should consider using maven or gradle but there is currently an issue documented in buildgradle to generate this and other reference docs and publish them automatically as part of a nightly build,0
Composed Modules Cant Have Duplicate Processors code xdmodule compose foo --definition time --fixedDelay5 t1transform --expressionpayloada t2transform --expressionpayloadtoUpperCase code Produces 2016-05-02 172720aa - the first transform is applied twice,0
Spark Tap Tests Do Not Clean Up RabbitMQ 2 Exchanges left behind,0
Provide a way to customize the isolation level of the JobRepository The Gemfire XD database cannot be used to store the Spring XD metadata because the former doesnt support the default Spring Batch transaction isolation level ISOLATIONSERIALIZABLE There looks to be no way to configure the Spring XDs internal Spring Batch JobRepository with another isolation level The JobRepository instance is getting created with default settings by the Spring Batches SimpleBatchConfiguration and there are no custom BatchConfigurers available to change the default settings of the JobRepository,0
http-client Improvement userDefinedHeaderPrefix Currently you cannot suppress or change the X- prefix on user-defined headers See httpstackoverflowcomquestions28118990passing-http-request-header-to-restapi-from-springxd-using-http-client-processor2815329128153291 Add userDefinedHeaderPrefix property,0
Support Map Payloads in field-value-counter The FieldValueCounterHandler handles POJO Tuple and JSON jsonPath emits a LinkedHashMap The handler should natively support a Map See httpstackoverflowcomquestions33270926springxds-field-value-counter-doesnt-work-after-splitting-json-object-array-in3328178333281783,0
Throughput optimized TCP based adapters based on Reactor TCP project,0
As a developer Id like to benchmark a stream with and without JMX enabled so I can test in isolation and document the differences in performance,3
Add Https Support to the HTTP Source,0
When using --deletefile option for filejdbc all files are deleted before processing complete In this scenario I copied 2 files fakeFilecsv anotherFilecsv into the bar directory Created thew following job job create myjob2 --definition filejdbc --resourcesfilebarcsv --namesname --tableNamepeople2 --initializeDatabasetrue --commitInterval1 --deleteFilestrue --deploy Then launched the job job launch myjob2 The result was that the first file was processed but then the module deleted all csv files in the directory before processing the 2nd file The net result was that the job failed and the 2nd file was not processed,0
As a Spring XD on CF user Id like to use Receptor implementation of Admin SPI every time I deploy Spring XD modules so I can leverage the SPI to query for module status and health metrics Possible APIs code ModuleStatus getStatusModuleDescriptor descriptor CollectionModuleDescriptor listModules MapModuleDescriptorKey ModuleStatus code,5
JAR version mismatches Looks like there are some version mismatch issues with the buildpackaging of the XD components Looking in xdlib I see the following which looks suspicious mqtt-client-021jar mqtt-client-10jar jackson-core-asl-1913jar jackson-mapper-asl-1912jar spring-integration-core-300M3jar spring-integration-http-225RELEASEjar spring-data-commons-160M1jar spring-data-commons-core-140RELEASEjar,0
field-value-counter should support nested fieldNames for example when using the twittersearch source module the hashTags are nested within entities and the value for hashTags is itself an object with a text field so the following would be needed to count the actual value of interest code tap tweets field-value-counter --fieldNameentitieshashTagstext code,0
Classpath issue with homebrew version on MacOSX 1091 Ive installed spring xd for the first time today on my mac using the homebrew distribution I tried to create the following stream xd stream create --definition http --port6666 log --name httptest This produced the following error orgspringframeworkintegrationMessageHandlingException error occurred in message handler moduleDeployer orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava79 orgspringframeworkintegrationconfigServiceActivatorFactoryBean1handleRequestMessageServiceActivatorFactoryBeanjava83 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava142 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava183 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava153 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava114 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava92 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava228 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava212 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava177 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava171 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava149 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava183 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava153 orgspringframeworkxddirtstreamDeploymentMessageSendersendDeploymentRequestsDeploymentMessageSenderjava57 orgspringframeworkxddirtstreamAbstractDeployersendDeploymentRequestsAbstractDeployerjava163 orgspringframeworkxddirtstreamAbstractDeployerbasicDeployAbstractDeployerjava204 orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerdeployAbstractInstancePersistingDeployerjava78 orgspringframeworkxddirtrestXDControllersaveXDControllerjava229 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeInvocableHandlerMethodjava214 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava132 orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava104 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava748 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava689 orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava83 orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava945 orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava876 orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava931 orgspringframeworkwebservletFrameworkServletdoPostFrameworkServletjava833 javaxservlethttpHttpServletserviceHttpServletjava647 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava807 javaxservlethttpHttpServletserviceHttpServletjava728 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava305 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterWebRequestTraceFilterjava114 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfiguration1doFilterInternalEndpointWebMvcAutoConfigurationjava126 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava88 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterMetricFilterAutoConfigurationjava97 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterMetricFilterAutoConfigurationjava82 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgapachecatalinacoreStandardWrapperValveinvokeStandardWrapperValvejava222 orgapachecatalinacoreStandardContextValveinvokeStandardContextValvejava123 orgapachecatalinaauthenticatorAuthenticatorBaseinvokeAuthenticatorBasejava472 orgapachecatalinavalvesRemoteIpValveinvokeRemoteIpValvejava680 orgapachecatalinacoreStandardHostValveinvokeStandardHostValvejava171 orgapachecatalinavalvesErrorReportValveinvokeErrorReportValvejava99 orgapachecatalinacoreStandardEngineValveinvokeStandardEngineValvejava118 orgapachecatalinaconnectorCoyoteAdapterserviceCoyoteAdapterjava407 orgapachecoyotehttp11AbstractHttp11ProcessorprocessAbstractHttp11Processorjava1004 orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava589 orgapachetomcatutilnetNioEndpointSocketProcessorrunNioEndpointjava1680 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 Caused by orgspringframeworkbeansfactoryCannotLoadBeanClassException Cannot find class orgspringframeworkintegrationxhttpNettyHttpInboundChannelAdapter for bean with name orgspringframeworkintegrationxhttpNettyHttpInboundChannelAdapter0 defined in URL fileUsersphilippespringsourcespring-xd-100M1xdmodulessourcehttpxml nested exception is javalangClassNotFoundException orgspringframeworkintegrationxhttpNettyHttpInboundChannelAdapter orgspringframeworkbeansfactorysupportAbstractBeanFactoryresolveBeanClassAbstractBeanFactoryjava1327 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorypredictBeanTypeAbstractAutowireCapableBeanFactoryjava594 orgspringframeworkbeansfactorysupportAbstractBeanFactoryisFactoryBeanAbstractBeanFactoryjava1396 orgspringframeworkbeansfactorysupportAbstractBeanFactoryisFactoryBeanAbstractBeanFactoryjava959 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava680 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava760 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava482 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava609 orgspringframeworkbootSpringApplicationrunSpringApplicationjava321 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava130 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava181 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava264 orgspringframeworkxddirtmoduleModuleDeployerdeployAndStoreModuleDeployerjava254 orgspringframeworkxddirtmoduleModuleDeployerhandleDeployModuleDeployerjava249 orgspringframeworkxddirtmoduleModuleDeployerhandleSingleModuleMessageModuleDeployerjava227 orgspringframeworkxddirtmoduleModuleDeployerhandleMessageInternalModuleDeployerjava154 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 79 more Caused by javalangClassNotFoundException orgspringframeworkintegrationxhttpNettyHttpInboundChannelAdapter orgspringframeworkbootcontextembeddedtomcatTomcatEmbeddedWebappClassLoaderloadClassTomcatEmbeddedWebappClassLoaderjava68 orgapachecatalinaloaderWebappClassLoaderloadClassWebappClassLoaderjava1559 orgspringframeworkutilClassUtilsforNameClassUtilsjava238 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionresolveBeanClassAbstractBeanDefinitionjava392 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoResolveBeanClassAbstractBeanFactoryjava1348 orgspringframeworkbeansfactorysupportAbstractBeanFactoryresolveBeanClassAbstractBeanFactoryjava1319 95 more I managed to create the exact same stream successfully after installing the release manually from the zip file and setting up XDHOME and my path as documented so I guess its a problem specific to the homebrew installation,0
As a s-c-s user Id like to have the option to use more than one binder connection factory so I can mix and match where I consume and publish data More details herehttpsgithubcomspring-cloudspring-cloud-streamissues140,5
Make deployfalse as the default when creating a new job The automatic deployment of the job makes it harder to understand the lifecycle of the job and also does not allow for the opportunity to define any additional deployment metadata for how that job runs eg is it partitioned etc,0
Implement list method on TapController,0
Delete a trigger from Shell Shell command to delete a trigger Note this command will only remove the trigger definition not modifying the jobs that use the trigger,0
Add configuration files for hornetmq jms provider See httpsjiraspringiobrowseXD-1684 Requires update to gradle 21,0
FilePollHdfs is not writing results to hdfs XD Deployment DescriptionXD Cluster 1 Container EnvironmentEC2 Type Of TestManual Test Test Failed Onfilepollhdfs only test that was run Build UsedBuilt May 7 1029 UTC From the shell attempted to create filepollhdfs however no results were written to hdfs hadoop22 The commands executed were the following job create myjob --definition filepollhdfs --namesforenamesurnameaddress --deploy stream create mystream --definition file --dir67fc27a6-224d-4c67-a02a-40730bcf8906 --patternout queuejobmyjob --deploy No warnings nor exceptions were displayed till I changed the log4jloggerorgspringframework to INFO and restarted the container Then when I copied the sample file to the monitored directory the log reported 213007605 INFO DeploymentsPathChildrenCache-0 moduleModuleDeployer118 - deployed SimpleModule namefile typesource groupmystream index0 61612c7c Exception in thread inboundjobmyjob-redisqueue-inbound-channel-adapter1 orgspringframeworkmessagingcoreDestinationResolutionException failed to look up MessageChannel with name errorChannel in the BeanFactory and there is no HeaderChannelRegistry present orgspringframeworkintegrationsupportchannelBeanFactoryChannelResolverresolveDestinationBeanFactoryChannelResolverjava108 orgspringframeworkintegrationsupportchannelBeanFactoryChannelResolverresolveDestinationBeanFactoryChannelResolverjava44 orgspringframeworkintegrationchannelMessagePublishingErrorHandlerresolveErrorChannelMessagePublishingErrorHandlerjava111 orgspringframeworkintegrationchannelMessagePublishingErrorHandlerhandleErrorMessagePublishingErrorHandlerjava78 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava55 javalangThreadrunThreadjava724 Caused by orgspringframeworkbeansfactoryNoSuchBeanDefinitionException No bean named errorChannel is defined orgspringframeworkbeansfactorysupportDefaultListableBeanFactorygetBeanDefinitionDefaultListableBeanFactoryjava641 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetMergedLocalBeanDefinitionAbstractBeanFactoryjava1159 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava282 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava200 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava273 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava200 orgspringframeworkintegrationsupportchannelBeanFactoryChannelResolverresolveDestinationBeanFactoryChannelResolverjava99 When using the attached sample file you need to rename the file to try2out,0
Fix Redis FieldValueCounter repo save method That method is actually currently never called but - The case where a mapping already exists is not covered outstanding TODO comment - the semantics of the method should just be to save and override,0
A HATEOAS designed REST API using Spring HATEOAS library,0
As a user Im trying to compose a job just with one definition however Im getting the following error message which could be misinterpreted code xdjob create salsa --definition timestampfile Successfully created job salsa xdjob create foo --definition salsa salsa Successfully created job foo xdjob create foo222 --definition salsa Command failed orgspringframeworkxdrestclientimplSpringXDException Could not find module with name salsa and type job code,1
As a user Id like to have the flexibility to configure DB creds so that I can use a DB of choice for batch job repository metadata persistence The scope of this task is to have the configuration specifics documented in the wiki,2
As a developer Id like to document the changes to message headers so that users can refer to the troubleshooting section if there are any serialization errors when reusing the 10 batch-jobs in 11 release Perhaps this could be part of troubleshootinghttpsgithubcomspring-projectsspring-xdwikiDeploymenttroubleshooting section in our wiki,1
Refactor container to remove shared module context as a separate context The main container context becomes the shared context for modules,0
HDFS sink module,0
Handle Pagination in Spring XD Shell,0
As a user I would like to specify the default output channel when the channel name resolution doesnt occur In cases where I wont prefer to lose the data and like to investigate the messages from errorChannel or that sort,2
Change internal tapping namings to use labels Currently the tapping infrastructure uses modulenameindex as part of the internal name of the channel Now that module labels are uniques per stream we may change to just modulelabel The strategy used to derive the channel name should also be extracted so that a change to a single piece of code is necessary in the future currently there is likely duplication in ChannelNoderesolve and -I assume- the bus,0
Create documentation section on best practices This should include some guidance on setting rabbit message bus paramters relating to prefetch and concurrency It should also discuss the bypass functionality - or reference another section that covers it We should probably include how to scale out http sources eg the need to use a load balancer,0
As a Flo for Spring XD user I would like to be able to create a new stream using the graphicat UI This flow should be shown in a graphical way also in definition tab httpexamplecomimagepng Right now it doesnt happen due to a javascript error code TypeError thisnodegetTransformToElement is not a function at ObjectVElementbbox httplocalhost9393admin-uilibjointsrcvectorizerjs32336 at jointdiaElementViewjointdiaCellViewextendpositionRelative httplocalhost9393admin-uilibjointdistjointallcleanjs274051 at nullanonymous httplocalhost9393admin-uilibjointdistjointallcleanjs271018 at httplocalhost9393admin-uiliblodashlodashcompatjs117723 at eval eval at createIterator httplocalhost9393admin-uiliblodashlodashcompatjs10 anonymous109 at FunctionforEach httplocalhost9393admin-uiliblodashlodashcompatjs36459 at jointdiaElementViewjointdiaCellViewextendupdate httplocalhost9393admin-uilibjointdistjointallcleanjs270011 at bound as update httplocalhost9393admin-uiliblodashlodashcompatjs100521 at jointdiaElementViewjointdiaCellViewextendrender httplocalhost9393admin-uilibjointdistjointallcleanjs290314 at jointdiaPaperBackboneViewextendaddCell httplocalhost9393admin-uilibjointdistjointallcleanjs500414anonymous function 9393admin-uilibangularangularjs11500 9393attachment-namejpgthumbnail code,1
Disable Batch Job Tests for Kafka Message Bus At this time Kafka Message bus does not support jobs but we still need to run acceptance tests for streams Thus we need to exclude Jobs from the acceptance tests when using Kafka Message Bus,0
xd-container should start even if xd-admin is not running currently xd-container will not start due to a DB connection failure if the xd-admin is not already running In fact if someone is not using Batch jobs at all with XD they should not even need a DB connection for either xd-admin or xd-container to run so consider using LazyConnectionDataSourceProxy so a connection failure would only occur when the DataSource is actually invoked to retrieve a connection,0
Test recent Hadoop distro changes Test basic functionality hdfs sink jdbchdfs job on hadoop26 hdp22 cdh5 phd21 Test XD on YARN on hadoop26 hdp22 cdh5 and phd21,0
catch erroneous hadoop config fs --namenode url early currently we can specify any bogus url using hadoop config fs --namenode without any warning eg hadoop config fs --namenode hdfslocalhost8888 doing a hadoop fs ls will catch the error and throw exception Ideally we should catch the bogus url error early in the hadoop config fs command similar to admin config server --uri,0
UI The user should be able to view a graphical representation of the job This may be broken up into multiple Jira issues Provide a generic approach to render Batch jobs graphically Second especially for Hadoop components - Provide step-type-dependent renderings of Batch components - see XD-1622,0
Support for BroadcasterMessageHandler to work with concurrent producing threads Also provide better lifecycle shutdown mgmt of handler,0
Display a counter,0
Batch job filepollhdfs docs are outdated The stream definition example uses old style syntax should be --moderef instead of --reftrue,0
As a developer Id like the publish-mavengradle script to use values for dependencies eg Spring Boot and hadoop-common from our central dependency list in this case dependenciesproperties so that I dont have to update them manually anymore,2
Minification of XD Admin UI JS files With requireJS rjs and ngmin we need to make sure the XD admin JS files are appropriately minified Currently the JS files are not minified,0
DefaultContainer should have a default constructor that generates a UUID The current incrementAndGet approach based off redis will not easily be applicable in local model deployment,0
Launching XD admin fails with ZK holding existing stream data Following exception is thrown when starting XD admin withe ZK holding the stream data 2015-03-23 172113831 120SNAP ERROR LeaderSelector-0 leaderLeaderSelector - The leader threw an exception javalangNullPointerException at comfasterxmljacksoncoreJsonFactorycreateParserJsonFactoryjava822 at comfasterxmljacksondatabindObjectReaderreadValueObjectReaderjava896 at orgspringframeworkxddirtstreamzookeeperZooKeeperStreamDefinitionRepositoryfindOneZooKeeperStreamDefinitionRepositoryjava157 at orgspringframeworkxddirtstreamzookeeperZooKeeperStreamDefinitionRepositoryfindOneZooKeeperStreamDefinitionRepositoryjava56 at orgspringframeworkxddirtstreamdslStreamConfigParserlookupStreamStreamConfigParserjava654 at orgspringframeworkxddirtstreamdslChannelNoderesolveChannelNodejava144 at orgspringframeworkxddirtstreamdslSourceChannelNoderesolveSourceChannelNodejava54 at orgspringframeworkxddirtstreamdslStreamNoderesolveStreamNodejava125 at orgspringframeworkxddirtstreamdslStreamConfigParserparseStreamConfigParserjava110 at orgspringframeworkxddirtstreamXDStreamParserparseXDStreamParserjava121 at orgspringframeworkxddirtstreamStreamFactorycreateStreamStreamFactoryjava84 at orgspringframeworkxddirtserveradmindeploymentzkDeploymentLoaderloadStreamDeploymentLoaderjava101 at orgspringframeworkxddirtserveradmindeploymentzkDefaultDeploymentStateRecalculatorrecalculateStreamStatesDefaultDeploymentStateRecalculatorjava96 at orgspringframeworkxddirtserveradmindeploymentzkDefaultDeploymentStateRecalculatoronSupervisorElectedDefaultDeploymentStateRecalculatorjava182 at orgspringframeworkxddirtserveradmindeploymentzkDeploymentSupervisorLeaderListenertakeLeadershipDeploymentSupervisorjava468 at orgapachecuratorframeworkrecipesleaderLeaderSelectorWrappedListenertakeLeadershipLeaderSelectorjava536 at orgapachecuratorframeworkrecipesleaderLeaderSelectordoWorkLeaderSelectorjava398 at orgapachecuratorframeworkrecipesleaderLeaderSelectordoWorkLoopLeaderSelectorjava443 at orgapachecuratorframeworkrecipesleaderLeaderSelectoraccess100LeaderSelectorjava63 at orgapachecuratorframeworkrecipesleaderLeaderSelector2callLeaderSelectorjava244 at orgapachecuratorframeworkrecipesleaderLeaderSelector2callLeaderSelectorjava238 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 at javalangThreadrunThreadjava745,0
gpfdist may fail to shutdown with backlog In a case where reactors ringbuffer is full and thus handling backpressure by blocking onNext shutdown phase where onComplete is send will cause a deadlock This is shown by a thread dump during a shutdown This will basically break further deployments for this stream in distributed mode while single node will show more errors during undeployment code pool-7-thread-1 58 prio5 osprio0 tid0x979fe800 nid0x54de runnable 0x986ad000 javalangThreadState TIMEDWAITING parking sunmiscUnsafeparkNative Method javautilconcurrentlocksLockSupportparkNanosLockSupportjava338 reactorjarjarcomlmaxdisruptorSingleProducerSequencernextSingleProducerSequencerjava122 reactorjarjarcomlmaxdisruptorSingleProducerSequencernextSingleProducerSequencerjava97 reactorjarjarcomlmaxdisruptorRingBuffernextRingBufferjava246 reactorcoreprocessorutilRingBufferSubscriberUtilsonNextRingBufferSubscriberUtilsjava30 reactorcoreprocessorRingBufferProcessoronNextRingBufferProcessorjava575 code code main-EventThread 19 daemon prio5 osprio0 tid0x9b93a400 nid0x54b1 runnable 0x9aefe000 javalangThreadState TIMEDWAITING parking sunmiscUnsafeparkNative Method javautilconcurrentlocksLockSupportparkNanosLockSupportjava338 reactorjarjarcomlmaxdisruptorSingleProducerSequencernextSingleProducerSequencerjava122 reactorjarjarcomlmaxdisruptorSingleProducerSequencernextSingleProducerSequencerjava97 reactorjarjarcomlmaxdisruptorRingBuffernextRingBufferjava246 reactorcoreprocessorutilRingBufferSubscriberUtilsonCompleteRingBufferSubscriberUtilsjava54 reactorcoreprocessorRingBufferProcessoronCompleteRingBufferProcessorjava585 orgspringframeworkxdgreenplumgpfdistGPFDistMessageHandlerdoStopGPFDistMessageHandlerjava170 code Ive been crafting workaround for this by trying to wait reactor streambuffer to get drained by gpdb and finally as last resort forcing processor in reactor to shutdown,0
Running gradle idea creates project configured with source 16 The gradle idea task creates a project configured with source 16 This results in compile failures on Java 7 specific code,0
DefaultModuleOptionsResolver to use parent classloader to load options metadata classes There are cases where it would be required to load the options metadata classes from the parent classloader first than the modules ParentLastURLClassLoader It would be nice to have a configuration option in DefaultModuleOptionsResolver to set which classloader to use,0
Admin Launcher startup fails when XDJMXENABLED is set to true When exporting of MBeans are enabled via XDJMXENABLED also jmxEnabled as in applicationyml the Admin and Lancher server application fail to start Since the admin applications has the same integrationMbeanExporter bean name for IntegrationMBeanExporter as that its ParentConfiguration there is a naming conflicts and the exception thrown as Same is the case for launcher and its parent configuration Exception in thread main orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name mbeanExporter defined in class orgspringframeworkcontextannotationMBeanExportConfiguration Invocation of init method failed nested exception is orgspringframeworkjmxexportUnableToRegisterMBeanException Unable to register MBean orgspringframeworkintegrationmonitorIntegrationMBeanExporter1de40d3e with key integrationMBeanExporter nested exception is javaxmanagementInstanceAlreadyExistsException orgspringframeworkintegrationmonitornameintegrationMBeanExportertypeIntegrationMBeanExporter orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1553 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava539 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava475 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava304 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava228 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava300 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava195 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava700 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava760 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava482 orgspringframeworkbootcontextembeddedEmbeddedWebApplicationContextrefreshEmbeddedWebApplicationContextjava124 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava609 orgspringframeworkbootSpringApplicationrunSpringApplicationjava321 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava130 orgspringframeworkxddirtserverAdminServerApplicationrunAdminServerApplicationjava60 orgspringframeworkxddirtserverAdminServerApplicationmainAdminServerApplicationjava42 Caused by orgspringframeworkjmxexportUnableToRegisterMBeanException Unable to register MBean orgspringframeworkintegrationmonitorIntegrationMBeanExporter1de40d3e with key integrationMBeanExporter nested exception is javaxmanagementInstanceAlreadyExistsException orgspringframeworkintegrationmonitornameintegrationMBeanExportertypeIntegrationMBeanExporter orgspringframeworkjmxexportMBeanExporterregisterBeanNameOrInstanceMBeanExporterjava610 orgspringframeworkjmxexportMBeanExporterregisterBeansMBeanExporterjava535 orgspringframeworkjmxexportMBeanExporterafterPropertiesSetMBeanExporterjava417 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinvokeInitMethodsAbstractAutowireCapableBeanFactoryjava1612 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1549 15 more Caused by javaxmanagementInstanceAlreadyExistsException orgspringframeworkintegrationmonitornameintegrationMBeanExportertypeIntegrationMBeanExporter comsunjmxmbeanserverRepositoryaddMBeanRepositoryjava437 comsunjmxinterceptorDefaultMBeanServerInterceptorregisterWithRepositoryDefaultMBeanServerInterceptorjava1898 comsunjmxinterceptorDefaultMBeanServerInterceptorregisterDynamicMBeanDefaultMBeanServerInterceptorjava966 comsunjmxinterceptorDefaultMBeanServerInterceptorregisterObjectDefaultMBeanServerInterceptorjava900 comsunjmxinterceptorDefaultMBeanServerInterceptorregisterMBeanDefaultMBeanServerInterceptorjava324 comsunjmxmbeanserverJmxMBeanServerregisterMBeanJmxMBeanServerjava513 orgspringframeworkjmxsupportMBeanRegistrationSupportdoRegisterMBeanRegistrationSupportjava195 orgspringframeworkjmxexportMBeanExporterregisterBeanInstanceMBeanExporterjava663 orgspringframeworkjmxexportMBeanExporterregisterBeanNameOrInstanceMBeanExporterjava600 19 more,0
Readme has conflicting CF information In httpsgithubcomspring-cloudspring-cloud-dataflowblobmasterREADMEmdrunning-on-cloud-foundry the section starting Now we can configure the app needs to be revised - the information is both out of date and even if up-to-date misleading it includes some values as if they are universal when they are really just examples,0
Batch job is marked as undeployed once computer comes back from hibernation I have a deployed Batch Job Single Node Server running inside STS My machine goes to sleep Once I bring it back up I see the following log code 125735854 ERROR LeaderSelector-5 leaderLeaderSelector - The leader threw an exception javalangIllegalArgumentException Label is required orgspringframeworkutilAsserthasTextAssertjava162 orgspringframeworkxdmoduleModuleDescriptorKeyinitModuleDescriptorjava616 orgspringframeworkxddirtserverJobDeploymentListenerrecalculateJobStatesJobDeploymentListenerjava218 orgspringframeworkxddirtserverDeploymentSupervisorLeaderListenertakeLeadershipDeploymentSupervisorjava354 orgapachecuratorframeworkrecipesleaderLeaderSelectorWrappedListenertakeLeadershipLeaderSelectorjava536 orgapachecuratorframeworkrecipesleaderLeaderSelectordoWorkLeaderSelectorjava398 orgapachecuratorframeworkrecipesleaderLeaderSelectordoWorkLoopLeaderSelectorjava443 orgapachecuratorframeworkrecipesleaderLeaderSelectoraccess100LeaderSelectorjava63 orgapachecuratorframeworkrecipesleaderLeaderSelector2callLeaderSelectorjava244 orgapachecuratorframeworkrecipesleaderLeaderSelector2callLeaderSelectorjava238 javautilconcurrentFutureTaskrunFutureTaskjava266 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 javautilconcurrentFutureTaskrunFutureTaskjava266 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava744 code In the UI the job is marked as undeployed - however when I click deploy I get an error The job named bbb is already deployed,0
Add support for estimating the median value of a data stream Often it is useful to have access to the median value for fields of a data stream since they are more robust with respect to outliers The median is defined as the value of a dataset such that when sorted 50 of the data is smaller than the value and 50 of the data is larger then the value Ordinarily this is difficult to calculate on a stream because it requires the collection and sorting of all data The median of a data stream can be approximated with a technique called stochastic averaging To approximate the median value of a data stream one could use the following approach Given the current estimate of the median M If the next observed value in the stream is larger than M increase the current estimate by r the learning rate If it is smaller decrease the estimate by r When M is close to the median it increases as often as it decreases and therefore it stabilizes The following example shows a primitive implementation of the above mentioned algorithm in groovy to be placed under XDHOMEmodulesprocessorscripts codegroovy import orgspringframeworkxdtupleTupleBuilder import orgspringframeworkxdtupleTuple Stochastic averaging to compute the median of a data stream To approximate this value using stochastic optimization the value of interest is the current estimate of the median M If the next observed value of the stream is larger than M increase by r If it is smaller decrease the estimate by r When M is close to the median it increases as often as it decreases and therefore stablilizes r denotes the learningRate enum MedianEstimator INSTANCE TODO Add support for estimating multiple medians The current median value double current DoublePOSITIVEINFINITY public double updatedouble value double learningRate Initialize current with given value ifcurrent DoublePOSITIVEINFINITY current value ifcurrent value return current Move current value towards the median current current current value learningRate -learningRate return current TODO Make learning rate configurable def learningRate 07 TODO Add support for dynamic field selection double median MedianEstimatorINSTANCEupdatepayloadgetDoublevalue learningRate def fieldNames new ArrayListStringpayloadgetFieldNames def fieldValues new ArrayListObjectpayloadgetValues TODO Add make median output field configurable fieldNamesaddvaluemedian fieldValuesaddmedian Return the original tuple values extended with the computed median TupleBuildertupleofNamesAndValuesfieldNames fieldValues code Stream definition code xdstream create median --definition http --outputTypeapplicationx-xd-tuple script --locationmedian-estgroovy log --deploy Created and deployed new stream median code Post some JSON data code xdhttp post --contentType applicationjson --data value2 POST applicationjsoncharsetUTF-8 httplocalhost9000 value2 200 OK code Output code 204437829 INFO pool-35-thread-4 sinkmedian - idcd9719b3-eeff-59c9-fdf1-fdb628c7fbb8timestamp1413139477829value2valuemedian20 code After 15 the median value should stabilize This approach was taken from the book Real-time Analytics - Techniques to Analyze and Visualize Streaming Data P 296 Byron Ellis Wiley Open points - Support for resetting the median value - Better state management Redis - Support median estimation for multiple fields - Make learning rate configurable from outside - Maybe add this as aggregate-counter aggregation strategy,0
Create Syslog - Tuple Reactor Codec Change UDP Syslog Adapter to Emit a Tuple UDP and Legacy syslog sources emit a Map reactor emits a POJO Make them consistent and emit Tuples,0
Escape delimited characters in jdbchdfs job As as user I want to be able to escape delimiter character Currently I cannot use this job oob to create CSVs that are usable in HiveHAWQ because of unescaped delimiters,0
Remove Redis Transport Headers from Tapped Stream Redis transport headers are not removed in taps,0
Garbage in Job Repo Causes List Failure For some reason the partitioned batch jobs are storing StepExecutionss in the DB with a null ID This causes JobCommandTeststestListStepExecutionsForSpecificJobExecution to fail because the HATEOS code asserts not null code 182526185 ERROR http-nio-9393-exec-3 restRestControllerAdvice186 - Caught exception while handling a request javalangIllegalArgumentException Assertion failed - this argument is required it must not be null orgspringframeworkutilAssertnotNullAssertjava112 orgspringframeworkutilAssertnotNullAssertjava123 orgspringframeworkhateoasmvcResourceAssemblerSupportcreateResourceWithIdResourceAssemblerSupportjava87 orgspringframeworkxddirtrestStepExecutionInfoResourceAssemblertoResourceStepExecutionInfoResourceAssemblerjava39 orgspringframeworkxddirtrestBatchStepExecutionsControllerlistBatchStepExecutionsControllerjava107 code For some reason the query for objects with the jobExecutionId also returned these two objects with null keys Blowing away my data directory fixes the problem until I run another partitioned batch job I need to figure out why spring batch is creating these bad records but we should probably add some defensive code to protect against null IDs You can reproduce by building against my XD-1146 branch,0
Spring XD shell should maintain single log file per user Currently xd-shell script packaged in Spring XD dist creates spring-shelllog file in invocation directory When xd-shell is added to PATH user will usually invoke the script from many directories leaving log files all over the file system Would it be possible to keep the log files in one predefined location eg HOMEspring-shelllog or DISTshelllogsspring-shelllog,0
As a developer Id like to upgrade to SHDP 212 GA so that I can sync-up with latest features,1
SFTP socket closed error Infinite loop Having the follow messages poping up on xd log It seems they are being generated indefinitely Log files getting huge 2015-05-27 155751039 boot - 2774 INFO task-scheduler-1 --- jsch kex server ssh-rsassh-dss 2015-05-27 155751039 boot - 2774 INFO task-scheduler-1 --- jsch kex server aes256-ctraes192-ctraes128-ctrarcfour256 2015-05-27 155751039 boot - 2774 INFO task-scheduler-1 --- jsch kex server aes256-ctraes192-ctraes128-ctrarcfour256 2015-05-27 155751039 boot - 2774 INFO task-scheduler-1 --- jsch kex server hmac-sha2-512hmac-sha2-256hmac-sha1hmac-ripemd160 2015-05-27 155751039 boot - 2774 INFO task-scheduler-1 --- jsch kex server hmac-sha2-512hmac-sha2-256hmac-sha1hmac-ripemd160 2015-05-27 155751039 boot - 2774 INFO task-scheduler-1 --- jsch kex server nonezlibopensshcom 2015-05-27 155751039 boot - 2774 INFO task-scheduler-1 --- jsch kex server nonezlibopensshcom 2015-05-27 155751039 boot - 2774 INFO task-scheduler-1 --- jsch kex server 2015-05-27 155751039 boot - 2774 INFO task-scheduler-1 --- jsch kex server 2015-05-27 155751040 boot - 2774 INFO task-scheduler-1 --- jsch kex client diffie-hellman-group1-sha1diffie-hellman-group-exchange-sha1 2015-05-27 155751040 boot - 2774 INFO task-scheduler-1 --- jsch kex client ssh-rsassh-dss 2015-05-27 155751040 boot - 2774 INFO task-scheduler-1 --- jsch kex client aes128-ctraes128-cbc3des-ctr3des-cbcblowfish-cbc 2015-05-27 155751040 boot - 2774 INFO task-scheduler-1 --- jsch kex client aes128-ctraes128-cbc3des-ctr3des-cbcblowfish-cbc 2015-05-27 155751040 boot - 2774 INFO task-scheduler-1 --- jsch kex client hmac-md5hmac-sha1hmac-sha2-256hmac-sha1-96hmac-md5-96 2015-05-27 155751040 boot - 2774 INFO task-scheduler-1 --- jsch kex client hmac-md5hmac-sha1hmac-sha2-256hmac-sha1-96hmac-md5-96 2015-05-27 155751040 boot - 2774 INFO task-scheduler-1 --- jsch kex client none 2015-05-27 155751040 boot - 2774 INFO task-scheduler-1 --- jsch kex client none 2015-05-27 155751040 boot - 2774 INFO task-scheduler-1 --- jsch kex client 2015-05-27 155751040 boot - 2774 INFO task-scheduler-1 --- jsch kex client 2015-05-27 155751040 boot - 2774 INFO task-scheduler-1 --- jsch kex server-client aes128-ctr hmac-sha1 none 2015-05-27 155751040 boot - 2774 INFO task-scheduler-1 --- jsch kex client-server aes128-ctr hmac-sha1 none 2015-05-27 155751044 boot - 2774 INFO task-scheduler-1 --- jsch SSHMSGKEXDHINIT sent 2015-05-27 155751044 boot - 2774 INFO task-scheduler-1 --- jsch expecting SSHMSGKEXDHREPLY 2015-05-27 155751049 boot - 2774 INFO task-scheduler-1 --- jsch sshrsaverify signature true 2015-05-27 155751049 boot - 2774 INFO task-scheduler-1 --- jsch Host XXXXXXXX is known and mathces the RSA host key 2015-05-27 155751049 boot - 2774 INFO task-scheduler-1 --- jsch SSHMSGNEWKEYS sent 2015-05-27 155751049 boot - 2774 INFO task-scheduler-1 --- jsch SSHMSGNEWKEYS received 2015-05-27 155751050 boot - 2774 INFO task-scheduler-1 --- jsch SSHMSGSERVICEREQUEST sent 2015-05-27 155751050 boot - 2774 INFO task-scheduler-1 --- jsch SSHMSGSERVICEACCEPT received 2015-05-27 155751052 boot - 2774 INFO task-scheduler-1 --- jsch Authentications that can continue gssapi-with-micpublickeykeyboard-interactivepassword 2015-05-27 155751052 boot - 2774 INFO task-scheduler-1 --- jsch Next authentication method gssapi-with-mic 2015-05-27 155751054 boot - 2774 INFO task-scheduler-1 --- jsch Authentications that can continue publickeykeyboard-interactivepassword 2015-05-27 155751054 boot - 2774 INFO task-scheduler-1 --- jsch Next authentication method publickey 2015-05-27 155751086 boot - 2774 INFO task-scheduler-1 --- jsch Authentication succeeded publickey 2015-05-27 155751113 boot - 2774 INFO task-scheduler-1 --- jsch Disconnecting from 101001035 port 22 2015-05-27 155751113 boot - 2774 INFO Connect thread XXXXXXXXX session --- jsch Caught an exception leaving main loop due to Socket closed,0
As a developer Id like to replace all references of Spring XD with Spring Cloud Data Flow,2
Large number of required options in jdbc sink definition Id like to use the following command to define a stream in our Spring XD for PivotalCF test environment code stream create --name test --definition http --port9999 jdbc --usernamespring-xd --passwordspring-xd --driverClassNameorgpostgresqlDriver --urljdbcpostgresql12345432spring-xd code I have to add the following options to the definition to make it work otherwise I get exceptions and a failed deploy code -validationQuery --validatorClassNamenull --connectionProperties --initSQL --jdbcInterceptors --initializerScript code Given that theyre empty anyway it seems like some or all of these should not be necessary Notes The validatorClassName cannot be like the others it needs the null Without initSQL stream creation fails because it cant find initdbsql a file I dont have in my environment even though it wont be run anyway,0
Add support for PHD 21 XD 11 M1 Release XD 11 M1 Release PHD 21 Upgrade - Action Items Update to SHDP 21M2 Add Hadoop 25 hadoop25 Remove hadoop22 Remove PHD 10 phd1 Change PHD 2x from phd20 to phd21 Test PHD 20 with phd21,0
Acceptance tests need to create or use an existing topic prior to executing test,0
Remove unused parser code related to substreams co The XD parser had initial support for substreams which have been subsumed by composed modules That legacy code is unused and not needed,0
Remove unused post module references,0
UnitIntegration tests need appropriate cleanup of test data during teardown Currently there are test dataeg stream name not being cleaned up during teardown especially when there is a test case failure This breaks the test suite when the same test data is used by other tests We need to move the cleanup logic at an appropriate level so that the test data is always cleaned up irrespective of the test result,0
Fail fast on Kryo registration conflicts Currently kryo class registration is hard coded in spring-xd-codec Users may register their own classes using an extension mechanism but it is possible to conflict with internal XD class registration eg Tuple Exposing this using the same extension mechanism will make it more transparent,0
Stream deployment race condition When a container is started the leader admin will scan the deployed streams to determine if any have modules that need to be deployed on the new container When a stream is deployed the leader admin will select containers to deploy modules to If a new container and stream are deployed at the same time there is the window for a race condition where both attempt to deploy a module to a container This can be solved by at least one of the following Consider using a single thread in the admin leader to handle all ZooKeeper updates This means that the handling of new containers and stream deployment requests will not happen concurrently Trap the NodeExists exception when creating the xddeploymentsmodules node in ZooKeeper,0
Organize modules consistently using a dir per module Even if not strictly necessary for all modules use the one-dir-per-module scheme for all of them Care should be taken in case there are import,0
Cant run WordCount example in hadoop kerberized cluster Hey Guys Im trying to run WordCount example in kerberized cluster with the attached job configuration The job upload the test file to the HDFS without problems but it fails in wordcount step I am running the example on singlenode and I configured the confighadoopproperties file for shell and container with kerberos setting such as httpsgithubcomspring-projectsspring-xdwikiHadoop-Kerberos The error log is attached Thanks in advance for the help Regards,0
Fix XD config initializer for ZK connection string Spring Boot 111 has the following change httpsgithubcomspring-projectsspring-bootcommitb75578d99c8d435e1f8bf18d0dbb3a2ddf56fdc4 where an external property source precedence would get re-ordered after the application configuration properties This change affects Spring XD config initializer which expects an external zk-properties property source always preceding over the application configuration properties,0
Refactor ContainerRegistrar Decouple from DeploymentListener Make DL a public class to handle deployment related events Remove createSimpleModule and createComposedModule from DL This will be delegated to ModuleDeployer which will eventually be further refactored to use the proposed ModuleFactory,0
As a developer Id like to use spring-cloud-config server for spring-bus modules so I can centrally manage external properties,8
Jobs are failing to be deployed Error Started Commit 7087dc67e058edd6cbb1630ebd95b52e2c7e21e1 httpsgithubcomspring-projectsspring-xdpull1564 This can be reproduced by running the test with a admin and single container on Mac OSX Issue All Jobs fail to deploy with the following exception noformat - -- V -- 120BUILD-SNAPSHOT eXtreme Data Started AdminServerApplication Documentation httpsgithubcomspring-projectsspring-xdwiki 2015-04-27 090851082 120SNAP WARN main configIntegrationRegistrar - The jsonPath SpEL function cannot be registered The version of json-path found on the classpath is not supported Supported json-path version is 091 Upgrade to Spring Integration 42 or later to use json-path 10 or later 2015-04-27 090902767 120SNAP INFO main utilXdConfigLoggingInitializer - XD Home Usersglennrenfroprojectspring-xdbuilddistspring-xdxd 2015-04-27 090902768 120SNAP INFO main utilXdConfigLoggingInitializer - Transport redis 2015-04-27 090902768 120SNAP INFO main utilXdConfigLoggingInitializer - Hadoop Distro hadoop26 2015-04-27 090902771 120SNAP INFO main utilXdConfigLoggingInitializer - Hadoop version detected from classpath 260 2015-04-27 090902771 120SNAP INFO main utilXdConfigLoggingInitializer - XD config location fileUsersglennrenfroprojectspring-xdbuilddistspring-xdxdconfig 2015-04-27 090902771 120SNAP INFO main utilXdConfigLoggingInitializer - XD config names serversapplication 2015-04-27 090902772 120SNAP INFO LeaderSelector-0 zkDeploymentSupervisor - Leader Admin 1723199839393 is watching for streamjob deployment requests 2015-04-27 090902773 120SNAP INFO main utilXdConfigLoggingInitializer - XD module config location fileUsersglennrenfroprojectspring-xdbuilddistspring-xdxdconfigmodules 2015-04-27 090902775 120SNAP INFO main utilXdConfigLoggingInitializer - XD module config name modules 2015-04-27 090902775 120SNAP INFO main utilXdConfigLoggingInitializer - Admin web UI httpGlenns-MacBook-Prolocal9393admin-ui 2015-04-27 090902775 120SNAP INFO main utilXdConfigLoggingInitializer - Zookeeper at localhost2181 2015-04-27 090902775 120SNAP INFO main utilXdConfigLoggingInitializer - Zookeeper namespace xd 2015-04-27 090902776 120SNAP INFO main utilXdConfigLoggingInitializer - Analytics redis 2015-04-27 090902813 120SNAP INFO DeploymentSupervisor-0 zkContainerListener - Path cache event typeINITIALIZED 2015-04-27 090902845 120SNAP INFO main adminAdminServerApplication - Started AdminServerApplication in 6777 seconds JVM running for 14213 2015-04-27 090904010 120SNAP INFO DeploymentSupervisor-0 zkContainerListener - Path cache event pathcontainersdc7692b1-979b-4fa3-a11a-3f35cdedc319 typeCHILDADDED 2015-04-27 090904017 120SNAP INFO DeploymentSupervisor-0 zkContainerListener - Container arrived Containernamedc7692b1-979b-4fa3-a11a-3f35cdedc319 attributesgroups hostGlenns-MacBook-Prolocal iddc7692b1-979b-4fa3-a11a-3f35cdedc319 managementPort9395 ip172319983 pid99669 2015-04-27 090904018 120SNAP INFO DeploymentSupervisor-0 zkContainerListener - Scheduling deployments to new containers in 15000 ms 2015-04-27 091035003 120SNAP INFO DeploymentSupervisor-0 zkZKJobDeploymentHandler - Deployment status for job tfphj4ffb45d5-0d6c-4f22-b407-c313ce82b449 DeploymentStatusstatefailederrorsorgspringframeworkbeansfactoryBeanDefinitionStoreException Invalid bean definition with name objectNameProperties defined in null Could not resolve placeholder xdstreamname in string value xdstreamname nested exception is javalangIllegalArgumentException Could not resolve placeholder xdstreamname in string value xdstreamname orgspringframeworkbeansfactoryconfigPlaceholderConfigurerSupportdoProcessPropertiesPlaceholderConfigurerSupportjava211 orgspringframeworkcontextsupportPropertySourcesPlaceholderConfigurerprocessPropertiesPropertySourcesPlaceholderConfigurerjava180 orgspringframeworkcontextsupportPropertySourcesPlaceholderConfigurerpostProcessBeanFactoryPropertySourcesPlaceholderConfigurerjava155 orgspringframeworkcontextsupportPostProcessorRegistrationDelegateinvokeBeanFactoryPostProcessorsPostProcessorRegistrationDelegatejava265 orgspringframeworkcontextsupportPostProcessorRegistrationDelegateinvokeBeanFactoryPostProcessorsPostProcessorRegistrationDelegatejava162 orgspringframeworkcontextsupportAbstractApplicationContextinvokeBeanFactoryPostProcessorsAbstractApplicationContextjava606 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava462 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava691 orgspringframeworkbootSpringApplicationrunSpringApplicationjava321 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava214 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtservercontainerDeploymentListenerdeployModuleDeploymentListenerjava365 orgspringframeworkxddirtservercontainerDeploymentListenerdeployJobModuleDeploymentListenerjava291 orgspringframeworkxddirtservercontainerDeploymentListeneronChildAddedDeploymentListenerjava181 orgspringframeworkxddirtservercontainerDeploymentListenerchildEventDeploymentListenerjava149 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by javalangIllegalArgumentException Could not resolve placeholder xdstreamname in string value xdstreamname orgspringframeworkutilPropertyPlaceholderHelperparseStringValuePropertyPlaceholderHelperjava174 orgspringframeworkutilPropertyPlaceholderHelperreplacePlaceholdersPropertyPlaceholderHelperjava126 orgspringframeworkcoreenvAbstractPropertyResolverdoResolvePlaceholdersAbstractPropertyResolverjava204 orgspringframeworkcoreenvAbstractPropertyResolverresolveRequiredPlaceholdersAbstractPropertyResolverjava178 orgspringframeworkcontextsupportPropertySourcesPlaceholderConfigurer2resolveStringValuePropertySourcesPlaceholderConfigurerjava175 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorresolveStringValueBeanDefinitionVisitorjava282 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorresolveValueBeanDefinitionVisitorjava204 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorvisitMapBeanDefinitionVisitorjava262 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorresolveValueBeanDefinitionVisitorjava198 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorvisitPropertyValuesBeanDefinitionVisitorjava141 orgspringframeworkbeansfactoryconfigBeanDefinitionVisitorvisitBeanDefinitionBeanDefinitionVisitorjava82 orgspringframeworkbeansfactoryconfigPlaceholderConfigurerSupportdoProcessPropertiesPlaceholderConfigurerSupportjava208 31 more noformat,0
Clean up MBean registration for failed module deployments When a module fails to deploy for instance an http module configured with a port that is already bound subsequent attempts to deploy the module fail due to a JMX exception noformat javalangRuntimeException orgspringframeworkcontextApplicationContextException Failed to start bean orgspringframeworkintegrationmonitorIntegrationMBeanExporter0beafb1fc-4423-4e4f-a88c-1655ea0fdcc5 nested exception is orgspringframeworkjmxexportUnableToRegisterMBeanException Unable to register MBean MessageChannelMonitor nameoutput sends0 with key orgspringframeworkintegrationtypeMessageChannelnameoutput nested exception is javaxmanagementInstanceAlreadyExistsException xdfoomodulehttp0componentMessageChannelnameoutput orgspringframeworkxddirtserverContainerRegistrardeployStreamModuleContainerRegistrarjava447 orgspringframeworkxddirtserverContainerRegistraronChildAddedContainerRegistrarjava346 orgspringframeworkxddirtserverContainerRegistraraccess700ContainerRegistrarjava92 orgspringframeworkxddirtserverContainerRegistrarDeploymentListenerchildEventContainerRegistrarjava655 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava494 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava488 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava293 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava485 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache11runPathChildrenCachejava755 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 javautilconcurrentFutureTaskrunFutureTaskjava266 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 javautilconcurrentFutureTaskrunFutureTaskjava266 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava744 Caused by orgspringframeworkcontextApplicationContextException Failed to start bean orgspringframeworkintegrationmonitorIntegrationMBeanExporter0beafb1fc-4423-4e4f-a88c-1655ea0fdcc5 nested exception is orgspringframeworkjmxexportUnableToRegisterMBeanException Unable to register MBean MessageChannelMonitor nameoutput sends0 with key orgspringframeworkintegrationtypeMessageChannelnameoutput nested exception is javaxmanagementInstanceAlreadyExistsException xdfoomodulehttp0componentMessageChannelnameoutput orgspringframeworkcontextsupportDefaultLifecycleProcessordoStartDefaultLifecycleProcessorjava176 orgspringframeworkcontextsupportDefaultLifecycleProcessoraccess200DefaultLifecycleProcessorjava51 orgspringframeworkcontextsupportDefaultLifecycleProcessorLifecycleGroupstartDefaultLifecycleProcessorjava346 orgspringframeworkcontextsupportDefaultLifecycleProcessorstartBeansDefaultLifecycleProcessorjava149 orgspringframeworkcontextsupportDefaultLifecycleProcessoronRefreshDefaultLifecycleProcessorjava112 orgspringframeworkcontextsupportAbstractApplicationContextfinishRefreshAbstractApplicationContextjava773 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava485 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava648 orgspringframeworkbootSpringApplicationrunSpringApplicationjava311 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava130 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava240 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava184 orgspringframeworkxddirtmoduleModuleDeployerdeployAndStoreModuleDeployerjava174 orgspringframeworkxddirtmoduleModuleDeployerdeployAndStoreModuleDeployerjava164 orgspringframeworkxddirtserverContainerRegistrardeployModuleContainerRegistrarjava227 orgspringframeworkxddirtserverContainerRegistrardeployStreamModuleContainerRegistrarjava429 18 more Caused by orgspringframeworkjmxexportUnableToRegisterMBeanException Unable to register MBean MessageChannelMonitor nameoutput sends0 with key orgspringframeworkintegrationtypeMessageChannelnameoutput nested exception is javaxmanagementInstanceAlreadyExistsException xdfoomodulehttp0componentMessageChannelnameoutput orgspringframeworkjmxexportMBeanExporterregisterBeanNameOrInstanceMBeanExporterjava610 orgspringframeworkintegrationmonitorIntegrationMBeanExporterregisterChannelsIntegrationMBeanExporterjava837 orgspringframeworkintegrationmonitorIntegrationMBeanExporterdoStartIntegrationMBeanExporterjava459 orgspringframeworkintegrationmonitorIntegrationMBeanExporterstartIntegrationMBeanExporterjava410 orgspringframeworkcontextsupportDefaultLifecycleProcessordoStartDefaultLifecycleProcessorjava173 33 more Caused by javaxmanagementInstanceAlreadyExistsException xdfoomodulehttp0componentMessageChannelnameoutput comsunjmxmbeanserverRepositoryaddMBeanRepositoryjava437 comsunjmxinterceptorDefaultMBeanServerInterceptorregisterWithRepositoryDefaultMBeanServerInterceptorjava1898 comsunjmxinterceptorDefaultMBeanServerInterceptorregisterDynamicMBeanDefaultMBeanServerInterceptorjava966 comsunjmxinterceptorDefaultMBeanServerInterceptorregisterObjectDefaultMBeanServerInterceptorjava900 comsunjmxinterceptorDefaultMBeanServerInterceptorregisterMBeanDefaultMBeanServerInterceptorjava324 comsunjmxmbeanserverJmxMBeanServerregisterMBeanJmxMBeanServerjava522 orgspringframeworkjmxsupportMBeanRegistrationSupportdoRegisterMBeanRegistrationSupportjava195 orgspringframeworkjmxexportMBeanExporterregisterBeanInstanceMBeanExporterjava663 orgspringframeworkjmxexportMBeanExporterregisterBeanNameOrInstanceMBeanExporterjava606 37 more noformat,0
As a user Im not able to shutdown container from Admin UI with the following stream definition deployed code stream create swagataTestIssue --definition jdbc --queryselect employeeid employeename employer from EMPLOYEE --urljdbcoraclethinlocalhost1521orcl --usernamespringxd --passwordxdpwd --driverClassNameoraclejdbcOracleDriver --testOnBorrowfalse hdfs --inputTypeapplicationjson --deploy code More details herehttpsissuetrackerspringsourcecombrowseVESC-504,2
Add --verbose option to display all property values,0
Return full ModuleStatus information Remove all stubs and check all required information is returned accurately,0
REST endpoints XML response is broken When XML response is requested from the REST clients the server has XML serialization errors For example the endpoint jobsconfigurations from the web browser has nested exception is javaxxmlbindMarshalException - with linked exception comsunistackSAXException2 unable to marshal type orgspringframeworkxdrestdomainDetailedJobInfoResource as an element because it is not known to this context,0
As a developer I want to be able to set a partitioning key for the Kafka bus even when there is a single downstream module so that I can take advantage of the native Kafka partitioning and message ordering support,3
Duplicate messages on tap If I fiddle with the testTappingWithLabels method I can reproduce the same issue HttpSource source newHttpSource FileSink sink newFileSinkbinarytrue FileSink tapsink1 newFileSinkbinarytrue streamcreatemyhttp s flibble transform --expressionpayloadtoUpperCase flibble2 transform --expressionpayloadtoUpperCase s source sink streamcreatemytap4 tapstreammyhttpflibble transform --expressionpayloadreplaceAllA s tapsink1 sourceensureReadypostDataDracarys assertThatsink eventuallyhasContentsThatequalToDRACARYS assertThattapsink1 eventuallyhasContentsThatequalToDRCRYS javalangAssertionError Expected DRCRYS trying at most 10 times but failed after 101001000ms DRCRYSDRCRYS,0
As a QA Id like to include acceptance test coverage for splunk sink module so that I can validate the functionality as part of every CI build,3
When Scheduling a Job I cannot provide Job parameters Add the ability to provide job parameters when scheduling jobs,0
StreamCommandTests - asserting sink contents sometimes failing There are some asserts in StreamCommandTests that are commented out see the TODOs in there These asserts are verifying the contents of the various sinks employed in the tests I am finding that if the tests are run all together with the asserts enabled run all StreamCommandTests some of the assertions fail with something like code orgjunitComparisonFailure expectedDRACARYS but was orgjunitAssertassertEqualsAssertjava115 orgjunitAssertassertEqualsAssertjava144 code When run individually the tests succeed Not sure if it is timing checking sinks before theyve been written to or something else,0
As a Spring XD developer Id like to move splunk module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,2
Allow module compose to specify an explicit type Currently module composition always guesses the correct type because we dont have a module with a given name N that is both a source and a processor or a processor and a sink we only have the case source and sink as in jdbcjdbc or filefile If it were the case then the heuristics for guessing the resulting type of a composition would break This issue is about adding the option for the user to explicitly specify the expected type of the composition if needed,0
Fix clustercontainers REST endpoint with security enabled Once the containers management server is secured the admin server needs to know which REST template to use to get the message rates from the deployed modules inside the containers,0
UI Ability to deploy stream with deployment properties Admin UI currently allows job to be deployed with deployment properties we need similar way to deploy stream with the deployment properties module count container matching criteria,0
AdminUI - Provide Server-Side Cron Expression Validation It is easy to get a cron expression wrong Provide validation of the cron expression on the Schedule Job page using async validation Submit the cron expression to the server-side - and validate that the expression is valid Send a success message back we may even send back some meta data eg when is the next execution going to take place,0
As a user Id like to override the default commit-interval so that I can configure commit interval depending on data volume Note This would apply for all OOTB jobs that has partition support The property could be part of serversyml file,3
Unable to call Sqoop Job commands other than --create from within Spring-Xd Job Running a SQOOP Job --create from within Spring-XD JOB create statement runs successfullyUnable to run the Sqoop Job --exec from within Spring-XD Job CREATE DEFINITION job create sqooplookupdjobv1 --definition sqoop --commandjob --args--create lookupdjob --meta-connect jdbcpostgresqlxxxxxxxxx5433bdluserxxxxxpasswordxxxxxx -- import --connect jdbcoraclethinxxxxxxcomxxxxGDWP --username xxxxx --password xxxxx --query SELECT ROWWID LKUPID TRIMTRANSLATELKUPCD CHR10CHR13 - AS LKUPCD TRIMTRANSLATELKUPDESC CHR10CHR13 - AS LKUPDESC TRIMTRANSLATELKUPTYPE CHR10CHR13 - AS LKUPTYPE TRIMTRANSLATELKUPVAL CHR10CHR13 - AS LKUPVAL SRCSTRTDT SRCENDDT WINSERTDT WUPDATEDT FROM MASTERDATAWLOOKUPD WHERE 11 AND CONDITIONS --incremental append --check-column ROWWID --last-value 10150 --target-dir usermonasj1bdldatasqoopjobtest --num-mappers 1 --fields-terminated-by --append Validated job definition details stored in PostgreSQL repository Trying to run EXECUTE In Same fashion EXECUTION DEFINITION job create sqooplookupdexecv1 --definition sqoop --commandjob --args--exec lookupdjob --meta-connect jdbcpostgresqlxxxxxxxxx5433bdluserxxxxxpasswordxxxxx Stack Trace batchstepTypeorgspringframeworkbatchcoresteptaskletTaskletStep batchtaskletTypeorgspringframeworkxdsqoopSqoopTasklet sqoopcommandjob --exec lookupdjob --meta-connect jdbcpostgresqlxxxxxxxxx5433bdluserxxxxxxpasswordxxxxxxx -- exec sqooperrorsNo job operation specified Try --help for usage instructions Exception in thread main javalangRuntimeException Sqoop failed - return code 1 at orgspringframeworkxdsqoopSqoopRunnermainSqoopRunnerjava81 sqooplog160145668 INFO main sqoopSqoopRunner - Sqoop command job 160145668 INFO main sqoopSqoopRunner - Using args --exec lookupdjob --meta-connect jdbcpostgresqlxxxxxxxxx5433bdluserxxxxxxxpasswordxxxxx 160145668 INFO main sqoopSqoopRunner - Mapreduce home optpivotalspring-xd-111RELEASExdlibphd21 160145679 INFO main sqoopSqoopRunner - Setting configuration property fsdefaultFShdfsxxxxxxxxxxxxxcom8020 160145759 INFO main sqoopSqoopRunner - Setting configuration property yarnresourcemanageraddressxxxxxxxxxxxxcom8032 160145759 INFO main sqoopSqoopRunner - Setting configuration property yarnapplicationclasspathHADOOPCONFDIRHADOOPCOMMONHOMEHADOOPCOMMONHOMElibHADOOPHDFSHOMEHADOOPHDFSHOMElibHADOOPMAPREDHOMEHADOOPMAPREDHOMElibHADOOPYARNHOMEHADOOPYARNHOMElibUSSHOMEUSSCONF 160145759 INFO main sqoopSqoopRunner - Setting configuration property mapreduceframeworknameyarn 160145817 WARN main toolSqoopTool - SQOOPCONFDIR has not been set in the environment Cannot check for additional configuration 160145863 INFO main sqoopSqoop - Running Sqoop version 145 I have tested --list --exec--delete they are all erroring same way Looking at SqoopRunner not sure what makes --create any different from other saved-job functionality Please let me know how i can call or execute save job definitions through spring-xd Sqoop tasklet,0
Support for registering custom message converters Users need to register custom message converters used by modules,0
Remove unused properties files in config and update docs There are some properties files in the config directory that no longer are needed We should clean that up and also removeupdate any documentation references to these files,0
As a developer Id like to move serialization codec from Spring XD repo into spring-bus so I can update Spring XD to inherit the featuresfunctionalities via maven dependency,8
Rename avro sink to hdfs-dataset and add support for parquet format The kite SDK is used to write Avro records in a Kite specific format and also it support the parquet format for which we will eventually support,0
User wants the ability to exclude certain days like holidays for a trigger to fire Commonly called Calendar support,0
REST Make the Job Execution REST endpoint pagination-aware Implement pagination for httplocalhost9393jobsexecutions,0
As a s-c-s developer Id like to create auto configuration for singlenode binder configurationproperties so I can automatically configure the Spring application based on the dependencies,1
Spark streaming integration with kafka message does not respect offsetStoreTopic config option The property xdmessagebuskafkaoffsetStoreTopic was added to Kafka message bus which is not updated to Spark streaming message bus properties that will be transferred to spark cluster for streaming module deployment We also need a better approach to re-use the message bus properties so that we dont have to update the properties in Connection Property Names,0
Streams sending to Job Queue issue Look at the below Stream definition This gets to deployed state even without the corresponding job And then from there the same Job or any other Job cant be deployed and it goes to a hung state Here is an example of the Stream definition stream create --name jobName --definition file --reftrue --dirtmpspringxdsourcedropbox --patterncsv queuejobfiletsjob-sample002 --deploy,0
As a developer Id like to deploy a stream in the same container so all modules are colocated within the container Perhaps also consider building leader election within modules in order to automatically failover the application stream from one container to another,8
XDCONFIGLOCATION doesnt seem to be set for log4j config files Starting xd-singlenode and then ctrl-c to shut down produces WARN message that should be suppressed according to log4j config Setting XDCONFIGLOCATION explicitly works for suppressing the message The message I see 2014-07-10 093959786 boot - 58034 WARN Thread-2 --- MBeanRegistry Failed to unregister MBean InMemoryDataTree 2014-07-10 093959786 boot - 58034 WARN Thread-2 --- MBeanRegistry Error during unregister javaxmanagementInstanceNotFoundException orgapacheZooKeeperServicename0StandaloneServerport-1name1InMemoryDataTree comsunjmxinterceptorDefaultMBeanServerInterceptorgetMBeanDefaultMBeanServerInterceptorjava1095 comsunjmxinterceptorDefaultMBeanServerInterceptorexclusiveUnregisterMBeanDefaultMBeanServerInterceptorjava427 comsunjmxinterceptorDefaultMBeanServerInterceptorunregisterMBeanDefaultMBeanServerInterceptorjava415 comsunjmxmbeanserverJmxMBeanServerunregisterMBeanJmxMBeanServerjava546 orgapachezookeeperjmxMBeanRegistryunregisterMBeanRegistryjava115 orgapachezookeeperjmxMBeanRegistryunregisterMBeanRegistryjava132 orgapachezookeeperserverZooKeeperServerunregisterJMXZooKeeperServerjava465 orgapachezookeeperserverZooKeeperServershutdownZooKeeperServerjava458 orgapachezookeeperserverNIOServerCnxnFactoryshutdownNIOServerCnxnFactoryjava271 orgapachezookeeperserverZooKeeperServerMainshutdownZooKeeperServerMainjava132 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkxddirtzookeeperEmbeddedZooKeeperstopEmbeddedZooKeeperjava176 orgspringframeworkxddirtzookeeperEmbeddedZooKeeperstopEmbeddedZooKeeperjava204 orgspringframeworkcontextsupportDefaultLifecycleProcessordoStopDefaultLifecycleProcessorjava229 orgspringframeworkcontextsupportDefaultLifecycleProcessoraccess300DefaultLifecycleProcessorjava51 orgspringframeworkcontextsupportDefaultLifecycleProcessorLifecycleGroupstopDefaultLifecycleProcessorjava363 orgspringframeworkcontextsupportDefaultLifecycleProcessorstopBeansDefaultLifecycleProcessorjava202 orgspringframeworkcontextsupportDefaultLifecycleProcessoronCloseDefaultLifecycleProcessorjava118 orgspringframeworkcontextsupportAbstractApplicationContextdoCloseAbstractApplicationContextjava888 orgspringframeworkcontextsupportAbstractApplicationContextcloseAbstractApplicationContextjava841 orgspringframeworkbootbuilderParentContextCloserApplicationListenerContextCloserListeneronApplicationEventParentContextCloserApplicationListenerjava100 orgspringframeworkbootbuilderParentContextCloserApplicationListenerContextCloserListeneronApplicationEventParentContextCloserApplicationListenerjava84 orgspringframeworkcontexteventSimpleApplicationEventMulticastermulticastEventSimpleApplicationEventMulticasterjava98 orgspringframeworkcontextsupportAbstractApplicationContextpublishEventAbstractApplicationContextjava333 orgspringframeworkcontextsupportAbstractApplicationContextdoCloseAbstractApplicationContextjava880 orgspringframeworkcontextsupportAbstractApplicationContext1runAbstractApplicationContextjava809,0
As a user I should not be allowed to create a custom module with a reserved keywords so that I it will avoid confusions from seeing duplicate strings in deployment manifest Example We would like to avoid a custom module name of producer to eliminate the confusion below code xdstream deploy --name test1 --properties moduleproducerproducerdeliveryMode PERSISTENTmodulelogcriteriagroupscontainsgroup1 code List of available reserved keywordshttpsgithubcomspring-projectsspring-xdwikiDeploymentdeployment-properties,5
As a s-c-d user Id like to have the option of Gemfire as stream repository so I can build data pipelines that are entirely orchestrated within Gemfire,8
Make Cron-based Triggers TimeZone aware Currently specified Cron Expressions are executed in the Containers default TimeZone In Triggerxml we specify code beans profileuse-cron intinbound-channel-adapter channeloutput auto-startupfalse expressionpayload intpoller croncron intinbound-channel-adapter beans code This translates in orgspringframeworkintegrationconfigxmlPollerParser to code BeanDefinitionBuilder builder BeanDefinitionBuildergenericBeanDefinitionCronTriggerclass builderaddConstructorArgValuecronAttribute code Which will call orgspringframeworkschedulingsupportCronTrigger code Build a link CronTrigger from the pattern provided in the default time zone param cronExpression a space-separated list of time fields following cron expression conventions public CronTriggerString cronExpression thissequenceGenerator new CronSequenceGeneratorcronExpression code Build a link CronTrigger from the pattern provided in the default time zone We need to pass-in a timezone Should cron expressions as part of an XD Definition have a TimeZone parameter When creating the stream via the UI or the Shell the timezone can be inferred if not specified but should be mandatory for the REST API meaning being passed in as a mandatory parameter OR alternatively if not passed in we assume the Cron expression is specified for UTC That way we could ensure that a StreamJob Definition is globally valid,0
As a developer Id like to move inputoutput type conversion from Spring XD repo into spring-bus so I can update Spring XD to inherit the featuresfunctionalities via maven dependency,8
Spark Application Job fails when using remote Spark Master When executing a Spark Application Job on XD against a remote Spark Master we receive a CNF exception for FSDataInputStream Running against a local1 Spark Master works normally,0
Add additional options to File source Seems like the current file source results from an initial POC Very few things can be parameterized including the polled directory that needs to be in tmpxxx To be useful in production we might want to revisit,0
Add log config file to gemfire in final distro The changes for XD-144 mean that log4j files are no longer in the library jars The admin server already has a logging configuration which should be activated by the startup scripts but the separate gemfire app doesnt,0
Restore lax command line options Restore --foobar as well as --foo bar Validation of values should be done as a separate story,0
Create Acceptance Test for source Trigger Create a test specific to for the trigger source instead of it being tested with other Acceptance tests,0
As a user Id like to have the option of HDFS source module so that I can ingest data directly from HDFS file system,3
Publish ContainerStoppedEvent when the container shutsdown When the container shuts down ContainerStoppedEvent should be published so that appropriate listeners would act on Please refer to this discussion here httpsgithubcomspring-projectsspring-xdpull612,0
Documentation for tail file processing Put on the guide as a section in an input-stream wiki page,0
Add module properties files to yarn config directory Currently any properties files located in the xdconfighome directory are not included in the config directory provided by the yarn deployment And thus modules are pulling props from the spring-xd-yarn-110BUILD-SNAPSHOTzip file We need to include these property files in the config dir,0
Running XD as service It is useful to configure operating system so that it will start Spring XD automatically on boot For example in Linux it would be great if Spring XD distro contains initd script to run it as service A typical initd script gets executed with arguments such as start stop restart pause etc In order for an initd script to be started or stopped by init during startup and shutdown the script needs to handle at least start and stop arguments,0
Allow easy integration with other types of message transports - remove enums for transport layers If a third party messaging solution wants to be the transport layer in SpringXD they must currently fork the SpringXD code base and change the enums Example CommonDistributedOptionsControlTransport currently limits to the following options rabbit redis So if a third party like messaging system like ZeroMQ wanted to plug-in they would have to add to the enum Here is another example where GemFire was used as the messaging system httpsgithubcomcharliemblackspring-xdblobmasterspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserveroptionsCommonDistributedOptionsjavaL38 All messaging enums should be removed for an extensible model,0
UI Suport Mandatory Module Parameters Spring XD should support mandatory module properties In the UI when creating a definition from an existing Module mandatory definition properties should be visually highlighted and enforced I dont think the XD backend supports this though,0
Acceptance tests updated to be able to test XD Yarn deployment In order to run Acceptance tests in their current state there had to be changes to the code Set the location of the data node for the hdfs tests because the data nodes were no located with the master disable the copying of batch basic because we did not know the container location Had to configure tests by hand so that we could identify the admin port with new features we should be able to write code to find it Should be able to set it but we had a problem Possible yarn bug JMX Port We could set it for the master but not the container this was a Yarn deployBug Where the build was deployed on the container node so we could copy the batch-basic test,0
Rich Gauge doco is outdated The RichGauge section does not mention the alpha parameter in redis output nor does it explain its meaning,0
As a developer Id like to research and Identify the EC2 infrastructure required so that I can run performance tests on Kafka,3
Update Spring Framework dependency to 40 GA,0
UI The user can view detailed information about steps for a specific job execution based on the type of the job This task will require additional Jiras in XD or also Batch Currently we dont capture Step types,0
Add How to Build Spring-XD instructions to the documentation We need to determine where this information could fit in It can be either in README at the project home page or Getting started wiki page,0
Correctly report state of module instances Currently only the STARTED application and application instance status is recognised This issue will look at the other possible states and report them as module instance states This would be trivial if we knew what the possible states might be and how we should interpret them for module instance state,0
Add support to restart job composition h2 Narrative As a XD user Id like to restart the composed job workflow from ShellUI,0
Create JSON to tab-delimited text transformer script We need a generic script that can do JSON to tab-delimited text transformation for data written to HDFSHAWQ external tables Users should be able to specify columnsfields to be included,0
As a QA Id like to include acceptance test coverage for spark-app batch job so that I can validate the functionality as part of every CI build,5
Create spring-xd-test-fixtures project Acceptance tests has a direct library reference to spring-xd-shell This causes problems with eclipse It needs a intermediate main project to resolve the dependencies This is based on the conversation I had with Mark Fisher you cant depend on another projects srctest what is needed is an intermediate project some test support project that project would depend on spring-xd-shell and others but then the spring-xd-integration-test project would depend on the intermediate one lib dependencies should only be under srcmain srctest is intended to be scoped to the project it sits in tests FOR that project - not reusable base classes etc,0
Tuple should support storing nested tuples Nested tuple structures shoudl be supported getTupleint index getTupleString name,0
As a Spring XD developer Id like to move stdout module from XD to s-c-s repo so I can use it as source to build streaming pipeline,2
As a user Id like to have the option to gracefully shutdown the stream so when it is undeployed while in the middle of its operation we would want to complete its journey to the sink before XD stops the stream Use case One of the streams has a custom module that performs archive extraction When this stream is undeployed while in the middle of extraction It looks like the message goes to the DLQ However we would like the message to complete its journey to the sink of the queue before xd stops the stream Is this possible,8
xd-admin broken for HDFS module registry,0
As a Spring XD developer Id like to port router module from XD to s-c-s repo so I can use it as sink module to build streaming pipeline,2
Containers should listen for Module deployment requests and their deletions The Admin leader will write each Module deployment request to a child node of xddeployments for a selected Container see XD-1399 That Container-specific persistent child node needs to be created by the Container at the same time as it creates its ephemeral node under xdcontainers The Container should then deploy the Module If that same node is subsequently deleted the Container should undeploy the Module,0
As a Spring XD developer Id like to have a permanent location of SPI implementations so I could use the common repo every time I contribute or enhance the test coverage,3
Support for GemXD as a target database in a batch job Getting Caused by quote orgspringframeworktransactionCannotCreateTransactionException Could not open JDBC Connection for transaction nested exception is javasqlSQLException S QLSTATEXJ045SEVERITY-1 Serverlocalhost1529ThreadDRDAConnThread245gemfirexddaemons Invalid or currently unsupported isolation level 8 passed to Conn ectionsetTransactionIsolation The currently supported values are javasqlConnectionTRANSACTIONNONE javasqlConnectionTRANSACTIONREADUNCOMMITTED javasqlCon nectionTRANSACTIONREADCOMMITTED and javasqlConnectionTRANSACTIONREPEATABLEREAD orgspringframeworkjdbcdatasourceDataSourceTransactionManagerdoBeginDataSourceTransactionManagerjava242 orgspringframeworktransactionsupportAbstractPlatformTransactionManagergetTransactionAbstractPlatformTransactionManagerjava373 orgspringframeworktransactioninterceptorTransactionAspectSupportcreateTransactionIfNecessaryTransactionAspectSupportjava420 orgspringframeworktransactioninterceptorTransactionAspectSupportinvokeWithinTransactionTransactionAspectSupportjava257 orgspringframeworktransactioninterceptorTransactionInterceptorinvokeTransactionInterceptorjava95 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy95getLastJobExecutionUnknown Source orgspringframeworkbatchcorelaunchsupportSimpleJobLauncherrunSimpleJobLauncherjava98 quote when launching a simple batch job with GemXD configured as the database quote job create --name myjob --definition filejdbc --resourcesfilehomempollackcsvcsv --driverClassNamecompivotalgemfirexdjdbcClientDriver --namesidnametest --tableNameAPPmytable job deploy --name myjob job launch --name myjob quote quote spring datasource url jdbcgemfirexdlocalhost1527 username admin password admin driverClassName compivotalgemfirexdjdbcClientDriver quote,0
Do you have plan to support Spark Do you have plans to support Spark In version 10 GA Spring XD has supported Hadoop But it has not supported the brand new big data calculation platform Spark do you have plans to support Spark in the future,0
Update to Spring Hadoop 202 A bug in the HDFS Store was discovered that should be fixed,0
As a Spring XD developer Id like to port analytic-pmml module from XD to s-c-s repo so I can use it as processor module to build streaming pipeline,5
Document tuple data structure on XD wiki,0
No way to remove a job from Job repository if its gone from job definitions I am trying to deploy a job I destroyed after running a few times I removed all the jobs using job all destroy When i try to recreate the same name job it is saying it already exists JobControllerjava save method is throwing the exception if job exists in Job Repository database but they are gone from job definition list These jobs were originally created using XD Template REST client dynamically but that should not make any difference This leaves me in an inconsistent state between XD definitionsjob repository How do I get rid of the job without having to log in to the database and play with the job repository tables I had to delete data folder for myself to continue development There should be a force mechanism to recreate a job with the same name a flag that by passes this validation against the repository or overwrites the information in the repository,0
As a Spring XD developer Id like to move tcp module from XD to s-c-s repo so I can use it as source to build streaming pipeline,2
Single step partition support on filejdbc module uses modules datasource The filejdbc modules single step partition support configures to use jdbc modules datasource rather than XDs batch datasource orgspringframeworkmessagingMessageHandlingException orgspringframeworkjdbcUncategorizedSQLException PreparedStatementCallback uncategorized SQLException for SQL SELECT JOBEXECUTIONID STARTTIME ENDTIME STATUS EXITCODE EXITMESSAGE CREATETIME LASTUPDATED VERSION JOBCONFIGURATIONLOCATION from BATCHJOBEXECUTION where JOBEXECUTIONID SQL state null error code 0 SQLITEERROR SQL error or missing database no such table BATCHJOBEXECUTION nested exception is javasqlSQLException SQLITEERROR SQL error or missing database no such table BATCHJOBEXECUTION orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava78 orgspringframeworkintegrationhandlerServiceActivatingHandlerhandleRequestMessageServiceActivatingHandlerjava71 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava170 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricshandleMessageSimpleMessageHandlerMetricsjava106 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricsinvokeSimpleMessageHandlerMetricsjava86 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy117handleMessageUnknown Source orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 sunreflectGeneratedMethodAccessor107invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava113 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava97 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava91 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy115sendUnknown Source orgspringframeworkxddirtintegrationbusLocalMessageBus3handleMessageLocalMessageBusjava188 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcheraccess000UnicastingDispatcherjava48 orgspringframeworkintegrationdispatcherUnicastingDispatcher1runUnicastingDispatcherjava92 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 Caused by orgspringframeworkjdbcUncategorizedSQLException PreparedStatementCallback uncategorized SQLException for SQL SELECT JOBEXECUTIONID STARTTIME ENDTIME STATUS EXITCODE EXITMESSAGE CREATETIME LASTUPDATED VERSION JOBCONFIGURATIONLOCATION from BATCHJOBEXECUTION where JOBEXECUTIONID SQL state null error code 0 SQLITEERROR SQL error or missing database no such table BATCHJOBEXECUTION nested exception is javasqlSQLException SQLITEERROR SQL error or missing database no such table BATCHJOBEXECUTION orgspringframeworkjdbcsupportAbstractFallbackSQLExceptionTranslatortranslateAbstractFallbackSQLExceptionTranslatorjava84 orgspringframeworkjdbcsupportAbstractFallbackSQLExceptionTranslatortranslateAbstractFallbackSQLExceptionTranslatorjava81 orgspringframeworkjdbcsupportAbstractFallbackSQLExceptionTranslatortranslateAbstractFallbackSQLExceptionTranslatorjava81 orgspringframeworkjdbccoreJdbcTemplateexecuteJdbcTemplatejava660 orgspringframeworkjdbccoreJdbcTemplatequeryJdbcTemplatejava695 orgspringframeworkjdbccoreJdbcTemplatequeryJdbcTemplatejava727 orgspringframeworkjdbccoreJdbcTemplatequeryJdbcTemplatejava737 orgspringframeworkjdbccoreJdbcTemplatequeryForObjectJdbcTemplatejava811 orgspringframeworkbatchcorerepositorydaoJdbcJobExecutionDaogetJobExecutionJdbcJobExecutionDaojava267 orgspringframeworkbatchcoreexploresupportSimpleJobExplorergetStepExecutionSimpleJobExplorerjava142 orgspringframeworkbatchintegrationpartitionStepExecutionRequestHandlerhandleStepExecutionRequestHandlerjava52 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkexpressionspelsupportReflectiveMethodExecutorexecuteReflectiveMethodExecutorjava63 orgspringframeworkexpressionspelastMethodReferencegetValueInternalMethodReferencejava122 orgspringframeworkexpressionspelastMethodReferenceaccess000MethodReferencejava44 orgspringframeworkexpressionspelastMethodReferenceMethodValueRefgetValueMethodReferencejava258 orgspringframeworkexpressionspelastCompoundExpressiongetValueInternalCompoundExpressionjava84 orgspringframeworkexpressionspelastSpelNodeImplgetTypedValueSpelNodeImpljava114 orgspringframeworkexpressionspelstandardSpelExpressiongetValueSpelExpressionjava111 orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava159 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessInternalMessagingMethodInvokerHelperjava268 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessMessagingMethodInvokerHelperjava142 orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava75 41 more Caused by javasqlSQLException SQLITEERROR SQL error or missing database no such table BATCHJOBEXECUTION orgsqliteDBnewSQLExceptionDBjava383 orgsqliteDBnewSQLExceptionDBjava387 orgsqliteDBthrowexDBjava374 orgsqliteNestedDBprepareNestedDBjava134 orgsqliteDBprepareDBjava123 orgsqlitePrepStmtinitPrepStmtjava42 orgsqliteConnprepareStatementConnjava404 orgsqliteConnprepareStatementConnjava399 orgsqliteConnprepareStatementConnjava383 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgapachetomcatjdbcpoolProxyConnectioninvokeProxyConnectionjava126 orgapachetomcatjdbcpoolJdbcInterceptorinvokeJdbcInterceptorjava109 orgapachetomcatjdbcpoolDisposableConnectionFacadeinvokeDisposableConnectionFacadejava80 comsunproxyProxy109prepareStatementUnknown Source orgspringframeworkjdbccoreJdbcTemplateSimplePreparedStatementCreatorcreatePreparedStatementJdbcTemplatejava1557 orgspringframeworkjdbccoreJdbcTemplateexecuteJdbcTemplatejava638 63 more 122337941 INFO main-EventThread serverContainerRegistrar254 - Undeploying module ModuleDescriptord192973 moduleName filejdbc moduleLabel filejdbc group csvjdbcjob0 sourceChannelName null sinkChannelName null sinkChannelName null index 0 type job parameters mapresources - filetmpxdtestjdbcdeleteafterusecsv initializeDatabase - true names - col1col2col3 deleteFiles - true driverClassName - orgsqliteJDBC url - jdbcsqlitetmpxdtestjdbcjdbcdb children listempty 122337941 INFO main-EventThread moduleModuleDeployer158 - removed SimpleModule namefilejdbc typejob groupcsvjdbcjob0 index0 73cc35b5 122337944 ERROR task-scheduler-1 stepAbstractStep225 - Encountered an error executing step step1-master in job csvjdbcjob0 orgspringframeworkintegrationMessageTimeoutException Timeout occurred before all partitions returned orgspringframeworkbatchintegrationpartitionMessageChannelPartitionHandlerhandleMessageChannelPartitionHandlerjava141 orgspringframeworkbatchcorepartitionsupportPartitionStepdoExecutePartitionStepjava106 orgspringframeworkbatchcorestepAbstractStepexecuteAbstractStepjava198 orgspringframeworkbatchcorejobSimpleStepHandlerhandleStepSimpleStepHandlerjava148 orgspringframeworkbatchcorejobflowJobFlowExecutorexecuteStepJobFlowExecutorjava64 orgspringframeworkbatchcorejobflowsupportstateStepStatehandleStepStatejava67 orgspringframeworkbatchcorejobflowsupportSimpleFlowresumeSimpleFlowjava162 orgspringframeworkbatchcorejobflowsupportSimpleFlowstartSimpleFlowjava141 orgspringframeworkbatchcorejobflowFlowJobdoExecuteFlowJobjava134 orgspringframeworkbatchcorejobAbstractJobexecuteAbstractJobjava304 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncher1runSimpleJobLauncherjava135 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncherrunSimpleJobLauncherjava128 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkbatchcoreconfigurationannotationSimpleBatchConfigurationPassthruAdviceinvokeSimpleBatchConfigurationjava127 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy44runUnknown Source orgspringframeworkbatchintegrationlaunchJobLaunchingMessageHandlerlaunchJobLaunchingMessageHandlerjava50 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkexpressionspelsupportReflectiveMethodExecutorexecuteReflectiveMethodExecutorjava63 orgspringframeworkexpressionspelastMethodReferencegetValueInternalMethodReferencejava122 orgspringframeworkexpressionspelastMethodReferenceaccess000MethodReferencejava44 orgspringframeworkexpressionspelastMethodReferenceMethodValueRefgetValueMethodReferencejava258 orgspringframeworkexpressionspelastCompoundExpressiongetValueInternalCompoundExpressionjava84 orgspringframeworkexpressionspelastSpelNodeImplgetTypedValueSpelNodeImpljava114 orgspringframeworkexpressionspelstandardSpelExpressiongetValueSpelExpressionjava111 orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava159 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessInternalMessagingMethodInvokerHelperjava268 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessMessagingMethodInvokerHelperjava142 orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava75 orgspringframeworkintegrationhandlerServiceActivatingHandlerhandleRequestMessageServiceActivatingHandlerjava71 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava170 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricshandleMessageSimpleMessageHandlerMetricsjava106 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricsinvokeSimpleMessageHandlerMetricsjava86 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy117handleMessageUnknown Source orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 sunreflectGeneratedMethodAccessor107invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava113 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava97 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava91 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy115sendUnknown Source orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava109 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava94 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendMessageAbstractReplyProducingMessageHandlerjava260 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlersendReplyMessageAbstractReplyProducingMessageHandlerjava241 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerproduceReplyAbstractReplyProducingMessageHandlerjava205 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleResultAbstractReplyProducingMessageHandlerjava199 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava177 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricshandleMessageSimpleMessageHandlerMetricsjava106 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricsinvokeSimpleMessageHandlerMetricsjava86 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy117handleMessageUnknown Source orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava,0
Add aliases concept to module options and use in composed modules Following merge of httpsgithubcomspring-projectsspring-xdpull601 allow a module option to be known by several names and elect a short name in composed module options when there is no ambiguity,0
LocalMessageBus Does Not Destroy Channels When a LocalMessageBus bridges producer and consumers it creates an internal channel and registers it with the application context This can be a DirectChannel a QueueChannel for named queue channels or a PublishSubscribeChannel for named topic channels These channels remain in the context when both the producer and consumer are undeployed Its rather benign in that the channels will be reused if the modules are redeployed but it is a leak and should be addressed at some point A QueueChannel should remain in the context if its queue is not empty,0
SqoopTasklet not using hadoop configuration Hey Guys Im trying to use a SqoopTasklet but for some reason it is not getting the hadoop configuration In the attached sqoop job configuration using the sqooprunner class directly works without problems but the SqoopTasklet is not getting the correct configuration throwing kerberos authentication problems see singlenodelog Could please you guys help me to solve this problem Thanks in advance Regards,0
JobPlugin should not add properties that are not needed If you create a simple http log stream and list the modules youll see that JobPlugin adds its numberFormat makeUnique etc properties Even though they do no harm its really strange for users Plus it could conflict with eg activation of profiles given present properties,0
Detailed module list performance improvement The call to modulesdetailedtrue that was introduced for Flo proves to be a performance hog most certainly because of all the metadata resolution that has to occur there and no caching takes place,0
As a s-c-d developer Id like to have module unregister shell command so I can unregister an existing module from the ModuleRegistry,2
Use guava 150 for spring-xd-integration-test jclouds is not compatible with versions of guava higher than 15,0
Allow to install new XD modules from maven coordinates Currently new modules can be installed via the module upload command but for this to work one needs to build the artifacts beforehand It would be great to have support for installing new XD modules from maven coordinates eg from a public or controlled maven repository With this one would make it easy to consume community modules without much hassle This could also serve as some kind of starting ground for some special solution packages that provides support for cf natural language processing via a bunch of jars that contain the modules for language detection entity detection sentiment analysis topic clustering etc that could be consumed via some kind of bom bill of materials dependency like module install pivotaltoolkitsnlp,0
Composed of Composed fails at stream deployment time Although composition of a module out of an already composed module seems to work at the module compose level trying to deploy a stream with that more complex module fails with orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava589 orgapachetomcatutilnetJIoEndpointSocketProcessorrunJIoEndpointjava312 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava724 Caused by javalangIllegalArgumentException each module before the last must provide output orgspringframeworkutilAssertnotNullAssertjava112 orgspringframeworkxdmoduleCompositeModuleinitializeCompositeModulejava132 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava234 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleModuleDeployerjava224 orgspringframeworkxddirtmoduleModuleDeployerhandleCompositeModuleDeploymentModuleDeployerjava180 orgspringframeworkxddirtmoduleModuleDeployerhandleMessageInternalModuleDeployerjava129 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 63 more,0
Document mail related sources sinks,0
Send failing sonar build message to spring-xd mailing list,0
Add integration tests Scope is to have integration test coverage for source and sink modules,0
Move decision logic for directBinding out of bus to deployer As the decision for directBinding may become more complicated see eg XD-2946 move the decision part out of the bus leaving only the application there leveraging a pre-computed property such as directBindtrue The computation of that property is to be moved at the deployer level,0
Update Sources tail section to use Shell commands instead of curl httpstaticspringsourceorgspring-xddocs100M1referencehtmltail,0
add create and deploy methods to StreamsController see httpsdocsgooglecomagopivotalcomdrawingsd1kCNbVspRBjGc10itF9cSkwST8WgCjgg3wGzFKqLCAzUedit create optionally deploys,0
As a user Id like to have the configuration option to use an alternative DLQ so I can publish the message this time with additional headers including one that contains the exception and stack trace,3
Reference documentation on creating Reactive Stream processorsink,0
Fix hdfsjdbc batch job hdfsjdbc throws an exception code orgspringframeworkbeansfactoryBeanDefinitionStoreException Invalid bean definition with name itemReader defined in URL fileUserstrisbergProjectsspring-xdbuilddistspring-xdxdmodulesjobhdfsjdbcconfighdfsjdbcxml Could not resolve placeholder columns in string value columns code The hdfsjdbc job uses columns instead of names as the parameter for the column-names Should we make this usage consistent between jobs There is a comment in the docs - there is also a limitation in that the database table must be created manually This is due to a bug in Spring Hadoop and will be fixed in the future Think this is this solved in Spring Hadoop now initializeDatabase should default to false now to be consistent with jdbc sink Rename batch-jdbcmongo-importproperties to batch-jdbcmongoproperties since these arent just for import,0
Need to be able setup ec2 env to test job samples in spring-xd-samples repo Currently in order to deploy a user created job we copy the job to the containers and admin server and then bounce the servers The tests will need the ability to copy these jobs to the containers admin and then bounce the servers These sample jobs are located at httpsgithubcomspring-projectsspring-xd-samples,0
xd-container --transport local throws NumberFormatException xd-container OK xd-container --transport redis OK xd-container --transport rabbit OK xd-container --transport local FAIL wkoh-mbpbin administrator xd-container --transport local Exception in thread main orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name orgjolokiajvmagentspringSpringJolokiaAgent0 Invocation of init method failed nested exception is javalangNumberFormatException For input string xdjmxport orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1488 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava524 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava461 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava295 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava223 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava292 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava194 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava626 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava932 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava479 orgspringframeworkxddirtserverContainerMainlaunchContainerMainjava89 orgspringframeworkxddirtserverContainerMainmainContainerMainjava72 Caused by javalangNumberFormatException For input string xdjmxport javalangNumberFormatExceptionforInputStringNumberFormatExceptionjava48 javalangIntegerparseIntIntegerjava449 javalangIntegerparseIntIntegerjava499 orgjolokiajvmagentJolokiaServerConfiginitConfigAndValidateJolokiaServerConfigjava211 orgjolokiajvmagentJolokiaServerConfiginitJolokiaServerConfigjava84 orgjolokiajvmagentJolokiaServerConfiginitJolokiaServerConfigjava68 orgjolokiajvmagentspringSpringJolokiaAgentafterPropertiesSetSpringJolokiaAgentjava78 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinvokeInitMethodsAbstractAutowireCapableBeanFactoryjava1547 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1485 11 more,0
Refactor duplicate code for modules The admin leader performs module deployment requests by listening to stream deployment requests under xddeploymentsstreams and by listening to containers joining and leaving the cluster under xdcontainers Refactor any duplicate code into a common classcomponent that can be used by both listeners Edit the listener duplication will be handled in XD-1548 This issue is for the duplicate code in ModuleDeploymentRequest and ModuleDescriptor,0
Test Spark Module with maven spring-xd-module-parent javalangNoClassDefFoundError A test for a java spark module managed by maven with parent spring-xd-module-parent launch a javalangNoClassDefFoundError Ive forked the example repo httpsgithubcommorfeo8marcspring-xd-samplestreemasterspark-streaming-wordcount-java-processorhttpsgithubcommorfeo8marcspring-xd-samplestreemasterspark-streaming-wordcount-java-processor the samples project and created the pom file for the spark-streaming-wordcount-java-processor project and the corresponding test Partial stack trace codetitleStackTrace 2015-08-04 093007211 ERROR DeploymentsPathChildrenCache-0 listenListenerContainer ListenerContainerjavarun96 - Listener orgspringframeworkxddirtservercontainerDeploymentListener729c251b threw an exception javalangNoClassDefFoundError orgeclipsejettyutilcomponentAggregateLifeCycle javalangClassLoaderdefineClass1Native Method javalangClassLoaderdefineClassClassLoaderjava760 javasecuritySecureClassLoaderdefineClassSecureClassLoaderjava142 javanetURLClassLoaderdefineClassURLClassLoaderjava467 javanetURLClassLoaderaccess100URLClassLoaderjava73 javanetURLClassLoader1runURLClassLoaderjava368 javanetURLClassLoader1runURLClassLoaderjava362 javasecurityAccessControllerdoPrivilegedNative Method javanetURLClassLoaderfindClassURLClassLoaderjava361 javalangClassLoaderloadClassClassLoaderjava424 sunmiscLauncherAppClassLoaderloadClassLauncherjava331 javalangClassLoaderloadClassClassLoaderjava357 javalangClassLoaderdefineClass1Native Method javalangClassLoaderdefineClassClassLoaderjava760 javasecuritySecureClassLoaderdefineClassSecureClassLoaderjava142 javanetURLClassLoaderdefineClassURLClassLoaderjava467 javanetURLClassLoaderaccess100URLClassLoaderjava73 javanetURLClassLoader1runURLClassLoaderjava368 javanetURLClassLoader1runURLClassLoaderjava362 javasecurityAccessControllerdoPrivilegedNative Method javanetURLClassLoaderfindClassURLClassLoaderjava361 javalangClassLoaderloadClassClassLoaderjava424 sunmiscLauncherAppClassLoaderloadClassLauncherjava331 javalangClassLoaderloadClassClassLoaderjava357 javalangClassLoaderdefineClass1Native Method javalangClassLoaderdefineClassClassLoaderjava760 javasecuritySecureClassLoaderdefineClassSecureClassLoaderjava142 javanetURLClassLoaderdefineClassURLClassLoaderjava467 javanetURLClassLoaderaccess100URLClassLoaderjava73 javanetURLClassLoader1runURLClassLoaderjava368 javanetURLClassLoader1runURLClassLoaderjava362 javasecurityAccessControllerdoPrivilegedNative Method javanetURLClassLoaderfindClassURLClassLoaderjava361 javalangClassLoaderloadClassClassLoaderjava424 sunmiscLauncherAppClassLoaderloadClassLauncherjava331 javalangClassLoaderloadClassClassLoaderjava357 javalangClassLoaderdefineClass1Native Method javalangClassLoaderdefineClassClassLoaderjava760 javasecuritySecureClassLoaderdefineClassSecureClassLoaderjava142 javanetURLClassLoaderdefineClassURLClassLoaderjava467 javanetURLClassLoaderaccess100URLClassLoaderjava73 javanetURLClassLoader1runURLClassLoaderjava368 javanetURLClassLoader1runURLClassLoaderjava362 javasecurityAccessControllerdoPrivilegedNative Method javanetURLClassLoaderfindClassURLClassLoaderjava361 javalangClassLoaderloadClassClassLoaderjava424 sunmiscLauncherAppClassLoaderloadClassLauncherjava331 javalangClassLoaderloadClassClassLoaderjava357 orgapachesparkHttpServerorgapachesparkHttpServerdoStartHttpServerscala74 code When the WordCountTest test is launched the exception is launched Is there a problem with the spring-xd-module-parent module Are some dependencies left,0
Support various output format eg Avro SequenceFile more advanced rollover options,0
Install XD admin instance on EC2 Update the Deployer class to add the following methods RunningInstance deployAdminServer The install script steps Using XD-977 install distribution Setup XDHOME variable start up redis and rabbit using ports as specified in xd-ec2properties on admin server Create configurator directory Copy the configurator to containers Use port watch to make sure they started start admin server use port watch to make sure the admin started on 9393 Report if admin server started If it didnt start abort install Report public DNS name of admin-server Integration Testing Verify XD admin has been started Create a basic stream triggerlogand make sure we get a success code from xd admin was received Query the redis to see if the stream was created,0
Frequent connection pool errors with multi-partitioned jdbchdfs jobs Im running a jdbchdfs job with 8 partitions and 2 containers Some steps complete ok while some 3-4 on average fail with a connection pool error see below This happens with a decent size table 18M rows I tried two different databases - Oracle 11g on a separate server and MySQL running locally where the XD containers where running Same pattern with both databases code 2015-02-13 122133436 110RELEASE ERROR inboundfiles30-redisqueue-inbound-channel-adapter1 stepAbstractStep - Encountered an error executing step step1 in job files3 orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name scopedTargetitemReader defined in file hometrisbergTestspring-xd-110RELEASExdmodulesjobjdbchdfsconfigjdbchdfsxml Invocation of init method failed nested exception is orgspringframeworkjdbcsupportMetaDataAccessException Could not get Connection for extracting meta data nested exception is orgspringframeworkjdbcCannotGetJdbcConnectionException Could not get JDBC Connection nested exception is javasqlSQLException Failed to validate a newly established connection orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1566 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava539 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava476 orgspringframeworkbeansfactorysupportAbstractBeanFactory2getObjectAbstractBeanFactoryjava342 orgspringframeworkbatchcorescopeStepScopegetStepScopejava110 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava337 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava194 orgspringframeworkaoptargetSimpleBeanTargetSourcegetTargetSimpleBeanTargetSourcejava35 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava187 comsunproxyProxy90openUnknown Source orgspringframeworkbatchitemsupportCompositeItemStreamopenCompositeItemStreamjava96 orgspringframeworkbatchcoresteptaskletTaskletStepopenTaskletStepjava310 orgspringframeworkbatchcorestepAbstractStepexecuteAbstractStepjava195 orgspringframeworkbatchintegrationpartitionStepExecutionRequestHandlerhandleStepExecutionRequestHandlerjava64 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkexpressionspelsupportReflectiveMethodExecutorexecuteReflectiveMethodExecutorjava112 orgspringframeworkexpressionspelastMethodReferencegetValueInternalMethodReferencejava102 orgspringframeworkexpressionspelastMethodReferenceaccess000MethodReferencejava49 orgspringframeworkexpressionspelastMethodReferenceMethodValueRefgetValueMethodReferencejava342 orgspringframeworkexpressionspelastCompoundExpressiongetValueInternalCompoundExpressionjava88 orgspringframeworkexpressionspelastSpelNodeImplgetTypedValueSpelNodeImpljava131 orgspringframeworkexpressionspelstandardSpelExpressiongetValueSpelExpressionjava330 orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava164 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessInternalMessagingMethodInvokerHelperjava276 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessMessagingMethodInvokerHelperjava142 orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava75 orgspringframeworkintegrationhandlerServiceActivatingHandlerhandleRequestMessageServiceActivatingHandlerjava71 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava99 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricshandleMessageSimpleMessageHandlerMetricsjava107 orgspringframeworkintegrationmonitorSimpleMessageHandlerMetricsinvokeSimpleMessageHandlerMetricsjava87 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy94handleMessageUnknown Source orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava239 sunreflectGeneratedMethodAccessor69invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkintegrationmonitorDirectChannelMetricsmonitorSendDirectChannelMetricsjava114 orgspringframeworkintegrationmonitorDirectChannelMetricsdoInvokeDirectChannelMetricsjava98 orgspringframeworkintegrationmonitorDirectChannelMetricsinvokeDirectChannelMetricsjava92 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy91sendUnknown Source orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputAbstractMessageProducingHandlerjava248 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlerproduceOutputAbstractMessageProducingHandlerjava171 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputsAbstractMessageProducingHandlerjava119 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava105 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkxddirtintegrationredisRedisMessageBus11doWithRetryRedisMessageBusjava267 orgspringframeworkxddirtintegrationredisRedisMessageBus11doWithRetryRedisMessageBusjava263 orgspringframeworkretrysupportRetryTemplatedoExecuteRetryTemplatejava263 orgspringframeworkretrysupportRetryTemplateexecuteRetryTemplatejava168 orgspringframeworkxddirtintegrationredisRedisMessageBus1doSendRedisMessageBusjava263 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava239 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava101 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointpopMessageAndSendRedisQueueMessageDrivenEndpointjava220 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointaccess300RedisQueueMessageDrivenEndpointjava50 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointListenerTaskrunRedisQueueMessageDrivenEndpointjava314 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 javalangThreadrunThreadjava745 Caused by orgspringframeworkjdbcsupportMetaDataAccessException Could not get Connection for extracting meta data nested exception is orgspringframeworkjdbcCannotGetJdbcConnectionException Could not get JDBC Connection nested exception is javasqlSQLException Failed to validate a newly established connection orgspringframeworkjdbcsupportJdbcUtilsextractDatabaseMetaDataJdbcUtilsjava302 orgspringframeworkjdbcsupportJdbcUtilsextractDatabaseMetaDataJdbcUtilsjava329 orgspringframeworkbatchsupportDatabaseTypefromMetaDataDatabaseTypejava95 orgspringframeworkxdjdbcNamedColumnJdbcItemReaderFactoryafterPropertiesSetNamedColumnJdbcItemReaderFactoryjava101 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinvokeInitMethodsAbstractAutowireCapableBeanFactoryjava1625 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1562 90 more Caused by orgspringframeworkjdbcCannotGetJdbcConnectionException Could not get JDBC Connection nested exception is javasqlSQLException Failed to validate a newly established connection orgspringframeworkjdbcdatasourceDataSourceUtilsgetConnectionDataSourceUtilsjava80 orgspringframeworkjdbcsupportJdbcUtilsextractDatabaseMetaDataJdbcUtilsjava289 95 more Caused by javasqlSQLException Failed to validate a newly established connection orgapachetomcatjdbcpoolConnectionPoolborrowConnectionConnectionPooljava802 orgapachetomcatjdbcpoolConnectionPoolborrowConnectionConnectionPooljava617 orgapachetomcatjdbcpoolConnectionPoolgetConnectionConnectionPooljava186 orgapachetomcatjdbcpoolDataSourceProxygetConnectionDataSourceProxyjava127 orgspringframeworkjdbcdatasourceDataSourceUtilsdoGetConnectionDataSourceUtilsjava111 orgspringframeworkjdbcdatasourceDataSourceUtilsgetConnectionDataSourceUtilsjava77 96 more code,0
Document processor modules Fill in httpsgithubcomSpringSourcespring-xdwikiProcessors,0
SCS - split kryo implementation to spring-cloud-streams-codec-kryo,0
As a developer Id like to have a central place to manage external properties for applications across all the environments so I can provide server and client-side support for externalized configuration for XD-Admin and XD-Container servers,8
Prepare Blog post for XD M2,0
As a developer Id like to upgrade to 060 release of Lattice so I can demonstrate data flow on the latest Lattice improvements,5
As a user Id like to have latest Spring Boot RELEASE pulled as a dependency so that I can inherit and implement the OOTB security features,1
AggregateCounter display command options with lastHours and lastDays It would be nice to have lastHours and lastDays options for aggregatecounter display command,0
FileSourceTest needs to apply label to source and sink Currently Acceptance FileSource Acceptance Tests are failing This is because the sink that tests the result for the file source test is a filesink Both use the file token Thus causing a failure SimpleFileSource and SimpleFileSink needs to support a label method Update testFileSource to use the labels,0
As a developer Id like to build data pipeline using Kafka as as message bus in XD so that we can demonstrate some of the capabilities Use case to consider Log aggregation and analysis Lambda architecture how to avoid code duplication how to eliminate tight coupling of business logic how Kafka can be used for reliable reprocessing,8
Document Monitoring Management Features This section should discuss what is exposed via JMX how you can view it in JConsole and how you can view it over http via Jolikia in particular showing how some existing metrics for inbound message channel adapters or the inbound channel of the stream that indicate the number of messages processed per section,0
Ensure that metadata for Kafka message bus is propagated before producingconsuming Currently ensureTopicCreated will invoke the creation of the topic on the brokers however the calls is not blocking So before proceeding we should make sure that the metadata is readable therefore propagated,0
Provide ModuleOptionsMetadata using simple approach Following merge of XD-953 provide module options using the simple approach where applicable,0
Avoid use of module name twice in location when using a custom modules See httpsgithubcomSpringSourcespring-xdpull240discussionr6045724,0
Research adding support for spring-cloud-config to configure Modules Please refer to the GH Issue reported here httpsgithubcomspring-projectsspring-xdissues1218,0
As a Azure user Id like to readwrite data from Azure Event Hubs so I can leverage the pub-sub service to process and analyze large volumes of data,8
Update Processors Script section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmlscript,0
gemfire-json-server multiple PdxTypes Types I am using SpringXD to ingest tweets to a gemfire-json-server sink I am running into an issue where the json documents get defined as a pdx type twice See the reweetcount field below This causes problems later when using OQL to access this data Incompatible types What are the recommended ways to resolve this The field type should account for the largest possible value which is unknown because it is twitter This would likely be a int or long I was asked to log this as a SXD JIRA issue but I am not sure if the problem is in SXD or GemFire info 20150425 065128767 CST twitterSource-1-1 tid0x53 Defining PdxType dsid0typenum1 nameGEMFIREJSON fields idString0idx0relativeOffset0idx1vlfOffsetIndex-1 fromuserString11idx0relativeOffset0idx1vlfOffsetIndex1 createdatString22idx0relativeOffset0idx1vlfOffsetIndex2 textString33idx0relativeOffset0idx1vlfOffsetIndex3 languagecodeString44idx0relativeOffset0idx1vlfOffsetIndex4 retweetcountshort54idx0relativeOffset-3idx1vlfOffsetIndex-1 retweetboolean64idx0relativeOffset-1idx1vlfOffsetIndex-1 info 20150425 065129307 CST twitterSource-1-1 tid0x53 Defining PdxType dsid0typenum2 nameGEMFIREJSON fields idString0idx0relativeOffset0idx1vlfOffsetIndex-1 fromuserString11idx0relativeOffset0idx1vlfOffsetIndex1 createdatString22idx0relativeOffset0idx1vlfOffsetIndex2 textString33idx0relativeOffset0idx1vlfOffsetIndex3 languagecodeString44idx0relativeOffset0idx1vlfOffsetIndex4 retweetcountbyte54idx0relativeOffset-2idx1vlfOffsetIndex-1 retweetboolean64idx0relativeOffset-1idx1vlfOffsetIndex-1,0
Creating a base class for Plugins It might be worth creating a base class for Plugins that combines common concerns across plugins Eg That would allow us to hide the commonApplicationContext and BeanDefinitionAddingPostProcessor for common cases instead exposing a simple addBeanDefinition method to sub-classes,0
Remove L from Log4j PatternLayout The xd-dirt log4jproperties includes the calling line number L which is not recommended for production httpsloggingapacheorglog4j12apidocsorgapachelog4jPatternLayouthtml WARNING Generating caller location information is extremely slow and should be avoided unless execution speed is not an issue,0
Fix error handling in jdbchdfs job The jdbchdfs job keeps the output stream open in case of error writing to HDFS We should improve this and close it plus throw an exception We should also make sure the step is marked as failed instead of complete when an exception is thrown in the writer,0
xd-shell doesnt work with SSL proxy After connecting to admin endpoint over HTTPS xd-shell will use plain HTTP for all further calls which fails if HTTPS is mandatory code server-unknownadmin config server httpsmy-host Successfully targeted httpsmy-host xdjob list Command failed orgspringframeworkwebclientResourceAccessException IO error on GET request for httpmy-hostjobsdefinitionssize10000deploymentstrueConnection refused nested exception is javanetConnectException Connection refused code In above example my-host is a proxy that provides load balancing and enforces HTTPS for users It forwards the traffic to to spring-xd-admin service REST API over regular HTTP and port 9393 Admin service is returning links with plain HTTP because its unaware of the network proxy Can this be solved without employing server side HTTP-HTTPS url rewrite Is enabling SSL in spring-xd-admin the only way,0
Error handling on Streams Have proper exceptions for common error cases on Stream creationdeployment and propagate those to clients correctly,0
Update Analytics Field Value Counter section to use Shell commands instead of curl,0
Add additional REST endpoint that return the XML definition of a job,0
Support shell completions for module names see CompletionProviderTeststestUnfinishedModuleNameShouldReturnCompletions Ideally would require a change in the parser so that it knows which kind of module was expected when it failed,0
Support rapid creation and deletion of streams OS Ubuntu Deployment Admin Server 1 Container Transport Rabbit Using the shell execute the file binshell --cmdfile looptxt This should run successfully Rerun the same script binshell --cmdfile looptxt it states that the stream foo1 is already deployed Open shell app and destroy foo1 and run a stream list No streams will display Exit shell and rerun the file Another stream will fail to create stating stream already exists If you look at the modules deployed on the container some are still present To clear you have to shutdown the cluster and flush the xd directories on Zookeeper Note that if I shutdown the container the modules disappear,0
Add a groovy script processor module A processor module that accepts either the location of a groovy script resource or an inline script string Also some discussion about a default classpath location for scripts,0
As a user I would like to be able disable snappy compression when using hdfs-dataset sink with Avro files Id also like to be able to provide a different codec,1
As a Spring XD developer Id like to move trigger module from XD to s-c-s repo so I can use it as source to build streaming pipeline,2
As a Spring XD developer Id like to move mqtt module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,2
Support Spark streaming processorsink specific module options Currently the module options provided for Spark streaming processorsink modules use the same DefaultSparkStreamingModuleOptionsMetadata Since we start adding new module options for processorsink specific modules it would be better if we expose specific ModuleOption classes so that would help the implementing developers,0
Add documentation for connecting to HDFS with HA Namenode,0
As a user Id like to also have the capability to upload the custom module through mavengradle targets so I can automate the installation of custom module fragments,2
Add assertion text to Junit Tests Discovered Junit test failures that do not provide an assertion message Therefore the Junit report is rather useless 2 Classes Maybe we should check the entire code-base Class orgspringframeworkxdshellcommandJobCommandWithHadoopTests testLaunchFtpHadoopJob code javalangAssertionError orgjunitAssertfailAssertjava86 orgjunitAssertassertTrueAssertjava41 orgjunitAssertassertTrueAssertjava52 orgspringframeworkxdshellcommandAbstractJobIntegrationTestcheckForJobInListAbstractJobIntegrationTestjava213 orgspringframeworkxdshellcommandJobCommandWithHadoopTeststestLaunchFtpHadoopJobJobCommandWithHadoopTestsjava73 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 orgjunitrunnersmodelFrameworkMethod1runReflectiveCallFrameworkMethodjava50 orgjunitinternalrunnersmodelReflectiveCallablerunReflectiveCallablejava12 orgjunitrunnersmodelFrameworkMethodinvokeExplosivelyFrameworkMethodjava47 orgjunitinternalrunnersstatementsInvokeMethodevaluateInvokeMethodjava17 orgjunitinternalrunnersstatementsRunBeforesevaluateRunBeforesjava26 orgspringframeworktestcontextjunit4statementsRunBeforeTestMethodCallbacksevaluateRunBeforeTestMethodCallbacksjava73 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgspringframeworktestcontextjunit4statementsRunAfterTestMethodCallbacksevaluateRunAfterTestMethodCallbacksjava82 orgjunitrulesTestWatcher1evaluateTestWatcherjava55 orgjunitrulesRunRulesevaluateRunRulesjava20 orgspringframeworktestcontextjunit4statementsSpringRepeatevaluateSpringRepeatjava73 orgjunitrunnersParentRunnerrunLeafParentRunnerjava325 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunChildSpringJUnit4ClassRunnerjava217 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunChildSpringJUnit4ClassRunnerjava83 orgjunitrunnersParentRunner3runParentRunnerjava290 orgjunitrunnersParentRunner1scheduleParentRunnerjava71 orgjunitrunnersParentRunnerrunChildrenParentRunnerjava288 orgjunitrunnersParentRunneraccess000ParentRunnerjava58 orgjunitrunnersParentRunner2evaluateParentRunnerjava268 orgjunitinternalrunnersstatementsRunBeforesevaluateRunBeforesjava26 orgspringframeworktestcontextjunit4statementsRunBeforeTestClassCallbacksevaluateRunBeforeTestClassCallbacksjava61 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgspringframeworktestcontextjunit4statementsRunAfterTestClassCallbacksevaluateRunAfterTestClassCallbacksjava68 orgspringframeworkxdtestAbstractExternalResourceTestSupport1evaluateAbstractExternalResourceTestSupportjava71 orgjunitrulesRunRulesevaluateRunRulesjava20 orgjunitrunnersParentRunnerrunParentRunnerjava363 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunSpringJUnit4ClassRunnerjava163 orgjunitrunnersSuiterunChildSuitejava128 orgjunitrunnersSuiterunChildSuitejava27 orgjunitrunnersParentRunner3runParentRunnerjava290 orgjunitrunnersParentRunner1scheduleParentRunnerjava71 orgjunitrunnersParentRunnerrunChildrenParentRunnerjava288 orgjunitrunnersParentRunneraccess000ParentRunnerjava58 orgjunitrunnersParentRunner2evaluateParentRunnerjava268 orgjunitinternalrunnersstatementsRunBeforesevaluateRunBeforesjava26 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgspringframeworkxdtestAbstractExternalResourceTestSupport1evaluateAbstractExternalResourceTestSupportjava71 orgjunitrulesRunRulesevaluateRunRulesjava20 orgjunitrunnersParentRunnerrunParentRunnerjava363 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterrunTestClassJUnitTestClassExecuterjava86 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterexecuteJUnitTestClassExecuterjava49 orggradleapiinternaltaskstestingjunitJUnitTestClassProcessorprocessTestClassJUnitTestClassProcessorjava69 orggradleapiinternaltaskstestingSuiteTestClassProcessorprocessTestClassSuiteTestClassProcessorjava48 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingdispatchContextClassLoaderDispatchdispatchContextClassLoaderDispatchjava32 orggradlemessagingdispatchProxyDispatchAdapterDispatchingInvocationHandlerinvokeProxyDispatchAdapterjava93 comsunproxyProxy2processTestClassUnknown Source orggradleapiinternaltaskstestingworkerTestWorkerprocessTestClassTestWorkerjava105 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingremoteinternalhubMessageHubHandlerrunMessageHubjava355 orggradleinternalconcurrentDefaultExecutorFactoryStoppableExecutorImpl1runDefaultExecutorFactoryjava64 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava745 code Class orgspringframeworkxdshellcommandHttpCommandTests testHttpPostUtfText code javalangAssertionError orgjunitAssertfailAssertjava86 orgjunitAssertassertTrueAssertjava41 orgjunitAssertassertTrueAssertjava52 orgspringframeworkxdshellcommandStreamCommandTemplateverifyExistsStreamCommandTemplatejava162 orgspringframeworkxdshellcommandStreamCommandTemplatedoCreateStreamCommandTemplatejava99 orgspringframeworkxdshellcommandStreamCommandTemplatecreateStreamCommandTemplatejava65 orgspringframeworkxdshellcommandHttpCommandTeststestHttpPostUtfTextHttpCommandTestsjava97 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 orgjunitrunnersmodelFrameworkMethod1runReflectiveCallFrameworkMethodjava50 orgjunitinternalrunnersmodelReflectiveCallablerunReflectiveCallablejava12 orgjunitrunnersmodelFrameworkMethodinvokeExplosivelyFrameworkMethodjava47 orgjunitinternalrunnersstatementsInvokeMethodevaluateInvokeMethodjava17 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgjunitrulesExternalResource1evaluateExternalResourcejava48 orgjunitrulesTestWatcher1evaluateTestWatcherjava55 orgjunitrulesRunRulesevaluateRunRulesjava20 orgjunitrunnersParentRunnerrunLeafParentRunnerjava325 orgjunitrunnersBlockJUnit4ClassRunnerrunChildBlockJUnit4ClassRunnerjava78 orgjunitrunnersBlockJUnit4ClassRunnerrunChildBlockJUnit4ClassRunnerjava57 orgjunitrunnersParentRunner3runParentRunnerjava290 orgjunitrunnersParentRunner1scheduleParentRunnerjava71 orgjunitrunnersParentRunnerrunChildrenParentRunnerjava288 orgjunitrunnersParentRunneraccess000ParentRunnerjava58 orgjunitrunnersParentRunner2evaluateParentRunnerjava268 orgjunitinternalrunnersstatementsRunBeforesevaluateRunBeforesjava26 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgspringframeworkxdtestAbstractExternalResourceTestSupport1evaluateAbstractExternalResourceTestSupportjava71 orgjunitrulesRunRulesevaluateRunRulesjava20 orgjunitrunnersParentRunnerrunParentRunnerjava363 orgjunitrunnersSuiterunChildSuitejava128 orgjunitrunnersSuiterunChildSuitejava27 orgjunitrunnersParentRunner3runParentRunnerjava290 orgjunitrunnersParentRunner1scheduleParentRunnerjava71 orgjunitrunnersParentRunnerrunChildrenParentRunnerjava288 orgjunitrunnersParentRunneraccess000ParentRunnerjava58 orgjunitrunnersParentRunner2evaluateParentRunnerjava268 orgjunitinternalrunnersstatementsRunBeforesevaluateRunBeforesjava26 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgspringframeworkxdtestAbstractExternalResourceTestSupport1evaluateAbstractExternalResourceTestSupportjava71 orgjunitrulesRunRulesevaluateRunRulesjava20 orgjunitrunnersParentRunnerrunParentRunnerjava363 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterrunTestClassJUnitTestClassExecuterjava86 orggradleapiinternaltaskstestingjunitJUnitTestClassExecuterexecuteJUnitTestClassExecuterjava49 orggradleapiinternaltaskstestingjunitJUnitTestClassProcessorprocessTestClassJUnitTestClassProcessorjava69 orggradleapiinternaltaskstestingSuiteTestClassProcessorprocessTestClassSuiteTestClassProcessorjava48 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingdispatchContextClassLoaderDispatchdispatchContextClassLoaderDispatchjava32 orggradlemessagingdispatchProxyDispatchAdapterDispatchingInvocationHandlerinvokeProxyDispatchAdapterjava93 comsunproxyProxy2processTestClassUnknown Source orggradleapiinternaltaskstestingworkerTestWorkerprocessTestClassTestWorkerjava105 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava35 orggradlemessagingdispatchReflectionDispatchdispatchReflectionDispatchjava24 orggradlemessagingremoteinternalhubMessageHubHandlerrunMessageHubjava355 orggradleinternalconcurrentDefaultExecutorFactoryStoppableExecutorImpl1runDefaultExecutorFactoryjava64 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava745 code,0
As a spring-cloud-data developer Id like to use an in-memory stream definition repository so I dont have to spin up a store obviously this will not persist between application executions but it will be useful for a simplified development experience,5
Remove usage of contextproperty-placeholder location in module defitions This doesnt follow the conventions we have with other modules and it also means it isnt easy to override via environment variables etc This is in HDFS and some others,0
Remove legacy application code following Spring bootification See the discussion in httpsgithubcomspring-projectsspring-xdpull370 There are now various superseded classes and tests which we no longer need,0
User wants ability to test sinks Handled by 1245,0
Sample app that can process and analyze network packets Create an example application that demonstrates the processing analysis from a stream of network packets A potential scenario could be the detection of ongoing cyber attacks by scanning for TLS packets that what to abuse a SSL vulnerability aka heart bleed A library that could help with this is httpjnetpcapcom,0
Filejdbc jobs status shows STARTED even when job is complete SHA 67473dc71332c0727516b6f3fd11a55561b2472e Deployment 1 Admin 2 Containers JobStore HSQLDB OS Mac OSX Ubuntu Reproducible Yes Job job create foo --definition filejdbc --resourcesfilefilejdbctestfilejdbctestout --namesdata --tableNamefilejdbctest --initializeDatabasetrue --deploy When using Rabbit as a transport with more than one container and launching the job above The Job execution stays as STARTED status even though the job is actually finished We expect it to reach a state of COMPLETED Using Redis as a transport the job execution status does reach COMPLETED The execution step list shows Id Step Name Job Exec ID Start Time End Time Status -- ----------------------- ----------- ----------------------- ----------------------- --------- 8 step1-master 4 2014-11-06 152829820 STARTED 9 step1-masterpartition0 4 2014-11-06 152829854 2014-11-06 152829890 COMPLETED,0
Home wiki page improvements Add more structure more easily find the reference guide The style that is here httpsgithubcomsnowplowsnowplowwiki is nice,0
Custom location for modulesyml not working tried local xd-adminxd-container after setting code export XDMODULECONFIGLOCATIONfilespring-xd-100BUILD-SNAPSHOT-yarnconfig code have my twitter stuff in modulesyml in that directory but not picked up by the twitterstream module Also not working for me deploying on YARN this used to work at some point not sure how long ago I actually tested this part - M6M7 The setting used for YARN deployment code -Dxdmoduleconfiglocation file code,0
As a developer Id like to study the taxi trips based on a stream of trip reports from New York City so that I can evaluate event-based systems in the context of real-time analytics using Spring XD Challenge Detailshttpwwwdebs2015orgcall-grand-challengehtml,8
As a module author I would like to apply RxJava processor module with spring cloud stream,3
As a developer Id like to submit a PR for existing work on Mesos SPI,2
Reactor Environment Improvements Use a profile or similar to only include the Environment conditionally currently in module-commonxml Also Jon Brisbin one thing to keep in mind we talked about having a properties file for XD that configured the RingBuffer et al in a non-default way Jon Brisbin eg no event loop Dispatchersa ThreadPoolDispatcher with a large thread pool size 50 threads 100and maybe even two RingBufferDispatchers input and output Jon Brisbin so we might want to change from strictly a default Environment bean to an EnvironmentFactoryBean with a specific configurationthinking about it now I maybe should add a namespace element for the Environment,0
Investigate need for UI Pagination This issue could be more involved Proper pagination may not be implemented correctly by the REST controller making the respective service call This would also necessitate some form of improved state management for the UI Eg User is on page 5 of the listing of Job Executions User views details User presses the back-button on the screen The the listing of Job Executions should be still on page 5,0
Detect Invalid Deployment Properties in the Bus Detect properties the bus doesnt support,0
Documentation for starting Spring XD servers,0
Provide more informative error message when ConversionService fails in Tuple When delegating to the conversion service the ConversionFailedException does not have the context of which key caused the failure Should probably wrap ConversionFailedException with IllegalArgumentException and add that context back in,0
Move Rabbit Rule to a separate repo As an s-c-d developer Id like to move rabbit Rule to a separate repo so I can consume the test fixtures in different projects,0
deployed modules are not redeployed properly once the container come back online Deployed component s are not deployed to the containers that failed and restarted We have 3 containers and 3 jobs where all jobs are deployed evenly one job per container However when two of the containers fail and come back up we end up with 3 jobs on 1 container See attached document for detail,0
Upgrade to 120 RC1 SIK release,0
Cannot create tap if you have already tried to create an invalid one of same name From the shell code stream create --name aaa --definition timelog Created new stream aaa tap create --name aa --definition tap aaa log Command failed orgspringframeworkxdrestclientimplSpringXDException XD111Epos 8 Unexpected token Expected dot but was pipe tap aaa log tap create --name aa --definition tap aaa log Command failed orgspringframeworkxdrestclientimplSpringXDException There is already a tap named aa code Looks like the first tap was created even though there was a parse error And so the second attempt to create the tap failed due to an existing tap,0
HDFS sink should default to hdfslocalhost8020 The current default is hdfslocalhost9000 but most new distributionsinstalls use 8020,0
Deployment tab on admin-ui lags behind with changes on other pages The deployment tab does not reflect the current state of the jobs User must hit browser refresh button to make it work,0
REST representation of an aggregate-counter can lead to mixed up output The current representation of REST resources of time-series data eg aggregate counter can lead to problems in consuming applications Despite the time series data provided by the counts data structure is logically ordered by key timestamps it doesnt guarantee an ordering since many consuming applications interpret JSON data as an unordered map like data structure Because of this consuming applications have to apply special ordering transformation logic to get the data in an chronologically ordered fashion It would be helpful if one could configure the rendering of the time series data eg as a list of json object like codejson tsSun Oct 12 231023 CEST 2014 value 42 code Where ts denotes the timestamp and value denotes the value It would also be helpful if one could adjust the date format either with a pattern or a well known date format like cf ISO 8601 I attached a python example for this that demonstrates the problem Steps to reproduce Create stream code xdstream create test --definition http filter --expressionpayloadcontainspivotal log code Create tap on stream with aggregate-counter code xdstream create testtap --definition tapstreamtestfilter aggregate-counter code Post some http data code xdhttp post --data Hello pivotal data labs some more data code Display aggregate counter code xdaggregate-counter display testtap --resolution minute AggregateCountertesttap ----------------------------- - ----- TIME - COUNT Sun Oct 12 231023 CEST 2014 0 Sun Oct 12 231123 CEST 2014 0 Sun Oct 12 231223 CEST 2014 0 Sun Oct 12 231323 CEST 2014 0 Mon Oct 13 000223 CEST 2014 0 Mon Oct 13 000323 CEST 2014 0 Mon Oct 13 000423 CEST 2014 0 Mon Oct 13 000523 CEST 2014 0 Mon Oct 13 000623 CEST 2014 0 Mon Oct 13 000723 CEST 2014 0 Mon Oct 13 000823 CEST 2014 3 Mon Oct 13 000923 CEST 2014 1 code Install python Requests library REST support code pip install Requests code Start a python console or IPythonNotebook and run the following program codepython import requests import json res requestsgethttplocalhost9393metricsaggregate-counterstesttapresolutionminute statusobject jsonloadsrescontent printjsondumpsstatusobject indent4 code The above program should result in a similar output but as one can see due to pythons interpretation of the JSON object as a dict the order of the keys in the output got mixed up Instead of showing the counts 3 and then 1 as in the example above This is just one example of how the current representation of the rest resource could lead to problems in consuming applications codejson counts 2014-10-12T212628553Z 0 2014-10-12T221528553Z 0 2014-10-12T222228553Z 0 2014-10-12T214928553Z 0 2014-10-12T213528553Z 0 2014-10-12T214728553Z 0 2014-10-12T221828553Z 0 2014-10-12T221228553Z 0 2014-10-12T221628553Z 0 2014-10-12T215728553Z 0 2014-10-12T212828553Z 0 2014-10-12T220828553Z 3 2014-10-12T214028553Z 0 2014-10-12T220628553Z 0 2014-10-12T212728553Z 0 2014-10-12T215228553Z 0 2014-10-12T221128553Z 0 2014-10-12T220528553Z 0 2014-10-12T212928553Z 0 2014-10-12T212428553Z 0 2014-10-12T215628553Z 0 2014-10-12T214328553Z 0 2014-10-12T220028553Z 0 2014-10-12T221028553Z 0 2014-10-12T215828553Z 0 2014-10-12T222128553Z 0 2014-10-12T213228553Z 0 2014-10-12T214628553Z 0 2014-10-12T220428553Z 0 2014-10-12T220228553Z 0 2014-10-12T215128553Z 0 2014-10-12T213828553Z 0 2014-10-12T213128553Z 0 2014-10-12T222028553Z 0 2014-10-12T215428553Z 0 2014-10-12T220728553Z 0 2014-10-12T220328553Z 0 2014-10-12T213428553Z 0 2014-10-12T220928553Z 1 2014-10-12T214428553Z 0 2014-10-12T221728553Z 0 2014-10-12T215328553Z 0 2014-10-12T221928553Z 0 2014-10-12T213028553Z 0 2014-10-12T222328553Z 0 2014-10-12T213628553Z 0 2014-10-12T214128553Z 0 2014-10-12T221328553Z 0 2014-10-12T215928553Z 0 2014-10-12T220128553Z 0 2014-10-12T213328553Z 0 2014-10-12T214528553Z 0 2014-10-12T213928553Z 0 2014-10-12T215028553Z 0 2014-10-12T213728553Z 0 2014-10-12T221428553Z 0 2014-10-12T212528553Z 0 2014-10-12T215528553Z 0 2014-10-12T214228553Z 0 2014-10-12T214828553Z 0 name testtap links href httplocalhost9393metricsaggregate-counterstesttap rel self code,0
Reduce amount of logging at server startup INFO main zookeeperZooKeeper100 - Client environmentjavaclasspath produces a huge amount of output and is rather distracting if that specific entry could be at a log level of debug it would make the startup of the server look cleaner,0
As a follow-up action from module registry refactoring we would have to clean-up deprecated functions ex download of module definitions within our codebase It may also be necessary to clean-up Shell and Admin-UI modules,3
Failure in writing to HDFS when undeploying and redeploying a stream with numbers in directory andor file name,0
Standardize naming and unit for options across modules We should standardize on the options between modules idleTimeout - timeout rolloverSize - rollover Also need to standardize on unit used for timeout - should this be s or ms,0
As a PM Id like to have the copyright message in the reference guide PDF updated to include 2015 instead of 2014,1
StreamJob deployment state is always incomplete in case of module count zero In case of the deployment property module count for a specific module in a streamjob is zero the streamjob deployment status is calculated as zero even though the modules are deployed to all matching containers Currently the DefaultStateCalculators calculate method doesnt check if the expected count is zero Also we would need all the matching containers to determine the same module is deployed to all the matching containers in case of module count 0,0
Fix clustercontainers REST endpoint with security enabled Once the containers management server is secured the admin server needs to know which REST template to use to get the message rates from the deployed modules inside the containers,0
As a build manager Id like to schedule CI builds for windows so that I can verify XD runtime featuresfunctionality The scope is to isolate the remaining test failures perhaps experiment with new AMI images until we have a solid infrastructure to fix the failing tests,1
Spring XD UI end-to-end tests do not work Currently end-to-end tests of Spring XD UI will not run as protractor relies on a non-existing chromedriverexe file Either the configuration has to be removed from the Gruntfile or the necessary dependencies should be there,0
As a user Id like to build XD in Windows machine so that I can develop test and contributed to OSS,5
Baseline tcp measurements DB-1 Using the iperf toolhttpsiperffr find out the transfer rate in MBsec between three machines in a four machine configuration,0
Create App for CI to Shutdown XD EC2 Cluster Application will shutdown all servers with a specific name Application will take a --cluster-name parameter Generate artifact to state success or failure,0
Encapsulate retrieval of module deployment metadata See comment here httpsgithubcomspring-projectsspring-xdpull912filesr13331190,0
Add documentation for a stdin source module In order to support ingestion from stdin the suggested approach is to do the following xdstream create --definition tcp --decoderLF log --name foo cat mylog netcat localhost 1234 So while this is really a tcp based ingestion case once can use pipe or redirect of stdinerr in order to achieve the same goal It should appear as a source module in the docs on par with other source modules in its own section,0
Splunk Pulls in an Old SI Jar into STS,0
As a user Id like to have the ability to access the random port generated by tomcat of the admin server via xd-shell so that I can point to the server and continue my interactions Spike Details Research whether connecting xd-shell directly to ZK is a good approach or have a LB in-charge for the interaction How about something other than a pointer to a ZK directory in the shell for folks to experiment a bit before getting a LB involved Note On some hadoophdfs setups access to zk is mandatory from hdfs client libs There are some HA and federation setups which would anyway require xd shell to get access to zk if fs shell commands are used,8
As a user Id like to have the description for each of the modules so that I can use it to understand the module purpose and its capabilities presumably what is captured in javadoc for the module definition,8
Create TriggerDefinition Repository Redis based,0
Spring Data BytecodeGeneratingEntityInstantiator throws ClassNotFoundException when mapping custom classes spring-data-commons 1100RELEASE introduced an improved instantiation strategy based on byte code generation Its now the default instantiation strategy however it cant be used in custom Spring XD modules due to class loader issues Please see attached custom module source code which can be build with Maven You might want to change MongoDB connection parameters in custom-mongo-processorxml Execute following xd-shell commands code module upload --name custom-mongo-processor --type processor --file location stream create --name k2 --definition time --fixedDelay10 custom-mongo-processor log --deploy code The stream will output following message when the MongoDB collection is empty code 2015-07-17T1109380100 120RELEASE INFO task-scheduler-3 sinkk2 - contentcount0 2015-07-17T1109480100 120RELEASE INFO task-scheduler-3 sinkk2 - contentcount0 code After documents are inserted into collection by executing dbkarolWidgetsinsert name bulbator color red following exception will be thrown code 2015-07-17T1109590100 120RELEASE ERROR task-scheduler-3 handlerLoggingHandler - orgspringframeworkmessagingMessageHandlingException nested exception is javalangIllegalStateException Cannot process message orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava78 orgspringframeworkintegrationhandlerServiceActivatingHandlerhandleRequestMessageServiceActivatingHandlerjava71 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava99 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava287 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava245 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputAbstractMessageProducingHandlerjava231 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlerproduceOutputAbstractMessageProducingHandlerjava154 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputsAbstractMessageProducingHandlerjava102 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava105 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava287 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava245 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputAbstractMessageProducingHandlerjava231 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlerproduceOutputAbstractMessageProducingHandlerjava154 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputsAbstractMessageProducingHandlerjava102 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava105 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava287 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava245 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 orgspringframeworkintegrationendpointSourcePollingChannelAdapterhandleMessageSourcePollingChannelAdapterjava130 orgspringframeworkintegrationendpointAbstractPollingEndpointdoPollAbstractPollingEndpointjava219 orgspringframeworkintegrationendpointAbstractPollingEndpointaccess000AbstractPollingEndpointjava55 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava149 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava146 orgspringframeworkintegrationendpointAbstractPollingEndpointPoller1runAbstractPollingEndpointjava298 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 orgspringframeworkintegrationutilErrorHandlingTaskExecutorexecuteErrorHandlingTaskExecutorjava49 orgspringframeworkintegrationendpointAbstractPollingEndpointPollerrunAbstractPollingEndpointjava292 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava54 orgspringframeworkschedulingconcurrentReschedulingRunnablerunReschedulingRunnablejava81 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by javalangIllegalStateException Cannot process message orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessInternalMessagingMethodInvokerHelperjava292 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessMessagingMethodInvokerHelperjava142 orgspringframeworkintegrationhandlerMethodInvokingMessageProcessorprocessMessageMethodInvokingMessageProcessorjava75 59 more Caused by javalangNoClassDefFoundError comtestmongodbMongoWidget comtestmongodbMongoWidgetInstantiatormonxdtnewInstanceUnknown Source orgspringframeworkdataconvertBytecodeGeneratingEntityInstantiatorEntityInstantiatorAdaptercreateInstanceBytecodeGeneratingEntityInstantiatorjava193 orgspringframeworkdataconvertBytecodeGeneratingEntityInstantiatorcreateInstanceBytecodeGeneratingEntityInstantiatorjava76 orgspringframeworkdatamongodbcoreconvertMappingMongoConverterreadMappingMongoConverterjava250 orgspringframeworkdatamongodbcoreconvertMappingMongoConverterreadMappingMongoConverterjava231 orgspringframeworkdatamongodbcoreconvertMappingMongoConverterreadMappingMongoConverterjava191 orgspringframeworkdatamongodbcoreconvertMappingMongoConverterreadMappingMongoConverterjava187 orgspringframeworkdatamongodbcoreconvertMappingMongoConverterreadMappingMongoConverterjava78 orgspringframeworkdatamongodbcoreMongoTemplateReadDbObjectCallbackdoWithMongoTemplatejava2191 orgspringframeworkdatamongodbcoreMongoTemplateexecuteFindMultiInternalMongoTemplatejava1873 orgspringframeworkdatamongodbcoreMongoTemplatefindAllMongoTemplatejava1286 comtestmongodbMongoServiceprocessWidgetsMongoServicejava21 sunreflectGeneratedMethodAccessor83invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkexpressionspelsupportReflectiveMethodExecutorexecuteReflectiveMethodExecutorjava112 orgspringframeworkexpressionspelastMethodReferencegetValueInternalMethodReferencejava102 orgspringframeworkexpressionspelastMethodReferenceaccess000MethodReferencejava49 orgspringframeworkexpressionspelastMethodReferenceMethodValueRefgetValueMethodReferencejava342 orgspringframeworkexpressionspelastCompoundExpressiongetValueInternalCompoundExpressionjava88 orgspringframeworkexpressionspelastSpelNodeImplgetTypedValueSpelNodeImpljava131 orgspringframeworkexpressionspelstandardSpelExpressiongetValueSpelExpressionjava330 orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava164 orgspringframeworkintegrationutilMessagingMethodInvokerHelperprocessInternalMessagingMethodInvokerHelperjava276 61 more Caused by javalangClassNotFoundException comtestmongodbMongoWidget javalangClassLoaderfindClassClassLoaderjava531 javalangClassLoaderloadClassClassLoaderjava425 javalangClassLoaderloadClassClassLoaderjava358 85 more code This exception affects both custom stream and job modules One workaround is to force ReflectionEntityInstantiator in MappingMongoConverter however this has to be done in every custom module Perhaps thats an issue with Spring XD custom module classloaders or DATACMNS-710,0
As a XD Admin Id like to upgrade to Spring Boot 120 RELEASE and the associated dependencies so that we can catch up with the latest features bug-fixes and enhancements Following XD dependencies needs upgraded to sync-up with Boot 120 RELEASE activemqversion5100activemqversion aspectjversion184aspectjversion commons-dbcp2version201commons-dbcp2version h2version14182h2version hibernateversiondd437Finalhibernateversion hibernate-validatorversion513Finalhibernate-validatorversion hikaricpversion225hikaricpversion hornetqversion245Finalhornetqversion httpasyncclientversion402httpasyncclientversion httpclientversion436httpclientversion jacksonversion244jacksonversion janinoversion261janinoversion jettyversion924v20141103jettyversion jetty-jspversion220v201112011158jetty-jspversion joda-timeversion25joda-timeversion jolokiaversion123jolokiaversion junitversion412junitversion liquibaseversion330liquibaseversion log4jversion1217log4jversion log4j2version21log4j2version mockitoversion1108mockitoversion mongodbversion2124mongodbversion mysqlversion5134mysqlversion reactorversion115RELEASEreactorversion reactor-springversion113RELEASEreactor-springversion servlet-apiversion310servlet-apiversion springversion413RELEASEspringversion spring-batchversion302RELEASEspring-batchversion spring-data-releasetrainversionEvans-SR1spring-data-releasetrainversion spring-hateoasversion0160RELEASEspring-hateoasversion spring-mobileversion113RELEASEspring-mobileversion spring-securityversion325RELEASEspring-securityversion tomcatversion8015tomcatversion undertowversion111Finalundertowversion,5
Proof of Concept for module contributions based off Boot Develop out a Proof of concept for review that allows users to easily create a new module to Spring XD Key features to be enabled 1 Allow existing modules to be included as a classpath dependency 2 Consolidate shared libraries in existing modules eg a shared lib for all gemfire modules 3 User develops a module as a normal Java project 4 Users project can then be added to a runtime container in the same way as a dependency Nice to have 1 at development time container can run continuously and pick up changes from users module project 2 Java config for a module 3 command line functionality to create project scaffolding,0
Replace xd MongoItemWriter in hdfsmongodb with spring batch MongoItemWriter When hdfsmongodb was written Spring Batch did not have a MongoItemWriter available so Mark wrote one for XD The hdfsmongodb module now needs to be use Spring Batches MongoItemWriter,0
As a developer Id like to have the option of CoAP source module so I can consume data using bandwidth efficient protocol that fits in constrained embedded environment,3
Create a spark standalone cluster on CI to run spark streaming tests We need to setup Spark standalone cluster on the CI environment so that the Spark streaming tests can be run on the standalone cluster along with the local mode that we run now,0
Feature Request ZeroMQ ZMQ 0MQ source Requesting a ZeroMQ based source,0
Avoid using jQuery inside Admin UI There are couple of places where jquery is being used in the admin UI and those are for some DOM manipulations I believe these can certainly be replaced with the use of angular directive or custom functions and thereby we can remove jQuery dependency in the app,0
Test Redis Sentinel setup and document recommended configuration Configure Redis Cluster with Sentinal v 2819 Verify fail over experiment with settings Useful reference httpscodeflickrnet20140731redis-sentinel-at-flickr All analytics test cases should be run as well as test that deploy streams that make use of redis analytics There might be some minor code changes required as mentioned in the flickr article,0
Update HDFS sink to accept a partition strategy Add configuration for the partition strategy to HDFS sink to support writing files into subdirectories based on a partition key provided in the header or field in the message of the stream data The writing using HDFS Store DataWriter should pass in the partition key value to be used for the write operation Partition configuration could be made available to the sink using a --format parameter that could then be used in XML config like code expressionnew javatextSimpleDateFormatformatformattimestamp code Similar to the time source,0
Add code coverage to gradle build Build should be able to generate code coverage reports After a quick tour of the intertubes it seems that JaCoCo is a well maintained project and has first class support inside gradle httpwwwgradleorgdocscurrentuserguidejacocopluginhtml,0
As a Spring XD developer Id like to port shell module from XD to s-c-s repo so I can use it as processor module to build streaming pipeline,2
As a user Id like to enable HA on namenode without having to enable custom configuration More details herehttpsgithubcomspring-projectsspring-xd-ambariissues6,3
Refactor FileModuleRegistry as ResourceModuleRegistry Apart from sanity checks there is not much that ties FileModuleRegistry to actual javaioFiles Using the Resource abstraction would work just the same and would allow loading modules from the classpath in constrained environments or other file systemslocations HDFS HTTP,0
Remove requirement for executionId to display step execution in shell When viewing a jobs step execution via the shell the user is required to provide both the job execution id and the step execution id Since the job repository is backed by a database and the step execution id is unique across jobs the step execution id should be enough,0
As a user Id like to have the option to explicitly defineconfigure error channel so that I can stage and route the errorsexceptions through the dedicated channel and continue ingestion Scenario http source ingest failure at either source processor or sink module regardless of whether it is a custom module or not traverse through the exception to propagate the actual Caused by stage the error as payload and route it to the error channel Example Configuration error channel definition similar to topicerrorsstreammodule configure custom exception similar to catchException exception hierarchy GlobalException DefaultException ModuleSpecificException,8
AbstractShellIntegrationTests should start and stop server once eg make application static and check for initialization Need to ensure each test restores the initial state of the server,0
Container ID is not equal to its application context ID The ContainerServerApplication has a bean ContainerMetaData whose ID is equal to the ContainerServerApplication contexts ID The ContainerMetadata is alway referred using Autowired in ContainerConfiguration class and this injects a new bean whose containerID is different from that of the containerID created at ContainerServerApplication Also this is the ID that gets stored as the container ID in znode for xdcontainers by ContainerRegistrar We should avoid having duplicate container metadata and the container ID needs to be same as that of the ContainerServerApplications context ID,0
Update Performance AMI to include Kafka Create an AMI that will contain the Kafka Executable as well as the Kafka performance test tools,0
Fix JMS Property Names The JMS SourceSink has a pluggable provider default activemq but the URL property amqUrl implies activeMQ - the property name should be generic found while testing XD-1149,0
Spike Explore integration options with Kafka 09 release As an s-c-d developer Id like to investigate integration options with the 09 release of Kafka so I can identify areas of improvements,0
As a developer Id like to build isolated Boot-based ModuleRunner for use in container-managed environments so I can run XD without the hard requirement for running xd-containers,8
Integrate code coverage reports into the CI process Not sure if this is best done via Sonar our sonar build plan the nightly one or the frequent one off master Open question is if we want to fail a build do to code coverage levels,0
Add a JobExecution DTO Object related to XD-779 We need the ability to provide JSON serializable JobExecution information Change from using JavaSerialization back to returning objects,0
Spring XD Docker Hub site needs to have images for all XD versions Currently Admin Container only support latest 10x and 110 while singlenode only has tags for 10x and latest We need to have a tags for 110 120 121 for all XD Docker images,0
Parser fails on after literal within an expression This fails code xdstream create s --definition http transform --expressionhipayload log Command failed orgspringframeworkxdrestclientimplSpringXDException XD115Epos 34 unexpected data in stream definition http transform --expressionhipayload log code But this works code xdstream create s --definition http transform --expressionpayloadhi log Created new stream s code,0
Support having multiple property placeholders defined in different modules Right now the PPC for jolokia mgmt is conflicting with the PPC used to resolve redis properties Need to determine a strategy such that multiple PPCs can be used,0
Fix module type guessing heuristics Commit 96de9fcfaf32719413015a1a6bace1b30b6b9610 strengthened module type inference but some corner cases remain marked as TODOs and commented out assertions in tests To be effective we need to look at the whole deployed stream or composed module Modify ParsinContext accordingly,0
As a user Id like to have a flexible RxJava module so that it can as a processor,8
As a user Id like to have the option to stop an existing Sqoop job so that I can clean-up resources at the time of completion,8
Revert XD-624 When SI 30M3 is Available,0
Create Shell Integration test fixture for jdbc related sink Would be nice to have some kind of regression testing on the jdbc sink as it becomes more prominent in XD Use of an in memory db where we expose eg a JdbcTemplate to assert state,0
As a Spring XD user I need to listen on a JMS Topic and ingest the messages so I can process the messages Currently the module only allows for Queues,2
Fix classpath error caused by multiple conflicting servlet-api jars There is some conflicting Servlet API jars on the claspath that needs cleanup Building and running with xd-singlenode script gave this error Jun 27 2013 31816 PM orgapachecoyotehttp11AbstractHttp11Processor process SEVERE Error processing request javalangNoSuchMethodError javaxservletServletContextgetEffectiveSessionTrackingModesLjavautilSet orgapachecatalinaconnectorCoyoteAdapterpostParseRequestCoyoteAdapterjava674 orgapachecatalinaconnectorCoyoteAdapterserviceCoyoteAdapterjava402 orgapachecoyotehttp11AbstractHttp11ProcessorprocessAbstractHttp11Processorjava1004 orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava589 orgapachetomcatutilnetJIoEndpointSocketProcessorrunJIoEndpointjava310 javautilconcurrentThreadPoolExecutorWorkerrunTaskThreadPoolExecutorjava895 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava918 javalangThreadrunThreadjava680,0
As a s-c-s user Id like to use kinesis module so I can use it as source module to build streaming pipeline,2
XD config home should use XDCONFIGLOCATION if this is set If XDCONFIGLOCATION is set then XD runtimes xdconfighome should use that otherwise they point to two different paths,0
As a s-c-s user Id like to have the option to direct bind modules so I dont have to use messaging middleware and I can eliminate latency between them This is important for high throughput and low latency use cases,8
Add support for specifying an undeploy-condition for stream definitions In some scenarios like when performing exploratory data-analysis on streaming data one often create a stream keep it running for some time or until some condition is met and then stop the stream and start to investigate the collected data It would be cool to be able to specify some undeploy condition like eg a timeout after x minutes no of events collected a specific counter past a given threshold file-size greater then x etc,0
Access-Control-Allow-Origin header should not be hard-coded See also XD-451 as reference,0
Update XD-EC2 Acceptance Test Configs to use 101 repo Update XD-EC2 configs to Pull from 101 Repo Update XD-EC2 Configs to use spring-xd-101BUILD-SNAPSHOT dir Update test configs XDHOME to spring-xd-101BUILD-SNAPSHOT instead of spring-xd-100BUILD-SNAPSHOT,0
Add support for cluster rebalancing When deploying streams to clustered Spring XD modules are deployed to all avilable Spring XD containers assuming no additional deployment properties are specificed Each container gets similar number of modules When Spring XD container departs from the cluster all departing modules will be migrated to remaining containers After container rejoins the cluster the modules are not redeployed to it and the cluster looks unbalanced and the node is not used unbalanced-clusterpng,0
SqoopRunner class not found errror We have installed the SpringXD 12 M1 release via the rpm and it seems that the sqoop-145-hadoop200jar file are not part of the rpm The sqoop jar file are not in the xdlib directory This is causing a problem during customer module development if we include the sqoop-145-hadoop200 dependency as part of the pom file and forces us to redeploy the our jar as separate deployment Should we be referencing different dependencies or have or should the sqoop-145-hadoop200jar be part of the rpm definition so it part of the xdlib I have currently the following dependency in the pom file code -- Sqoop -- dependency groupIdorgapachesqoopgroupId artifactIdsqoopartifactId version145version classifierhadoop200classifier dependency code It would be great be great if the sqoop jar are part of rpm so we dont have to do any additional jar deployment Thanks,0
CommandResult return sucess even if hadoop shell command fails when automating tests for creating httphdfs stream I run into an issue where CommandResult object always set successtrue even if the actual hadoop shell command fail valid hdfs url getShellexecuteCommandhadoop config fs --namenode hdfslocalhost8020 CommandResult cr getShellexecuteCommandhadoop fs ls output Found 2 items drwxr-xr-x - administrator supergroup 0 2013-08-05 1718 user drwxr-xr-x - administrator supergroup 0 2013-08-05 1718 xd CommandResult successtrue resultnull exceptionnull invalid hdfs url getShellexecuteCommandhadoop config fs --namenode hdfslocalhost8021 CommandResult cr getShellexecuteCommandhadoop fs ls output Bad connection to FS command aborted exception Call to localhost1270018021 failed on connection exception javanetConnectException Connection refused CommandResult successtrue resultnull exceptionnull Ideally we should set successfalse if hadoop command fail and if hadoop command succeeds we should set successtrue and populate result output from hadoop command instead of resultnull,0
As a s-c-d developer Id like to complete documentation and test-cases on resolving and adding JARs to Boot loader so we could use this as a reference while porting modules with external dependencies,3
Support transparent boxingunboxing of Tuples or other containers Working with rich structured messages is currently painful when we have modules that know how to handle some sub-part of the structure Case in point I have a Tuple made of document byte metadata Map and I have a module that knows how to extract textual content from the document byte If I want to extract the document but still retain metadata I need to either - rewrite the extract content module to accept a tuple urghh - fork the stream to extract the document field apply module aggregate with metadata that comes from side channel,0
Shell Add named channel list command User shall have the ability to get a listing of available named channels order by name ascending from the shell Add support to controllers Add tests,0
Fix ChannelRegistry Cleanup During Module Undeploy,0
Exception thrown when accessing Jolokia via the management context path When trying to access Jolokia via the managementjolokia httplocalhost9393managementjolokia I get the following exception errortypejavalangIllegalArgumentExceptionerrorjavalangIllegalArgumentException No type with name management existsstatus400stacktracejavalangIllegalArgumentException No type with name management existsntat orgjolokiautilRequestTypegetTypeByNameRequestTypejava69ntat orgjolokiarequestJmxRequestFactorycreateGetRequestJmxRequestFactoryjava94ntat orgjolokiahttpHttpRequestHandlerhandleGetRequestHttpRequestHandlerjava78ntat orgjolokiahttpAgentServlet3handleRequestAgentServletjava298ntat orgjolokiahttpAgentServlethandleAgentServletjava229ntat orgjolokiahttpAgentServletdoGetAgentServletjava194ntat javaxservlethttpHttpServletserviceHttpServletjava621ntat javaxservlethttpHttpServletserviceHttpServletjava728ntat orgspringframeworkwebservletmvcServletWrappingControllerhandleRequestInternalServletWrappingControllerjava158ntat orgspringframeworkwebservletmvcAbstractControllerhandleRequestAbstractControllerjava154ntat orgspringframeworkbootactuateendpointmvcJolokiaMvcEndpointhandleJolokiaMvcEndpointjava120ntat sunreflectNativeMethodAccessorImplinvoke0Native Methodntat sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57ntat sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43ntat javalangreflectMethodinvokeMethodjava606ntat orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeInvocableHandlerMethodjava215ntat orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava132ntat orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava104ntat orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava749ntat orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava689ntat orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava83ntat orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava938ntat orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava870ntat orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava961ntat orgspringframeworkwebservletFrameworkServletdoGetFrameworkServletjava852ntat javaxservlethttpHttpServletserviceHttpServletjava621ntat orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava837ntat javaxservlethttpHttpServletserviceHttpServletjava728ntat orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava305ntat orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210ntat orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterWebRequestTraceFilterjava115ntat orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243ntat orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210ntat orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextFilterConfiguration1doFilterInternalEndpointWebMvcAutoConfigurationjava137ntat orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108ntat orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243ntat orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210ntat orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77ntat orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108ntat orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243ntat orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210ntat orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava88ntat orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108ntat orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243ntat orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210ntat orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava85ntat orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108ntat orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243ntat orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210ntat orgapachecatalinacoreStandardWrapperValveinvokeStandardWrapperValvejava222ntat orgapachecatalinacoreStandardContextValveinvokeStandardContextValvejava123ntat orgapachecatalinaauthenticatorAuthenticatorBaseinvokeAuthenticatorBasejava472ntat orgapachecatalinavalvesRemoteIpValveinvokeRemoteIpValvejava680ntat orgapachecatalinacoreStandardHostValveinvokeStandardHostValvejava171ntat orgapachecatalinavalvesErrorReportValveinvokeErrorReportValvejava99ntat orgapachecatalinacoreStandardEngineValveinvokeStandardEngineValvejava118ntat orgapachecatalinaconnectorCoyoteAdapterserviceCoyoteAdapterjava407ntat orgapachecoyotehttp11AbstractHttp11ProcessorprocessAbstractHttp11Processorjava1004ntat orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava589ntat orgapachetomcatutilnetNioEndpointSocketProcessorrunNioEndpointjava1680ntat javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145ntat javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615ntat javalangThreadrunThreadjava724n,0
Redis based repositories should use a NamingStrategy class to calculate the name of the key to use for persistence RedisCounterRepository and RedisGaugeRepository have duplicated code that needs to be factored out into a one place One such duplication is the determination of the key name to use for persistence This should be abstracted out into a strategy helper class,0
Redis sink better handling of module optionsprofile activation Please see the discussion here httpsgithubcomspring-projectsspring-xdpull1188discussionr18788216,0
Decide on location to host http reference documentation and automate upload in build scripts,0
As a QA Id like to include acceptance test coverage for timestampfile batch job so that I can validate the functionality as part of every CI build,3
Spring MVC infrastructure tests,0
Remove all javadoc warnings,0
TwitterStream test must use unique name to prevent test collision XD Developer does not want the the twitter stream acceptance tests to interfere with other tests,0
Update Sources Gemfire CQ section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmlgemfire-cq,0
Redo Hadoop distribution dependency management The way we now include various Hadoop distributions is cumbersome to maintain Need a better way of managing and isolating these dependencies on a module level rather than container level,0
As a QA Id like to include acceptance test coverage for field-value-counter sink module so that I can validate the functionality as part of every CI build,3
Remove jline from xd-dirt classpath Currently jline 211 gets added via zookeeper dependency we need to remove this so we can have jline 10 fir Pig jobs in the hadoop depndencies This jline version should remain for xd-shell classpath though,0
As a s-c-s user Id like to have Gemfire message-channel binder so I can use Gemfire as the messaging middleware for low latency use-cases,8
As a QA Id like to benchmark Sqoop vs jdbchdfs batch job so that I can compare and contrast performance stats,5
StreamUtil Cleanup Update StreamUtils based on Code Review comments,0
Map column names with underscore to camelCase style keys for JDBC sink We need to add support for matching column names with underscores like username and map them to camel case style keys like userName in the JdbcMessagePayloadTransformer,0
Research how to handle data encryption within pipeline Design Spike Investigate best approach to encrypt data pipeline Consider all moving parts within the topology including the scenarios where data is at rest and as well as in transit,0
Serialization over data transport fails for classes that are module specific Given the counter example from the guide is run with redis enabled xd-singlenode --transport redis --store redis When a stream is created stream create --name springtweets --definition twittersearch --consumerKeyyourkey --consumerSecretyoursecret --queryspring file --dirtweets Then An exception is thrown Exception in thread inboundspringtweets0-redisqueue-inbound-channel-adapter35 orgspringframeworkintegrationMessageHandlingException error occurred in message handler springtweets0convertbridge orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava79 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava115 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava94 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava42 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava86 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava92 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointpopMessageAndSendRedisQueueMessageDrivenEndpointjava207 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointaccess300RedisQueueMessageDrivenEndpointjava51 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointListenerTaskrunRedisQueueMessageDrivenEndpointjava286 javalangThreadrunThreadjava724 Caused by orgspringframeworkintegrationxbusserializerSerializationException unable to deserialize null Class not found orgspringframeworkintegrationxbusMessageBusSupportdeserializeConsumerPayloadMessageBusSupportjava247 orgspringframeworkintegrationxbusMessageBusSupporttransformPayloadForConsumerMessageBusSupportjava191 orgspringframeworkintegrationxbusMessageBusSupporttransformPayloadForConsumerIfNecessaryMessageBusSupportjava168 orgspringframeworkintegrationxredisRedisMessageBusaccess300RedisMessageBusjava57 orgspringframeworkintegrationxredisRedisMessageBusReceivingHandlerhandleRequestMessageRedisMessageBusjava176 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava142 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava73 13 more Caused by javalangClassNotFoundException orgspringframeworksocialtwitterapiTweet javanetURLClassLoader1runURLClassLoaderjava366 javanetURLClassLoader1runURLClassLoaderjava355 javasecurityAccessControllerdoPrivilegedNative Method javanetURLClassLoaderfindClassURLClassLoaderjava354 javalangClassLoaderloadClassClassLoaderjava424 sunmiscLauncherAppClassLoaderloadClassLauncherjava308 javalangClassLoaderloadClassClassLoaderjava357 javalangClassforName0Native Method javalangClassforNameClassjava190 orgspringframeworkintegrationxbusMessageBusSupportdeserializeConsumerPayloadMessageBusSupportjava241 19 more,0
Add search box to the Admin UI for Deployments page If there is a large number of deployments it would be helpful to have a quick search filter in place to enable users to find deployments faster as can be done in the Definitions page,0
Add a Kafka Source This would use the Kafka Spring Integration Extension We have a version of this working but had to modify the adapter code as its not currently compatible with Spring Integration 4 See INTEXT-97,0
As a developer Id like to revisit performance benchmarks with new improvements so I can verify the optimizations around jdbchdfs,1
Enable in line SSL properties as an alternative to external properties files The following XD components have been identified to support SSL via an sslProperties property which points to the location of a properties file The properties encryption extension for 131 does not currently apply to these Rabbit Message Bus Rabbit Source Rabbit Sink Http Source NettyHttpInboundChannelAdapter This can be made to work in the case of Rabbit since the latest RabbitConnectionFactoryBean supports individual SSL properties settings as an alternative to the properties file The http source may be extended to use the same approach,0
Change module option type from Class to String This better aligns with boot Moreover using Class was a bad design choice one can always get a Class from a String modulo knowing which CL to use while to converse is not always easy CL not being available,0
JDBCHDFS Job Password issue Password for jdbchdfs job definition is only hashing the initial portion of the password not the entire password See attached image The password has an char but it shouldnt matter The entire password should be masked with instead,0
As a user Id like to have a reactor-stream processor module so that I can ingest data using XD source modules and process them as time-window operations Example 1 http reactor-stream --timeWindow10s --fieldpayloadsensorData --expressionsminavg This would give you 10 second time window of the min and avg values Example 2 Reactor as a module Example 3 Integration with Spark streaming and reactor,8
Change in file source breaks backward compatibility With version 120 the option ref of the file source was removed and a new option mode was introduced see XD-2850 and PR httpsgithubcomspring-projectsspring-xdpull1624 This means you have to destroy all streams using the ref option before you do an upgrade It would have been much better to leave the ref option in the code and emit a deprecation warning if it is still used This way an upgrade would be possible without interruption,0
As a data scientist Id like to have the option to process data using flink processor so I can take advantage of the streaming machine learning abstractions implemented on top of Flink,5
Investigate increased size of XD distribution,0
Stacktrace on container with deployed modules is shutdown When the container that has deployed module is shutdown following stacktrace is thrown 101027560 INFO main-EventThread serverContainerRegistrar254 - Undeploying module ModuleDescriptor3a615460 moduleName job moduleLabel job group j4 sourceChannelName null sinkChannelName null sinkChannelName null index 0 type job parameters mapempty children listempty 101027560 INFO main-EventThread moduleModuleDeployer158 - removed SimpleModule namejob typejob groupj4 index0 7df1aff2 101027561 ERROR main-EventThread impsCuratorFrameworkImpl555 - Watcher exception javalangIllegalStateException orgspringframeworkcontextannotationAnnotationConfigApplicationContext422fd7b7 has been closed already orgspringframeworkcontextsupportAbstractApplicationContextassertBeanFactoryActiveAbstractApplicationContextjava956 orgspringframeworkcontextsupportAbstractApplicationContextgetBeanAbstractApplicationContextjava978 orgspringframeworkxdmodulecoreSimpleModulegetComponentSimpleModulejava164 orgspringframeworkxddirtpluginsAbstractMessageBusBinderPluginunbindConsumerAndProducersAbstractMessageBusBinderPluginjava219 orgspringframeworkxddirtpluginsjobJobPluginremoveModuleJobPluginjava70 orgspringframeworkxddirtmoduleModuleDeployerremoveModuleModuleDeployerjava204 orgspringframeworkxddirtmoduleModuleDeployerdestroyModuleModuleDeployerjava162 orgspringframeworkxddirtmoduleModuleDeployerhandleUndeployModuleDeployerjava140 orgspringframeworkxddirtmoduleModuleDeployerundeployModuleDeployerjava112 orgspringframeworkxddirtserverContainerRegistrarundeployModuleContainerRegistrarjava256 orgspringframeworkxddirtserverContainerRegistrarJobModuleWatcherprocessContainerRegistrarjava753 orgapachecuratorframeworkimpsNamespaceWatcherprocessNamespaceWatcherjava67 orgapachezookeeperClientCnxnEventThreadprocessEventClientCnxnjava522 orgapachezookeeperClientCnxnEventThreadrunClientCnxnjava498 101027561 INFO main-EventThread zookeeperClientCnxn512 - EventThread shut down 101027564 INFO Thread-2 jmxEndpointMBeanExporter433 - Unregistering JMX-exposed beans on shutdown,0
Documentation that introduces taps Put on the guide as a section in an input-stream wiki page,0
UI - Launch a job with parameters Use a modal dialog to specify runtime parameters There should be a little text are that gives hints as to the spring batch parameter keyvalue conventions eg for type Might be a good idea to have a checkbox that lets you select to auto increment job instance number 4 columns key value type identifying and an add parameter button that adds a new row This would appear as a modal dialog box polling of the state of the deployments would be suspended while the job parameter modal dialog box is shown,0
Update to Spring Shell 10 RC4,0
As a QA Id like to include acceptance test coverage for Mail source module so that I can validate the functionality as part of every CI build,3
POM generation creates the correct dependency list We are referencing SpringIO deps when we shouldnt since we moved to a different version of boot than in in the platform,0
Update XD to Use SI 300M2,0
XD modules should not have build directory upon running gradle build Currently the modules project is marked as java project to enable eclipseidea metadata files generation But it generates a build directory with a jar that has empty MANIFEST file This build directory also gets copied into the bundle after dist,0
As a developer Id like to document performance benchmark results along with the infrastructure specifics so I can publish the blog for customersusers to use it as a reference while setting up Spring XD cluster,8
Review and Optimize the Serialized JSON Nodes for Batch Objects For several Batch Job related JSON endpoints we serialize too much information,0
As a developer Id like to create separate repo for K8s SPI so I dont have to bundle all SPI variants under one admin project,3
AdminServer fails on HDP 23 Submitting XD on YARN for HDP 23 fails due to some Solr issue in Boot - httpsgithubcomspring-projectsspring-bootissues2795 The xd-admin sysout is code Started AdminServerApplication Documentation httpsgithubcomspring-projectsspring-xdwiki 025136624 ERROR main bootSpringApplication - Application startup failed javalangIllegalStateException Error processing condition on orgspringframeworkbootautoconfiguresolrSolrAutoConfigurationsolrServer orgspringframeworkbootautoconfigureconditionSpringBootConditionmatchesSpringBootConditionjava58 orgspringframeworkcontextannotationConditionEvaluatorshouldSkipConditionEvaluatorjava102 orgspringframeworkcontextannotationConfigurationClassBeanDefinitionReaderloadBeanDefinitionsForBeanMethodConfigurationClassBeanDefinitionReaderjava178 orgspringframeworkcontextannotationConfigurationClassBeanDefinitionReaderloadBeanDefinitionsForConfigurationClassConfigurationClassBeanDefinitionReaderjava140 orgspringframeworkcontextannotationConfigurationClassBeanDefinitionReaderloadBeanDefinitionsConfigurationClassBeanDefinitionReaderjava116 orgspringframeworkcontextannotationConfigurationClassPostProcessorprocessConfigBeanDefinitionsConfigurationClassPostProcessorjava333 orgspringframeworkcontextannotationConfigurationClassPostProcessorpostProcessBeanDefinitionRegistryConfigurationClassPostProcessorjava243 orgspringframeworkcontextsupportPostProcessorRegistrationDelegateinvokeBeanDefinitionRegistryPostProcessorsPostProcessorRegistrationDelegatejava273 orgspringframeworkcontextsupportPostProcessorRegistrationDelegateinvokeBeanFactoryPostProcessorsPostProcessorRegistrationDelegatejava98 orgspringframeworkcontextsupportAbstractApplicationContextinvokeBeanFactoryPostProcessorsAbstractApplicationContextjava673 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava519 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava686 orgspringframeworkbootSpringApplicationrunSpringApplicationjava320 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava129 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava129 orgspringframeworkxddirtserveradminAdminServerApplicationrunAdminServerApplicationjava95 orgspringframeworkxddirtserveradminAdminServerApplicationmainAdminServerApplicationjava79 Caused by javalangIllegalArgumentException ConditionalOnMissingBean annotations must specify at least one bean type name or annotation orgspringframeworkutilAssertisTrueAssertjava68 orgspringframeworkbootautoconfigureconditionOnBeanConditionBeanSearchSpecinitOnBeanConditionjava223 orgspringframeworkbootautoconfigureconditionOnBeanConditiongetMatchOutcomeOnBeanConditionjava92 orgspringframeworkbootautoconfigureconditionSpringBootConditionmatchesSpringBootConditionjava45 17 more 025136628 WARN main annotationAnnotationConfigApplicationContext - Exception thrown from LifecycleProcessor on context close javalangIllegalStateException LifecycleProcessor not initialized - call refresh before invoking lifecycle methods via the context orgspringframeworkcontextannotationAnnotationConfigApplicationContext1cf1df22 startup date Fri Oct 02 025131 UTC 2015 root of context hierarchy orgspringframeworkcontextsupportAbstractApplicationContextgetLifecycleProcessorAbstractApplicationContextjava414 orgspringframeworkcontextsupportAbstractApplicationContextdoCloseAbstractApplicationContextjava966 orgspringframeworkcontextsupportAbstractApplicationContextcloseAbstractApplicationContextjava925 orgspringframeworkbootSpringApplicationrunSpringApplicationjava342 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava129 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava129 orgspringframeworkxddirtserveradminAdminServerApplicationrunAdminServerApplicationjava95 orgspringframeworkxddirtserveradminAdminServerApplicationmainAdminServerApplicationjava79 025136642 ERROR main adminAdminServerApplication - Error processing condition on orgspringframeworkbootautoconfiguresolrSolrAutoConfigurationsolrServer code,0
Update to Spring-Data-Redis 110M2 Remove the NoOpRedisSerializer and use the non-serialization feature of M2,0
All jobs end up on the same container node The jobs arent spread evenly across available container nodes as they are createddeployed I had 3 nodes but only one has the job modules zk localhost2181CONNECTED 56 ls xddeploymentsmodules621230e0-a089-4fbe-afc8-611ae527fcbc myjob9jobjdbchdfs-0 myjob5jobjdbchdfs-0 myjob8jobjdbchdfs-0 myjob4jobjdbchdfs-0 myjob6jobjdbchdfs-0 myjob7jobjdbchdfs-0 zk localhost2181CONNECTED 57 ls xddeploymentsmodules6969579c-0cf4-4cc1-8e21-e01d73a70965 zk localhost2181CONNECTED 58 ls xddeploymentsmodulesd0667cd1-a57a-4279-b7fb-dd63e4dd40d4,0
Support composed module deletion Provided it is not currently used in any stream V Attempt to destroy a composed module Should not be supported at all Should not be supported if involved in at least one stream EB MF Should be supported and have no other consequences whatsoever see IV EB Should be supported and invalidatedestroy streams involving it,0
Inconsistent failure while deploying job from admin UI After clicking deploy on the definitions page the deploy button is deactivated and message says An error occurred We were unable to retrieve the module name from the provided definition and web console says TypeError Cannot read property 0 of null at ObjectgetModuleNameFromJobDefinition httplocalhost9393admin-uiscriptssharedservicesjs4326 at httplocalhost9393admin-uiscriptsjobcontrollersdefinition-deployjs3536 at wrappedCallback httplocalhost9393admin-uilibangularangularjs1131981 at httplocalhost9393admin-uilibangularangularjs1140526 at Scopeeval httplocalhost9393admin-uilibangularangularjs1241228 at Scopedigest httplocalhost9393admin-uilibangularangularjs1222431 at Scopeapply httplocalhost9393admin-uilibangularangularjs1251624 at done httplocalhost9393admin-uilibangularangularjs820445 at completeRequest httplocalhost9393admin-uilibangularangularjs84127 at XMLHttpRequestxhronreadystatechange httplocalhost9393admin-uilibangularangularjs835111,0
Gemfire cache closed when a gemfire module is undeployed Need to investigate why this is happening normally setting codexml gfeclient-cache closefalse code prevents the singleton cache from closing when the application context is closed,0
JdbcHdfsTests sporadically fail Acceptance tests sporadically fail after httpsgithubcomspring-projectsspring-xdpull1623 was merged XD-2309 Additional tests were added but used fixed timeouts Will replace them with waitForJob,0
As a s-c-d developer Id like to enhance integration test coverage for CC SPI so I can continuously evaluate functionalities via CI pipeline,3
Spark Streaming Acceptance Tests,0
Add option to stop all running XD EC2 instances that match a given naming pattern This functionality should be added as a command line option to the main app in the spring-xd-ec2 project,0
When using transform --scriptfoogroovy shell displays error When trying to create the stream for the gemfire example stream create hashtags --definition tapstreamtweets transform --scripttweetSummarygroovy gemfire-server --keyExpressionpayloadid --deploy The shell displays Command failed orgspringframeworkxdrestclientimplSpringXDException Error with options for module transform of type processor valid the script and expression options are mutually exclusive I get the following error,0
Update to spring-data-hadoop 101RELEASE This might mean we should adjust our hadoopDistro options to the ones supported in the new release - hadoop12 default cdh4 hdp13 phd1 and hadoop21,0
Fix failing script integration tests issue seems to be error25-Jul-2014 183618cat gemfirepid No such file or directory error25-Jul-2014 183618Usage error25-Jul-2014 183618 kill pid Send SIGTERM to every process listed error25-Jul-2014 183618 kill signal pid Send a signal to every process listed error25-Jul-2014 183618 kill -s signal pid Send a signal to every process listed error25-Jul-2014 183618 kill -l List all signal names error25-Jul-2014 183618 kill -L List all signal names in a nice table error25-Jul-2014 183618 kill -l signal Convert between signal numbers and names error25-Jul-2014 183618rm cannot remove gemfirepid No such file or directory,0
Mongo Sink Acceptance Tests,0
As a user Id like to have the option to write into File Roll sink so that I can store events on the local file system,8
Create one xd-yarn shell script that encompases the functionality of seperate shell scripts,0
As a users I would to be able to execute SQL StatementScript via a Processor or Job statement,3
Create System Tests for Partitioning,0
Custom job with RabbitMq dependencies Hi Ive develop a custom Job which have to publish message on RabbitMq when its finished To develop this module Iveto include this libraries comrabbitmqamqp-clientjar orgspringframeworkamqpspring-rabbitjar orgspringframeworkamqpspring-amqpjar My job use this writer orgspringframeworkbatchitemamqpAmqpItemWriter Ive this error log noformat supportDefaultAmqpHeaderMapper - skipping header amqpdeliveryMode since it is not of expected type class orgspringframeworkamqpcoreMessageDeliveryMode it is class orgspringframeworkamqpcoreMessageDeliveryMode noformat This is typically due to a library loaded several times What is the solution to resolve this Id like to use the same libraries has RabbitMq SourceSink or the transport bus Does module classloader isolated from others Thanks Mickal,0
Upgrade to Spring Batch 300 M3,0
As a developer Id like to create a custom job module using Java Config so that I dont have to deal with XML configurations While deployinglaunching the following job I get the error attached below codexml job create --name CDKGlobal --definition customBatchJob --deploy module upload --type job --name customBatchJob --file UsersmminellaDocumentsIntelliJWorkspaceCustomBatchModulebuildlibsCustomBatchModule-110RELEASEjar job launch --name CDKGlobal code Error Im getting an exception that the job doesnt exist asking if its deployed,5
Allow sending to multiple named channels at once Currently its possible to do this via code source router --expressionqueuequeue1queuequeue2 code but this involves an additional hop to the message bus for the pipe between the source and router It would be better if this was supported directly with the existing named channel syntax to remove this pipe ie code source queuequeue1queuequeue2 code This would be useful as a possible solution in the scenario described in XD-3613 as an alternative to using topics on the Redis message bus which dont support having multiple instances of the same consumer,0
remove ModuleDefinitionsdummy This method should be replaced with a utility method in a test support class so that it is only available in a testing context,0
Update Sinks Log section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmllogsinks,0
Port load-generator throughput modules to SCS-Modules Migrate load-generator and throughput to SCS,0
Spring XD admin fails to redeploy modules after Spring XD container successfully reconnectes to Zookeeper We are running Spring XD 111 in our production environment and Zookeeper 345 Zookeeper is running in failover mode and consists of three independent nodes set up on three separate VMs From time to time we get Connection to Zookeeper Suspended event which causes one of the containers in the cluster to be removed from the SpringXD cluster Modules being deployed on this removed node fail to be re-deployed to other containers in the cluster Affected versions - SpringXD 111 - Zookeeper 345 and 346 Cluster set up in PROD environment where error occurs - 4 Spring-XD dedicated servers - 4 spring-xd containers each running on designated server - 2 spring-xd admins each running alongside one spring-xd container - 3 Zookeeper nodes 3 designated servers on PAITO environment Cluster set up in TEST environment where error also occurred - 2 Spring-XD dedicated servers running one spring-xd container and one spring-xd admin each - 3 Zookeeper nodes running on 3 dedicated servers PAITO Test environment Cluster set up to reproduce error found in PROD environment - 1 spring-xd admin - 3 spring xd-containers each running on a designated VM - 3 zookeeper servers running on one VM Steps to reproduce 1Set up three node Zookeeper cluster Attached is example zoocfg we are using default configuration values In this particular test case we run all Zookeeper nodes on a single VM as we were not testing network layer interruptions 2Set up one Spring XD admin node Please note that we have also observed this on two node Spring XD admin cluster 3Set up three Spring XD container nodes All of them belong to one group SA and two of them also belong to second group HA1 This is configured in XDHOMEconfigserversyml however so far group configuration never influenced test outcome 4Create and deploy a test stream using following XD Shell commands stream create --name test-zookeeper-failover --definition syslog-udp --port5140 transform file --diroptpivotalspring-xdxdoutput stream deploy --name test-zookeeper-failover --properties modulesyslog-udpcriteriagroupscontainsHA1modulesyslog-udpcount2modulefilecriteriagroupscontainsSAmodulefilecount3moduletransformcriteriagroupscontainsSA 5Ensure that test stream works and handles traffic on UDP port 5140 6Shutdown one of the Zookeeper nodes by issuing a stop command 7Two Spring XD containers were not affected and remained in Spring XD cluster 8One Spring XD container was kicked out of Spring XD cluster and was no longer visible on Spring XD admin Web UI Modules previously deployed to this container were not redeployed to other cluster members 9On the failed Spring XD container we have observed CONNECTIONSUSPEND CONNECTIONRECONECTED and CHILDREMOVE Zookeeper events attached is container-logtxt Please note that Java process is still running and we see ConnectionStateManager-0 serverContainerRegistrar - Waiting for supervisor to clean up prior deployments messages 10Spring XD admin failed with exception in DepartingContainerModuleRedeployer attached is admin-logtxt 11We have observed that departing container node in Zookeeper sadeploymentsmodulesallocated1d3fd4cc-5a70-47ed-b4f3-22deef1f4d4f had no children We did this after few minutes so we are not sure at which point it was cleared 12Restarting failed Spring XD container fixed the problem modules were correctly redeployed Exception from point 10 is very similar to XD-1983 and this code was rewritten in XD-2004,0
SpringXD sqoop module is hanging The SpringXD Sqoop module is in execution status until it times out it is hanging The container logs show 2015-05-04 151545365 120M1 INFO DeploymentsPathChildrenCache-0 containerDeploymentListener - Deploying job sqooplookup 2015-05-04 151545536 120M1 INFO DeploymentsPathChildrenCache-0 containerDeploymentListener - Deploying module ModuleDescriptor239b037a moduleName sqoop moduleLabel sqoop group sqooplookup sourceChannelName null sinkChannelName null index 0 type job parameters mapargs - --connectjdbcoraclethin username --password-fileuserzeybebworkspacesecure-filesgdwpassword --tableMASTERDATAWLOOKUPD --target-diruserzeybebworkspaceentmasterdatasrclookupd -m 1 command - import children listempty 2015-05-04 151617061 120M1 INFO inboundjobsqooplookup-redisqueue-inbound-channel-adapter1 sqoopSqoopTasklet - Sqoop systemout tmpSqoop-948322291323951735out The tmpSqoop-948322291323951735out file content is 151617612 INFO main sqoopSqoopRunner - Sqoop command import 151617613 INFO main sqoopSqoopRunner - Using args --connectjdbcoraclethin username --password-fileuserzeybebworkspacesecure-filesgdwpassword --tableMASTERDATAWLOOKUPD --target-diruserzeybebworkspaceentmasterdatasrclookupd -m 1 151617613 INFO main sqoopSqoopRunner - Mapreduce home optpivotalspring-xd-120M1xdlibphd21 151617631 INFO main sqoopSqoopRunner - Setting configuration property fsdefaultFShdfsilabphd07isusemccom8020 151617753 INFO main sqoopSqoopRunner - Setting configuration property yarnresourcemanageraddressilabphd08isusemccom8050 151617753 INFO main sqoopSqoopRunner - Setting configuration property yarnapplicationclasspathusrhdp2200-2041etchadoopconfemptyusrhdp2200-2041hadoopusrhdp2200-2041hadooplibusrhdp2200-2041hadoop-hdfsusrhdp2200-2041hadoop-hdfslibusrhdp2200-2041hadoop-yarnusrhdp2200-2041hadoop-yarnlibusrhdp2200-2041hadoop-mapreduceusrhdp2200-2041hadoop-mapreducelibusrhdp2200-2041sqoopusrhdp2200-2041sqooplibusrhdp2200-2041flumeusrhdp2200-2041flumelibusrhdp2200-2041stormusrhdp2200-2041stormlib 151617754 INFO main sqoopSqoopRunner - Setting configuration property mapreduceframeworknameyarn 151617837 WARN main toolSqoopTool - SQOOPCONFDIR has not been set in the environment Cannot check for additional configuration 151617907 INFO main sqoopSqoop - Running Sqoop version 145 151618282 WARN main utilNativeCodeLoader - Unable to load native-hadoop library for your platform using builtin-java classes where applicable 151619552 WARN main sqoopConnFactory - SQOOPCONFDIR has not been set in the environment Cannot check for additional configuration 151619657 INFO main oracleOraOopManagerFactory - Data Connector for Oracle and Hadoop is disabled 151619673 INFO main managerSqlManager - Using default fetchSize of 1000 151619673 INFO main toolCodeGenTool - Beginning code generation 151620639 INFO main managerOracleManager - Time zone has been set to GMT 151620853 INFO main managerSqlManager - Executing SQL statement SELECT t FROM MASTERDATAWLOOKUPD t WHERE 10 151621018 INFO main ormCompilationManager - HADOOPMAPREDHOME is optpivotalspring-xd-120M1xdlibphd21 151623171 INFO main ormCompilationManager - Writing jar file tmpsqoop-spring-xdcompile4e11123a52fa36d6677efdb47bcdc43bMASTERDATAWLOOKUPDjar 151623191 INFO main managerOracleManager - Time zone has been set to GMT 151624109 INFO main managerOracleManager - Time zone has been set to GMT 151624825 INFO main mapreduceImportJobBase - Beginning import of MASTERDATAWLOOKUPD 151624848 INFO main managerOracleManager - Time zone has been set to GMT 151624876 WARN main mapreduceJobBase - SQOOPHOME is unset May not be able to find all job dependencies 151625083 INFO main clientRMProxy - Connecting to ResourceManager at ilabphd08isusemccom10152321918050 151625977 INFO main dbDBInputFormat - Using read commited transaction isolation 151626117 INFO main mapreduceJobSubmitter - number of splits1 151626361 INFO main mapreduceJobSubmitter - Submitting tokens for job job14292809926480019 151626717 INFO main implYarnClientImpl - Submitted application application14292809926480019 to ResourceManager at ilabphd08isusemccom10152321918050 151626782 INFO main mapreduceJob - The url to track the job httphttpilabphd08isusemccom8088proxyapplication14292809926480019 151626783 INFO main mapreduceJob - Running job job14292809926480019 The logs on the Hadoop side are Showing 4096 bytes Click here for full log mumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153604026 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 3 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153605033 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 4 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153606042 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 5 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153607049 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 6 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153608056 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 7 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153609062 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 8 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153610069 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 9 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153641093 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 0 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153642100 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 1 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153643107 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 2 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153644113 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 3 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153645120 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 4 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153646129 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 5 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153647136 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 6 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153648143 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 7 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153649150 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 8 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS 2015-05-04 153650156 INFO main orgapachehadoopipcClient Retrying connect to server 000000008030 Already tried 9 times retry policy is RetryUpToMaximumCountWithFixedSleepmaxRetries10 sleepTime1000 MILLISECONDS Even though the maxRetries is set to 10 the process is going into several sets of retrials,0
Have three startup scripts xd-singlenode xd-admin and xd-container The xd-singlenode script will launch a main application that creates both the admin node to process http admin requests and the container node to execute modules for data processing within in the same process the xd-admin script will launch a main application that creates only the admin node remove current embeddedContainer options the xd-container script will launch a main application that creates only the container node as it is now,0
Tests are failing due to change in JMX endpoint data Need to update the Jackson parser,0
Improvement to SpringXDTemplate to enable getting executions for a specific job I would like to be able to use the SpringXDTemplate to find all executions for a specific job Currently I use xdTemplatejobOperationslistJobExecutions then loop through all executions filtering the ones for the job Im interested in It would be nice if JobOperations had something like this codejava List all Job Executions param jobInstanceId The instance of the job to get all executions for public PagedResourcesJobExecutionInfoResource listJobExecutionslong jobInstanceId code,0
Fail Sonar CI build if there are any package tangles violated Similar to what would show up on structure101 reports,0
Add Message Source for error messages returned to users,0
As a Spring XD developer Id like to move twittersearch module from XD to s-c-s repo so I can use it as source modules to build streaming pipeline,2
Provide a clean way to get a reference to the MessageBus running in SingleNodeApplication Currently the message bus is only obtained via ModulegetComponentMessageBusclass Stream testing scenarios that depend on sending and receiving payloads via named channels do not require a deployed module instance per se but any stream flow control uses the MessageBus directly Getting a deployed module instance in general is expensive eg you have to wait for the module to deploy asynchronously whereas the MessageBus implementation could be known a priori when the application starts An improvement would be to ask the container for its MessageBus,0
Fix jsonPath evaluation following JsonPath version upgrade,0
Surface the provenance of a default to the user When using Value for providing a default value in a module options POJO make it so that the REST API and hence the module info command advertises that 1 the expression was foosomething 2 to the best extent possible value may come from another property source tell which config file it came from introspecting the PropertySource annotation,0
Kafka Sink Support async Producer The kafka sink supports properties for an async producer eg queuebufferingmaxms but you cannot enable such a producer only sync Async producers batch messages at the risk of message loss Add a new property async default false and add the corresponding attribute to the int-kafkaproducer-configuration element asyncasync,0
With Partitioned Jobs Wire Partitioner and StepExecutionHandlers with the MessageBus,0
Switch module list to horizontal display The module list command currently has a very simplistic two column display of module name module type The is not very readable Switch to a 4 column display Sources Processors Sinks Jobs Additionally mark composed module eg myhttp c,0
As a XD user Id like to orchestrate composed jobs so I can bring multiple jobs into single workflow and operationalize,5
Test source module in isolation Register the module under test and deploy the module Verify output across all transports Examples Be able to start the rabbitmq source just by pointing to modulessourcerabbitxml pass in some property file for parameters to be replaced and outgoing message is placed in a in-memory queue backed channel for use with assertions to verify functionality Test that sending json results in media-type header is set to json Test that sending POJO - POJO Test that sending Tuple - Tuple Test that sending a JSON String - String Test that sending raw bytes - raw bytes,0
Bump Spring Integration to 412 Spring AMQP to 142,0
Support for composed streams Some recent changes caused this to be turned off Basically the change was to police whether a stream is well formed at create time rather than deploy time By deferring that check we can create composed streams that are not deployable by themselves but that are when used as building blocks in proper streams,0
Fix In-Memory Analytics Most of the infrastructure and code cleanup has been done for In-Memory Analytics The only remaining issue is that by including memory-analyticsxml from commonxml were actually creating eg a new InMemoryCounterRepository that is different from the one present in the Admin process space This story involves fixing that It may actually be done as part of XD-353 handling the local transport as a special case context inheritance rather than import based on xdtransport,0
Composed options does not trigger profile activation I was in the process of rewriting transform using profiles see ExpressionOrScriptMixin This broke eg ModuleCommandTeststestComposedModulesValuesInDefinition because basically composed module options activate no profile The problem is that there is no real way to know what to activate currently because when deploying a part of a composed module its metadata is actually a link to the whole metadata but does not really know which part Long story short something we may be able to do is to activate the union of all profiles but this breaks very easily module compose foo --definition transform --exprfoo transform --scriptbar would try to activate both script and expression profiles for both modules,0
Update Creating a Custom Source Module doc with a different SI adapter due to Twitter issues httpsgithubcomSpringSourcespring-xdwikiCreating-a-Source-Module uses the SI twittersearch inbound channel adapter which is no longer going to work once Twitter disallows anonymous searches Ideally we update the example to use a new version of SI-twitter that adds support for this as opposed to the XD workaround,0
Create shell command for stopping a specific job,0
RemoteFileToHadoopTests fails on 11x This error surfaced recently as a result of a fix to a bug in HostNotWindowsRule which disabled this test in all environments Now the test has been reactivated it is failing on the 11x branch The test runs OK on master noformat Encountered an error executing step step1-master in job job orgspringframeworkmessagingMessageDeliveryException failed to send Message to channel null nested exception is javalangIllegalStateException ThreadPoolTaskExecutor not initialized orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava292 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava239 orgspringframeworkxddirtintegrationbuslocalLocalMessageBus3handleMessageLocalMessageBusjava262 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava239 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputAbstractMessageProducingHandlerjava248 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlerproduceOutputAbstractMessageProducingHandlerjava171 orgspringframeworkintegrationhandlerAbstractMessageProducingHandlersendOutputsAbstractMessageProducingHandlerjava119 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava105 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava239 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava85 orgspringframeworkbatchintegrationpartitionMessageChannelPartitionHandlerhandleMessageChannelPartitionHandlerjava224 orgspringframeworkbatchcorepartitionsupportPartitionStepdoExecutePartitionStepjava106 orgspringframeworkbatchcorestepAbstractStepexecuteAbstractStepjava198 orgspringframeworkbatchcorejobSimpleStepHandlerhandleStepSimpleStepHandlerjava148 orgspringframeworkbatchcorejobflowJobFlowExecutorexecuteStepJobFlowExecutorjava64 orgspringframeworkbatchcorejobflowsupportstateStepStatehandleStepStatejava67 orgspringframeworkbatchcorejobflowsupportSimpleFlowresumeSimpleFlowjava165 orgspringframeworkbatchcorejobflowsupportSimpleFlowstartSimpleFlowjava144 orgspringframeworkbatchcorejobflowFlowJobdoExecuteFlowJobjava134 orgspringframeworkbatchcorejobAbstractJobexecuteAbstractJobjava304 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncher1runSimpleJobLauncherjava135 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncherrunSimpleJobLauncherjava128 orgspringframeworkbatchintegrationxRemoteFileToHadoopTeststestSimpleRemoteFileToHadoopTestsjava161 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 orgjunitrunnersmodelFrameworkMethod1runReflectiveCallFrameworkMethodjava50 orgjunitinternalrunnersmodelReflectiveCallablerunReflectiveCallablejava12 orgjunitrunnersmodelFrameworkMethodinvokeExplosivelyFrameworkMethodjava47 orgjunitinternalrunnersstatementsInvokeMethodevaluateInvokeMethodjava17 orgjunitinternalrunnersstatementsRunBeforesevaluateRunBeforesjava26 orgspringframeworktestcontextjunit4statementsRunBeforeTestMethodCallbacksevaluateRunBeforeTestMethodCallbacksjava73 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgspringframeworktestcontextjunit4statementsRunAfterTestMethodCallbacksevaluateRunAfterTestMethodCallbacksjava82 orgspringframeworktestcontextjunit4statementsSpringRepeatevaluateSpringRepeatjava73 orgjunitrunnersParentRunnerrunLeafParentRunnerjava325 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunChildSpringJUnit4ClassRunnerjava217 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunChildSpringJUnit4ClassRunnerjava83 orgjunitrunnersParentRunner3runParentRunnerjava290 orgjunitrunnersParentRunner1scheduleParentRunnerjava71 orgjunitrunnersParentRunnerrunChildrenParentRunnerjava288 orgjunitrunnersParentRunneraccess000ParentRunnerjava58 orgjunitrunnersParentRunner2evaluateParentRunnerjava268 orgspringframeworktestcontextjunit4statementsRunBeforeTestClassCallbacksevaluateRunBeforeTestClassCallbacksjava61 orgspringframeworktestcontextjunit4statementsRunAfterTestClassCallbacksevaluateRunAfterTestClassCallbacksjava68 orgspringframeworkxdtestHostNotWindowsRule1evaluateHostNotWindowsRulejava38 orgjunitrulesRunRulesevaluateRunRulesjava20 orgjunitrunnersParentRunnerrunParentRunnerjava363 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunSpringJUnit4ClassRunnerjava163 orgjunitrunnerJUnitCorerunJUnitCorejava137 comintellijjunit4JUnit4IdeaTestRunnerstartRunnerWithArgsJUnit4IdeaTestRunnerjava74 comintellijrtexecutionjunitJUnitStarterprepareStreamsAndStartJUnitStarterjava211 comintellijrtexecutionjunitJUnitStartermainJUnitStarterjava67 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 comintellijrtexecutionapplicationAppMainmainAppMainjava134 Caused by javalangIllegalStateException ThreadPoolTaskExecutor not initialized orgspringframeworkutilAssertstateAssertjava385 orgspringframeworkschedulingconcurrentThreadPoolTaskExecutorgetThreadPoolExecutorThreadPoolTaskExecutorjava221 orgspringframeworkschedulingconcurrentThreadPoolTaskExecutorexecuteThreadPoolTaskExecutorjava252 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava89 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 76 more javalangAssertionError Expected exitCodeCOMPLETEDexitDescription Actual exitCodeFAILEDexitDescription Click to see difference orgjunitAssertfailAssertjava88 orgjunitAssertfailNotEqualsAssertjava834 orgjunitAssertassertEqualsAssertjava118 orgjunitAssertassertEqualsAssertjava144 orgspringframeworkbatchintegrationxRemoteFileToHadoopTeststestSimpleRemoteFileToHadoopTestsjava162 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 orgjunitrunnersmodelFrameworkMethod1runReflectiveCallFrameworkMethodjava50 orgjunitinternalrunnersmodelReflectiveCallablerunReflectiveCallablejava12 orgjunitrunnersmodelFrameworkMethodinvokeExplosivelyFrameworkMethodjava47 orgjunitinternalrunnersstatementsInvokeMethodevaluateInvokeMethodjava17 orgjunitinternalrunnersstatementsRunBeforesevaluateRunBeforesjava26 orgspringframeworktestcontextjunit4statementsRunBeforeTestMethodCallbacksevaluateRunBeforeTestMethodCallbacksjava73 orgjunitinternalrunnersstatementsRunAftersevaluateRunAftersjava27 orgspringframeworktestcontextjunit4statementsRunAfterTestMethodCallbacksevaluateRunAfterTestMethodCallbacksjava82 orgspringframeworktestcontextjunit4statementsSpringRepeatevaluateSpringRepeatjava73 orgjunitrunnersParentRunnerrunLeafParentRunnerjava325 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunChildSpringJUnit4ClassRunnerjava217 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunChildSpringJUnit4ClassRunnerjava83 orgjunitrunnersParentRunner3runParentRunnerjava290 orgjunitrunnersParentRunner1scheduleParentRunnerjava71 orgjunitrunnersParentRunnerrunChildrenParentRunnerjava288 orgjunitrunnersParentRunneraccess000ParentRunnerjava58 orgjunitrunnersParentRunner2evaluateParentRunnerjava268 orgspringframeworktestcontextjunit4statementsRunBeforeTestClassCallbacksevaluateRunBeforeTestClassCallbacksjava61 orgspringframeworktestcontextjunit4statementsRunAfterTestClassCallbacksevaluateRunAfterTestClassCallbacksjava68 orgspringframeworkxdtestHostNotWindowsRule1evaluateHostNotWindowsRulejava38 orgjunitrulesRunRulesevaluateRunRulesjava20 orgjunitrunnersParentRunnerrunParentRunnerjava363 orgspringframeworktestcontextjunit4SpringJUnit4ClassRunnerrunSpringJUnit4ClassRunnerjava163 orgjunitrunnerJUnitCorerunJUnitCorejava137 comintellijjunit4JUnit4IdeaTestRunnerstartRunnerWithArgsJUnit4IdeaTestRunnerjava74 comintellijrtexecutionjunitJUnitStarterprepareStreamsAndStartJUnitStarterjava211 comintellijrtexecutionjunitJUnitStartermainJUnitStarterjava67 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 comintellijrtexecutionapplicationAppMainmainAppMainjava134 noformat,0
Reference documentation on RxJava Stream processor,0
Allow deletion of all metrics of a kind To be added in AbstractMetricsController as well as the various shell commands counter all delete etc,0
Undeploying HDFS module closes filesystem When using the hadoop namespace to create a hadoop configuration and filesystem the FileSystemFactoryBean uses Hadoop FileSystemget and not newInstance which will return a FileSystem from the cache When undeploying the module the FileSystemFactoryBean destroy method will close the FileSystem which closes for all other deployed Hadoop modules throwing a javaioIOException Filesystem closed,0
Update HDFS sink documentation to reflect new functionality introduced in XD-990 and XD-991,0
Document json-to-tuple object-to-json and http-client Note that the documentation for the module options in particular for http-client should be autogenerated using the following syntax see others noformat processorhttp-client processorhttp-client noformat,0
Add support to start Apps in YARN automatically by type As an s-c-d developer Id like to add support to negotiate with the ResourceManager REST-APIs to deploy modules by groups so I can build instrumentation to start the App instances automatically Perhaps also take into account of the App specifics such as appTypeCLOUDDATA and appNamespring-cloud-data-yarn-app,0
syslog source is not capturing log info Keep in mind This could be pbkac on my part Please review and see if you can get it to work,0
Change repo links in buildgradle repospringio,0
Fix gradle build inconsistencies and leftovers The build has some inconsistencies that should be taken care of Amongst the one I know The UI project is always getting cleaned for no apparent reason there might have been one before thus triggering a rebuild of everything downstream most notably DIRT The exec task is not used anymore Lots of projects are getting the boot plugin applied to them Im not sure 100 what that plugin does but we dont need the repackage bit for example,0
Update Sinks TCP section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmltcpsinks,0
RedisAggregateCounterRepository doesnt give proper results back Both Lukes original code and my refactored PR1 which uses same code snippet seem to behave strangely Stored values seem fine but the getCounts method seems phony To test 1 stream create foo --definition timelog 2 tap create bar --definition tapfoo aggregatecounter 3 curl -H applicationjson httplocalhost8080metricsaggregate-countersbar this gives default bucketing hourly but chances are that they are empty,0
As a Spring XD developer Id like to create initial version of the new module registry abstraction so we could leverage the foundation to make progress and test the respective SPI receptor or cloudcontroller implementations,5
As a user Im trying to load Job - Modules page in admin-ui but Im seeing exceptions in console and the page wouldnt load code Failed to convert value of type javalangString to required type orgspringframeworkclouddataflowcoreArtifactType nested exception is orgspringframeworkcoreconvertConversionFailedException Failed to convert from type javalangString to type orgspringframeworkwebbindannotationRequestParam orgspringframeworkclouddataflowcoreArtifactType for value job nested exception is javalangIllegalArgumentException No enum constant orgspringframeworkclouddataflowcoreArtifactTypejob code,2
XD UI Job Parameters tool tips display needs to aligned When clicking on a specific job execution from the job executions bar chart the tool tips display isnt aligned with the job parameters Please see the attachment,0
Custom Modules cant be found wen using xdcustomModulehome on windows XD can not find the custom modules directory after Setting the xdcustomModulehome in the windows environment Deployment xd-singlenode embedded zookeeper Java 8 Windows 8 or Windows Server 2012 r2 Steps to reproduce 1 Start xd-singlenode 2 Start Shell 3 Build either the payload-conversion or rss-feed-source from the spring-xd-samples 4 use the shell to execute a module upload for the custom module rss-feed-source payload-conversion 5 verify it uploaded xdmodule info processormyTupleProcessor 6 stop xd single node 7 From the command line execute set xdcustomModulehomepath to your custom modules ie Cprojectspring-xd-110RELEASExdcustom-modules 8 restart xd-singlenode 9 execute module info processormyTupleProcessor 10 you will get the following error noformat Command failed orgspringframeworkxdrestclientimplSpringXDException Could not find module with name myTupleProcessor and type processor noformat,0
As a user Id like to refer to documentation so that I can build the custom module based on recommended standards and patterns,3
SCSReplace MessageCollector with generic SI Components Ultimately module IntegrationTest classes should themselves be a module so that testing a Source for example would use a TestSink and the message verified on the sink input This is currently a placeholder which includes SCS enhancements to support proxying of Pollable or Subscribable MessgeChannels Corresponding Changes to the s-c-s-test-support to eliminate MessageCollector and provide support for easily using the tests PollableChannels if necessary eg test-specific annotations Related to or may depend on implementing direct binding composed modules in s-c-s Refactor existing module test code,0
Fix existing Karma unit tests Migrate E2E tests to Protractor The grunt build for karma unit tests is currently broken with requireJS support on the XD admin app,0
Spike for Deployment SPI SPI for deployment on to YARN Local dirt cluster,0
Command to show the XML of the job definition,0
Log Hadoop Distro and ZK client connect info on Container startup It would be nice to display container config logging with the hadoop distro and zookeeper client connect being used when the container starts up,0
Spike Research Zookeeper-based mechanism for partitioned job management The current implementation of partitioned job management is entirely based on message exchange over the message bus in a request reply scenario This creates challenges when it comes to using certain types of transports as well as acknowledging crashes To that effect the option of using a different partitioned job coordination strategy that relies on a distributed computing coordination mechanism such as ZooKeeper should be investigated,0
As a user Id like to have a REST API to point and push an archive that includes custom module definitions and configurations so that I dont have to manually move and set it up Scope of this spike Assess customer requirement brainstorm and document options Socialize with the team to collect feedback Identify phases Create new stories,8
Add integration tests for Sqoop job We need to add some integration tests for the Sqoop job introduced in XD-2430,0
Upgrade Curator to 260 Curator 260 was released on July 11 httpsissuesapacheorgjirasecureReleaseNotejspaprojectId12314425version12327098,0
Improve ItemWriter in OOTB jdbchdfs to use DataStoreWriter The current jdbchdfs job does not take advantage of all the features available to write into HDFS provided by Spring Hadoops DataStoreWriter implementations such as partitioning Update the jdbchdfs job to use int-hadoopstore-writer similar to the HDFS Sink inside a new ItemWriter implementation,0
Splunk sink - add option to write to index Add option to write to Splunk named index as an alternative to tcp,0
Failing tcp to file in script tests build22-May-2014 084504Creating stream tcptofile with definition tcp--port3D21234--socketTimeout3D20007Cfile--dir3D2Ftmp2Fxdtest2Fbasic build22-May-2014 084504nametcptofiledeployednulldefinitiontcp --port21234 --socketTimeout2000 file --dirtmpxdtestbasiclinksrelselfhrefhttp1270019393streamstcptofile build22-May-2014 084504 build22-May-2014 084511Destroying stream tcptofile build22-May-2014 084511 build22-May-2014 084511 build22-May-2014 084511Expected blahblah does not match actual value 98108971049810897104 simple22-May-2014 084511Failing task since return code of binsh tmpXD-SCRIPTS-RS-513-ScriptBuildTask-7280766559152712153sh was 1 while expected 0 simple22-May-2014 084511Finished task Run basicstreamtests See httpsbuildspringiodownloadXD-SCRIPTS-RSbuildlogsXD-SCRIPTS-RS-513log,0
Pluralization of admin nodes leadership selector group path xdadmin Currently the admin nodes that participate in the leadership election are grouped under xdadmin Since there are multiple lock nodes that correspond to all the admin servers that participate in leadership election we can pluralize this node name to xdadmins,0
tcp-client reports error when using --closetrue flag When using the --closetrue flag for the tcp-client the following exception is triggered Caused by javalangIllegalArgumentException For client-mode connection factory must have single-usefalse orgspringframeworkutilAssertisTrueAssertjava65 orgspringframeworkintegrationiptcpTcpReceivingChannelAdapteronInitTcpReceivingChannelAdapterjava96 orgspringframeworkintegrationcontextIntegrationObjectSupportafterPropertiesSetIntegrationObjectSupportjava135 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinvokeInitMethodsAbstractAutowireCapableBeanFactoryjava1627 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1564,0
hdfs sink loses messagesdata when container killed Scenario running a rabbit hdfs stream and killing the xd-container while stream is running Looks like the messages gets acked before the data is flushed to hdfs This results in some data lost due to data either in tmp file or cached in the dfs client Reference VESC-387,0
Admin UI Deployment Status tooltip should close when the controller scope is lost Please refer to httpsgithubcomspring-projectsspring-xdissues1119,0
Kafka Message Bus ignores consumer concurrency when computing partition count This is a combination of two issues - the internal property nextmoduleconcurrency is computed from concurrency when it should be computed from consumerconcurrency - even if nextmoduleconcurrency is set the KafkaMessageBus rejects it since its not set in SUPPORTEDCONSUMERPROPERTIES As a result the value used in partition calculation is always 1 A workaround exists by setting the modulemoduleNameproducerminPartitionCount property to the expected total value,0
Missing in example of http stream In documentation attached to M1 in StreamsIntroduction section theres noformat http --port 8091 file --dirtmphttpdata noformat while it should be noformat http --port8091 file --dirtmphttpdata noformat missing in http,0
Fix package tangles See httpssonar43springiodrilldownmeasures7173metricpackagetangleindex,0
Make Asciidoc documentation compatible with Asciidoctor 15x the meaning of the backtick has changed The backtick now only does monospaced formatting it does not escape the content The migration guide walks you through the options httpasciidoctororgdocsmigrationmigration-scenarios For more details see httpsgithubcomasciidoctorasciidoctor-gradle-pluginissues134,0
Dependendcies for Hadoop distros are broken We used to have distro specific jars i the libdistro directory That is no longer working and all distros seem to contain mostly the same version hadoop 220 dependencies This is the list for phd1 now avro-175jar hadoop-annotations-220jar hadoop-auth-220jar hadoop-client-205-alpha-gphd-2100jar hadoop-common-220jar hadoop-distcp-220jar hadoop-hdfs-220jar hadoop-mapreduce-client-app-220jar hadoop-mapreduce-client-common-220jar hadoop-mapreduce-client-core-220jar hadoop-mapreduce-client-jobclient-220jar hadoop-mapreduce-client-shuffle-220jar hadoop-streaming-220jar hadoop-yarn-api-220jar hadoop-yarn-client-220jar hadoop-yarn-common-220jar hadoop-yarn-server-common-220jar hadoop-yarn-server-nodemanager-220jar jersey-core-19jar jersey-server-19jar jetty-util-6126jar protobuf-java-250jar spring-data-hadoop-201RELEASEjar spring-data-hadoop-batch-201RELEASEjar spring-data-hadoop-core-201RELEASEjar spring-data-hadoop-store-201RELEASEjar,0
TupleBuilderfromString should not overwrite original id and timestamp fields When converting a JSON string to a tuple the JSON may contain id This method should handle this Same with timestamp,0
Broken Deployment link in docs Please see Deployment link on httpdocsspringioautorepodocsspring-xd110RELEASEreferencehtmlmoduledeployment page broken-link-deploymentpng The link is broken and redirects to httpdocsspringioautorepodocsspring-xd110RELEASEreferencehtmlDeployment which is a 404,0
Spring-XD shell cant run commands with kerberized CDH 430 Basically when I launch the spring-xd shell I cant interact with the namenode I receive security violations despite the fact that I try and set the proper configs AuthenticationAuthorization truekerberos details of this issue can be found here httpstackoverflowcomquestions19258321the-spring-xd-xd-shell-cant-run-the-hadoop-fs-ls-command-the-command-returns,0
Gemfire Source and Sink deployments cause OOME PermGen If you create more than 4 gemfire modules the container will throw a OOME Permgen on Java 7 The solution is to put a technote into the wiki for the gemfire modules stating that for Java 7 they will need to add the following to environment export JAVAOPTS-XXPermSize256m,0
Add command for deploying a Stream Deploy a named stream The stream must exist in the StreamRepository,0
As a developer Id like to refer to wiki so that I can configure machines with recommended ulimit setting for XDs distributed setup Note Recommended ulimit setting is 10K under Troubleshooting new section Exception reason to increase ulimit 82552266 110SNAP ERROR DeploymentsPathChildrenCache-0 serverDeploymentListener - Exception deploying module javalangIllegalStateException javaioFileNotFoundException varvcapdatapackagesspringxdee02bd3482eeb620a65862fb54e1f23fcece80221-bd a341640a5de2f922fd3db906ce504b85819c1espring-xd-110BUILD-SNAPSHOTxdconfigmodulesmodulesyml Too many open files,1
Fix Sqoop job to allow for setting yarnapplicationclasspath Running Sqoop job against non Apache Hadoop installation - YARN app fails Error Could not find or load main class orgapachehadoopmapreducev2appMRAppMaster - Need to be able to set yarnapplicationclasspath for any distro that doesnt use the Hadoop defult classpath Cloudera Hortonworks Pivotal HD,0
Simplify ModuleRegistry MR is responsible for looking up existing module definitions by name and type ModuleDefinition should contain name type and resource where resource is a springframeworkcoreioResource containing the root path of the module definition This could be file classpath http hdfs or something else but the contents under this path will not be inspected or processed by MR The exception is for composite modules which should contain a list of corresponding Resources Simplify ModuleDefinition - remove classpath Provide support for CompositeModuleDefinition - requires a list of resources possibly a subclass Also retire RedisModuleRegistry,0
Routing json arrays When i create following stream i am able to route json messages But if i send same message as an array its not working Is it possible to do something about it stream create --name reference-data-import --definition rabbit --outputTypetextplain router --expressionjsonPathpayloadREJECTEDcontainstruequeueRejectedqueueAccepted --deploy,0
List runtime modules by wrong containerId should throw exception With PR340 listing of runtime modules with a non-existent containerId will display empty table Instead we can throw exception saying Container doesnt exist,0
Tuple unable to serialize objects with nested arrays of objects Serializing a tuple object with that have a nested array which contains objects as a tuple fails to serialize The error is noformat Caused by comfasterxmljacksondatabindJsonMappingException No serializer found for class orgspringframeworkxdtupleDefaultTupleConversionService and no properties discovered to create BeanSerializer to avoid exception disable SerializationFeatureFAILONEMPTYBEANS through reference chain javautilArrayList0-orgspringframeworkxdtupleDefaultTuplevalues-javautilUnmodifiableRandomAccessList0-orgspringframeworkxdtupleDefaultTupleconversionService comfasterxmljacksondatabindserimplUnknownSerializerfailForEmptyUnknownSerializerjava59 jackson-databind-245jar245 comfasterxmljacksondatabindserimplUnknownSerializerserializeUnknownSerializerjava26 jackson-databind-245jar245 comfasterxmljacksondatabindserBeanPropertyWriterserializeAsFieldBeanPropertyWriterjava505 jackson-databind-245jar245 comfasterxmljacksondatabindserstdBeanSerializerBaseserializeFieldsBeanSerializerBasejava639 jackson-databind-245jar245 comfasterxmljacksondatabindserBeanSerializerserializeBeanSerializerjava152 jackson-databind-245jar245 comfasterxmljacksondatabindserimplIndexedListSerializerserializeContentsIndexedListSerializerjava100 jackson-databind-245jar245 comfasterxmljacksondatabindserimplIndexedListSerializerserializeContentsIndexedListSerializerjava21 jackson-databind-245jar245 comfasterxmljacksondatabindserstdAsArraySerializerBaseserializeAsArraySerializerBasejava183 jackson-databind-245jar245 comfasterxmljacksondatabindserBeanPropertyWriterserializeAsFieldBeanPropertyWriterjava505 jackson-databind-245jar245 comfasterxmljacksondatabindserstdBeanSerializerBaseserializeFieldsBeanSerializerBasejava639 jackson-databind-245jar245 comfasterxmljacksondatabindserBeanSerializerserializeBeanSerializerjava152 jackson-databind-245jar245 comfasterxmljacksondatabindserimplIndexedListSerializerserializeContentsIndexedListSerializerjava100 jackson-databind-245jar245 comfasterxmljacksondatabindserimplIndexedListSerializerserializeContentsIndexedListSerializerjava21 jackson-databind-245jar245 comfasterxmljacksondatabindserstdAsArraySerializerBaseserializeAsArraySerializerBasejava183 jackson-databind-245jar245 comfasterxmljacksondatabindserDefaultSerializerProviderserializeValueDefaultSerializerProviderjava128 jackson-databind-245jar245 comfasterxmljacksondatabindObjectMapperwriteValueObjectMapperjava1902 jackson-databind-245jar245 comfasterxmljacksoncorebaseGeneratorBasewriteObjectGeneratorBasejava280 jackson-core-245jar245 comfasterxmljacksondatabindnodePOJONodeserializePOJONodejava111 jackson-databind-245jar245 comfasterxmljacksondatabindserstdSerializableSerializerserializeSerializableSerializerjava44 jackson-databind-245jar245 comfasterxmljacksondatabindserstdSerializableSerializerserializeSerializableSerializerjava29 jackson-databind-245jar245 comfasterxmljacksondatabindserDefaultSerializerProviderserializeValueDefaultSerializerProviderjava128 jackson-databind-245jar245 comfasterxmljacksondatabindObjectMapperwriteValueObjectMapperjava1902 jackson-databind-245jar245 comfasterxmljacksoncorebaseGeneratorBasewriteObjectGeneratorBasejava280 jackson-core-245jar245 comfasterxmljacksondatabindnodePOJONodeserializePOJONodejava111 jackson-databind-245jar245 comfasterxmljacksondatabindnodeObjectNodeserializeObjectNodejava264 jackson-databind-245jar245 comfasterxmljacksondatabindserstdSerializableSerializerserializeSerializableSerializerjava44 jackson-databind-245jar245 comfasterxmljacksondatabindserstdSerializableSerializerserializeSerializableSerializerjava29 jackson-databind-245jar245 comfasterxmljacksondatabindserDefaultSerializerProviderserializeValueDefaultSerializerProviderjava128 jackson-databind-245jar245 comfasterxmljacksondatabindObjectMapperwriteValueObjectMapperjava1902 jackson-databind-245jar245 comfasterxmljacksoncorebaseGeneratorBasewriteObjectGeneratorBasejava280 jackson-core-245jar245 comfasterxmljacksondatabindnodePOJONodeserializePOJONodejava111 jackson-databind-245jar245 comfasterxmljacksondatabindnodeObjectNodeserializeObjectNodejava264 jackson-databind-245jar245 comfasterxmljacksondatabindserstdSerializableSerializerserializeSerializableSerializerjava44 jackson-databind-245jar245 comfasterxmljacksondatabindserstdSerializableSerializerserializeSerializableSerializerjava29 jackson-databind-245jar245 comfasterxmljacksondatabindserDefaultSerializerProviderserializeValueDefaultSerializerProviderjava128 jackson-databind-245jar245 comfasterxmljacksondatabindObjectMapperwriteValueObjectMapperjava1902 jackson-databind-245jar245 comfasterxmljacksoncorebaseGeneratorBasewriteObjectGeneratorBasejava280 jackson-core-245jar245 comfasterxmljacksondatabindnodePOJONodeserializePOJONodejava111 jackson-databind-245jar245 comfasterxmljacksondatabindnodeObjectNodeserializeObjectNodejava264 jackson-databind-245jar245 comfasterxmljacksondatabindserstdSerializableSerializerserializeSerializableSerializerjava44 jackson-databind-245jar245 comfasterxmljacksondatabindserstdSerializableSerializerserializeSerializableSerializerjava29 jackson-databind-245jar245 comfasterxmljacksondatabindserDefaultSerializerProviderserializeValueDefaultSerializerProviderjava128 jackson-databind-245jar245 comfasterxmljacksondatabindObjectMapperconfigAndWriteValueObjectMapperjava2881 jackson-databind-245jar245 comfasterxmljacksondatabindObjectMapperwriteValueAsStringObjectMapperjava2338 jackson-databind-245jar245 orgspringframeworkxdtupleTupleToJsonStringConverterconvertTupleToJsonStringConverterjava37 spring-xd-tuple-130M1jar130M1 noformat when the input string read from a Kafka topic in my case looks something like noformat body dataType har har log browser name Google Chrome version 4402403155 creator name My extension version 0236 pages requestTimings blocked -1 connect -1 dns -1 receive 11 send -1 ssl -1 wait 244 requestUrl httpsgooglecom requestTimings blocked -1 connect -1 dns -1 receive 11 send -1 ssl -1 wait 244 requestUrl httpsgooglecom version 12 testId 1 bodyType modelsMultiMessage headers appInstance localhost1270018080 clientIp 00000001 host localhost8080 requestId 27acf948-33ff-491c-8be7-1beb4b8c95d9 requestMethod POST requestUrl httplocalhost8080har timestamp 1445914510549 userPrincipal 235 noformat If the inner array the Pages array is just an object it works when it is an array it fails The stream used kafka --topicagentmixed --outputTypeapplicationx-xd-tuple splitter --expressionpayloadbody log,0
Add some test coverage to mqtt modules Even though it may be hard to come up with a mqtt broker an easy test that should be automated is somesource mqtt --topicfoo with mqtt --topicsfoo somesink And asserting that what is emitted to somesource ends up in somesink,0
Create a banner page for XD Shell,0
File sink should support rollover I wanted to have a rollover feature when I was streaming tweets to a file overnight just to avoid dealing with a single enormous file in case I collected more data than my demo could handle and needed to split it up,0
flo dont work i unzip flo-spring-xd-admin-ui-client-131RELEASEjar to replace the existing spring-xd-admin-ui-client-131RELEASEjarand clear my browser cache then restart the xd-singlenodebut i cant access Flo for Spring XD at the following URI endpoints httpHOSTNAMEPORTadmin-uistreamscreate i cant find the flo page,0
Message Bus Shut down Kafka Consumers completely before unbinding This causes the following exception to be thrown in the log without functional adverse effects orgspringframeworkmessagingMessageDeliveryException Dispatcher has no subscribers for channel unknownchannelname nested exception is orgspringframeworkintegrationMessageDispatchingException Dispatcher has no subscribers orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava81 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava239 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava115 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava45 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava95 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava101 orgspringframeworkintegrationkafkainboundKafkaMessageDrivenChannelAdapteraccess300KafkaMessageDrivenChannelAdapterjava43 orgspringframeworkintegrationkafkainboundKafkaMessageDrivenChannelAdapterAutoAcknowledgingChannelForwardingMessageListenerdoOnMessageKafkaMessageDrivenChannelAdapterjava172 orgspringframeworkintegrationkafkalistenerAbstractDecodingMessageListeneronMessageAbstractDecodingMessageListenerjava50 orgspringframeworkintegrationkafkalistenerQueueingMessageListenerInvokerrunQueueingMessageListenerInvokerjava121 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava745 Caused by orgspringframeworkintegrationMessageDispatchingException Dispatcher has no subscribers orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava107 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 13 more,0
Update doc about modules and spring The doc at httpdocsspringiospring-xddocs100M3referencehtmlmodulesandspring refers to an old version of the counter sink when it was still hardwired to use redis The text next to it that explains placeholders is out of date with respect to the redis placeholders,0
Unable to delete composed module After creating a composed module I am unable to delete it Steps to reproduce xdmodule compose doo --definition filter --expressionpayloadcontainsdoo file Successfully created module doo with type sink xdmodule module compose module delete module display module info module list xdmodule delete --name doo --type sink javalangStringIndexOutOfBoundsException Failed to convert doo to type QualifiedModuleName for option name String index out of range -1 xd,0
As a user Id like to have the ability to configure ACLs so that I can restrict access to resources accessed via Admin UI Examples Who can create streams Who can destroy the streams Who can view the streams defaults to all,8
Need TCP-Client Source Acceptance test,0
Twittersearch ArrayIndexOutOfBoundsException noformat 04430715 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 255 groovyjsoninternalCharBufdoAddJsonEscapedStringCharBufjava525 groovyjsoninternalCharBufaddJsonEscapedStringCharBufjava394 groovyjsoninternalCharBufaddJsonEscapedStringCharBufjava357 groovyjsonJsonOutputwriteCharSequenceJsonOutputjava309 groovyjsonJsonOutputwriteObjectJsonOutputjava260 groovyjsonJsonOutputwriteMapJsonOutputjava425 groovyjsonJsonOutputwriteObjectJsonOutputjava270 groovyjsonJsonOutputwriteIteratorJsonOutputjava442 groovyjsonJsonOutputwriteObjectJsonOutputjava272 groovyjsonJsonOutputwriteMapJsonOutputjava425 groovyjsonJsonOutputwriteObjectJsonOutputjava270 groovyjsonJsonOutputwriteMapJsonOutputjava425 groovyjsonJsonOutputtoJsonJsonOutputjava204 orgspringframeworkintegrationxtwitterTwitterSearchChannelAdapterdoSendLineTwitterSearchChannelAdapterjava137 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTask2extractDataAbstractTwitterInboundChannelAdapterjava200 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTask2extractDataAbstractTwitterInboundChannelAdapterjava186 orgspringframeworkwebclientRestTemplatedoExecuteRestTemplatejava549 orgspringframeworkwebclientRestTemplateexecuteRestTemplatejava517 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTaskreadStreamAbstractTwitterInboundChannelAdapterjava180 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTaskrunAbstractTwitterInboundChannelAdapterjava158 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava54 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 204430718 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204431136 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 255 groovyjsoninternalCharBufdoAddJsonEscapedStringCharBufjava525 groovyjsoninternalCharBufaddJsonEscapedStringCharBufjava394 groovyjsoninternalCharBufaddJsonEscapedStringCharBufjava357 groovyjsonJsonOutputwriteCharSequenceJsonOutputjava309 groovyjsonJsonOutputwriteObjectJsonOutputjava260 groovyjsonJsonOutputwriteMapJsonOutputjava425 groovyjsonJsonOutputwriteObjectJsonOutputjava270 groovyjsonJsonOutputwriteIteratorJsonOutputjava442 groovyjsonJsonOutputwriteObjectJsonOutputjava272 groovyjsonJsonOutputwriteMapJsonOutputjava425 groovyjsonJsonOutputwriteObjectJsonOutputjava270 groovyjsonJsonOutputwriteMapJsonOutputjava425 groovyjsonJsonOutputtoJsonJsonOutputjava204 orgspringframeworkintegrationxtwitterTwitterSearchChannelAdapterdoSendLineTwitterSearchChannelAdapterjava137 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTask2extractDataAbstractTwitterInboundChannelAdapterjava200 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTask2extractDataAbstractTwitterInboundChannelAdapterjava186 orgspringframeworkwebclientRestTemplatedoExecuteRestTemplatejava549 orgspringframeworkwebclientRestTemplateexecuteRestTemplatejava517 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTaskreadStreamAbstractTwitterInboundChannelAdapterjava180 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTaskrunAbstractTwitterInboundChannelAdapterjava158 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava54 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 204431137 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204431525 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 255 groovyjsoninternalCharBufdoAddJsonEscapedStringCharBufjava525 groovyjsoninternalCharBufaddJsonEscapedStringCharBufjava394 groovyjsoninternalCharBufaddJsonEscapedStringCharBufjava357 groovyjsonJsonOutputwriteCharSequenceJsonOutputjava309 groovyjsonJsonOutputwriteObjectJsonOutputjava260 groovyjsonJsonOutputwriteMapJsonOutputjava425 groovyjsonJsonOutputwriteObjectJsonOutputjava270 groovyjsonJsonOutputwriteIteratorJsonOutputjava442 groovyjsonJsonOutputwriteObjectJsonOutputjava272 groovyjsonJsonOutputwriteMapJsonOutputjava425 groovyjsonJsonOutputwriteObjectJsonOutputjava270 groovyjsonJsonOutputwriteMapJsonOutputjava425 groovyjsonJsonOutputtoJsonJsonOutputjava204 orgspringframeworkintegrationxtwitterTwitterSearchChannelAdapterdoSendLineTwitterSearchChannelAdapterjava137 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTask2extractDataAbstractTwitterInboundChannelAdapterjava200 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTask2extractDataAbstractTwitterInboundChannelAdapterjava186 orgspringframeworkwebclientRestTemplatedoExecuteRestTemplatejava549 orgspringframeworkwebclientRestTemplateexecuteRestTemplatejava517 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTaskreadStreamAbstractTwitterInboundChannelAdapterjava180 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTaskrunAbstractTwitterInboundChannelAdapterjava158 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava54 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 204431526 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204431948 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 255 groovyjsoninternalCharBufdoAddJsonEscapedStringCharBufjava525 groovyjsoninternalCharBufaddJsonEscapedStringCharBufjava394 groovyjsoninternalCharBufaddJsonEscapedStringCharBufjava357 groovyjsonJsonOutputwriteCharSequenceJsonOutputjava309 groovyjsonJsonOutputwriteObjectJsonOutputjava260 groovyjsonJsonOutputwriteMapJsonOutputjava425 groovyjsonJsonOutputwriteObjectJsonOutputjava270 groovyjsonJsonOutputwriteIteratorJsonOutputjava442 groovyjsonJsonOutputwriteObjectJsonOutputjava272 groovyjsonJsonOutputwriteMapJsonOutputjava425 groovyjsonJsonOutputwriteObjectJsonOutputjava270 groovyjsonJsonOutputwriteMapJsonOutputjava425 groovyjsonJsonOutputtoJsonJsonOutputjava204 orgspringframeworkintegrationxtwitterTwitterSearchChannelAdapterdoSendLineTwitterSearchChannelAdapterjava137 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTask2extractDataAbstractTwitterInboundChannelAdapterjava200 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTask2extractDataAbstractTwitterInboundChannelAdapterjava186 orgspringframeworkwebclientRestTemplatedoExecuteRestTemplatejava549 orgspringframeworkwebclientRestTemplateexecuteRestTemplatejava517 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTaskreadStreamAbstractTwitterInboundChannelAdapterjava180 orgspringframeworkintegrationxtwitterAbstractTwitterInboundChannelAdapterStreamReadingTaskrunAbstractTwitterInboundChannelAdapterjava158 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava54 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 204431949 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204432345 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204432346 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204432727 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204432727 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204433103 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204433104 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204433548 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204433548 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204433935 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204433935 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204434318 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204434318 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204434696 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204434696 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204435060 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204435061 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204435445 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204435445 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204435825 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204435825 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204436221 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204436221 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204436602 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204436602 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204437006 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204437006 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204437396 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204437396 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204437790 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204437790 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204438179 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204438179 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204438559 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204438559 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204438967 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204438967 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204439365 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204439365 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204439747 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204439747 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204440179 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204440179 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204440596 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204440597 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204440978 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204440979 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204441342 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204441342 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204441732 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204441732 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204442125 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204442126 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204442511 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204442512 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204442918 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204442918 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204443309 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204443309 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204443689 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream javalangArrayIndexOutOfBoundsException 204443689 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter231 - Exception while reading stream waiting for 250 ms before restarting 204444071 WARN task-scheduler-6 twitterTwitterSearchChannelAdapter173 - Exception while reading stream,0
Redis and In-memory offset storage profiles for the kafka source have wrong definitions,0
Remove Reactor Stream processor from ref docs to spring-xd-modules Not going to integrate with Reactor for stream processing,0
As a user Id like to have a gradle build option so that I can support module projects that will declare the Spring XD dependencies as provided configure the boot plugin for MODULE layout and other boilerplate build configuration This is dependent on Boots module layout scoping issue httpsgithubcomspring-projectsspring-bootissues2187,3
As a user Id like to have Spring Core upgraded to 411 milestone so that I can benefit from performance improvements associated with compiled SpEL and other enhancements,3
As a user Id like to have a perf-meter sink that will collect and push metrics to the standard container log file Example perf-meter --numMsgs 1000 Will write to the container log a timestamp message count and message rate every 1000 messages The message rate is the value since the last log event Default values are those specified above,8
Remove MongoDB from main DIRT classpath MongoDb driver is present on DIRTs classpath while it should not should be present on mongo-related modules though This is blocked by the shortcoming described here httpsgithubcomspring-projectsspring-xdpull1116,0
Trigger - Add support for date-based one-time execution Currently Jobs can be either executed using cron expression or immediately at once We should also support the one-time scheduling of jobs in the future Would this possibly require us to implement schedule-persistence That could severely impact story-points,0
Spike Determine options for configuring shared module dependencies h2 Narrative As a developer Id like to be able to configure common dependencies for the entire environment An example could be that I use MySql for my databases I want to be able to configure the MySql driver once and have all modules use it h2 Back story Spring Batch uses a database to store job state the job repository This is a shared resource across all jobs both custom developed and OOTB In order to support OOTB jobs well need to have a way for users to provide the db driver to each module Ideally this would be possible without requiring that each of our OOTB modules be repackaged,0
As a user Id like to refer to documentation in wiki so that I can setup and configure Kafka as a source or a sink as recommended,1
Upgrade hsqldb version on XD batch admin to the latest We also would like to upgrade the hsqldb version on spring batch admin so that both are compatible,0
Add RequestReply support to Kafka message bus Environment Can be reproduced on local machine with Admin and a single container create the following job job create ogg --definition filejdbc --resourcesfilefilejdbctestfilejdbctestpartition --namesdata --tableNamefilejdbctest --initializeDatabasetrue --deploy note this works on Rabbit and Redis as a message bus The following exception is thrown on the admin 65422856 110SNAP INFO DeploymentSupervisor-0 serverJobDeploymentListener - Deployment status for job ogg DeploymentStatusstatefailederrorsjavalangUnsupportedOperationException Auto-generated method stub orgspringframeworkxddirtintegrationkafkaKafkaMessageBusbindRequestorKafkaMessageBusjava289 orgspringframeworkxddirtpluginsjobJobPartitionerPluginprocessPartitionedJobJobPartitionerPluginjava69 orgspringframeworkxddirtpluginsjobJobPartitionerPluginpostProcessModuleJobPartitionerPluginjava53 orgspringframeworkxddirtmoduleModuleDeployerpostProcessModuleModuleDeployerjava238 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava218 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 orgspringframeworkxddirtserverDeploymentListenerdeployJobModuleDeploymentListenerjava289 orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 The following exception is thrown on the container 210814721 110SNAP WARN DeploymentsPathChildrenCache-0 configReleaseStrategyFactoryBean - No annotated method found falling back to SequenceSizeReleaseStrategy targetorgspringframeworkbatchintegrationpartitionMessageChannelPartitionHandler692ee39f methodNamenull 210815946 110SNAP ERROR DeploymentsPathChildrenCache-0 serverDeploymentListener - Exception deploying module javalangUnsupportedOperationException Auto-generated method stub orgspringframeworkxddirtintegrationkafkaKafkaMessageBusbindRequestorKafkaMessageBusjava289 orgspringframeworkxddirtpluginsjobJobPartitionerPluginprocessPartitionedJobJobPartitionerPluginjava69 orgspringframeworkxddirtpluginsjobJobPartitionerPluginpostProcessModuleJobPartitionerPluginjava53 orgspringframeworkxddirtmoduleModuleDeployerpostProcessModuleModuleDeployerjava238 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava218 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 orgspringframeworkxddirtserverDeploymentListenerdeployJobModuleDeploymentListenerjava289 orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745,0
UI When launching a job - Required parameters should be indicated and their names prepopulated,0
SqoopRunner should use resource manager scheduler option In SqoopRunner we manually set rm address fs address and yarn classpath YarnConfigurationRMSCHEDULERADDRESS is also needed for appmaster to function properly Current workaround is to use config values which gets imported automatically code spring hadoop config yarnresourcemanagerscheduleraddress host8030 code,0
Move Cassandra sink to XD proper,0
Ensure that when batch jobs are created they are created with the job bean definition id equal to the stream name Unlike in spring-batch-admin in SpringXD all the jobs the modulesjobs directory is not visible to query when the server starts Jobs only become visible to XDs jobs list command once they have been created Creating a Job in XD is an opportunity to specify additional values to any property placeholders in the job bean definition This isnt part of spring-batch-admin We will not worry about the creation of job definition in this story Assume that they have been created already and that the GET for jobs works as it does now for Spring XD We should however make sure that there is always a replacement of the job name in the job bean definition to match the --name specified in the command line That is job create --name myjob --description thisfunkyjob will use myjob to replace job idxdstreamname in the file thisfunkyjobxml Implementation Suggestions This should hopefully just be a matter of changing job definition files to follow the naming pattern job idxdstreamname How to verify it works 1 Create a JUnit integration style test that has job create --name myjob --defintion testJob and then deploy the job The name myjob should appear in the job execution table,0
Add log-full-message Property to the Log Sink Allows looking at message headers without turning on debugging,0
RabbitMessageBus should prefix all created queues with a prefix in order to support HA To configure Rabbit HA a naming convention should be used to identify the queue that need to be mirrored,0
Make Hadoop22 the default for the build,0
make applicationjson the default output type for the REST API the top-level URL works via simple curl without an Accept header or the browser code curl httplocalhost8080 linksrelstreamshrefhttplocalhost8080streamsreltriggershrefhttplocalhost8080triggersreljobshrefhttplocalhost8080jobsreltapshrefhttplocalhost8080tapsrelcountershrefhttplocalhost8080metricscounters code However trying any of those links then fails eg code curl httplocalhost8080streams xml version10 encodingUTF-8 standaloneyeserrors xmlnsns2httpwwww3org2005Atomerror logrefHttpMessageNotWritableExceptionmessageCould not marshal PagedResource content links lthttplocalhost8080streamsmqttdemogtrelquotselfquot metadata Metadata number 0 total pages 1 total elements 1 size 20 links null nested exception is javaxxmlbindMarshalException - with linked exception comsunistackinternalSAXException2 unable to marshal type quotorgspringframeworkxdrestclientdomainStreamDefinitionResourcequot as an element because it is not known to this contextmessageerrorerrors code,0
The HDFS Store Library should support writing to Sequence Files Support for writing Sequence Files Without Compression Need a means to specify the keyvalue to be used,0
As a developer Id like to upgrade Boot and Spring Cloud Build revisions so I can leverage the latest updates,5
Add spring-xd-python to the distribution,0
Support for UUID suffix for hdfs file names in acceptance tests,0
Flatten out ephemeral nodes Flatten out ephemeral nodes written by containers when deploying modules For instance instead of streamsmoduleTypemoduleLabelcontainer use streamsmoduleTypemoduleLabelcontainer This change allows us to derive state for a streamjob without having to traverse multiple layers of znodes This is a big deal because each level of children requires a network call Curator can only cache one level of children,0
Spark streaming processor module Dispatcher has no subscribers The spark streaming processor module emits the following exception when there are more messages in the RDD partitions 015-02-17 124502026 120SNAP ERROR Executor task launch worker-2 executorExecutor - Exception in task 00 in stage 560 TID 142 orgspringframeworkmessagingMessageDeliveryException Dispatcher has no subscribers for channel output nested exception is orgspringframeworkintegrationMessageDispatchingException Dispatcher has no subscribers orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava81 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava239 orgspringframeworkxddirtpluginssparkstreamingMessageBusSendersendMessageBusSenderjava105 orgspringframeworkxdsparkstreamingjavaModuleExecutor11callModuleExecutorjava80 orgspringframeworkxdsparkstreamingjavaModuleExecutor11callModuleExecutorjava55 orgapachesparkapijavaJavaRDDLikeanonfunforeachPartition1applyJavaRDDLikescala195 orgapachesparkapijavaJavaRDDLikeanonfunforeachPartition1applyJavaRDDLikescala195 orgapachesparkrddRDDanonfunforeachPartition1applyRDDscala790 orgapachesparkrddRDDanonfunforeachPartition1applyRDDscala790 orgapachesparkSparkContextanonfunrunJob4applySparkContextscala1353 orgapachesparkSparkContextanonfunrunJob4applySparkContextscala1353 orgapachesparkschedulerResultTaskrunTaskResultTaskscala61 orgapachesparkschedulerTaskrunTaskscala56 orgapachesparkexecutorExecutorTaskRunnerrunExecutorscala200 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava745 Caused by orgspringframeworkintegrationMessageDispatchingException Dispatcher has no subscribers orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava107 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 17 more 2015-02-17 124502032 120SNAP WARN task-result-getter-1 schedulerTaskSetManager - Lost task 00 in stage 560 TID 142 localhost orgspringframeworkmessagingMessageDeliveryException Dispatcher has no subscribers for channel output nested exception is orgspringframeworkintegrationMessageDispatchingException Dispatcher has no subscribers orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava81 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava239 orgspringframeworkxddirtpluginssparkstreamingMessageBusSendersendMessageBusSenderjava105 orgspringframeworkxdsparkstreamingjavaModuleExecutor11callModuleExecutorjava80 orgspringframeworkxdsparkstreamingjavaModuleExecutor11callModuleExecutorjava55 orgapachesparkapijavaJavaRDDLikeanonfunforeachPartition1applyJavaRDDLikescala195 orgapachesparkapijavaJavaRDDLikeanonfunforeachPartition1applyJavaRDDLikescala195 orgapachesparkrddRDDanonfunforeachPartition1applyRDDscala790 orgapachesparkrddRDDanonfunforeachPartition1applyRDDscala790 orgapachesparkSparkContextanonfunrunJob4applySparkContextscala1353 orgapachesparkSparkContextanonfunrunJob4applySparkContextscala1353 orgapachesparkschedulerResultTaskrunTaskResultTaskscala61 orgapachesparkschedulerTaskrunTaskscala56 orgapachesparkexecutorExecutorTaskRunnerrunExecutorscala200 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava745 Caused by orgspringframeworkintegrationMessageDispatchingException Dispatcher has no subscribers orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava107 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 17 more,0
Add documentation for new module property configuration support the algorithm and approach in httpsdocsgooglecomagopivotalcomdocumentd12Cboa7nyVVKVxDIsHLJ-68m5f78ayXn14EJLrclJYVgedit needs to be added to the section on application configuration,0
Admin leader should watch Container nodes in ZooKeeper This will require a ZooKeeperConnection in AdminServerApplication based on singlenode vs distributed via profiles see ContainerServerApplication for an example Then a PathChildrenCache should be established for the xdcontainers node,0
Spike Research how to leverage ZKs ACLs As an Ops Id like to setup security for the ZK nodes so I could restrict access to zNodes to the right usersapps,0
Add Integration Tests to run JobCommands Tests against all transports similar to ChannelRegistry - AbstractChannelRegistryTests that has the real tests - subclasses for each impl provide the registry to be tested Thus one test can run against multiple transports,0
Gemfire CQ module for ingestion,0
Support pagination in list command for taps See XD-477,0
As a user I need a sandbox Docker Image so that I can get started to experiment XD deployment with the following setup Ubuntu OS Full XD Jar Java 7x Redis RabbitMQ,5
Create Splunk sink module This would be based off the spring-integration-extenstions splunk project The use of this adapter for storing tweet data is in httpsgithubcommarkpollackspringone We should be able to reproduce the use case as done in that demo,0
Upgrade Lettuce to 232,0
Log the serversmodules config locations and names It would be good to log the server module config locations and names when the admin container singlenode servers startup,0
Clarify API or syntax for managing deployment parameters Suppose we have 3 environements of Spring XD - Dev environment - Test environment - Prod environement Suppose whe develop the script bellow stream1 http filter --expressionpayloadcontainstoto file --dirtmptoto stream2 http filter --expressionpayloadcontainstiti file --dirtmptiti When we need to deploy the script in Test and Prod environements we must modify dir option of file sink This is very easy when there is not a lot of options and when we have a small factory team But in a big factory environment this will be problematic In order to industrialize deployment it would be convenient to implement in DSL a directory interface API or something equivalent like below Suppose we call this directory interface XDDI like XD Directory Interface - The script can be like that stream1 http filter --expressionpayloadcontainstoto file --dirXDDItotoKey stream2 http filter --expressionpayloadcontainstiti file --dirXDDItitiKey The XDDI keys are defined in a centralized directory interface admin console or XDDIproperties The XDDI keysvalues in Dev environment totoKeytmptoto titiKeytmptiti The XDDI keysvalues in Test environment totoKeytartempiontoto titiKeypetaouchnoktiti The XDDI keysvalues in Prod environment totoKeyvavoirlabasijysuistoto titiKeyvavoirlabasijysuistiti When the script is deployed in Test or Prod environement if the script contain a key that is not defined in centralized directory the deployment fail This will reduce errors risks in a big factory environnement several hundred parameters and signifiant team turnover,0
As a result of fixing XD-2015 we still cannot execute code grunt teste2e code Basically running the tests AND the server together in one process fails We see the following error Fatal error socket hang up If we separate the protractor execution into 2 separate steps the tests pass code grunt serve one console window grunt protractorrun second console window code In the grunt serve window you can still observe Fatal error socket hang up being printed out but the tests execute successfully,8
As a user Im trying to connect to xd-admin server with basic security enabled however Im unable to successfully connect to the server and I get the following error message codejava server-unknownadmin config server --uri httplocalhost9393 --username bob --password bobspwd Unable to contact XD Admin Server at httplocalhost9393 code,5
Provide option for sourcessinks to configure mapped headers tofrom Messages See the discussion httpsgopivotal-comsocialcastcommessages20771872,0
Set fixed NPM version for Grunt Gradle Plugin Ensure build works in Windows environments,0
As a user Id like to have the ability to visually explore XDs cluster view so that Im aware where the components are deployed and how they are connected within the topology,2
Refactor XD to use boots options metadata internally This is to get rid of ultimately ModuleOption ModuleOptionsMetadataResolver etc in favor of classes written by Stphane Nicoll currently here httpsgithubcomsnicoll-scratchesspring-boot-configblobmasterspring-boot-config-metadatasrcmainjavaorgspringframeworkconfigurationmetadata,0
Add --inputType and --outputType module parameters The ability to configure message conversion via parameters Consider programatic configuration of data type channels Values can be media type eg applicationjson or a java class name,0
Create a throughput sink The throughput module would expect a payload of the type Messagebyte and look for the byte to be START or STOP strings to trigger a throughput measurement httpsgithubcomspring-projectsspring-xdtreemasterextensions would be the place for the module to live,0
As a user Id like to have a landing page with higher-order links for sources processors sinks and jobs so I can jump to right section from one place,1
As a developer Id like to create separate repo for CF SPI so I dont have to bundle all SPI variants under one admin project,3
UI Deploy Stream - Return key does not submit form httplocalhost9393admin-uistreamsdefinitionstestdeploy,0
Update Streams Chapter to use shell commands instead of curl the current streams chapter httpstaticspringsourceorgspring-xddocs100M1referencehtmlstreams shows creation and deleting streams using CURL - switch to use shell Also add listing of a stream there is also an example of creating a stream this should be replaced as well,0
Create Shared Server Context Create a Shared Server Context to the Container hierarchy This is a child of Global Beans which contains beans that are only shared by the Admin and Container contexts but not Modules The ZooKeeper components go here to support the ZK deployment architecture The MessageBus also goes here to support a clean way to launch jobs from the Admin process,0
Refactor Exception Handling and update JavaDocs for acceptance test Add JavaDocs to StreamUtils HttpTest MqttTest JmsSource Exception Handling StreamUtils stream method should throw IllegalStateException instead of a checked exception XDEc2Validation assertReceived assertValid should throw IllegalStateException instead of a checked exception,0
Update Spring Integration Version to 400RELEASE,0
Byte to String conversion should support applicationjson See httpstackoverflowcomquestions27491237spring-xd-tcp-source-outputs-byte-array-instead-of-string-how-to-output-regu Same behavior as --outputType textplain but more intuitive to use applicationjson if the stream author expects the source to emit json No content validation will be done,0
UI Update AngularJS to v13 httpsdocsangularjsorgguidemigrationmigrating-from-1-2-to-1-3 httpangularjsblogspotcom201410ng-europe-angular-13-and-beyondhtml httpangularjsblogspotcom201410angularjs-130-superluminal-nudgehtml,0
Stream documentation review,0
Clean up spring-xd-batch sub-project We should move the orgspringframeworkxdbatchjdbcColumnRangePartitioner and orgspringframeworkxdbatchitemjdbcFieldSetSqlParameterSourceProvider to the spring-xd-extension-batch project,0
Make Sqoop job and MapReduce samples work with Hortonworks HDP 22 single-node cluster Having problems testing against the Sandbox 22 We need to set the following properties yarnapplicationclasspath yarnappmapreduceamcommand-opts mapreduceapplicationclasspath mapreduceapplicationframeworkpath,0
Combine Distributed job locator related schema changes into one table Currently there are JOBREGISTRYNAMES JOBREGISTRYRESTARTABLES and JOBREGISTRYINCREMENTABLES tables and we can possibly combine them into one table and have a better schema for this,0
Documentation for gemfirecq file processing Put on the guide as a section in an input-stream wiki page,0
We Need a KafkaSingleNodeStreamDeploymentIntegrationTests See RedisSingleNodeStreamDeploymentIntegrationTests etc,0
NPE when a container departs When a container departs the cluster the admin will try to redeploy any modules that container was running If the stream was destroyed and the container exited before it had the chance to clean up its deployments under xddeploymentsmodules for example with kill -9 the following NPE occurs noformat javalangNullPointerException orgspringframeworkxddirtserverContainerListenerloadStreamContainerListenerjava347 orgspringframeworkxddirtserverContainerListeneronChildLeftContainerListenerjava403 orgspringframeworkxddirtserverContainerListenerchildEventContainerListenerjava158 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava494 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava488 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava293 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava485 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache11runPathChildrenCachejava755 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava724 noformat If the stream was undeployed the following stack appears noformat 151306002 ERROR ContainersPathChildrenCache-0 cachePathChildrenCache550 - javalangRuntimeException orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsstreamst0 orgspringframeworkxddirtserverContainerListeneronChildLeftContainerListenerjava468 orgspringframeworkxddirtserverContainerListenerchildEventContainerListenerjava159 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava494 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava488 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava293 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava485 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache11runPathChildrenCachejava755 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 javautilconcurrentFutureTaskrunFutureTaskjava266 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 javautilconcurrentFutureTaskrunFutureTaskjava266 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava744 Caused by orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsstreamst0 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 orgapachezookeeperZooKeepergetDataZooKeeperjava1155 orgapachecuratorframeworkimpsGetDataBuilderImpl4callGetDataBuilderImpljava302 orgapachecuratorframeworkimpsGetDataBuilderImpl4callGetDataBuilderImpljava291 orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 orgapachecuratorframeworkimpsGetDataBuilderImplpathInForegroundGetDataBuilderImpljava287 orgapachecuratorframeworkimpsGetDataBuilderImplforPathGetDataBuilderImpljava279 orgapachecuratorframeworkimpsGetDataBuilderImplforPathGetDataBuilderImpljava41 orgspringframeworkxddirtserverContainerListenerloadStreamContainerListenerjava358 orgspringframeworkxddirtserverContainerListeneronChildLeftContainerListenerjava417 16 more noformat In short this logic makes the assumption that the stream is still present and deployed It needs to take into account the fact that neither assumption can be made,0
twittersearch stream returns duplicate tweets The twittersearch source module picks up the same tweet in successive iterations of the REST request The reason for this is that the sinceid value being set at the end of each iteration is the last item in the list of tweets but not the latest value of tweet id Steps to reproduce Created a stream using below definition stream create --name twittersearchspring --definition twittersearch --consumerKeykey --consumerSecretsecret --queryspring tweet-transformer file --deploy tweet-transformer referred here is used from the spring-xd-samples repo and is logging the tweet ID being transformed httpsgithubcomspring-projectsspring-xd-samplestreemastertweet-transformer-processor Below is the log 2015-04-14 154722154 110RELEASE INFO DeploymentSupervisor-0 serverStreamDeploymentListener - Deployment status for stream twittersearchspring DeploymentStatusstatedeployed 2015-04-14 154722158 110RELEASE INFO DeploymentSupervisor-0 serverStreamDeploymentListener - Stream Streamnametwittersearchspring deployment attempt complete 2015-04-14 154724301 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884756488032256 2015-04-14 154724312 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884752591544320 2015-04-14 154724315 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884752536911873 2015-04-14 154724318 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884751219986432 2015-04-14 154724320 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884750620258305 2015-04-14 154724325 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884749974147072 2015-04-14 154724340 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884743338917888 2015-04-14 154724342 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884741493272577 2015-04-14 154724343 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884739387719680 2015-04-14 154724344 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884737307549696 2015-04-14 154724346 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884734723702784 2015-04-14 154724348 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884730059771905 2015-04-14 154724356 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884729225125888 2015-04-14 154724358 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884725802405888 2015-04-14 154724359 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884724938481665 2015-04-14 154726465 110RELEASE DEBUG twitterSource-1-1 twitterTwitterSearchChannelAdapter - Search urihttpsapitwittercom11searchtweetsjsonqspringsinceid587884724938481665 2015-04-14 154726865 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884766608916481 2015-04-14 154726867 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884766072025089 2015-04-14 154726869 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884765707116544 2015-04-14 154726871 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884764394299392 2015-04-14 154726872 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884761366003712 2015-04-14 154726878 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884759381966849 2015-04-14 154726880 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884756488032256 2015-04-14 154726882 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884752591544320 2015-04-14 154726884 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884752536911873 2015-04-14 154726886 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884751219986432 2015-04-14 154726887 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884750620258305 2015-04-14 154726889 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884749974147072 2015-04-14 154726890 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884743338917888 2015-04-14 154726900 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884741493272577 2015-04-14 154726903 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884739387719680 2015-04-14 154729004 110RELEASE DEBUG twitterSource-1-1 twitterTwitterSearchChannelAdapter - Search urihttpsapitwittercom11searchtweetsjsonqspringsinceid587884739387719680 2015-04-14 154729369 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884782945611776 2015-04-14 154729371 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884781305663488 2015-04-14 154729374 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884779506311169 2015-04-14 154729376 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884775895072768 2015-04-14 154729377 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884771893739520 2015-04-14 154729379 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884771717578753 2015-04-14 154729384 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884769138081792 2015-04-14 154729386 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884766608916481 2015-04-14 154729388 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884766072025089 2015-04-14 154729389 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884765707116544 2015-04-14 154729390 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884764394299392 2015-04-14 154729391 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884761366003712 2015-04-14 154729395 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884759381966849 2015-04-14 154729399 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884756488032256 2015-04-14 154729401 110RELEASE INFO twitterSource-1-1 transformerTweetTransformer - Transforming tweet with id 587884752591544320 2015-04-14 154731502 110RELEASE DEBUG twitterSource-1-1 twitterTwitterSearchChannelAdapter - Search urihttpsapitwittercom11searchtweetsjsonqspringsinceid587884752591544320 Notice that tweet ID 587884752591544320 is picked up in second iteration as well although it was picked in the first The issue can be fixed in the doSendLine method of TwitterSearchChannelAdapterjava where thissinceId is being set to the last value of id Instead the statuses map can be sorted on ID and the highest ID can be set for sinceId,0
As a user Id like to have the option of batching for the Rabbit sink so that I can write data in batches as opposed to one-at-a-time,5
add create and deploy methods to JobsController see httpsdocsgooglecomagopivotalcomdrawingsd1kCNbVspRBjGc10itF9cSkwST8WgCjgg3wGzFKqLCAzUedit Create the controller if it doesnt exist Test with MvcTest,0
Composed modules not working on YARN From httpsgithubcomspring-projectsspring-xdissues1704 I am trying to use composed modules when running on YARN In ZK each child module definition of the composed module gets serialized as follows classorgspringframeworkxdmoduleSimpleModuleDefinitionnametransformtypeprocessorlocationfiletmphadoop-hdusernm-local-dirusercachehduserappcacheapplication14337891372180001filecache17spring-xd-yarn-112RELEASEzipmodulesprocessortransform When I try to use the composed module on YARN it may be deployed to a different container where the location file path is not valid In this case I get the following exception javalangIllegalArgumentException File must exist orgspringframeworkbootloaderdataRandomAccessDataFileinitRandomAccessDataFilejava67 orgspringframeworkbootloaderdataRandomAccessDataFileinitRandomAccessDataFilejava51 orgspringframeworkbootloaderjarJarFileinitJarFilejava95 orgspringframeworkbootloaderarchiveJarFileArchiveinitJarFileArchivejava61 orgspringframeworkbootloaderarchiveJarFileArchiveinitJarFileArchivejava57 orgspringframeworkxdmodulesupportModuleUtilscreateModuleClassLoaderModuleUtilsjava54 orgspringframeworkxdmodulesupportModuleUtilscreateModuleClassLoaderModuleUtilsjava47 orgspringframeworkxdmoduleoptionsDefaultModuleOptionsMetadataResolverresolveNormalMetadataDefaultModuleOptionsMetadataResolverjava186 orgspringframeworkxdmoduleoptionsDefaultModuleOptionsMetadataResolverresolveDefaultModuleOptionsMetadataResolverjava164 orgspringframeworkxdmoduleoptionsDelegatingModuleOptionsMetadataResolverresolveDelegatingModuleOptionsMetadataResolverjava44 orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverresolveEnvironmentAwareModuleOptionsMetadataResolverjava127 orgspringframeworkxdmoduleoptionsDefaultModuleOptionsMetadataResolverresolveComposedModuleMetadataDefaultModuleOptionsMetadataResolverjava175 orgspringframeworkxdmoduleoptionsDefaultModuleOptionsMetadataResolverresolveDefaultModuleOptionsMetadataResolverjava167 orgspringframeworkxdmoduleoptionsDelegatingModuleOptionsMetadataResolverresolveDelegatingModuleOptionsMetadataResolverjava44 orgspringframeworkxdmoduleoptionsEnvironmentAwareModuleOptionsMetadataResolverresolveEnvironmentAwareModuleOptionsMetadataResolverjava127 orgspringframeworkxddirtstreamXDStreamParserparseXDStreamParserjava174 I think the issue may be related to the following line in ArchiveModuleRegistry String filename resourcegetFilegetCanonicalFilegetName,0
Upgrade to Reactor 201,0
Vary consumers size ECB-4 Using a single producer message size of 1000 bytes Pretch of 100 Send 1M messages and increase or decrease so that a given test iteration takes about 2 minutes Vary the number of consumers Measure the msgsec rate and calculate the data transfer rate in MBsec Number of consumers 1 2 4 6 10 50 During the measurements look at the RabbitMQ Admin UI and see if the queue is backing up,0
Register StringToByteArrayMessageConverter The converter was not configured therefore String to byte for --outPutType applicationoctet-stream fails for a String payload,0
Fix package tangle between orgspringframeworkxddirtpluginsjob and orgspringframeworkxddirtjob,0
Create script to extract table data from JSON based on a given HAWQ table structure We should be able to write a script that can examine the table structure for a given HAWQ table and then extract the data from JSON without the custom script we are using now,0
As a user Id like to have the option to enable HTTPS so that I can access XDs Admin server endpointshttpsgithubcomspring-projectsspring-xdwikiREST-APIxd-resources over secured communication Technical Implementation This functionality is available in Spring Boot 120 M1 and has been backported into the 11x branch to be released under Spring 117 We can test against 117 SNAPSHOT Working through the way to update the build file to pick up a new version of boot is a bit tricky,1
Full build with tests fail on Ubuntu On Ubuntu 1404 LTS using OpenJDK version 17065 OpenJDK Runtime Environment IcedTea 253 7u71-253-0ubuntu014041 OpenJDK 64-Bit Server VM build 2465-b04 mixed mode I see the following failures spring-xd-dirttest orgspringframeworkxddirtsecuritySingleNodeApplicationWithUserBasedSecurityTest classMethod FAILED orgspringframeworkbeansfactoryBeanCreationException Caused by javalangIllegalStateException Caused by javanetBindException orgspringframeworkxddirtsecuritySingleNodeApplicationWithLdapSimpleBindTest classMethod FAILED orgspringframeworkbeansfactoryBeanCreationException Caused by javalangIllegalStateException Caused by javanetBindException orgspringframeworkxddirtsecuritySingleNodeApplicationWithDefaultSecurityTest classMethod FAILED orgspringframeworkbeansfactoryBeanCreationException Caused by javalangIllegalStateException Caused by javanetBindException orgspringframeworkxddirtsecuritySingleNodeApplicationWithSslTest classMethod FAILED orgspringframeworkbeansfactoryBeanCreationException Caused by javalangIllegalStateException Caused by javanetBindException orgspringframeworkxddirtsecuritySingleNodeApplicationWithUsersFileTest classMethod FAILED orgspringframeworkbeansfactoryBeanCreationException Caused by javalangIllegalStateException Caused by javanetBindException orgspringframeworkxddirtsecuritySingleNodeApplicationWithLdapSearchAndBindTest classMethod FAILED orgspringframeworkbeansfactoryBeanCreationException Caused by javalangIllegalStateException Caused by javanetBindException 595 tests completed 6 failed 2 skipped spring-xd-dirttest FAILED The test reports has this Caused by javalangIllegalStateException HSQLDB could not be started on 00007714 state SHUTDOWN orgspringframeworkxdbatchhsqldbserverHSQLServerBeanstartServerHSQLServerBeanjava162 orgspringframeworkxdbatchhsqldbserverHSQLServerBeanafterPropertiesSetHSQLServerBeanjava82 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinvokeInitMethodsAbstractAutowireCapableBeanFactoryjava1625 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryinitializeBeanAbstractAutowireCapableBeanFactoryjava1562 42 more Caused by javanetBindException Address already in use javanetPlainSocketImplsocketBindNative Method javanetAbstractPlainSocketImplbindAbstractPlainSocketImpljava376 javanetServerSocketbindServerSocketjava376 javanetServerSocketinitServerSocketjava237 javanetServerSocketinitServerSocketjava128 orghsqldbserverHsqlSocketFactorycreateServerSocketUnknown Source orghsqldbserverServeropenServerSocketUnknown Source orghsqldbserverServerrunUnknown Source orghsqldbserverServeraccess000Unknown Source orghsqldbserverServerServerThreadrunUnknown Source So I assume I see this due HSQL running from another test,0
Fix random Spark streaming test failures The testTapSparkProcessor has the test that checks the contents at the output of spark streaming word count processor It turns out that the order in which these messages are processed are not always in order,0
Need to create a Persistent-Job-Registry In order to hook up the to get access to all the jobs available the job registry has to be shared currently the only implmentation is is the MapJobRegistry Testability The admin will need to be see all jobs created by its containers,0
Remove the S3 XD Jar Cache Originally it was placed in the code to prevent overtasking our servers with downloads when people want to install XD And to allow for faster downloads However XD Jars are already placed on S3 so this feature is no longer needed,0
Connection pool settings need to be in their own section in serveryml The ConnectionPoolSettings define this in the beginning - code spring datasource code uncommenting this will overrideinvalidate any changes made earlier in the section since it defines springdatasource again should either be removed or in separate section,0
Documentation for file source httpstaticspringsourceorgspring-xddocs100BUILD-SNAPSHOTreferencehtmlsources should have file added to the list and also the corresponding section that shows some basic usage,0
Add Spring XD Build Plan for Java 8 to Bamboo This is issue depends on XD-761 httpsbuildspringsourceorgbrowseXD-JDK8,0
Support GET streams Pagination support maybe querying by name as well,0
Refactor StreamServer to an interface and create Redis and Local implementations The current StreamServer depends on RedisStreamDeployer Call this RedisStreamServer and extract interface to allow alternate implementations,0
Add support for custom headers with the Kafka bus Currently the Kafka Message Bus does not have the ability to configure a set of custom headers to persist in the embeddedHeaders mode only the message-bus specific message headers are persisted,0
Retrieve information for a Field Value Counter TODO as part of this see XD-537 Get rid of so-called Service layer in analytics project doesnt do much right now and logic would better live in the Handler IMO Have REST controllers depend on XRepository in all cases,0
Spike for job that imports data from CSV file to HDFS TBD,0
Clean shutdown of redis in xd-admin A ctrl-c of xd-admin results in exception messages about disconnecting from redis 141607327 ERROR task-scheduler-1 handlerLoggingHandler136 - orgspringframeworkdataredisRedisSystemException Redis command interrupted nested exception is comlambdaworksredisRedisCommandInterruptedException Command interrupted,0
Boot updates post 05 M7 Some boot classes we compile against have changed or been replaced,0
Provide security integration Acceptance Criteria - Users should be able to gain access using usernamepassword - Both usernamepassword are mandatory - Invalid user credentials should be displayed as error messages and the user will not be able to gain access,0
NPE in AbstractReactorMessageHandler When the BroadcasterMessageHandler is defined as a ServiceActivator Bean the output channel must be set on the handler not in the annotation The handler should detect a null outputChannel See httpstackoverflowcomquestions32462059spring-xd-reactor-streams-with-configuration-npe,0
As a QA Id like to include acceptance test coverage for Kafka as a message bus so that I can validate the functionality as part of every CI build,5
XD-EC2 Needs to support XDCONTAINERGROUPS for created containers XD-EC2 applies the environment variables to all container instances that are created This behavior has to be altered such that a environment variable can be applied to to a specific container instance For example if we create a 3 node cluster Admin Container1 Container2 Container3 For Example XD1XDCONTAINERGROUPSGROUP1 XD2XDCONTAINERGROUPSGROUP2 In this example XD1XDCONTAINERGROUPSGROUP1 would apply XDCONTAINERGROUPSGROUP1 to container1s environment XD2XDCONTAINERGROUPSGROUP2 would apply XDCONTAINERGROUPSGROUP2 to container2s environment While container3 would not receive a specific environment setting for XDCONTAINERGROUPS,0
Redis sink should default to using springredis configuration in serversyml The configuration for the redis sink must be provided for explicitly instead of falling back to values defined in serversyml The default behavior configuration should be address in a manner consistent with the default behavior of module config for rabbit sourcesink jdbc sink,0
Automate copyright header management Some java files are currently missing headers The plugin at httpsgithubcomhierynomuslicense-gradle-plugin can help but initial trial revealed that - skipExistingHeaders does not seem to be honored We may then need to use a year construction like 2001-current or force all files to have current year Dont know the legal implications of this - Default source sets encompass all files in the classpath basically so that means xml as well as properties files for example It would seem logical to add header to those as well but I dont think this is what we do on other projetcs,0
Support for listing of modules in the REST API From the CLI one should be able to get a listing of modules and be able to specifically ask for jobs sources sinks and processors A brief description of them would also be nice - this might come from adding some metadata into the definition Finer grained descriptionimplementation suggestion TBD,0
Placeholder for Spring XD Lab,0
Module re deployment failed after ZK Cluster Ensemble lost quorum When simulating a slow network by deploying a Zookeeper with 3 nodes Zookeeper 1 followerwas located at US-East-1 Zookeeper 2 follower was in Sydney Zookeeper 3 Leader was in Sydney XD Admin and containers were running in US-East-1 Zone In this case we simulated a loss of quorum by killing the zookeeper 2 follower in Sydney All modules were undeployed When I restarted the zookeeper 2 all containers and admin recognized the ensemble was up and tried to redeploy the modules but the stream was left in a Failed state Steps to reproduce Deploy Stream httpfile Start Data Flow to stream from JMeter Terminate ZK Follower in AU Restart ZK Follower in AU The workaround is to undeploy and deploy the stream,0
As a developer Id like to split up spring-xd dependencies to more fine-grained so I can get the ones below the line down to spring-bus- instead of spring-xd- bundle,8
Upgrade to Spring Shell 11 RC3,0
ModuleConfigurationException should not report HTTP 500 See discussion at httpsgithubcomspring-projectsspring-xdpull1537issuecomment-99583179 This is likely a client error so should be in the 4xx family This requires customization of RestControllerAdvice,0
Need better error handling for module info shell command Would be better to provide a more useful message eg The module name must be of the form module-typemodule-name xdmodule info --name time javalangStringIndexOutOfBoundsException Failed to convert time to type QualifiedModuleName for option name String index out of range -1 xdmodule info --name sinktime javalangStringIndexOutOfBoundsException Failed to convert sinktime to type QualifiedModuleName for option name String index out of range -1 xdmodule info --name sinktime Command failed orgspringframeworkxdrestclientimplSpringXDException NullPointerException xdmodule info --name sourcetime Information about source module time,0
Add a Sqoop example,0
Documentation for aggregate counter REST API should include query parameters Query parameters for resolution from and to should be documented along with how to specify the time string yyyy-MM-dd HHmmss,0
Add RabbitMQ-based implementation of ChannelRegistry,0
Zookeeper NoNode exception when deploying stream Same problem on M6 and using BUILD-SNAPSHOT When deploying a stream that has a slow-starting component that connects to Gemfire the deployment fails with a ZK NoNode exception No log from the component seen but in all honesty the component could be waiting on a timeout orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsmodules2af8624b-777c-4084-aa1a-9d675b53afe3test1sinkreactor-batching-client-1metadata orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 orgapachezookeeperZooKeepercreateZooKeeperjava783 orgapachecuratorframeworkimpsCreateBuilderImpl11callCreateBuilderImpljava676 orgapachecuratorframeworkimpsCreateBuilderImpl11callCreateBuilderImpljava660 orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 orgapachecuratorframeworkimpsCreateBuilderImplpathInForegroundCreateBuilderImpljava656 orgapachecuratorframeworkimpsCreateBuilderImplprotectedPathInForegroundCreateBuilderImpljava441 orgapachecuratorframeworkimpsCreateBuilderImplforPathCreateBuilderImpljava431 orgapachecuratorframeworkimpsCreateBuilderImplforPathCreateBuilderImpljava44 orgspringframeworkxddirtserverContainerRegistraronChildAddedContainerRegistrarjava370 orgspringframeworkxddirtserverContainerRegistraraccess800ContainerRegistrarjava93 orgspringframeworkxddirtserverContainerRegistrarDeploymentListenerchildEventContainerRegistrarjava706 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava494 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava488 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava293 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava485 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache11runPathChildrenCachejava755 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745,0
Refactor Task parsing Currently the DSL parsing for tasks is a copy and paste of what it is for streams minus the ability to parse multiple modules This results in a lot of duplication This should be refactored to remove duplication and remove explicit references to either streams or tasks in common code,0
New libraries to experiment We would like to experiment with open source libraries to further enrich Spring XDs service offerings and feature-set This epic remains the anchor point for following categories and the respective experimentation outcomes will be documented in the associated stories Measure based alerts Log analysis Machine learning and graph computation,0
Address already in use for tomcathsqldb should fail completly Currently process is left running and if logs sysout are not monitored you have no clue,0
Refactor use of getContainerHostForSource in integration tests Some cleanup to make the tests a bit easer to read,0
As a user I need a document covering our recommendations for deploying a XD cluster using Mesos with the Marathon Framework,8
Investigate skipped tests in build enable or remove We have 13 skipped tests now,0
Spring xd to configure the stream drag and graphic spring xd Can drag way to configure flow in the form of figure Similar to configure a workflow graphical interface Looking forward to reply,0
Do not allow the use of named channels in composed modules This needs closer inspection but here are some things that currently do not work either at the parser level or at actual deployment time noformat xdmodule compose foo --definition queuebar filter Command failed orgspringframeworkxdrestclientimplSpringXDException Could not find module with name filter and type sink xdmodule compose foolog --definition queuefoo log Successfully created module foolog with type sink should fail not a module but a full stream xdmodule compose foo --definition queuebar filter transform Successfully created module foo with type processor should be source noformat,0
Using a newer version of a spring-xd dependency is ignored in packaging When creating a new module with a dependeny which has a newer version than the one Spring-xd uses in my example I use Jedis 261 and Spring-xd uses Jedis 252 the packaging ignores the dependency Using the solution of spring-boot-maven-plugin doesnt help because it will only include what you explicitly add to the include section transitive dependencies are not included,0
REST Make the Configurations REST endpoint pagination-aware Add pagination for httplocalhost9393jobsconfigurations Related to XD-1864,0
File source should be able to produce file contents or file reference File source should output either the File itself serialized File object or the contents as a byte This option is configured by a parameter --contentstrue The byte may be converted to a String using XD Message Conversion eg --output textplaincharsetUTF-8,0
As a PM Id like to have the Smart Grid demo from s1-2014 ported into Spring XD samples repo,8
Update to Spring Boot 121RELEASE,0
redisproperties values ignored The container application loads redisproperties but for some reason the values are ignored and defaults are used instead Repro steps Unpack Spring XD 100M1 to a machine with no running Redis instance Change xdconfigredisproperties to specify a different hostname Run xdbinxd-container Observe error about inability to connect to Redis on localhost Workaround Pass -Dredishostnamedesired IP as a JVM parameter,0
Create redisProtocolxml that will load all the Redis specific implementations to suppor the XD container runtime and administration The redis specific beans that are defined in the current launcherxml should move into this configuration file,0
Module info for jdbc sink and jobs are unreadable The module info command renders text that is pretty much unreadable on a reasonably sized screen See attached screen shot Also all the jdbc pool settings are mixed in with module settings making for a confusing list of options What the heck does fairQueue have to do with filejdbc jobs,0
User should be able to specify deploy properties for Jobs When clicking deploy from the job definitions page user should be able to specify the deployment manifest module count module criteria etc,0
As a s-c-d developer Id like to enhance unit test coverage for YARN SPI so I can continuously evaluate functionalities via CI pipeline,3
As a Spring XD developer Id like to move shell module from XD to s-c-s repo so I can use it as sink to build streaming pipeline,2
As a developer Id like to create a Tuple load-generator so I can use it to measure Tuple based payload performance,3
JDBC Acceptance tests must jdbc props vs configProps setting In this case we will use environment variables to set the JDBC sink settings Thus we will just remove code,0
Convert remaing FileSink assertions to eventually constructs See discussion at httpsgithubcomspring-projectsspring-xdpull362,0
Replace gardenhose doc with new twitterstream,0
UI Provide place holder text if tables dont have items Provide place holder text if tables dont have items Eg No definitions found,0
Add more hands on example to MQTT doco Not everyone may be familiar with MQTT or esp with MQTT inside Rabbit,0
As a Spring XD developer Id like to port file module from XD to s-c-s repo so I can use it as sink module to build streaming pipeline,2
Add documentation for jsonPath functionality with SpEL based processors See issue httpsjiraspringsourceorgbrowseXD-862 The docs should be updated to include examples that show how to use the standard SpEL based splitter transformer filters with jsonPath expressions,0
The batch-hashtag-count example from spring-xd-samples is giving javalangClassNotFoundException Exception Version Spring XD Version spring-xd-130RELEASE spring-xd-130RELEASE-yarn OS Version Linux 2632-431292el6x8664 Java Version java version 17065 Description The batch-hashtag-count example from spring-xd-samples ran using spring xd is failing with inline error message Steps to recreate the problem 1 Followed steps present in READMEasciidoc present at the Git repository link given below httpsgithubcomspring-projectsspring-xd-samplestreemasterbatch-hashtag-count Describe XD Deployment Distributed Deployment Type Distributed - YARN on AWS EC2 cloud Number of xd-admins and xd-containers 1 Admin and 3 Containers Describe Other Components Transport Redis 301 ZooKeeper Version 3462320-2950 Hadoop deployment Data Platform Hortonworks HDP 2320-2950 RDBMS MySQL Error Message 2015-11-23 175616527 WARN main orgapachehadoopmapredYarnChild Exception running child javalangRuntimeException javalangClassNotFoundException Class or gspringframeworkxdexampleshadoopHashtagCountTokenizerMapper not found at orgapachehadoopconfConfigurationgetClassConfigurationjava2195 at orgapachehadoopmapreducetaskJobContextImplgetMapperClassJobContextImpljava186 at orgapachehadoopmapredMapTaskrunNewMapperMapTaskjava745 at orgapachehadoopmapredMapTaskrunMapTaskjava341 at orgapachehadoopmapredYarnChild2runYarnChildjava164 at javasecurityAccessControllerdoPrivilegedNative Method at javaxsecurityauthSubjectdoAsSubjectjava422 at orgapachehadoopsecurityUserGroupInformationdoAsUserGroupInformationjava1657 at orgapachehadoopmapredYarnChildmainYarnChildjava158 Caused by javalangClassNotFoundException Class orgspringframeworkxdexampleshadoopHashtagCountTokenizerMapper not found at orgapachehadoopconfConfigurationgetClassByNameConfigurationjava2101 at orgapachehadoopconfConfigurationgetClassConfigurationjava2193 8 more,0
Composing modules ignores outputinput type specified in definition When composing two or more modules together if any output or input type is specified between modules it is ignored I created a stream with definition code mySourceModule --outputTypeapplicationjson myProcessorModule code that worked fine as expected When i composed this definition as a composed module I got errors stating that the processors message handler had no handler method for the object the source module emitted The process was only configured to accept JSON as string I simply had to create a second handler method but if i didnt own the module this could be an issue,0
Align filehdfs batch job defaults with those of corresponding hdfs sink The batch jobs use different defaults compared to some of the sinksource modules filehdfs puts data in a data directory with files named after the stream using a log file extension The hdfs sink puts files in an xdstreamname directory using txt as the default file extension filehdfs needs a more descriptive naming,0
Need to support XDadminhost and xdcontainers in test properties If a user wishes to run the acceptance tests from their local machine against an XD instance on EC2 the only way to establish container and admin server is via the artifact ec2serverscsv And this has to be copied to the spring-xd-integration-test subdirectory The user should be able to set the xdadminhost and xdcontainers in the application-profileproperties file,0
User wants the ability to persist the state of a Trigger Instance,0
Support for Mesos based s-c-d deployment,0
Add XmlRootElement to all REST resources Some REST resources lack an XmlRootElement annotation This causes a JAXB marshalling error when trying to access the API with an Accept header of xml which is the default in most browsers This is a preliminary to XD-1800 which is much more involved only to fix ugly exception,0
Temp files for stream create not being cleaned During testing for Spring XD for PivotalCF we create deploy use undeploy and destroy many streams Each stream generates tmp directories I think 2 one for source one for sink in the xd-admin VMs tmp directory eg noformat dummy-module4635787551932601017sinkredis dummy-module252960009195893204sourcehttp noformat These tmp directories are not being cleared up so our system has hit the inode limit of 32768 files for a volume noformat Filesystem Inodes IUsed IFree IUse Mounted on devloop0 32768 32768 0 100 tmp noformat This causes a Java IOException the immediately relevant part of which appears to be noformat Caught exception while handling a request Feb 18 090606 108530142-2 xd-admin-partition-defaultazguid-0 javalangRuntimeException javaioIOException No space left on device Feb 18 090606 108530142-2 xd-admin-partition-defaultazguid-0 at orgspringframeworkxdmoduleModuleDefinitionsdummyModuleDefinitionsjava81 noformat This causes the test system to fail entirely,0
Interface to capture required data for state calculation When the state of all the individual modules for a stream are collected these states need to be examined in order to determine what the overall stream state is These should be fed into an interface that can potentially be pluggable to handle all of the edge casesscenarios that may arise One possibility is noformat public interface DeploymentUnitStateCalculator DeploymentUnitState calculateDeploymentUnit deploymentUnit ModuleDeploymentPropertiesProvider provider CollectionModuleState moduleStates noformat,0
Modularize gradle build split out buildgradle into multiple files,0
As a user Id like to have a R processor so I can efficiently perform data computations and statistical analysis in the context of streaming pipeline Investigate the right approach that fits Spring XD model R Java Libraries rJavahttprforgenetrJava Renjinhttpwwwrenjinorg,8
CI Environment Needs test resources updated to latest versions Update Hadoop Spark Mongo gemfire and ubuntu to latest versions for both CI and Utility instances,0
Provisioning of Custom inputoutput Converters is Broken Custom conversion is broken If the custom MimeType does not match any of those in MessageConverterUtilsgetJavaTypeForContentType then the channel configuration fails with code throw new ModuleConfigurationExceptionContent type is not supported for channelgetComponentName Type contentType code The code needs to consult custom converters to see what MimeType s they support - and the output Java type See httpstackoverflowcomquestions35639975adding-a-custom-type-converter-to-spring-xd,0
Replace spring-xd-messagebus- dependencies with SCS XD 20 will not have direct dependency on the s-c-s Binder as MB has been renamed The message bus code is obsoleteorphaned in XD 20 but some is required to support current integration tests We can look at pruning it some more but complete removal likely depends on integrating the s-c-s enabled Admin SPI MB will remain in XD 1x,0
Investigate deployed module context close upon container shutdown Upon the container shutdown the deployed modules contexts get closed before the corresponding StreamJobModuleWatcher does the undeployment of the streamjob modules,0
Cant create stream running on Windows Trying to test on Windows and getting the following exception when createing a stream - stream create --name tictoc --definition time log code 093420789 110SNAP INFO main utilXdConfigLoggingInitializer - XD Home CTestspring-xd-110BUILD-SNAPSHOTxdbin 093420790 110SNAP INFO main utilXdConfigLoggingInitializer - Transport local 093420790 110SNAP INFO main utilXdConfigLoggingInitializer - XD config location fileCTestspring-xd-110BUILD-SNAPSHOTxdbinconfig 093420790 110SNAP INFO main utilXdConfigLoggingInitializer - XD config names serversapplication 093420793 110SNAP INFO main utilXdConfigLoggingInitializer - XD module config location fileCTestspring-xd-110BUILD-SNAPSHOTxdbinconfigmo dules 093420794 110SNAP INFO main utilXdConfigLoggingInitializer - XD module config name modules 093420795 110SNAP INFO main utilXdConfigLoggingInitializer - Admin web UI httpSeattle9393admin-ui 093420797 110SNAP INFO main utilXdConfigLoggingInitializer - Zookeeper at localhost64424 093420798 110SNAP INFO main utilXdConfigLoggingInitializer - Zookeeper namespace xd 093420799 110SNAP INFO main utilXdConfigLoggingInitializer - Analytics memory 093420913 110SNAP INFO LeaderSelector-0 serverDeploymentSupervisor - Leader Admin singlenodedefaultadminsinglenodehsqldbServer9393 is watching for streamjob deployment requests 093421013 110SNAP INFO DeploymentSupervisor-0 serverContainerListener - Path cache event typeINITIALIZED 093421070 110SNAP INFO main serverAdminServerApplication - Started AdminServerApplication in 6364 seconds JVM running for 18031 093422593 110SNAP INFO main serverContainerRegistrar - Container ip1921680120 hostSeattle groups pid1108 id08c72e88-66d4-4b47-bd4a-8f5e5849 099f joined cluster 093422594 110SNAP INFO main utilXdConfigLoggingInitializer - XD Home CTestspring-xd-110BUILD-SNAPSHOTxdbin 093422594 110SNAP INFO main utilXdConfigLoggingInitializer - Transport local 093422595 110SNAP INFO main utilXdConfigLoggingInitializer - XD config location fileCTestspring-xd-110BUILD-SNAPSHOTxdbinconfig 093422596 110SNAP INFO main utilXdConfigLoggingInitializer - XD config names serversapplication 093422596 110SNAP INFO main utilXdConfigLoggingInitializer - XD module config location fileCTestspring-xd-110BUILD-SNAPSHOTxdbinconfigmo dules 093422596 110SNAP INFO main utilXdConfigLoggingInitializer - XD module config name modules 093422596 110SNAP INFO main utilXdConfigLoggingInitializer - Container IP address 1921680120 093422596 110SNAP INFO main utilXdConfigLoggingInitializer - Container hostname Seattle 093422596 110SNAP INFO main utilXdConfigLoggingInitializer - Hadoop Distro hadoop22 093422597 110SNAP INFO DeploymentSupervisor-0 serverContainerListener - Path cache event pathcontainers08c72e88-66d4-4b47-bd4a-8f5e5849099f typeCH ILDADDED 093422600 110SNAP INFO DeploymentsPathChildrenCache-0 serverDeploymentListener - Path cache event typeINITIALIZED 093422607 110SNAP INFO DeploymentSupervisor-0 serverContainerListener - Container arrived Containername08c72e88-66d4-4b47-bd4a-8f5e5849099f attrib utesip1921680120 hostSeattle groups pid1108 id08c72e88-66d4-4b47-bd4a-8f5e5849099f 093422609 110SNAP INFO DeploymentSupervisor-0 serverContainerListener - Scheduling deployments to new containers in 15000 ms 093422611 110SNAP INFO main utilXdConfigLoggingInitializer - Hadoop version detected from classpath 220 093422612 110SNAP INFO main utilXdConfigLoggingInitializer - Zookeeper at localhost64424 093422613 110SNAP INFO main utilXdConfigLoggingInitializer - Zookeeper namespace xd 093422615 110SNAP INFO main utilXdConfigLoggingInitializer - Analytics memory 093422616 110SNAP INFO main serverContainerServerApplication - Started ContainerServerApplication in 061 seconds JVM running for 19576 093615837 110SNAP ERROR http-nio-9393-exec-3 restRestControllerAdvice - Caught exception while handling a request javalangStringIndexOutOfBoundsException String index out of range -1 at javalangStringsubstringStringjava1954 at orgspringframeworkxddirtmoduleArchiveModuleRegistryfromResourceArchiveModuleRegistryjava140 at orgspringframeworkxddirtmoduleArchiveModuleRegistryfindDefinitionArchiveModuleRegistryjava68 at orgspringframeworkxddirtmoduleDelegatingModuleRegistryfindDefinitionDelegatingModuleRegistryjava48 at orgspringframeworkxddirtmodulestoreZooKeeperModuleDefinitionRepositoryfindByNameAndTypeZooKeeperModuleDefinitionRepositoryjava78 at orgspringframeworkxddirtstreamXDStreamParserresolveModuleTypeXDStreamParserjava317 at orgspringframeworkxddirtstreamXDStreamParserdetermineTypeXDStreamParserjava212 at orgspringframeworkxddirtstreamXDStreamParserparseXDStreamParserjava168 at orgspringframeworkxddirtstreamAbstractDeployersaveAbstractDeployerjava96 at orgspringframeworkxddirtrestXDControllersaveXDControllerjava223 at sunreflectNativeMethodAccessorImplinvoke0Native Method at sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 at sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 at javalangreflectMethodinvokeMethodjava483 at orgspringframeworkwebmethodsupportInvocableHandalerMethodinvokeInvocableHandlerMethodjava215 at orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava132 at orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava104 at orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava781 at orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava721 at orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava83 at orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava943 at orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava877 at orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava966 at orgspringframeworkwebservletFrameworkServletdoPostFrameworkServletjava868 at javaxservlethttpHttpServletserviceHttpServletjava646 at orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava842 at javaxservlethttpHttpServletserviceHttpServletjava727 at orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava303 at orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 at orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterInternalWebRequestTraceFilterjava110 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 at orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 at orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 at orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextHeaderFilterdoFilterInternalEndpointWebMvcAutoConf igurationjava280 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 at orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 at orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 at orgspringframeworksecuritywebFilterChainProxydoFilterInternalFilterChainProxyjava186 at orgspringframeworksecuritywebFilterChainProxydoFilterFilterChainProxyjava160 at orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 at orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 at orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 at orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 at orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 at orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava88 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 at orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 at orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 at orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava89 at orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 at orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 at orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 at orgapachecatalinacoreStandardWrapperValveinvokeStandardWrapperValvejava220 at orgapachecatalinacoreStandardContextValveinvokeStandardContextValvejava122 at orgapachecatalinaauthenticatorAuthenticatorBaseinvokeAuthenticatorBasejava501 at orgapachecatalinacoreStandardHostValveinvokeStandardHostValvejava171 at orgapachecatalinavalvesErrorReportValveinvokeErrorReportValvejava103 at orgapachecatalinacoreStandardEngineValveinvokeStandardEngineValvejava116 at orgapachecatalinaconnectorCoyoteAdapterserviceCoyoteAdapterjava408 at orgapachecoyotehttp11AbstractHttp11ProcessorprocessAbstractHttp11Processorjava1070 at orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava611 at orgapachetomcatutilnetNioEndpointSocketProcessordoRunNioEndpointjava1736 at orgapachetomcatutilnetNioEndpointSocketProcessorrunNioEndpointjava1695 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 at orgapachetomcatutilthreadsTaskThreadWrappingRunnablerunTaskThreadjava61 at javalangThreadrunThreadjava745 code,0
check whether the field exists or not in jsonpath evaluation I am parsing Jsonsource into CSV in Transform function All of my Json records may not have all the fields Some records have only Field1field2 some other records have all 3 fields if the specific field is not exists in specific record that record got rejectedby saying field is not exist Could you please let me know how to check the field exists or not Here my expression part of the stream transform --expressionjsonPathpayloadfield1concatconcatjsonPathpayloadfield2concatconcatjsonPathpayloadfield3 My Spring XD version is 1-0-0-m7,0
Connection props in rabbitproperties ignored by xd-admin and xd-container I modified rabbithostname in rabbitproperties and xd-container still attempted to find Rabbit at localhost with --transport rabbit Looks like the PPC for xd-container and xd-admin is not pointing to rabbitproperties,0
Bootstrap Project for XD AWS Installer Create a Spring application context XML or Java dealers choice Use XD eclipse code format policy Create Source Package structure Create Test Package Structure Gradle build JClouds and Spring deps,0
As a spring developer I can specify the default value for the module configs at the module config xml file and if no specific overriding options given the default value should get preferred Currently I see that by design we want to rely on the default option values from the ModuleOption metadata But the cases where some module configurations cant have the default say customerKey for twitterstream module and would be tempting to just try deploying after changing the twitterstreamxml with the default value expecting it to work,3
Add initial support for DeploymentManifest The REST API for deploy should accept parameters which provide manifest keyvalue pairs eg httpinstances5 Ultimately we will want to support passing a named manifest which had been stored previously The stream deploy shell command should support passing these as --options Initially we should support modulenameinstances and modulenamegroup,0
As a build manager Id like to have Spring XD RPMs published in springio repository so that users can directly download the bits without having to go through appsuite repo or the EULA Location for 110 RELEASE httprepospringiolibs-release-localorgspringframeworkxdspring-xd110RELEASE,2
Job in unknown state after run long sqooptasklet Hello guys I hope you are doing good I found a problem when I try run long sqoop imports 4 hours or more For some reason when the sqoop step finish the system is not able to save the meta data for the current sqoop step however the sqoop import finish without problems 2015-10-17T030403-0400 120RELEASE ERROR SimpleAsyncTaskExecutor-4 stepAbstractStep - Encountered an error saving batch meta data for step import-logs in job ingestion-flow This job is now in an unknown state and should not be restarted Please see attached log file for more details Could you please let me know if you need other details to find what is the problem Thanks in advance Hctor,0
As a developer Id like to measure the baseline serialization characteristics in XD so I can determine the areas of performance improvements,5
Package Tangle Introduced by XD-790 httpssonarspringsourceorgdrilldownmeasures7173metricpackagetangleindexrids5B5D7717,0
Apply Composite GoF pattern to ModuleDefinition,0
Prepare blog post for M1,0
Create Mock on DistributedJobService instead of instantiating object Currently the tests use instantiated DistributedJobService object instead of a simple mock We can just use mock object for the tests,0
Tap definitions should verify stream name xdstream create --name simple --definition http transform filter transform file Created new stream simple xdstream create --name tapSimple --definition tapstreammystreamtransform file Created new stream tapSimple There isnt a stream named mystream I dont remember if we want to allow for this set up taps before there is a stream or if it should be an error Otherwise works as expected xdstream create --name tapSimple2 --definition tapstreamsimpletransform file Command failed orgspringframeworkxdrestclientimplSpringXDException XD144Epos 11 Reference to transform is not unique in the target stream http transform filter transform file please label the relevant module and use the label or use a suffix index to indicate which occurrence of the module eg transform0 tapsimpletransform,0
No validation for module packaging during module upload One can upload a module which doesnt contain config package with module configuration artifacts eg XML groovy properties etc using the module upload command in Spring XD shell During stream deployment this will result in a cryptic exception codeMar 02 2015 104548 PM orgspringframeworkshellcoreSimpleExecutionStrategy invoke SEVERE Command failed orgspringframeworkxdrestclientimplSpringXDException Multiple top level module resources found file optspring-xdspring-xd-110RELEASExdconfigjms-activemqpropertiesfile optspring-xdspring-xd-110RELEASExdconfigxd-container-loggerpropertiesfile optspring-xdspring-xd-110RELEASExdconfigjms-hornetqpropertiesfile optspring-xdspring-xd-110RELEASExdconfigxd-singlenode-loggerpropertiesfile optspring-xdspring-xd-110RELEASExdconfigxd-admin-loggerpropertiesfile optspring-xdspring-xd-110RELEASExdconfighttpSSLpropertiesfile optspring-xdspring-xd-110RELEASExdconfighadooppropertiescode Root cause is most likely the module ClassLoader setup which delegates to parent ClassLoader which in turn scans XDHOMEconfig directory and discovers a number of properties files It would nice if Spring XD would validate the module during module upload command and prevent uploading of invalid modules,0
Accessing non-existing module causes NullPointerException This source exists code httplocalhost9393modulessourcetime code But trying to access a non-existing source such as code httplocalhost9393modulessourcetime2 code Triggers in the UI code linkslogrefNullPointerExceptionmessageNullPointerException code On the server-side code 60345387 ERROR http-nio-9393-exec-3 restRestControllerAdvice199 - Caught exception while handling a request javalangNullPointerException orgspringframeworkxddirtrestDetailedModuleDefinitionResourceAssemblertoResourceDetailedModuleDefinitionResourceAssemblerjava49 orgspringframeworkxddirtrestModulesControllerinfoModulesControllerjava104 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava62 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava483 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeInvocableHandlerMethodjava215 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava132 orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava104 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava749 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava689 orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava83 orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava938 orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava870 orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava961 orgspringframeworkwebservletFrameworkServletdoGetFrameworkServletjava852 javaxservlethttpHttpServletserviceHttpServletjava621 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava837 javaxservlethttpHttpServletserviceHttpServletjava728 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava305 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterWebRequestTraceFilterjava115 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextFilterConfiguration1doFilterInternalEndpointWebMvcAutoConfigurationjava137 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava88 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava85 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava108 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava243 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava210 orgapachecatalinacoreStandardWrapperValveinvokeStandardWrapperValvejava222 orgapachecatalinacoreStandardContextValveinvokeStandardContextValvejava123 orgapachecatalinaauthenticatorAuthenticatorBaseinvokeAuthenticatorBasejava472 orgapachecatalinavalvesRemoteIpValveinvokeRemoteIpValvejava680 orgapachecatalinacoreStandardHostValveinvokeStandardHostValvejava171 orgapachecatalinavalvesErrorReportValveinvokeErrorReportValvejava99 orgapachecatalinacoreStandardEngineValveinvokeStandardEngineValvejava118 orgapachecatalinaconnectorCoyoteAdapterserviceCoyoteAdapterjava407 orgapachecoyotehttp11AbstractHttp11ProcessorprocessAbstractHttp11Processorjava1004 orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava589 orgapachetomcatutilnetNioEndpointSocketProcessorrunNioEndpointjava1680 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 javalangThreadrunThreadjava744 code Accessing a non existing resource should probably result in a 404 status code,0
Create REST API for getting information on a given job instance,0
Change inconditionnal Threadsleep calls in tests to smarter incremental pauses There are a lot of Threadsleep calls with delays chosen in the 1-2 seconds range Change to a while loop with smaller pauses until a timeout is reached and give up This applies to verification code eg verifying that a counter has expected value as well as File setup or http being ready to accept requests etc,0
As a user Id like to parameterize all Import Options so I can eliminate the need for args option since it gets confusing,2
Websocket based taps,0
Better printing of array default valuesin documentation When a default value is an array the current behavior using toString not only produces useless results like LjavalangString2638011 but also constantly changing results,0
As a developer Id like to add load receiving sink module so that I can measure received throughput,3
stream destroy does not need to validate metadata In dev mode I created a twitter stream rebuilt the server and then wanted to destroy it My new install didnt have any twitter keys as I was also not using XDCONFIGLOCATION xdstream destroy --name tweets Command failed orgspringframeworkxdrestclientimplSpringXDException Error with options for module twitterstream of type source consumerKey You must provide a consumerKey token to use this module consumerSecret You must provide a consumerSecret token to use this module I should be able to destroy a stream wo having to supply values for PPCs,0
Add authentication information to twittersearch source doc Since the changes for XD-202 twittersearch requires authentication Need to update the docs to reflect this,0
Refactor Module to Encapsulate Group and Index Currently many methods take module group index - defining a module instance group and index can be encapsulated in Module so one arg can be passed around,0
spring-integration-hadoopxsd and reactor Imports the SI 30 Instead of SI 40 Schema,0
Profile support for modules To allow for groups of beans to be defined or not in the container that runs a module When deploying a stream eg via the REST API it should be possible to also provide profile names Then those would apply to any modules within that particular stream deployment,0
Create AMI for Spark Server installed,0
Configuration for RabbitMQ message bus concurrent consumers By having the configuration option for concurrent consumers would help improve the performance of message consumption by the consumer modules when the ordering of the incoming messages dont matter,0
Add caching to ModuleOptionsMetadataResolver Will likely involve having the module identity typename be part of the OptionsMetadata identitycache key,0
As a PM Id like to have test coverage for both Kafka source and sink modules so that we can assert its functionality as part of the CI builds,8
Add MQTT Source,0
Update Spring Framework dependency to 403 GA,0
Create ModuleFactory ModuleFactory is responsible for determining how the Module application context is created from available sources at the resource location exposed via the ModuleDefinition The factory creates the application context and creates a SimpleModule or CompositeModule as appropropriate For example if an XML file is present it is assumed to be the bean definition file used to create a CXMLAC If no XML file is present inspect the properties file for the existence of well-known properties such as base-package-name for component scanning for an Configuration or a module-class-name for an Annotated POJO based module see XD-2100 The MF is also responsible for creating composite modules Also includes Module refactoring add getApplicationContext and probably setApplicationContext Also refactor CompositeModule code to use boot SpringApplicationBuilder,0
DataSource for batch infrastructure should be configurable not hardcoded to hsqldb Currently HSQLDB is the only option for batch jobs This should be configurable so that a user may select another JDBC data store option Steps hsqldbproperties needs to be changed to batch-jdbcproperties hsql prefixes should be changed to batch-jdbc JDBC Connection String needs to be configurable JDBC Driver needs to be configurable The Setup Scripts to be used for spring batch need to be configurable HSQLServerBean should be renamed to something batch-jdbcproperties Tests Should be able write tests that support HSQLDB,0
As a developer Id like to fix the offset management with Kafka source module so that I can efficiently perform fetch operation from the given offsets,8
Fix section headers in reference TOC See httpdocsspringiospring-xddocscurrent-SNAPSHOTreferencehtmlintroduction26 There should be chaptersection title before this,0
FilePollHdfsTest needs to write to a unique directory vs the default Occasionally 2 acceptance tests are running simultaneously and the filepollhdfs tests writes their data to the same hdfs directory This will cause the test to fail sporadically By creating a unique directory each time we can share the hadoop instance and not have a conflict,0
Have a version of GET modules that returns full info Similar to the DetailedModuleDefinitionResource that is returned when querying a single module but would be returned when listing provided a full flag has been turned on,0
Create rich gauge module Spring config for rich gauge plus message handler to coerce a numeric or string payload to a double,0
As a developer I would like to be able to configure which exceptions thrown by a module should be retryable within the RabbitMessageBus As usual these should be configurable at the bus andor stream deployment property level Also consider disabling retry for kryo deserialization problems ---- We are running Spring XD with RabbitMQ transport and wed like to have a way to stop retries in certain situations In Spring XD 120RC1 docshttpdocsspringioautorepodocsspring-xd120RC1referencehtml in chapter about RabbitMQ transport in A Note About Retry section its written quoteMessage deliveries failing with a MessageConversionException perhaps when using a custom converterClassName are never retried the assumption being that if a message could not be converted on the first attempt subsequent attempts will also failquote Following is unclear Are we speaking about orgspringframeworkmessagingconverterMessageConversionException or orgspringframeworkamqpsupportconverterMessageConversionException Based on XD-1597 and AMQP-390 its the latter Only orgspringframeworkmessagingconverterMessageConversionException is available for custom module developers Attempting to throw orgspringframeworkamqpsupportconverterMessageConversionException which is provided by XDHOMElibmessagebusrabbitspring-amqp-145RELEASEjar results in javalangClassNotFoundException even after Spring XD is configured to use rabbit transport Throwing orgspringframeworkmessagingconverterMessageConversionException from custom processor module written with Spring Integrations transformer or service-activator doesnt stop retries,5
As a developer Id like to port field-value-counter module from XD to s-c-s repo so I can use it as sink module to build streaming pipeline,2
XD admin ZK distributed queue consumer initialization issue The ZK distributed queue consumer is initialized even before the module stream job deployment requests path cache are started This could lead to issue when the consumer start processing the requests before the cache are initialized On such scenario the following exception could be thrown 2015-03-23 210025919 120SNAP ERROR DeploymentSupervisor-0 queueDistributedQueue - Exception processing queue item queue-0000000002 orgspringframeworkxddirtserveradmindeploymentDeploymentException dataSender at orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerundeployResourceAbstractInstancePersistingDeployerjava164 at orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerundeployAbstractInstancePersistingDeployerjava83 at orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerundeployAllAbstractInstancePersistingDeployerjava109 at orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerdeleteAllAbstractInstancePersistingDeployerjava117 at orgspringframeworkxddirtserveradmindeploymentzkDeploymentMessageConsumerprocessDeploymentMessageDeploymentMessageConsumerjava115 at orgspringframeworkxddirtserveradmindeploymentzkDeploymentMessageConsumerconsumeMessageDeploymentMessageConsumerjava70 at orgspringframeworkxddirtserveradmindeploymentzkDeploymentMessageConsumerconsumeMessageDeploymentMessageConsumerjava43 at orgapachecuratorframeworkrecipesqueueDistributedQueueprocessMessageBytesDistributedQueuejava678 at orgapachecuratorframeworkrecipesqueueDistributedQueueprocessNormallyDistributedQueuejava712 at orgapachecuratorframeworkrecipesqueueDistributedQueueaccess300DistributedQueuejava65 at orgapachecuratorframeworkrecipesqueueDistributedQueue5runDistributedQueuejava629 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess201ScheduledThreadPoolExecutorjava178 at javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava292 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 at javalangThreadrunThreadjava745 Caused by javalangIllegalArgumentException Module deployment request path cache shouldnt be null at orgspringframeworkutilAssertnotNullAssertjava112 at orgspringframeworkxddirtserveradmindeploymentzkZKDeploymentHandlerundeployZKDeploymentHandlerjava81 at orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerundeployResourceAbstractInstancePersistingDeployerjava161,0
Add Email Source,0
Update deployment guide to include verbose gc The deployment guide httpsgithubcomspring-projectsspring-xdwikiDeployment should have instructions on turning on verbose gc for production applications The gc log tends to be verbose so running it in development is not desirable However having the gc log in production is very helpful for troubleshooting slowunresponsive applications,0
SpringXD logs error and large stack trace when metric cant be found Distracting When a REST client of SpringXD ie a dashboard attempts to query GET a metric eg counter gauge etc that does not exist the admin sever logs an ERROR and a large stack trace attached In usage of Spring XD we see this frequently because a dashboard is running but the streams and counters have not been created quite yet or initialized by messages flowing through the streams With a polling dashboard this results in a lot of distracting and large stack traces in the logs that are not actually issues I would suggest logging a one line warning or info message instead of the error and stack trace,0
Deleting a stream with reference to named channel disconnects channel from all streams The following sequence results in Dispatcher has no subscribers error stack trace below because deleting stream2 disconnects stream1 from the foo channel Current work on XD-685 has infrastructure for disconnecting just the channels involved in a stream so should make it easier to fix this issue once merged stream create stream1 --definition time foo stream create stream2 --definition http foo stream create stream3 --definition foo file stream destroy stream2 expect file sink to still get time but instead blows up bc deleteOutboundfoo killed links bw foo and both local output channels Server stack trace 104711921 ERROR task-scheduler-6 handlerLoggingHandler140 - orgspringframeworkintegrationMessageDeliveryException Dispatcher has no subscribers for channel SimpleModule nametime typesource groupstream1 index0output orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava81 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationendpointSourcePollingChannelAdapterhandleMessageSourcePollingChannelAdapterjava97 orgspringframeworkintegrationendpointAbstractPollingEndpointdoPollAbstractPollingEndpointjava199 orgspringframeworkintegrationendpointAbstractPollingEndpointaccess000AbstractPollingEndpointjava51 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava143 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava141 orgspringframeworkintegrationendpointAbstractPollingEndpointPoller1runAbstractPollingEndpointjava273 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava49 orgspringframeworkintegrationutilErrorHandlingTaskExecutorexecuteErrorHandlingTaskExecutorjava49 orgspringframeworkintegrationendpointAbstractPollingEndpointPollerrunAbstractPollingEndpointjava268 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava53 orgspringframeworkschedulingconcurrentReschedulingRunnablerunReschedulingRunnablejava81 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava439 javautilconcurrentFutureTaskSyncinnerRunFutureTaskjava303 javautilconcurrentFutureTaskrunFutureTaskjava138 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess301ScheduledThreadPoolExecutorjava98 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava206 javautilconcurrentThreadPoolExecutorWorkerrunTaskThreadPoolExecutorjava895 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava918 javalangThreadrunThreadjava680 Caused by orgspringframeworkintegrationMessageDispatchingException Dispatcher has no subscribers orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava109 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 24 more 104712924 ERROR task-scheduler-6 handlerLoggingHandler140 - orgspringframeworkintegrationMessageDeliveryException Dispatcher has no subscribers for channel SimpleModule nametime typesource groupstream1 index0output orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava81 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationendpointSourcePollingChannelAdapterhandleMessageSourcePollingChannelAdapterjava97 orgspringframeworkintegrationendpointAbstractPollingEndpointdoPollAbstractPollingEndpointjava199 orgspringframeworkintegrationendpointAbstractPollingEndpointaccess000AbstractPollingEndpointjava51 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava143 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava141 orgspringframeworkintegrationendpointAbstractPollingEndpointPoller1runAbstractPollingEndpointjava273 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava49 orgspringframeworkintegrationutilErrorHandlingTaskExecutorexecuteErrorHandlingTaskExecutorjava49 orgspringframeworkintegrationendpointAbstractPollingEndpointPollerrunAbstractPollingEndpointjava268 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava53 orgspringframeworkschedulingconcurrentReschedulingRunnablerunReschedulingRunnablejava81 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava439 javautilconcurrentFutureTaskSyncinnerRunFutureTaskjava303 javautilconcurrentFutureTaskrunFutureTaskjava138 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess301ScheduledThreadPoolExecutorjava98 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava206 javautilconcurrentThreadPoolExecutorWorkerrunTaskThreadPoolExecutorjava895 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava918 javalangThreadrunThreadjava680 Caused by orgspringframeworkintegrationMessageDispatchingException Dispatcher has no subscribers orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava109 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 24 more 104713926 ERROR task-scheduler-4 handlerLoggingHandler140 - orgspringframeworkintegrationMessageDeliveryException Dispatcher has no subscribers for channel SimpleModule nametime typesource groupstream1 index0output orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava81 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationendpointSourcePollingChannelAdapterhandleMessageSourcePollingChannelAdapterjava97 orgspringframeworkintegrationendpointAbstractPollingEndpointdoPollAbstractPollingEndpointjava199 orgspringframeworkintegrationendpointAbstractPollingEndpointaccess000AbstractPollingEndpointjava51 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava143 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava141 orgspringframeworkintegrationendpointAbstractPollingEndpointPoller1runAbstractPollingEndpointjava273 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava49 orgspringframeworkintegrationutilErrorHandlingTaskExecutorexecuteErrorHandlingTaskExecutorjava49 orgspringframeworkintegrationendpointAbstractPollingEndpointPollerrunAbstractPollingEndpointjava268 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava53 orgspringframeworkschedulingconcurrentReschedulingRunnablerunReschedulingRunnablejava81 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava439 javautilconcurrentFutureTaskSyncinnerRunFutureTaskjava303 javautilconcurrentFutureTaskrunFutureTaskjava138 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess301ScheduledThreadPoolExecutorjava98 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava206 javautilconcurrentThreadPoolExecutorWorkerrunTaskThreadPoolExecutorjava895 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava918 javalangThreadrunThreadjava680 Caused by orgspringframeworkintegrationMessageDispatchingException Dispatcher has no subscribers orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava109 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 24 more 104714928 ERROR task-scheduler-4 handlerLoggingHandler140 - orgspringframeworkintegrationMessageDeliveryException Dispatcher has no subscribers for channel SimpleModule nametime typesource groupstream1 index0output orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava81 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationendpointSourcePollingChannelAdapterhandleMessageSourcePollingChannelAdapterjava97 orgspringframeworkintegrationendpointAbstractPollingEndpointdoPollAbstractPollingEndpointjava199 orgspringframeworkintegrationendpointAbstractPollingEndpointaccess000AbstractPollingEndpointjava51 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava143 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava141 orgspringframeworkintegrationendpointAbstractPollingEndpointPoller1runAbstractPollingEndpointjava273 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava49 orgspringframeworkintegrationutilErrorHandlingTaskExecutorexecuteErrorHandlingTaskExecutorjava49 orgspringframeworkintegrationendpointAbstractPollingEndpointPollerrunAbstractPollingEndpointjava268 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava53 orgspringframeworkschedulingconcurrentReschedulingRunnablerunReschedulingRunnablejava81 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava439 javautilconcurrentFutureTaskSyncinnerRunFutureTaskjava303 javautilconcurrentFutureTaskrunFutureTaskjava138 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskaccess301ScheduledThreadPoolExecutorjava98 javautilconcurrentScheduledThreadPoolExecutorScheduledFutureTaskrunScheduledThreadPoolExecutorjava206 javautilconcurrentThreadPoolExecutorWorkerrunTaskThreadPoolExecutorjava895 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava918 javalangThreadrunThreadjava680 Caused by orgspringframeworkintegrationMessageDispatchingException Dispatcher has no subscribers orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava109 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava102 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 24 more 104715930 ERROR task-scheduler-1 handlerLoggingHandler140 - orgspringframeworkintegrationMessageDeliveryException Dispatcher has no subscribers for channel SimpleModule nametime typesource groupstream1 index0output orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava81 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava178 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava149 orgspringframeworkintegrationcoreMessagingTemplatedoSendMessagingTemplatejava304 orgspringframeworkintegrationcoreMessagingTemplatesendMessagingTemplatejava165 orgspringframeworkintegrationendpointSourcePollingChannelAdapterhandleMessageSourcePollingChannelAdapterjava97 orgspringframeworkintegrationendpointAbstractPollingEndpointdoPollAbstractPollingEndpointjava199 orgspringframeworkintegrationendpointAbstractPollingEndpointaccess000AbstractPollingEndpointjava51 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava143 orgspringframeworkintegrationendpointAbstractPollingEndpoint1callAbstractPollingEndpointjava141 orgspringframeworkintegrationendpointAbstractPollingEndpointPoller1runAbstractPollingEndpointjava273 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava49 orgspringframeworkintegrationutilErrorHandlingTaskExecutorexecuteErrorHandlingTaskExecutorjava49 orgspringframeworkintegrationendpointAbstractPollingEndpointPollerrunAbstractPollingEndpointjava268 orgspringframeworkschedulingsupportDelegatingErrorHandlingRunnablerunDelegatingErrorHandlingRunnablejava53,0
Add admin and container memory settings to serversyml We should add an easy way to configure the memory Currently we only have the number of YARN containers configurable without diving into Spring YARNBoot specific config options code xd adminServers 1 containers 1 code Proposing we do code xd adminServers 1 adminMemory 512M containers 1 containerMemory 512M code,0
Create shell integration test for named chanels Expected usage ATM would be sink channel called foo http transform --expressionpayloadtoUppercase foo source channel called foo foo count file,0
As a user I need the ability to configure Docker XD Containers so that I can link to external services such as Rabbit Redis Zookeeper Hadoop Mongo etc Includes pointers to Linkingbinding attributes Environment variables,8
Develop infrastructure to enable testability of commands This requires to boostrap the singlenode admin server in process submit commands to the shell programmatically and assert on the results of executing the command,0
Update Samples syslog ingestion section to use Shell commands instead of curl,0
Rabbit Source Should Expose More Container Options acknowlege-more tx-size prefetch-count concurrency etc,0
Job Definitions page fails to display definitions if page In this scenario we created 30 jobs that can be used for a composed job if the composed job uses jobs in its composition that are not present on the first page of the of the result set the following exception is thrown noformat 2015-11-02T144717-0500 130SNAP ERROR qtp1587928736-26 restRestControllerAdvice - Caught exception while handling a request javalangIllegalStateException Not all instances were looked at fff orgspringframeworkxddirtrestXDControllerenhanceWithDeploymentsXDControllerjava244 spring-xd-dirt-130BUILD-SNAPSHOTjar130BUILD-SNAPSHOT orgspringframeworkxddirtrestXDControllerlistValuesXDControllerjava209 spring-xd-dirt-130BUILD-SNAPSHOTjar130BUILD-SNAPSHOT orgspringframeworkxddirtrestJobsControllerlistJobsControllerjava128 spring-xd-dirt-130BUILD-SNAPSHOTjar130BUILD-SNAPSHOT sunreflectGeneratedMethodAccessor133invokeUnknown Source nana sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 na17067 javalangreflectMethodinvokeMethodjava606 na17067 orgspringframeworkwebmethodsupportInvocableHandlerMethoddoInvokeInvocableHandlerMethodjava221 spring-web-422RELEASEjar422RELEASE orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava137 spring-web-422RELEASEjar422RELEASE orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava110 spring-webmvc-422RELEASEjar422RELEASE orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandlerMethodRequestMappingHandlerAdapterjava806 spring-webmvc-422RELEASEjar422RELEASE orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava729 spring-webmvc-422RELEASEjar422RELEASE orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava85 spring-webmvc-422RELEASEjar422RELEASE orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava959 spring-webmvc-422RELEASEjar422RELEASE orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava893 spring-webmvc-422RELEASEjar422RELEASE orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava970 spring-webmvc-422RELEASEjar422RELEASE orgspringframeworkwebservletFrameworkServletdoGetFrameworkServletjava861 spring-webmvc-422RELEASEjar422RELEASE javaxservlethttpHttpServletserviceHttpServletjava735 javaxservlet-300v201112011016jarna orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava846 spring-webmvc-422RELEASEjar422RELEASE javaxservlethttpHttpServletserviceHttpServletjava848 javaxservlet-300v201112011016jarna orgeclipsejettyservletServletHolderhandleServletHolderjava684 jetty-servlet-8114v20131031jar8114v20131031 orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1496 jetty-servlet-8114v20131031jar8114v20131031 orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextHeaderFilterdoFilterInternalEndpointWebMvcAutoConfigurationjava291 spring-boot-actuator-123RELEASEjar123RELEASE orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 spring-web-422RELEASEjar422RELEASE orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 jetty-servlet-8114v20131031jar8114v20131031 orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 spring-web-422RELEASEjar422RELEASE orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 spring-web-422RELEASEjar422RELEASE orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 jetty-servlet-8114v20131031jar8114v20131031 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava87 spring-web-422RELEASEjar422RELEASE orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 spring-web-422RELEASEjar422RELEASE orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 jetty-servlet-8114v20131031jar8114v20131031 orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterInternalWebRequestTraceFilterjava102 spring-boot-actuator-123RELEASEjar123RELEASE orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 spring-web-422RELEASEjar422RELEASE orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 jetty-servlet-8114v20131031jar8114v20131031 orgspringframeworksecuritywebFilterChainProxydoFilterInternalFilterChainProxyjava207 spring-security-web-402RELEASEjar402RELEASE orgspringframeworksecuritywebFilterChainProxydoFilterFilterChainProxyjava176 spring-security-web-402RELEASEjar402RELEASE orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 jetty-servlet-8114v20131031jar8114v20131031 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava90 spring-boot-actuator-123RELEASEjar123RELEASE orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 spring-web-422RELEASEjar422RELEASE orgeclipsejettyservletServletHandlerCachedChaindoFilterServletHandlerjava1467 jetty-servlet-8114v20131031jar8114v20131031 orgeclipsejettyservletServletHandlerdoHandleServletHandlerjava499 jetty-servlet-8114v20131031jar8114v20131031 orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerjava137 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettysecuritySecurityHandlerhandleSecurityHandlerjava557 jetty-security-8114v20131031jar8114v20131031 orgeclipsejettyserversessionSessionHandlerdoHandleSessionHandlerjava231 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverhandlerContextHandlerdoHandleContextHandlerjava1086 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyservletServletHandlerdoScopeServletHandlerjava428 jetty-servlet-8114v20131031jar8114v20131031 orgeclipsejettyserversessionSessionHandlerdoScopeSessionHandlerjava193 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverhandlerContextHandlerdoScopeContextHandlerjava1020 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverhandlerScopedHandlerhandleScopedHandlerjava135 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverhandlerHandlerWrapperhandleHandlerWrapperjava116 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverServerhandleServerjava370 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverAbstractHttpConnectionhandleRequestAbstractHttpConnectionjava494 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverAbstractHttpConnectionheaderCompleteAbstractHttpConnectionjava971 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverAbstractHttpConnectionRequestHandlerheaderCompleteAbstractHttpConnectionjava1033 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyhttpHttpParserparseNextHttpParserjava644 jetty-http-8114v20131031jar8114v20131031 orgeclipsejettyhttpHttpParserparseAvailableHttpParserjava235 jetty-http-8114v20131031jar8114v20131031 orgeclipsejettyserverAsyncHttpConnectionhandleAsyncHttpConnectionjava82 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyionioSelectChannelEndPointhandleSelectChannelEndPointjava667 jetty-io-8114v20131031jar8114v20131031 orgeclipsejettyionioSelectChannelEndPoint1runSelectChannelEndPointjava52 jetty-io-8114v20131031jar8114v20131031 orgeclipsejettyutilthreadQueuedThreadPoolrunJobQueuedThreadPooljava608 jetty-util-8114v20131031jar8114v20131031 orgeclipsejettyutilthreadQueuedThreadPool3runQueuedThreadPooljava543 jetty-util-8114v20131031jar8114v20131031 javalangThreadrunThreadjava745 na17067 noformat,0
JMS Source Does Not Expose acknowledge Since the message-driven adapter uses a DMLC the default behavior is to lose messages on exceptions with the DMLC the message is ackd before the listener is invoked In order to provide recovery of such situations the source needs to expose acknowledge so it can be set to transacted Or perhaps given that we dont expose complex configuration the source should use a SimpleMessageListenerContainer instead where the ack is sent after the listener is successfully invoked,0
ProcessorTesttestfailedSink needs to use http as its test source Also check the JMX output to see that the filter rejected the entry,0
Improve acceptance testing coverage The scope is to address the sub-tasks linked with this story,0
Investigate measure validate and verify quality attributes Non-functional requirements such as reliability availability scalability and performance needs measured and validated Acceptance criteria - Throughput Measure the messaging infrastructure brokerbus capabilities in terms of messages consumedsec Compute the data ingestion ratesec - HAScalability Measure of DIRT architecture capabilities through linear increasedecreasedestroy xd-containers and xd-admins along with payload variations - Durability Measure linear variations on payload with baseline DIRT infrastructure to compute end-to-end durability,0
Problems with advanced tapping Start of a test program that can be placed in StreamCommandTests code Test public void testTappingAndChannels executeStreamCreatemyhttphttp --port9314 transform --expressionpayloadtoUpperCase logtrue executeStreamCreatetaptap myhttp1 logtrue executeStreamCreatetapnewtap myhttp1 logtrue executeCommandhttp post --data Dracarys --target httplocalhost9314 TODO verify both logs output DRACARYS code In the test program see two taps One using the older style and one using the newer style and so that there is no real tap module source the log module just gets its input channel wired directly to myhttp1 the output of transform They should be doing the same thing However when run the output for tapnew is missing all I see is code 113936055 WARN New IO worker 28 loggertap141 - DRACARYS 113936059 WARN New IO worker 28 loggermyhttp141 - DRACARYS code No errors are reported there is just no output for tapnew,0
As a developer I want to be able to override Kafka bus defaults for module consumers and producers so that I can finely tune performance and behaviour Such properties should include - autoCommitEnabledqueueSizemaxWaitfetchSize for consumers - batchSizebatchTimeout for producers,3
refactor module dependency tracking to be closer to stream deployment see comments on this PR which is part of the code that needs to be refactored httpsgithubcomspring-projectsspring-xdpull390,0
UI should quote parameters containing a space Trying to deploy the timestampfile job using the UI Seems the UI doesnt quote string parameters that contains a space so the job creation fails Keeping all the defaults I get the following Resulting Definition in the UI timestampfile --restartablefalse --directorytmpxdoutput --fileExtensiontxt --fileNamexdjobname --formatyyyy-MM-dd HHmmss --dateFormatyyyy-MM-dd --makeUniquetrue note the --format parameter has a space which causes XD100Epos 128 Found unexpected data after stream definition HH timestampfile --restartablefalse --directorytmpxdoutput --fileExtensiontxt --fileNamexdjobname --formatyyyy-MM-dd HHmmss --dateFormatyyyy-MM-dd --makeUniquetrue,0
Batch jobs executions by jobname causes stackoverflow Whether its after applying httpsgithubcomspring-projectsspring-xdpull1034 or not this causes the following problem noformat comfasterxmljacksondatabindserstdBeanSerializerBaseserializeFieldsBeanSerializerBasejava644 comfasterxmljacksondatabindserBeanSerializerserializeBeanSerializerjava152 comfasterxmljacksondatabindserBeanPropertyWriterserializeAsFieldBeanPropertyWriterjava541 comfasterxmljacksondatabindserstdBeanSerializerBaseserializeFieldsBeanSerializerBasejava644 comfasterxmljacksondatabindserBeanSerializerserializeBeanSerializerjava152 comfasterxmljacksondatabindserimplIndexedListSerializerserializeContentsIndexedListSerializerjava100 comfasterxmljacksondatabindserimplIndexedListSerializerserializeContentsIndexedListSerializerjava21 comfasterxmljacksondatabindserstdAsArraySerializerBaseserializeAsArraySerializerBasejava183 comfasterxmljacksondatabindserBeanPropertyWriterserializeAsFieldBeanPropertyWriterjava541 comfasterxmljacksondatabindserstdBeanSerializerBaseserializeFieldsBeanSerializerBasejava644 comfasterxmljacksondatabindserBeanSerializerserializeBeanSerializerjava152 comfasterxmljacksondatabindserBeanPropertyWriterserializeAsFieldBeanPropertyWriterjava541 comfasterxmljacksondatabindserstdBeanSerializerBaseserializeFieldsBeanSerializerBasejava644 comfasterxmljacksondatabindserBeanSerializerserializeBeanSerializerjava152 comfasterxmljacksondatabindserimplIndexedListSerializerserializeContentsIndexedListSerializerjava100 comfasterxmljacksondatabindserimplIndexedListSerializerserializeContentsIndexedListSerializerjava21 Caused by javalangStackOverflowError javalangClassLoaderdefineClass1Native Method javalangClassLoaderdefineClassClassLoaderjava800 javasecuritySecureClassLoaderdefineClassSecureClassLoaderjava142 javanetURLClassLoaderdefineClassURLClassLoaderjava449 javanetURLClassLoaderaccess100URLClassLoaderjava71 javanetURLClassLoader1runURLClassLoaderjava361 javanetURLClassLoader1runURLClassLoaderjava355 javasecurityAccessControllerdoPrivilegedNative Method javanetURLClassLoaderfindClassURLClassLoaderjava354 javalangClassLoaderloadClassClassLoaderjava425 sunmiscLauncherAppClassLoaderloadClassLauncherjava308 javalangClassLoaderloadClassClassLoaderjava358 comfasterxmljacksondatabindserstdBeanSerializerBaseserializeFieldsBeanSerializerBasejava660 1011 more noformat,0
Change rabbitmq sink to use routing-key-expression instead of routing-key The current rabbitmq sink uses the attribute routing-key which defaults to the name of the stream This should be change to use the attribute routing-key-expression so that the routing-key can be determined using SpEL This will enable a dynamic evaluation of the routing-key based on message payloadheader Implementation Suggestions This hopefully should be changing the XML description of the sink to routing-key-expressionroutingKeyxdstreamname This way the xdstreamname is surrounded by a single quote to indicate a string literal to SpEL in the default case How to verify it works One of the simple uses of this is to create a routing key based on payload In a distributed word-count example the hashcode of a word would be sent to a certain number of processing modules that would perform the count The idea is that the same word is sent to the same node over and over again in particular if in-memory counters or state is computed - using centralized redis counters this wouldnt be necessary in the case of only counter state The stream http rabbit --routingKeyword- payloadhashCode 3 is an example of a stream that can be used to verify that messages published to a direct exchange will have routing keys of the value word-0 word-1 and word-2 Binding a queue to each of these routing keys one can observe the contents of messages in the queue to make sure that words are being routed to the appropriate queue eg publishing hello as the payload of an http request should always appear in the same queue The rabbitmq admin console can be used for this purpose,0
Deploy a new source module after XD-singlenode container has started After the xd-singlenode process has started create a new module that has dependencies not already in the parent application context and then create a stream that uses the new module Implementation Suggestions Develop in the test tree maybe of the xd-shell project a new module the lib and config should be sititng around in a directory waiting to be copied into the appropriate spot Could try httpwwwdate4jnetThe config file would be similar to timexml but use the date4j class How to verify it works In a JUnit test case copy in a new module that has new dependencies copy the lib and config directories into the location where the ModuleRegisty will pick it up Deploy a new stream date4j file and see if there are contents in the file,0
Streams created without a substreams are being typed by the parser as a Job,0
Kafka source module Handling delete offsets When the stream that holds the kafka source module is undeployedbut not destroyed yet the underlying offset manager deletes the offsets associated with the steam When same stream is re-deployed the offset manager reads the offsets from kafka broker if initial offsets are not provided for each partition the module is configured to listen If the initial offset values are provided for the stream then I think the offset manager should delete the offsets from the XD offset topic only when the stream is destroyed Since we want to re-use the offset topic data upon stream undeployre-deploy,0
Backport metadata retrieval stability improvements Backport stability improvements added as part of XD-2958 to the 11x branch,0
As a user Id like to have the option of JMX source module so that I can publishsubscribe to JMX notifications Reference Sprint Integration JMX Supporthttpdocsspringiospring-integrationreferencehtmlsystem-management-chapterhtmljmx,3
Review existing Reactor syslog codec implementation,0
HDFS sink should honor --fileExtension parameter for bzip2 compressed files Looks like the --fileExtension isnt used when compressing files with bzip2 some use cases requirer bz2 instead of bzip2 as the extension Also bz2 should be the default extension At the same time we should change the default gzip extension to gz,0
A a boot ConfigurationPropertiesModuleOptionsResolver This allows incremental adoption of boot ConfigurationProperties as a way of being recognized as XD options,0
Investigate how to provide a means to share bean defintions across module instances In some cases it maybe useful to share a specific bean instance contributed by a user across multiple module instances This story is a placeholder to collect requirements and discuss,0
Context Deserialize Doesnt Use Parent First Classloader If a class is added to a batch execution context that is located in an isolated context an exception will be thrown when that object is deserialized It appears the serialize doesnt use the ParentFirstClassloader during deserialization,0
Investigate Swagger to generate REST API Documents,0
Job Launch should throw exception if the job is not deployed in the container While processing the Job Launch request the ModuleDeployer checks if the job is already deployed if not it deploys the job before launching it This approach causes issue in case of multiple containers environment where the job is deployed in one container1 but the job launch request is picked up by other container2 Because the container2 that processes job launch request deploys the job again it conflicts with an existing job that is deployed in conatiner1 with the same name in the JobRepository Initially the idea behind deploy before launch was to enable launch shell command to also deploy Because of the issue mentioned above it is ok to assume that job launch needs to be performed on an existing deployed job,0
TwitterSearch does not deploy correctly if previous deploy fails if you mess up you consumerSecret then deploy the stream it will throw a 403 which is correct Then you destroy recreate and redeploy with the correct key source will not retrieve any results The only solution was to bounce the single node Steps to repeat 1 create a stream stream create twit --definition twittersearch --consumerKeygoodkey --consumerSecretbadsecret --queryLettermanlog 2 deploy stream and get 403 3 destroy stream 4 create twittersearch stream with good keys 5 deploy stream 6 No twitter data is displayed,0
Cannot destroy tap if tapped stream is already destroyed xdtap destroy mytap 164441850 WARN Spring Shell clientRestTemplate524 - DELETE request for httplocalhost8080tapsmytap resulted in 400 Bad Request invoking error handler Command failed orgspringframeworkxdrestclientimplSpringXDException XD116Epos 4 unrecognized stream reference foo tap foohttp log Tap is then still listed when I do a tap list,0
Automatic support for --fooExpression style options It would be nice if either one of the two options would come for free when youre authoring a module Currently it has been a pain including handling exclusivity of options at the module options level Also it would be nice if XDS-C-S provided ease of creation of xxExpression style options ie not having the author have to deal with ExpressionParser etc,0
Module count value at module deployments path In case of module count 1 the module deployments path for each deployed module always has count1 For a scenario The stream test1 http log with the deployment manifest modulelogcount3modulelogcriteriagroupscontainstest get xddeploymentsstreamstest1modulelogcount3modulelogcriteriagroupscontainstest get xddeploymentsmodules9ecaf59a-a1f5-4ed9-984d-f5dff8cc9b57test1sinklog-1count1 get xddeploymentsmodules1bbdb2dd-97ed-48a2-a3cd-3633c3e82f52test1sinklog-1count1,0
Improve getting started docs for installation httpsgithubcomspring-guidesgs-spring-xdissues1,0
Remove Hadoop from admin classpath Not sure why the Hadoop classes are on the admin servers classpath There is no way to select the distro and the Hadoop classes shouldnt be needed except for module info for hdfs sink see XD-1701,0
As a developer Id like to upgrade to SI Kafka release so I can synchronize with latest improvements and bug fixes,1
Improve ReactorReflectionUtilsextractGeneric to support classes with inheritance Provide unit tests,0
Add support for named channels As an s-c-d user Id like to have the option to use named channels so I can create streaming pipelines without source or sink modules,0
Vary producers size DB-5 Use the number of consumers gave a maximum throughput in the previous test say 10 consumers message size 100 bytes Prefetch 100 Send 1M messages Vary the number of producers Measure the msgsec rate and calculate the data transfer rate in MBsec Number of producers 2 4 6 10 50 During the measurements look at the RabbitMQ Admin UI and see if the queue is backing up,0
Fix XD scripts on windows Currently the XD scripts are broken in windows,0
Add bridge module Add a bridge module per XD-956 to support definitions like topicfoo queuebar Convenient for testing for XD-1066,0
Create reactor module in spring-xd-modules project,0
Create test that uses jsonPath with the filter module The script tests does the following code Filter for good and bad createstream httpfilter http good filter --expressionjsonPathpayloadentitieshashtagstextcontainsgood aftergood filter --expressiontrue bad filter --expressionjsonPathpayloadentitieshashtagstextcontainsbad goodandbad splitter --expressionjsonPathpayloadid file --dirTESTDIR true code,0
As a developer Id like to continue LatticeDiego POC so that I can identify the scope risks and the overall design for a pluggable SPI in XD runtime,5
Step execution count is zero for the job execution list result For the Job execution list the step execution count for each job execution is always set to zero For a single job execution display command the step execution count is set correctly,0
Update default configs to support Composed Jobs Users want the ability to use Composed Jobs specifically parallel Jobs without having to update the configurations for the hsqldb and the Isolation Level for spring batch These should be set by default,0
As a s-c-s developer Id like to setup a CI workflow to build bundle and upload the module-launcher image to DockerHub so I dont have to worry about having a local-private docker registry for developmenttesting It could be nice to have the image uploaded to existing spring-cloudhttpsregistryhubdockercomreposspringcloud DockerHub location,5
As a user Id like to evaluate Spring Boot dependency upgrades so that I can make sure there arent any side effects or impacts to existing functionalities,3
Update spring-data-hadoop version to 210RC1 Update spring-data-hadoop version to 210RC1 This also includes updating the following - adding hadoop26 Apache Hadoop 260 as distro - adding hdp22 Hortonworks HDP 22 as distro - set default distro to hadoop26 - update cdh5 to version 530 - remove older distros - hadoop24 hdp21,0
The HDFS Sink should support compressing files as they are copied Get a javaioFile and copy it into HDFS Could be text or binary Write compressed with Hadoop and third party codecs see XD-277 XD-279 should initially support - bzip2 - LZO,0
AutoBindDLQ Incompatible with Partitioned Streams Producer Side See httpstackoverflowcomquestions34817906spring-xd-rabbitmq-partitioned-stream-deployment-in-failure,0
Use AlternativeJdkIdGenerator instead of 3rd party library Spring 40 provides a UUID generator used by default in SI that should be used instead of the comeaoiuuid library in the xd-tuple library,0
Reorganize TOC for manual Here is a strawman noformat Getting Started rather meaty compared to other top level sections maybe have a section - running in SingleNode Running in Distributed Mode Running on YARN Application Configuration Message Bus Configuration Monitoring and Management Technical Documentation Architecture Distributed Runtime remove XD prefix Interactive Shell Batch Jobs Streams Modules Tuples Sources Processors Analytics Sinks Taps Type Conversion Deployment better name Best Practices new section Admin UI DSL Reference REST API Samples noformat,0
User wants to package and deploy an XD application Install a boot uberjar containing custom modules plus stream and job definitions and possibly specific configuration This potentially includes the ability to export and import all deployable resources defined in an XD environment,0
Command to list taps,0
Job as a Source h2 Narrative As an XD developer I need to be able to use a batch job to stream data as a source h2 Acceptance Criteria Implement the ability for a job to be defined as a source in the DSL Add the configurations for the batch infrastructure transparently to the user Add the ability to specify if the job is stateful picks up where it left off if it stops or restarts at the beginning,0
As a Spring XD developer Id like to port http-client module from XD to s-c-s repo so I can use it as processor module to build streaming pipeline,2
Intra-Module Pipe Naming Consider 2 AdminsContainers that are using discrete Redis instances but a shared Rabbit instance for the transport If two different streams are deployed on each but with the same stream name the Rabbit queues will be common eg foo0 causing crosstalk Stream names must be unique across all container instances sharing Rabbit infrastructure I am not sure what the solution is two instances of the same stream do need common queues but instances of different streams need a qualifier of some kind container name I guess its not that big of an issue because if theyre sharing infrastructure theyre likely to be sharing a stream repo too - in which case youd need unique stream names,0
CORS support XD instances will not accept xhr requests from browsers whose page origin does not match the XD instance As an example the Kodiak UI is served from a different process and url than the XD instance When users open the Kodiak UI in a browser requests from the browser to the XD instance but these requests will fail due to cross-site scripting limitations CORS Cross-Origin Resource Sharing is a way to get around this We can configure the server to accept requests from browsers whose origins are not the XD instance I have this working in a local branch and will submit a pull request More information CORS Spec httpwwww3orgTRcors SPR-9278 CORS support for SpringFramework,0
WireTap is Applied to OutputChannel Before the Tap Channel has been Bound To The Bus When establishing the tap we create the tap channel and add the WireTap before the tap channel has been bound to the bus quote 170023918 ERROR task-scheduler-8 handlerLoggingHandler - orgspringframeworkmessagingMessageDeliveryException Dispatcher has no subscribers for channel tapstreamfootime0tapbridge nested exception is orgspringframeworkintegrationMessageDispatchingException Dispatcher has no subscribers orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava81 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava277 orgspringframeworkintegrationchannelinterceptorWireTappreSendWireTapjava129 quote,0
Harmonize REST features between deployment profiles As an s-c-d user Id like to take advantage of admin running on variety of platforms such as Lattice YARN or CF Id like to access REST APIs consistently across these platforms,0
x-xd- Transport Content-Type Leakage The AbstractReplyProducingMessageHandler in the Rabbit transport exposes the internal transport content-type if none existed on the original transported message,0
As a Spring XD developer Id like to move syslog module from XD to s-c-s repo so I can use it as source to build streaming pipeline,2
Modules utilizing Jdbc Data Source need to offer connection pool configurations externally Currently JdbcSink HdfsJdbc FileJdbc offer only driverClassName url user name password They need to offer a full range of configurations offered by the Tomcat Jdbc Connection pool,0
http does not report failure to bind to port Stumbled upon this while having Hadoop daemons running but simple way to repoduce noformat nc -lp 9000 stream create foo --definition http log --deploy all seems ok http post --data hello Error 500 rightfully so noformat,0
Enhance TupleCodec performance Profile TupleCodec and implement performance optimizations,0
IllegalStateException on single node shutdown Upon shutdown via C an IllegalStateException stack trace appears in the server logs While harmless the traces are annoying and should be prevented,0
Resolve runtime module option properties using module metadata Since the module metadata properties are resolved at runtime when the module gets deployed we can resolve the module options values that are already resolved in there For example currently the runtime modules command for log module would show this runtime modules 7m2732m Module Container Id Options ---------------- ------------------------------------ -------------------------------------------------------- s1sourcehttp-0 633f0fb1-5396-4bc0-8f1e-c9d5104e0ea7 port9000 s1sinklog-1 633f0fb1-5396-4bc0-8f1e-c9d5104e0ea7 namexdstreamname expressionpayload levelINFO In this case we can resolve the module option name from the module metadata,0
Create a standard way to configure Spring Cloud Data and Stream projects,0
Shell Standardize counter name parameter The parameters are not optimal for the counter name between Aggregate Counter Field Value Counter --counterName versus --name,0
Update Source Syslog section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmlsyslog,0
batch-hive module from spring-xd-samples project is not working Version Spring XD Version spring-xd-130RELEASE spring-xd-130RELEASE-yarn OS Version Linux 2632-431292el6x8664 Java Version java version 17065 Description The batch-hive job in the spring-xd-samples project link httpsgithubcomspring-projectsspring-xd-samplestreemasterbatch-hive is failing with inline error message Steps to recreate the problem 1 Created a jar for batch-hive job 2 Once the final jar was ready uploaded using module upload --name testhivemodule --type job --file homeuserjarbatchhivejar 3 After that created and deployed job using job create --name testhivejob --definition testhivemodule --deploy 4 Finally launched using job launch testhivejob which failed with inline error Describe XD Deployment Distributed Deployment Type Distributed - YARN on AWS EC2 cloud Number of xd-admins and xd-containers 1 Admin and 3 Containers Describe Other Components Transport Redis 301 ZooKeeper Version 3462320-2950 Hadoop deployment Data Platform Hortonworks HDP 2320-2950 RDBMS MySQL Error Message INFO DeploymentSupervisor-0 zkZKJobDeploymentHandler - Deployment status for job testhivejob DeploymentStatusstatefailederrorsorgspringframeworkbeansfactoryBeanCreationException Error creating bean with name hive Cannot resolve reference to bean hive-tasklet while setting bean property tasklet nested exception is orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name hive-tasklet Initialization of bean failed nested exception is javalangNoClassDefFoundError orgapachehadoophiveserviceHiveClient at orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveReferenceBeanDefinitionValueResolverjava359 at orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava108 at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryapplyPropertyValuesAbstractAutowireCapableBeanFactoryjava1481 at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorypopulateBeanAbstractAutowireCapableBeanFactoryjava1226 at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava543 at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava482 at orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava305 at orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava230 at orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava301 at orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava196 at orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava753 at orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava835 at orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava537 at orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava686 at orgspringframeworkbootSpringApplicationrunSpringApplicationjava320 at orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 at orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava213 at orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 at orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 at orgspringframeworkxddirtservercontainerDeploymentListenerdeployModuleDeploymentListenerjava365 at orgspringframeworkxddirtservercontainerDeploymentListenerdeployJobModuleDeploymentListenerjava291 at orgspringframeworkxddirtservercontainerDeploymentListeneronChildAddedDeploymentListenerjava181 at orgspringframeworkxddirtservercontainerDeploymentListenerchildEventDeploymentListenerjava149 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 at orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 at comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 at orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 at orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 at orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 at orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 at javautilconcurrentFutureTaskrunFutureTaskjava266 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava511 at javautilconcurrentFutureTaskrunFutureTaskjava266 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1142 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava617 at javalangThreadrunThreadjava745 Caused by orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name hive-tasklet Initialization of bean failed nested exception is javalangNoClassDefFoundError orgapachehadoophiveserviceHiveClient at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava553 at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava482 at orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava305 at orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava230 at orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava301 at orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava196 at orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveReferenceBeanDefinitionValueResolverjava351 37 more Caused by javalangNoClassDefFoundError orgapachehadoophiveserviceHiveClient at javalangClassgetDeclaredMethods0Native Method at javalangClassprivateGetDeclaredMethodsClassjava2701 at javalangClassgetDeclaredMethodsClassjava1975 at orgspringframeworkutilReflectionUtilsgetDeclaredMethodsReflectionUtilsjava606 at orgspringframeworkutilReflectionUtilsdoWithMethodsReflectionUtilsjava518 at orgspringframeworkutilReflectionUtilsdoWithMethodsReflectionUtilsjava504 at orgspringframeworkbeansfactoryannotationAutowiredAnnotationBeanPostProcessordetermineCandidateConstructorsAutowiredAnnotationBeanPostProcessorjava241 at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydetermineConstructorsFromBeanPostProcessorsAbstractAutowireCapableBeanFactoryjava1069 at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanInstanceAbstractAutowireCapableBeanFactoryjava1042 at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava510 at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava482 at orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava305 at orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava230 at orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava301 at orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava196 at orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveReferenceBeanDefinitionValueResolverjava351 at orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava108 at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryapplyPropertyValuesAbstractAutowireCapableBeanFactoryjava1481 at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorypopulateBeanAbstractAutowireCapableBeanFactoryjava1226 at orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava543 43 more Caused by javalangClassNotFoundException orgapachehadoophiveserviceHiveClient at javanetURLClassLoaderfindClassURLClassLoaderjava381 at javalangClassLoaderloadClassClassLoaderjava424 at sunmiscLauncherAppClassLoaderloadClassLauncherjava331 at javalangClassLoaderloadClassClassLoaderjava357 63 more,0
As a developer Id like to setup UI infrastructure so I can integrate adminui and Flo,5
Vary producer threads XD-B-2 Send 1M messages of 1000 bytes via the generator vary the number of producer threads Measure the msgsec rate and calculate the data transfer rate in MBsec Number of threads 2 4 8,0
Display a Rich Gauge,0
Release Spring XD 10 M1,0
Documentation for reactor-ip source has conflicting information According to the documentation at httpdocsspringiospring-xddocscurrentreferencehtmlreactor-ip one of the options available for this source is transport Its listed as having no default but the sample definition doesnt provide it yet appears to default to tcp The two should match up It might also be useful if the possible values for transport were listed I assume TCP and UDP,0
Remove hardcoded yarn app version jars We currently use fixed paths like spring-cloud-data-yarnspring-cloud-data-yarn-appmastertargetspring-cloud-data-yarn-appmaster-100BUILD-SNAPSHOTjar in yml files Need to make define version during a build and allow to override location of those files,0
Remove footer from admin UI Please see the discussion here httpsgithubcomspring-projectsspring-xdpull1052issuecomment-48761686,0
Set up a project for XD REST client library,0
Allow --path configuration in HTTP channel adapter Currently each HTTP stream channel uses its own port which is a limitation if we want to use large numbers of HTTP streams with fine granularity It would be nice to additionally use URI paths to identify HTTP channels allowing to re-use a single HTTP port for multiple channels in XD Example usage stream create --name s1 --definition http --port9495 --pathfoo log --deploy For a PoC implementation see httpsgithubcomspring-projectsspring-xdpull1538,0
Add ability to add Custom MetricsControllers To Admin Context See original report here httpsgithubcomspring-projectsspring-xdissues1300 Ive created a module with a custom Metric Handler and Repository patterned after the AggregateCounter but then it appears that there doesnt seem to be a way to add anything to the Admin Context The diagram at httpsgithubcomspring-projectsspring-xdwikiExtending-XD shows the Plugin Context as a sibling to the Admin Context which seems to verify my fears It would be convenient to be able to add custom MetricsControllersRepositories into the Admin Context so that they can be accessed through the same REST api as the other Metrics,0
Add new sink modules As an user Id like to have OOTB sink modules to integrate with various data sources to egest data using Spring XD Note The OOTB support however is limited to currently available Spring Integration adapters Acceptance Criteria - User should be able to list the new sink through DSL commands - User should be able to optionally choose the new sink adapters for stream creation using XD shell - User should see appropriate error messages if the required attributes are missing while creating a stream with the new sink module - After successful stream creation with the new sink module the definition should be included in stream listing - REST endpoints should include new sink definitions - Data ingested into new sink should be validated for accurateness - Appropriate errorexception message needs logged if theres any problem ingesting data into new sink module,0
As a developer Id like to move k8s SPI to its own repo,5
Add command for deleting a tap,0
Fix Gradle dist build task,0
As a user Id like to migrate from 10 to 11 and be able to port my custom modules so that I can operationalize existing data pipelines and also take advantage of latest XD features,2
Implement common set of controller methods Save Save a XYZDefinition - method used to be create Delete Delete a XYZDefinition - method used to be called destroy Deploy Deploy a XYZDefinition Undeploy Undeploy a XYZDefinition List List a XYZDefinition Returns PagedResourcesXYZDefinitionResource Display Get specific information about a XYZDefinition Create other stories for each Controller and include in this weeks sprint,0
Add pre-compiled redis distributions for the selective OS platforms,0
User wants ability to create a mock source To send a pre-set message to processes,0
XD AdminMain ContainerMain should check xdhome property from scripts Currently the system property xdhome is set as JVMOPTS via SPRINGXDADMINOPTS into xd-admin xd-container scripts Inside the ContainerMain AdminMain we need to check if this system property is set and use it It seems like this check is missing now,0
Convert hadoop module to isolated classloader scheme rename spring-xd-extension-hdfs to something else as it seems it is all spring data stuff and is not coupled to xd But leave it in extensions for now rename and move spring-xd-hadoop inside extensions maybe to spring-xd-extension-hadoop or hdfs make hadoop related modules depend on the latter which itself will depend on the former,0
Solve CP issues for the Rabbit MessageBus Rabbit Message Bus is throwing quote 101404678 110SNAP INFO DeploymentSupervisor-0 serverStreamDeploymentListener - Deployment status for stream foo DeploymentStatusstatefailederrorsorgspringframeworkamqpUncategorizedAmqpException javalangIllegalArgumentException interface orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerContainerDelegate is not visible from class loader at orgspringframeworkamqprabbitsupportRabbitExceptionTranslatorconvertRabbitAccessExceptionRabbitExceptionTranslatorjava66 at orgspringframeworkamqprabbitconnectionRabbitAccessorconvertRabbitAccessExceptionRabbitAccessorjava110 at orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerinitializeAbstractMessageListenerContainerjava426 at orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerafterPropertiesSetAbstractMessageListenerContainerjava385 at orgspringframeworkxddirtintegrationrabbitRabbitMessageBusdoRegisterConsumerRabbitMessageBusjava367 at orgspringframeworkxddirtintegrationrabbitRabbitMessageBusbindConsumerRabbitMessageBusjava308 at orgspringframeworkxddirtpluginsAbstractMessageBusBinderPluginbindMessageConsumerAbstractMessageBusBinderPluginjava183 at orgspringframeworkxddirtpluginsAbstractMessageBusBinderPluginbindConsumerAndProducersAbstractMessageBusBinderPluginjava138 at orgspringframeworkxddirtpluginsstreamStreamPluginpostProcessModuleStreamPluginjava73 at orgspringframeworkxddirtmoduleModuleDeployerpostProcessModuleModuleDeployerjava238 at orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava218 at orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 at orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 at orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 at orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 at orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 at orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 at orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 at comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 at orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 at orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 at orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 at orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 at javautilconcurrentFutureTaskrunFutureTaskjava262 at javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 at javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 at javalangThreadrunThreadjava745 Caused by javalangIllegalArgumentException interface orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerContainerDelegate is not visible from class loader at javalangreflectProxyProxyClassFactoryapplyProxyjava616 at javalangreflectProxyProxyClassFactoryapplyProxyjava592 at javalangreflectWeakCacheFactorygetWeakCachejava244 at javalangreflectWeakCachegetWeakCachejava141 at javalangreflectProxygetProxyClass0Proxyjava455 at javalangreflectProxynewProxyInstanceProxyjava738 at orgspringframeworkaopframeworkJdkDynamicAopProxygetProxyJdkDynamicAopProxyjava121 at orgspringframeworkaopframeworkJdkDynamicAopProxygetProxyJdkDynamicAopProxyjava111 at orgspringframeworkaopframeworkProxyFactorygetProxyProxyFactoryjava96 at orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerinitializeProxySimpleMessageListenerContainerjava586 at orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerdoInitializeSimpleMessageListenerContainerjava612 at orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerinitializeAbstractMessageListenerContainerjava424 28 more quote,0
Add bash based scripts of simple module create to srcmainscripts,0
Create AngularJS directive to render deployment statuses In order to minimize code duplication - Create an AngularJS directive to render deployment statuses We could even color code the various statuses We should also create a 2nd directive for the status-help-popover We should consider to possibly use the Angular Bootstrap UI popover support,0
As a developer Id like to be able to clean Rabbit binder broker artifacts using the REST API When the Rabbit Bus was ported from XD the bus cleaner was ported as RabbitBindingCleaner but the REST API to invoke it was not ported over,2
Gradle based multi-project build multi project build - look to Spring Framework for source of starting point,0
Module Launcher properties improvments Improve Spring Cloud Stream module launcherresolver properties 1 Support comma separated remoteRepositories 2 Classifygroup the properties,0
Support use of separate control and message transports Control transport - DeployUndeploy requests Message transport - Inter module communication Currently complicated because starting a Job for example currently uses message transport vs control transport Testing scenarios require local control and ability to switch to various message transports One option is to change the interpretation of transport command line arg depending on SingleNode Admin or Container eg SingleNode --transport rabbit always use local for control messages Admin requires --transport message transport does not apply Container enforces the same transport for message and control Local optimization done via composite module The other option is use a separate transport for control vs messages Either way need to rationalize the design with respect to control and module messages,0
UI Add Tooltip Directive Small follow up story to XD-2094 to improve tooltip handling,0
As a user Id like to have the option to provide file based security configurations so that I can access the endpoints in a secured manner Ideally all the listed endpoints httplocalhost9393 needs to be encapsulated within file based security layer Reference Securing Web Apphttpsspringioguidesgssecuring-web,5
Add support for creating named cron triggers Simple cron based triggers,0
As a developer Id like to migrate the current MASTER branch CI builds to EC2 instances so I can manage them all in one-place reliably,8
Update Processors Transform section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmltransform,0
As a user Id like to have the option to delete the queuestopics so that we can include an optional attribute as part of the stream destroy command to also clean-up the associated queuestopics Notes Spring-AMQP RabbitAdmin now has a getQueueProperties method which returns the number of consumers so it may be possible to use it for this purpose Consider the possibility of producers andor queues still containing data Consider the scenario even after the topicsqueues are cleaned-up what to do with fanout exchange Some Further Thoughts Consider using the upcoming Spring AMQP REST API RabbitManagementTemplate if the timing is not right we could temporarily invoke the rabbit REST API directly Should be optional perhaps via stream destroy foo --clean Should this be done by the admin Or via a new plugin handling module undeployments - in the rabbit case undeploying a consumer would check for us being the last consumer and remove the queuebindingexchange since we undeploy left-right everything can be cleaned up on the consumer side Third option would be new methods on the bus cleanConsumer etc invoked by the StreamPlugin Down side of doing it on the admin is that he wouldnt necessarily know which rabbit cluster a stream was deployed to - so it probably has to happen on the container - even so wed need the admin urls for the cluster,5
As a developer Id like to remove the hardcoded buildpack reference since the latest 162 ER release includes all the features required by Data Flow,1
As a developer Id like to bench Rabbit on rackspace infrastructure so I can have a sense on how it scales as we add more xd-container nodes,8
Investigate classloading leakage Using the gemfire module as an example there is currently at least two sources of leakage retaining classes that are loaded by the module classloader and hence everything from there One of them is because of JMX monitoring Another one Im not sure about but here is a screenshot,0
Surpress tap WARNING message in local mode,0
Add infrastructure support for Admin UI As an user Id like to have the ability to setup infrastructure to developenhance UI functionality This is including but not limited to - UI designs mockups - Unit testing - CI - JS minification,0
Update docs to cover Module config and lib directory structure,0
Refactor job deploy to go through XDControllerdeployname Job deployment currently goes through an overloaded version of deploy that takes 4 parameters This prohibits job handling code from benefiting from common behavior and eg currently breaks deployAll Given that the 3 additional parameters are in fine handled as module parameters lets push them to the job definition known at creation time rather than at deployment time as it does not really make sense to change those between deploys,0
Make Redis RichGauge repository cluster safe The current implementation makes individual reads from redis and then writes back the average so in a cluster environment the reads and writes are not serialized client reads and writes for specific keys can interfere with each other Investigate options such as use of redis transactions or use of lua scripting to solve this problem,0
The user needs the ability to pause and resume triggers ad-hoc A pause means that a trigger will wait to fire its job until after the pause is removed It does not apply the misfire behavior,0
add create and deploy methods to TapsController see httpsdocsgooglecomagopivotalcomdrawingsd1kCNbVspRBjGc10itF9cSkwST8WgCjgg3wGzFKqLCAzUedit create TapsController if necessary,0
Define developer-facing interfaces for Spark Streaming modules,0
Add gradle tasks that build and bundle the redis server,0
Implement Kryo serialization for Tuple Currently TupleCodec uses JSON for serializationdeserialization It should use Kryo This will require some customization and potentially changes to Tuple to address the Tuples conversionService field,0
Investigate failures to start a stream when using named channels Create a reproducible series of steps or shell integration test,0
Syslog Ingestion Have a syslogxml config file that can be added to a module and registered with a module registry,0
Provide tab completion for deployment manifest properties,0
Create config support for Redis We would like to have Redis driven from a config property file under XDHOME,0
As a developer Id like to study the state management requirements so I can brainstorm and identify the design to natively add stateful stream processing support in XD,8
Hide the passwords in custom modules from being displayed Hi Passwords are visibly when using custom modules Attached is example custom module code and xd-shell script to reproduce the problem using stream module of type processor on Spring XD 121RELEASE Compile with Maven mvn clean install and run xd-shell script xd-shell --cmdfile runmecmd,0
Add docs for creating a Job Module There are a few places in the doc we can reference regarding overall lifecycle of jobs but this should provide a basic recipe for a single step job The focus should be on creating a job item processor In particular how ListMessageTuple as the payload this should link back to a new section in the aggregator that also mentions ListMessageTuple Change title from Creating a Job Item Processor to Creating a Job Module,0
Investigate long running tests The goal is to optimize the build process and at the same time validate the feature capabilities as quickly as we can Investigate the long running tests Look for long timeout window declarations,0
Include job-composition flag in REST endpoint As an XD user Id like to have a REST endpoint that returns job composition flag so I can use it to differentiate visual representation between parent-child relationship and standalone jobs,0
HSQL always started even when using other database I set the configxd-configyml properties to use MySQL including this profiles active defaultmysql When XD ADmin starts I still see HSQL server started and localhost9393env shows profiles adminServer hsqldb default,0
Fix support for CliAvailabilityIndicator See PR httpsgithubcomspring-projectsspring-xdpull1043,0
Duplicate MBean Names With router Sink For some reason the Integration MBeanExporterHelper is not preventing the standard context MBeanExporter from exporting the AbstractMessageRouter This should be suppressed when an IMBE is present because its annotated IntegrationManagedResource Causes InstanceAlreadyExistsException Workaround in the stack overflow answer httpstackoverflowcomquestions33838502error-deploying-more-than-one-stream-with-a-router-1-3-0 Could be an SI issue but investigation needed However we should probably include the streamjob name in all MBeans for the stream as is done for the integration exporter,0
Fix Package Tangles Looking at the latest Sonar run we have 3 package tangles in Spring XD httpssonarspringsourceorgdrilldownmeasures7717metric87,0
Create XDContainer class to start stream server Provide optional command line arg to embed the container launcher aka - xd-admin server XDContainersh --embeddAdmin,0
Add ability to logout using the Admin UI While there is a server endpoint to logout we dont have that ability yet from the UI As indicated by XD-2122 we will also need a meta-data REST endpoint so we can interrogate whether security is enabled whether the user is logged etc So we can fulfill the requirements Show a logout button only if a security is enabled and b user is logged in Show the username andor full name of the user being logged in,0
Do not eagerly use repositories in completions Strategy,0
Document Splunk source sink,0
Update Spring Integration Spring AMQP Versions 414 and 145 respectively,0
SCS- Replace codec impl in spring-cloud-stream-codec with SI-Codec,0
Add a RetryDead Letter Interceptor to the RabbitMQ Source Provide for retry andor dead-lettering for the rabbit source similar to the rabbit message bus,0
As a Spring XD developer Id like to create a section on migration strategy from 12 to 13 releases so I can document new improvements and backward incompatibility specifics,3
xd-admin silently fails if serversyml is invalid for example code xd transport rabbit messagebus local queueSize 2147483647 polling 1000 executor corePoolSize 0 maxPoolSize 200 queueSize 2147483647 keepAliveSeconds 60 rabbit compressionLevel 1 bus-level property applies only when compresstrue for a stream module See javautilzipDeflater 1BESTSPEED 9BESTCOMPRESSION default ackMode AUTO Valid AUTO container acks NONE broker acks MANUAL consumer acks Upper case only Note MANUAL requires specialized code in the consuming module and is unlikely to be used in an XD application For more information see httpdocsspringiospring-integrationreferencehtmlamqphtmlamqp-inbound-ack autoBindDLQ false backOffInitialInterval 1000 backOffMaxInterval 10000 backOffMultiplier 20 batchBufferLimit 10000 batchingEnabled true batchSize 100 batchTimeout 5000 compress false concurrency 1 deliveryMode PERSISTENT maxAttempts 3 maxConcurrency 1 prefix xdbus prefix for queueexchange names so policies ha dle etc can be applied prefetch 1 replyHeaderPatterns STANDARDREPLYHEADERS requestHeaderPatterns STANDARDREQUESTHEADERS requeue true transacted false txSize 1 redis headers comman-delimited list of additional string-valued header names to transport default default bus properties if not specified at the module level backOffInitialInterval 1000 backOffMaxInterval 10000 backOffMultiplier 20 concurrency 1 maxAttempts 3 kafka brokers localhost9092 zkAddress localhost2181 numOfKafkaPartitionsForCountEqualsZero 10 socketBufferSize 2097152 offsetStoreTopic SpringXdOffsets offsetStoreSegmentSize 25000000 offsetStoreRetentionTime 60000 offsetStoreRequiredAcks 1 offsetStoreMaxFetchSize 1048576 offsetStoreBatchSize 200 offsetStoreBatchEnabled false offsetStoreBatchTime 1000 offsetUpdateTimeWindow 10000 offsetUpdateCount 0 offsetUpdateShutdownTimeout 2000 default batchingEnabled true code,0
STS - Spring XD Imported with Compilation Error Cannot import Spring XD into STS without compilation errors in class orgspringframeworkxddirtrestModulesControllerlist Error is in code return assemblertoResourcepage detailed detailedAssembler simpleAssembler code code The method toResourcePageModuleDefinition Link in the type PagedResourcesAssemblerModuleDefinition is not applicable for the arguments PageModuleDefinition detailed detailedAssembler simpleAssembler code Seems to be an STS specific issue,0
Update jobs section to use shell,0
Singlenode fails to start from external module Singlenode fails to start using spring-xd-dirt-100RELEASEjar see httpsgithubcomdturanskixd-test The root cause of the error javalangNoSuchMethodError javaxservletServletContextaddServletLjavalangStringLjavaxservletServletLjavaxservletServletRegistrationDynamic Indicating an incompatible servlet version is being pulled in by default,0
Create directory structures and move existing UI code into Spring XD repository Create a directory structure that best benefits UI development The copying of the UI files and other gradle build tasks so that the UI can be run inside the embedded servlet container of XD will be a seperate story,0
Unable to fully destroy hung batch job I created and launched a jdbchdfs job Due to network issues the job hung Wasnt able to cancel it so I ended up destroying it After that I couldnt recreate the job since XD insisted hat there already was a job with that same name code xdjob create jdbc1 --definition jdbchdfs --columnsIDFILEPATHFILENAMEYEARFILELENGHTLASTMODIFIED --tableNameSOMEFILES --checkColumnID --partitionColumnID --partitions3 --partitionResultsTimeout3000000 --rollover128000000 --commitInterval1000 --urljdbcoraclethinredwood1521XE --driverClassNameoraclejdbcOracleDriver --usernamespring --passwordspring --testOnBorrowfalse Successfully created job jdbc1 xdjob deploy jdbc1 --properties modulejdbchdfscount3 Deployed job jdbc1 xdjob launch jdbc1 Successfully submitted launch request for job jdbc1 Here the job was hung xdjob destroy jdbc1 Destroyed job jdbc1 xdjob create jdbc1 --definition jdbchdfs --columnsIDFILEPATHFILENAMEYEARFILELENGHTLASTMODIFIED --tableNameSOMEFILES --checkColumnID --partitionColumnID --partitions3 --partitionResultsTimeout3000000 --rollover128000000 --commitInterval1000 --urljdbcoraclethinredwood1521XE --driverClassNameoraclejdbcOracleDriver --usernamespring --passwordspring --testOnBorrowfalse Command failed orgspringframeworkxdrestclientimplSpringXDException Batch Job with the name jdbc1 already exists xdjob create jdbc1 --definition jdbchdfs --columnsIDFILEPATHFILENAMEYEARFILELENGHTLASTMODIFIED --tableNameSOMEFILES --checkColumnID --partitionColumnID --partitions3 --partitionResultsTimeout3000000 --rollover128000000 --commitInterval1000 --urljdbcoraclethinredwood1521XE --driverClassNameoraclejdbcOracleDriver --usernamespring --passwordspring --testOnBorrowfalse Command failed orgspringframeworkxdrestclientimplSpringXDException Batch Job with the name jdbc1 already exists xdjob destroy jdbc1 Command failed orgspringframeworkxdrestclientimplSpringXDException There is no job definition named jdbc1 xdjob create jdbc1 --definition jdbchdfs --columnsIDFILEPATHFILENAMEYEARFILELENGHTLASTMODIFIED --tableNameSOMEFILES --checkColumnID --partitionColumnID --partitions3 --partitionResultsTimeout3000000 --rollover128000000 --commitInterval1000 --urljdbcoraclethinredwood1521XE --driverClassNameoraclejdbcOracleDriver --usernamespring --passwordspring --testOnBorrowfalse Command failed orgspringframeworkxdrestclientimplSpringXDException Batch Job with the name jdbc1 already exists code,0
Dispatcher Has No Subscriber Error when posting a message to a stream This has been observed intermittently with Redis transport by myself and others when sending a message to a valid stream Not sure how to recreate it yet 112710082 ERROR ThreadPoolTaskScheduler-1 redisRedisQueueInboundChannelAdapter126 - Error sending message orgspringframeworkintegrationMessageDeliveryException Dispatcher has no subscribers for channel orgspringframeworkcontextsupportGenericApplicationContext3f73865dinput,0
Change Grunt Build - Checkin Bower Artifacts In order to decrease CI build issues we should checkin bower dependencies See httpaddyosmanicomblogchecking-in-front-end-dependencies,0
Create XD source from POJO annotated Source XD Module configured for component scanning classes or methods annotated with Source consider Processor and Sink as well and simply provide the POJOs and dependent jars in the module lib directory Custom processor is fairly straightforward currently but still requires an XML module definition to wire up the POJO as a service activator or transformer to the input and output channel A service activator works for a POJO backed sink Writing a source that is not backed by an existing inbound channel adapter is a bit more involved and requires more than basic familiarity with SI It should be possible for XD to automatically create a polling source by wiring a Java method to an inbound adapter configured with a poller Ideally we would require no XML even to enable component scanning- this will require some changes to the module registrymodule initializer,0
Update Processors Filter JSon Filed Value Filter section to use Shell commands instead of curl See httpstaticspringsourceorgspring-xddocs100M1referencehtmlfilter httpstaticspringsourceorgspring-xddocs100M1referencehtmljson-value-filter,0
Create CI process for XD build bamboo based,0
Cant create http source while TCP is used as a source and sink on singlenode Problem Cant use tcp source sink and http together on Single Node While creating tests for CI I tried to create the following Steps to Reproduce xdstream create fooOut --definition tcpfile Created new stream fooOut xdstream create fooIn --definition http --port9002tcp Command failed orgspringframeworkxdrestclientimplSpringXDException Failed to bind to 000000009000 Possibly the port is already in use Even if I use different ports for the tcp I still get failures pointing to 9000 Extra Notes The stream below is works xdstream create fooOut --definition tcpfile Created new stream fooOut xdstream create fooIN --definition timetcp Stack Trace Attached,0
Exception in a tap will stop the tapped stream from sinking data Exception in a tap will stop the tapped stream from sinking data h2 Background Running xd-singlenode We experienced this when streaming data from a rabbit queue to hdfs The stream was tapped and we had a groovy processor on the tap stream Any exceptions in the processor stopped the main stream from writing data to the hdfs sink h2 Steps to reproduce 1 Create a groovy script that throws an exception in modulesprocessorscriptsexceptionthrowergroovy Code below code Custom processor to be wired into a tap to throw an exception throw new RuntimeExceptionError from processor code 2 Create a sample main stream code xdstream create --name ticktock --definition time log --deploy code 3 Tail the log to confirm the data is going to the sink We see sinkticktock appearing in the log as expected 4 Add a tap to the stream that will throw an exception code xdstream create --name exTap --definition tapstreamticktock script --locationexceptionthrowergroovy log --deploy code 5 Tail the log and we see that there are no more sinkticktock strings being logged Looks like the main stream is no longer sending messages to the sink,0
Define developer facing interfaces for Reactor Stream processors What is the core interface contract users will be exposed to when creating a processor module that uses Reactors Stream API Some consideration for error handling should be considered as it maybe outside normal exception throwing signatures,0
Strip MessageBus DeliveryMode Header Since the messagebus refactoring we now see noformat 154306379 110M2 WARN xdbusfoo0-1 supportDefaultAmqpHeaderMapper - skipping header amqpdeliveryMode since it is not of expected type class orgspringframeworkamqpcoreMessageDeliveryMode it is class orgspringframeworkamqpcoreMessageDeliveryMode noformat When using a rabbit transport and a rabbit sink the sink Spring AMQP is in its own classloader,0
Create POJO based FileSink module metadata This is so that we can have an ENUM that can show the possible values and autocomplete Using just the XML the user has a greater chance to enter an invalid mode,0
XD Requires a CI build for Windows Platform We need the ability to have bamboo provision a Windows instance on EC2 and launch a XD build Capture the results of the XD Build and report back to Bamboo Success or failure If the build is successful shutdown the EC2 Windows instance Else leave it running so someone can diagnose the problem,0
Add a Processor for Restful webservices Offers the functionality to make http request to a web service ie outbound http gateway Example implementations stream create --name foo --definition trigger rest --reply-timeout1 --urlhttpearthquakeusgsgovearthquakesfeedgeojsonalldaylog stream create --name foos --definition trigger --payloadlat340567006lon-8434368810000001siteallsmap1searchresultRoswell2C20GA20300762C20USAUktzaWSG1Dd rest --urlhttpforecastweathergovMapClickphp log,0
IllegalStateException when shutting down container noformat 132357643 INFO main-EventThread serverContainerRegistrar - Undeploying module ModuleDescriptor1c736092 moduleName log moduleLabel log group paymenttap sourceChannelName tapjobpayment sinkChannelName null sinkChannelName null index 0 type sink parameters mapempty children listempty 132357643 ERROR main-EventThread impsCuratorFrameworkImpl - Watcher exception javalangIllegalStateException instance must be started before calling this method at comgooglecommonbasePreconditionscheckStatePreconditionsjava176 at orgapachecuratorframeworkimpsCuratorFrameworkImpldeleteCuratorFrameworkImpljava344 at orgspringframeworkxddirtserverContainerRegistrarunregisterTapContainerRegistrarjava292 at orgspringframeworkxddirtserverContainerRegistrarundeployModuleContainerRegistrarjava257 at orgspringframeworkxddirtserverContainerRegistrarStreamModuleWatcherprocessContainerRegistrarjava711 at orgapachecuratorframeworkimpsNamespaceWatcherprocessNamespaceWatcherjava67 at orgapachezookeeperClientCnxnEventThreadprocessEventClientCnxnjava522 at orgapachezookeeperClientCnxnEventThreadrunClientCnxnjava498 noformat Sequence of events Stream module ZK path is removed Event is raised ZK connection is closed Event handler causes module undeployment which includes unregistration of tap Since connection is closed exception is thrown,0
User should be able to view the list of all the job definitions Create a tab view with tabs Job Definitions Runtime Jobs Deployed Jobs Job Instances Is Runtime Jobs a better name here and Job Executions On clicking Job Definitions tab we can have a table view of job definitions Since we bootstrapjs we can have a responsive table layout to list all the available job definitions At the REST layer jobs provides the list of job definitions We can expand the JobsController lists QueryOptions to add more criteria especially to list JobDefinitions status DeployedUndeployed Also this is the UI implementation for the shell command job list,0
JLine 1 is brought up and shows in IDE through ZKcurator We dont want jline1 anymore This shows in IDE only either run shell integration tests or run the shell as Gunnar mentioned,0
Update Master Environment for 20 CI Acceptance Tests,0
Add support to set the read timeout for http request We need to have the ability to set read timeout for http request This is already implemented here httpsgithubcomSpringSourcerest-shell,0
UI User should be able to filter the list of executions on the execution tab On clicking the Executions tab user should see the list of all batch job executions There should be options to filter job executions by few criteria such as by Job name execution time etc,0
On specific shutdown scenarios the stream resumes from the start of the bus topic httpsgithubcomspring-projectsspring-xdissues1727,0
Re-enable JSHint during grunt build JSHint should be enabled in grunt build There are few minor issues and needs to be fixed,0
topic in mqtt source was marked as topics Changed field back to topic,0
Change metrics assertions in integration tests to use smart Threadsleep Similar to what has been done for eg FileSink refactor metrics related sinks to use smart Threadsleep timings,0
Fix JobRepoTests to use different batch job repo Currently the JobRepoTests use the same batch job repository that the XD runtime uses Since the batch job repo doesnt delete the job instances there would be stale data from this test,0
Changing externalized module config properties at runtime Once the container starts up and the module is deployed the externalized module configuration properties could not be changed for the subsequent modules of same type Here is the scenario for a stream http transform log with XDMODULECONFIGLOCATION and XDMODULECONFIGNAME using their default values In xdconfighomemodulesmodulesyml I have processor transform expression Inside modulesyml and in xdconfighomemodulesprocessortransformtransformproperties I have expression First module inside transformproperties Now I deploy this stream http transform log Lets say I have another stream that uses the transform module but this time I want to change the expression in xdconfighomemodulesprocessortransformtransformproperties to expression Second module Now when the stream containing this transform module gets deployed it uses the same transformproperties that is used by the previously deployed transform module What I understand from this behavior is that the EnvironmentAwareModuleOptionsMetadataResolver caches the module environments for a given module type and name When the same module is deployed from a given stream again it uses the stored module environment and doesnt refreshload the property sources from the module config locations mentioned above Though this is good in one way that same module environment is re-used changing the externalized module config properties would have no affect after the first module of same typename is deployed Though the EnvironmentAwareModuleOptionsMetadataResolver is used by both admin and container this JIRA focuses more on the container side There is one valid point with the current behavior where the module environment is cached and wont change But is this by design,0
Prevent accidental pickup of ENV var as module option Typical case is with a module that contains noformat userusername noformat say as part of a jdbc connection configuration and no value has been given at deployment time The module may pickup a value from the environment by mistake typically from an environment variable of the same name This was even more problematic when ordering of property sources was unclear but should be prevented entirely anyway,0
Improve job launch functionality with distributed nodes When sending a launch request the message is not targeted to the container node that hosts the deployed job With RabbitMQ the message is not ackd so it will get picked up eventually by the container that hosts the deployed job This should change to a targeted message ----- Original description from Thomas below Tried deploying some batch jobs and they all seem to fail when running admin and one container using redis as transport xdjob create mongojob --definition hdfsmongodb --resourcesdatalog --namescol1col2col3 --idFieldcol1 --collectionNametest fails with this quote 181901612 WARN redisInboundAdapter-redisqueue-inbound-channel-adapter6 bootSpringApplication635 - Error handling failed Error creating bean with name integrationRequestMappingHandlerMapping Initialization of bean failed nested exception is javalangIllegalStateException orgspringframeworkcontextannotationAnnotationConfigApplicationContext25e7506f has not been refreshed yet 181901614 ERROR redisInboundAdapter-redisqueue-inbound-channel-adapter6 handlerLoggingHandler145 - orgspringframeworkmessagingMessageHandlingException error occurred in message handler moduleDeployer orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava84 orgspringframeworkintegrationconfigServiceActivatorFactoryBean1handleRequestMessageServiceActivatorFactoryBeanjava83 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava170 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava128 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava114 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava92 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava98 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointpopMessageAndSendRedisQueueMessageDrivenEndpointjava211 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointaccess300RedisQueueMessageDrivenEndpointjava50 orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointListenerTaskrunRedisQueueMessageDrivenEndpointjava290 orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 javalangThreadrunThreadjava724 Caused by orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name readResourcesStep Cannot create inner bean inner bean of type orgspringframeworkbatchcorelistenerStepListenerFactoryBean while setting bean property listeners with key 0 nested exception is orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name inner bean4 FactoryBean threw exception on object creation nested exception is javalangIllegalArgumentException interface orgspringframeworkbatchcoreStepListener is not visible from class loader orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveInnerBeanBeanDefinitionValueResolverjava282 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava126 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveManagedListBeanDefinitionValueResolverjava351 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveValueIfNecessaryBeanDefinitionValueResolverjava154 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactoryapplyPropertyValuesAbstractAutowireCapableBeanFactoryjava1456 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorypopulateBeanAbstractAutowireCapableBeanFactoryjava1197 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorydoCreateBeanAbstractAutowireCapableBeanFactoryjava537 orgspringframeworkbeansfactorysupportAbstractAutowireCapableBeanFactorycreateBeanAbstractAutowireCapableBeanFactoryjava475 orgspringframeworkbeansfactorysupportAbstractBeanFactory1getObjectAbstractBeanFactoryjava304 orgspringframeworkbeansfactorysupportDefaultSingletonBeanRegistrygetSingletonDefaultSingletonBeanRegistryjava228 orgspringframeworkbeansfactorysupportAbstractBeanFactorydoGetBeanAbstractBeanFactoryjava300 orgspringframeworkbeansfactorysupportAbstractBeanFactorygetBeanAbstractBeanFactoryjava195 orgspringframeworkbeansfactorysupportDefaultListableBeanFactorypreInstantiateSingletonsDefaultListableBeanFactoryjava681 orgspringframeworkcontextsupportAbstractApplicationContextfinishBeanFactoryInitializationAbstractApplicationContextjava760 orgspringframeworkcontextsupportAbstractApplicationContextrefreshAbstractApplicationContextjava482 orgspringframeworkbootSpringApplicationrefreshSpringApplicationjava616 orgspringframeworkbootSpringApplicationrunSpringApplicationjava306 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava130 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava225 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava270 orgspringframeworkxddirtmoduleModuleDeployerdeployAndStoreModuleDeployerjava260 orgspringframeworkxddirtmoduleModuleDeployerhandleDeployModuleDeployerjava201 orgspringframeworkxddirtmoduleModuleDeployerhandleMessageInternalModuleDeployerjava172 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 18 more Caused by orgspringframeworkbeansfactoryBeanCreationException Error creating bean with name inner bean4 FactoryBean threw exception on object creation nested exception is javalangIllegalArgumentException interface orgspringframeworkbatchcoreStepListener is not visible from class loader orgspringframeworkbeansfactorysupportFactoryBeanRegistrySupportdoGetObjectFromFactoryBeanFactoryBeanRegistrySupportjava151 orgspringframeworkbeansfactorysupportFactoryBeanRegistrySupportgetObjectFromFactoryBeanFactoryBeanRegistrySupportjava110 orgspringframeworkbeansfactorysupportBeanDefinitionValueResolverresolveInnerBeanBeanDefinitionValueResolverjava272 41 more Caused by javalangIllegalArgumentException interface orgspringframeworkbatchcoreStepListener is not visible from class loader javalangreflectProxygetProxyClass0Proxyjava487 javalangreflectProxynewProxyInstanceProxyjava722 orgspringframeworkaopframeworkJdkDynamicAopProxygetProxyJdkDynamicAopProxyjava121 orgspringframeworkaopframeworkJdkDynamicAopProxygetProxyJdkDynamicAopProxyjava111 orgspringframeworkaopframeworkProxyFactorygetProxyProxyFactoryjava98 orgspringframeworkbatchcorelistenerAbstractListenerFactoryBeangetObjectAbstractListenerFactoryBeanjava163 orgspringframeworkbeansfactorysupportFactoryBeanRegistrySupportdoGetObjectFromFactoryBeanFactoryBeanRegistrySupportjava144 43 more quote Ill post more errors as I collect them,0
When setting managementport only the admin is updated When setting the managementport in the serversyml all deployments should use the port specified Currently only admin is updated the containers are still using 0,0
Commands that prompt the user are now broken Most likely due to httpsgithubcomspring-projectsspring-shellcommit296e4d2ff0e6e91d91209ab8717335357c587de0 When the user submits with ENTER the shell appears to hang,0
Add profile activation on top of XD-953,0
As a s-c-d developer Id like to invoke REST APIs via shell so I can validate StreamController operations,8
Handle container shutdown gracefully Currently ModuleDeployer is a disposable bean When the container context is closed the ModuleDeployer bean is destroyed along with its associated common context and deployed modules Issue arises if the connectionfactory bean associated with the deployed modules message bus bindings is destroyed before the ModuleDeployer bean there is exception stacktrace at least in case of Redis MessageBus saying Connection closed Adding SmartLifecycle support to ModuleDeployer will make sure all the beans are destroyed during Lifecycle processors stop method before any of the singletonbeans are destroyed The stacktrace when using Redis MessageBus is orgspringframeworkdataredisRedisSystemException Redis exception nested exception is comlambdaworksredisRedisException Connection closed at orgspringframeworkdataredisconnectionlettuceLettuceExceptionConverterconvertLettuceExceptionConverterjava45 at orgspringframeworkdataredisconnectionlettuceLettuceExceptionConverterconvertLettuceExceptionConverterjava35 at orgspringframeworkdataredisconnectionlettuceLettuceConverterstoDataAccessExceptionLettuceConvertersjava158 at orgspringframeworkdataredisconnectionlettuceLettuceConnectionconvertLettuceAccessExceptionLettuceConnectionjava237 at orgspringframeworkdataredisconnectionlettuceLettuceConnectionbRPopLettuceConnectionjava1449 at orgspringframeworkdatarediscoreDefaultListOperations12inRedisDefaultListOperationsjava154 at orgspringframeworkdatarediscoreAbstractOperationsValueDeserializingRedisCallbackdoInRedisAbstractOperationsjava50 at orgspringframeworkdatarediscoreRedisTemplateexecuteRedisTemplatejava181 at orgspringframeworkdatarediscoreRedisTemplateexecuteRedisTemplatejava149 at orgspringframeworkdatarediscoreAbstractOperationsexecuteAbstractOperationsjava84 at orgspringframeworkdatarediscoreDefaultListOperationsrightPopDefaultListOperationsjava151 at orgspringframeworkdatarediscoreDefaultBoundListOperationsrightPopDefaultBoundListOperationsjava92 at orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointpopMessageAndSendRedisQueueMessageDrivenEndpointjava178 at orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointaccess300RedisQueueMessageDrivenEndpointjava51 at orgspringframeworkintegrationredisinboundRedisQueueMessageDrivenEndpointListenerTaskrunRedisQueueMessageDrivenEndpointjava291 at orgspringframeworkintegrationutilErrorHandlingTaskExecutor1runErrorHandlingTaskExecutorjava52 at javalangThreadrunThreadjava722 Caused by comlambdaworksredisRedisException Connection closed at comlambdaworksredisRedisAsyncConnectionawaitRedisAsyncConnectionjava1079 at comlambdaworksredisRedisConnectionawaitRedisConnectionjava820 at comlambdaworksredisRedisConnectionbrpopRedisConnectionjava101 at orgspringframeworkdataredisconnectionlettuceLettuceConnectionbRPopLettuceConnectionjava1447 12 more 131900897 WARN Thread-5 supportDefaultLifecycleProcessor257 - Failed to stop bean orgspringframeworkintegrationredisinboundRedisInboundChannelAdapter0 comlambdaworksredisRedisException Connection is closed at comlambdaworksredisRedisAsyncConnectiondispatchRedisAsyncConnectionjava1065 at comlambdaworksredispubsubRedisPubSubConnectionunsubscribeRedisPubSubConnectionjava82 at orgspringframeworkdataredisconnectionlettuceLettuceSubscriptiondoUnsubscribeLettuceSubscriptionjava68 at orgspringframeworkdataredisconnectionutilAbstractSubscriptionunsubscribeAbstractSubscriptionjava186 at orgspringframeworkdataredisconnectionutilAbstractSubscriptionunsubscribeAbstractSubscriptionjava146 at orgspringframeworkdataredislistenerRedisMessageListenerContainerSubscriptionTaskcancelRedisMessageListenerContainerjava836 at orgspringframeworkdataredislistenerRedisMessageListenerContainerstopRedisMessageListenerContainerjava210 at orgspringframeworkintegrationredisinboundRedisInboundChannelAdapterdoStopRedisInboundChannelAdapterjava127 at orgspringframeworkintegrationendpointAbstractEndpointstopAbstractEndpointjava100 at orgspringframeworkintegrationendpointAbstractEndpointstopAbstractEndpointjava115 at orgspringframeworkcontextsupportDefaultLifecycleProcessordoStopDefaultLifecycleProcessorjava229 at orgspringframeworkcontextsupportDefaultLifecycleProcessoraccess300DefaultLifecycleProcessorjava51 at orgspringframeworkcontextsupportDefaultLifecycleProcessorLifecycleGroupstopDefaultLifecycleProcessorjava363 at orgspringframeworkcontextsupportDefaultLifecycleProcessorstopBeansDefaultLifecycleProcessorjava202 at orgspringframeworkcontextsupportDefaultLifecycleProcessoronCloseDefaultLifecycleProcessorjava118 at orgspringframeworkcontextsupportAbstractApplicationContextdoCloseAbstractApplicationContextjava888 at orgspringframeworkbootcontextembeddedEmbeddedWebApplicationContextdoCloseEmbeddedWebApplicationContextjava157 at orgspringframeworkcontextsupportAbstractApplicationContext1runAbstractApplicationContextjava809,0
Update Spring Integration Splunk Extension to 11 GA,0
XD on YARN broken due to missing messagebus libs Admin on YARN simply fails because messagebus libs are not copied in place during a build Already tried and simple fix is for gradlebuild-distgradle code task copyYarnMessageBusLibstype Copy from rootDirlibmessagebus into buildDirdistspring-xd-yarnxd-yarnlibmessagebus code and execute it together with copyMessageBusLibs task,0
ResourceModuleRegistry doesnt support HA namenode for hdfs custom module location As an XD module developer I would like to use HDFS for my custom module location even when my namenode is configured for HA We had an issue filed in the spring-xd-ambari project It seems like custom module doesnt pickup namenode HA and still use NameNodeProxiescreateNonHAProxy see httpsgithubcomspring-projectsspring-xd-ambariissues14,0
Composing transformer and gemfire-json-server leads to FileNotFoundException during deployment Composing transform and gemfire-json-server modules leads to FileNotFoundException during stream deployment when - xd-admin and xd-container are started as system services after installing from RPM - xd-singelonde is started outside of XDHOMEbin directory eg code cd XDHOME binxd-singelonde code but its fully working and exception is not thrown when - xd-singlenode script is started from within XDHOMEbin directory code cd XDHOMEbin xd-singelonde code Then using the XD Shell code xd-shell module compose --name cm-gem-sink --definition transform --outputTypeapplicationjson gemfire-json-server --regionNametimeRegion --keyExpressionpayloadgetFieldlocation stream create --name cm-test-gem --definition tail --nametmptimejson cm-gem-sink stream deploy --name cm-test-gem code Stream deployment will result in following exception code 2015-03-11 163810918 boot - 17402 INFO DeploymentsPathChildrenCache-0 --- DeploymentListener Deploying module ModuleDescriptor2095e9f9 moduleName tail moduleLabel tail group cm-test-gem sourceChannelName null sinkChannelName null index 0 type source parameters mapname - tmptimejson children listempty 2015-03-11 163811263 110RELEASE INFO DeploymentSupervisor-0 serverStreamDeploymentListener - Deployment status for stream cm-test-gem DeploymentStatusstatefailederrorsorgspringframeworkbeansfactoryparsingBeanDefinitionParsingException Configuration problem Error evaluating Groovy script Configuration problem Error evaluating Groovy script modulescommongemfire-sinkgroovy No such file or directory Offending resource URL filemodulescommongemfire-sinkgroovy nested exception is javaioFileNotFoundException modulescommongemfire-sinkgroovy No such file or directory Offending resource file optspring-xdspring-xd-110RELEASExdmodulessinkgemfire-json-serverconfiggemfire-json-servergroovy nested exception is orgspringframeworkbeansfactoryparsingBeanDefinitionParsingException Configuration problem Error evaluating Groovy script modulescommongemfire-sinkgroovy No such file or directory Offending resource URL filemodulescommongemfire-sinkgroovy nested exception is javaioFileNotFoundException modulescommongemfire-sinkgroovy No such file or directory orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderloadBeanDefinitionsGroovyBeanDefinitionReaderjava247 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderloadBeanDefinitionsGroovyBeanDefinitionReaderjava202 orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava178 orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava138 orgspringframeworkbootBeanDefinitionLoaderloadBeanDefinitionLoaderjava127 orgspringframeworkbootSpringApplicationloadSpringApplicationjava620 orgspringframeworkbootSpringApplicationrunSpringApplicationjava315 orgspringframeworkbootbuilderSpringApplicationBuilderrunSpringApplicationBuilderjava139 orgspringframeworkxdmodulecoreSimpleModuleinitializeSimpleModulejava214 orgspringframeworkxdmodulecoreCompositeModuleinitializeCompositeModulejava105 orgspringframeworkxddirtmoduleModuleDeployerdoDeployModuleDeployerjava217 orgspringframeworkxddirtmoduleModuleDeployerdeployModuleDeployerjava200 orgspringframeworkxddirtserverDeploymentListenerdeployModuleDeploymentListenerjava363 orgspringframeworkxddirtserverDeploymentListenerdeployStreamModuleDeploymentListenerjava332 orgspringframeworkxddirtserverDeploymentListeneronChildAddedDeploymentListenerjava179 orgspringframeworkxddirtserverDeploymentListenerchildEventDeploymentListenerjava147 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava745 Caused by orgspringframeworkbeansfactoryparsingBeanDefinitionParsingException Configuration problem Error evaluating Groovy script modulescommongemfire-sinkgroovy No such file or directory Offending resource URL filemodulescommongemfire-sinkgroovy nested exception is javaioFileNotFoundException modulescommongemfire-sinkgroovy No such file or directory orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderloadBeanDefinitionsGroovyBeanDefinitionReaderjava247 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderloadBeanDefinitionsGroovyBeanDefinitionReaderjava202 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava181 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava217 orgspringframeworkbeansfactorysupportAbstractBeanDefinitionReaderloadBeanDefinitionsAbstractBeanDefinitionReaderjava188 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderimportBeansGroovyBeanDefinitionReaderjava337 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgcodehausgroovyreflectionCachedMethodinvokeCachedMethodjava90 groovylangMetaMethoddoMethodInvokeMetaMethodjava324 orgcodehausgroovyruntimemetaclassClosureMetaClassinvokeMethodClosureMetaClassjava368 groovylangMetaClassImplinvokeMethodMetaClassImpljava1016 orgcodehausgroovyruntimecallsitePogoMetaClassSitecallCurrentPogoMetaClassSitejava66 orgcodehausgroovyruntimecallsiteCallSiteArraydefaultCallCurrentCallSiteArrayjava49 orgcodehausgroovyruntimecallsiteAbstractCallSitecallCurrentAbstractCallSitejava133 orgcodehausgroovyruntimecallsiteAbstractCallSitecallCurrentAbstractCallSitejava141 beansrunclosure1doCallbeans4 beansrunclosure1doCallbeans sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgcodehausgroovyreflectionCachedMethodinvokeCachedMethodjava90 groovylangMetaMethoddoMethodInvokeMetaMethodjava324 orgcodehausgroovyruntimemetaclassClosureMetaClassinvokeMethodClosureMetaClassjava278 groovylangMetaClassImplinvokeMethodMetaClassImpljava1016 groovylangClosurecallClosurejava423 groovylangClosurecallClosurejava417 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderinvokeBeanDefiningClosureGroovyBeanDefinitionReaderjava426 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReader1callGroovyBeanDefinitionReaderjava223 groovylangClosurecallClosurejava439 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgcodehausgroovyreflectionCachedMethodinvokeCachedMethodjava90 groovylangMetaMethoddoMethodInvokeMetaMethodjava324 groovylangMetaClassImplinvokeMethodMetaClassImpljava1207 groovylangMetaClassImplinvokeMethodMetaClassImpljava1016 groovylangMetaClassImplinvokePropertyOrMissingMetaClassImpljava1253 groovylangMetaClassImplinvokeMethodMetaClassImpljava1209 groovylangMetaClassImplinvokeMethodMetaClassImpljava1016 orgcodehausgroovyruntimecallsitePogoMetaClassSitecallCurrentPogoMetaClassSitejava66 orgcodehausgroovyruntimecallsiteCallSiteArraydefaultCallCurrentCallSiteArrayjava49 orgcodehausgroovyruntimecallsiteAbstractCallSitecallCurrentAbstractCallSitejava133 orgcodehausgroovyruntimecallsiteAbstractCallSitecallCurrentAbstractCallSitejava141 beansrunbeans1 groovylangGroovyShellevaluateGroovyShelljava649 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderloadBeanDefinitionsGroovyBeanDefinitionReaderjava243 30 more Caused by javaioFileNotFoundException modulescommongemfire-sinkgroovy No such file or directory javaioFileInputStreamopenNative Method javaioFileInputStreaminitFileInputStreamjava146 javaioFileInputStreaminitFileInputStreamjava101 sunnetwwwprotocolfileFileURLConnectionconnectFileURLConnectionjava90 sunnetwwwprotocolfileFileURLConnectiongetInputStreamFileURLConnectionjava188 orgspringframeworkcoreioUrlResourcegetInputStreamUrlResourcejava168 orgspringframeworkcoreiosupportEncodedResourcegetReaderEncodedResourcejava132 orgspringframeworkbeansfactorygroovyGroovyBeanDefinitionReaderloadBeanDefinitionsGroovyBeanDefinitionReaderjava243 80 more code Exporting XDHOME as a global variable seems to have no effect on this behavior,0
JsonStringToObjectTransformerTests fail on mac if local machine name is not in etchosts When running the gradlew build the JsonStringToObjectTransformerTests unit test failed The cause is enumerated below Caused by comgemstonegemfireinternaltcpConnectionException While creating ServerSocket and Stub on port 0 with address glenns-mbp1921681254 If I added 127001 glenns-mbp to my etchosts the tests succeeded,0
As a s-c-d developer Id like to document the use of BOM templates so the general audience can use it as a reference to include external libraries dynamically,1
As a continuation we would like to further investigate Spark develop POC and identify the best appropriate design and implementation for XD,8
Update Analytics Counter section to use Shell commands instead of curl,0
As a s-c-d developer Id like to setup CI infrastructure for s-c-d repohttpsgithubcomspring-cloudspring-cloud-data so I can build the project continuously on every commits,5
Container process ids still showing after shutting them down In my test case I have security enabled I tested this on distributed mode I have a few Streams deployed Started 3 XD containers Issue Shutdown from UI The containers dont show up on the UI any more jps lists the process id of 2 ContainerServerApplicationthere should be none listed I have noticed different test results every time like at times 2 out of 3 containers are terminated and at times 1 out of 3 are terminated Please let me know if you have issues replicating this,0
Create XD module for syslog-tcp-reactor Still keep existing one,0
ContainerListener to redeploy modules based on stream order When redeploying in the case of a container failure the modules are now redeployed in a random order The list of modules in the failed container needs to be sorted based on its position in a given stream and then redeployed,0
Add tests and refactor ZooKeeperStreamRepository Looks like there is a bit of technical debt in ZooKeeperStreamRepository Additionally there is not a single test for this class yet However testability looks tricky,0
Inject ModuleDefinitionRepository into ModulesController Currently ModulesController creates the ModuleDefinitionRepository instance with ModuleRegistry Instead we should inject the moduleDefinitionRepository into ModulesController directly,0
Setup precedence order for module properties property resolver The PropertyResolver needs to follow the below precedence order on PropertySources when resolving the module properties From lowest to the highest order 0 applicationyml 1 applicaitonyml fragment 2 property placeholders 2a property placeholder under shared config directory 2b property placeholder under modulesourcesinkprocessorconfig directory 3 environment variables 4 system properties 5 command line,0
stream list should show undeployed rather than blank if a stream is not deployed,0
Bootstrap XD on Yarn 1 How XD Yarn application should be packaged and bootstrapped 2 Where the code should be Within xd itself or separate repo,0
JMS Source on EC2 only uses localhost for activemq broker Problem On a EC2 container jms-activemqproperties was configured to use a activemq broker on a different host it still referred to localhost On my local mac I was able to updated the jms-activemqproperties with an activemq on a different host and it worked work-around While not recommended you can set the amqurl in the jms-activemq-infrastructure-contextxml Steps to reproduce 1 Deploy a single admincontainer using xd-ec2 2 create a jms-activemqproperties file in the spring-xd-100BUILD-SNAPSHOTxd where it refers to a broker on another machine ec2-54-221-32-82compute-1amazonawscom 3 Create a stream with JMS as its source,0
Remove duplicate code in ResourceDeployer implementations create abstract base class Only create in TapDeployer has some additional code to check if the stream exists could take place in another location,0
Review abstract base classes used in test cases to ensure proper resource cleanup,0
Find logging configuration relative to environment Previously the scripts all looked for the logging configuration in XDHOMEconfig or XDHOMEconfig This caused issues because it meant that if you moved all of the configuration and overrode XDCONFIGLOCATION or XDCONFIGLOCATION the logging configuration changes would not be found in the new location This change updates the scripts to look for logging configuration in XDCONFIGLOCATION or XDCONFIGLOCATION,0
Batch jobs should use applicationyml provided connection as default Batch jobs should use applicationyml provided connection as default They now have their own configuration in batch-jdbcproperties This config needs to account for any changes made to applicationyml settings so the data is written to the batch metadata database by default,0
Investigate TypeConvertingStreamTeststestBasicTypeConversionWithTap test failure in CI builds TypeConvertingStreamTeststestBasicTypeConversionWithTap is failing intermittently Why,0
Update to Reactor 202,0
As a Spring XD developer Id like to port object-to-json module from XD to s-c-s repo so I can use it as processor module to build streaming pipeline,2
Modules need to validate their parameters at create time We need to fail fast,0
Composed Module Child Module Validated Too Early module compose foo --definition time --fixedDelay5 shell --commandmysh code xdstream create bar --definition foo log --deploy Command failed orgspringframeworkxdrestclientimplSpringXDException Error with options for module foo of type source command may not be empty command may not be null code The problem stems from the fact that the options metadata validation is performed on the shell module before the property from the composed module is injected Disabling the validation annotations on the metadata avoids the problem code NotEmpty NotNull public String getCommand return command code,0
User wants a task status command to retrieve all task Job info for the running or completed job,0
Regression test existing functionality of streamtaps based on introduction of new conversion functionality make sure nothing is broken - spot check using 1 ticktock 2 twitter 3 gemfire,0
As a Spring XD user Id like to capture module aka cf apps metrics directly so I can relay that information via REST-APIs and not depend on the current coupling of xd-containers Currently there are two different ways we could consume this information from applications SIs channel and SBoots actuator APIs are the few to explore as part of this scope,5
Rewrite of the existing UI to use AngluarJS,0
As a tester Id like to add test coverage for complex objects such protocol buffers any object with nested variables or a tree of objects so that I can evaluate and document the performance characteristics,8
Job undeploy operation throws exception Job undeploy operation throws the following stacktrace http-nio-9393-exec-5 zookeeperZooKeeperJobRepository - Exception while transitioning job j state to undeploying orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsjobsjstatus orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 orgapachezookeeperZooKeepersetDataZooKeeperjava1266 orgapachecuratorframeworkimpsSetDataBuilderImpl4callSetDataBuilderImpljava260 orgapachecuratorframeworkimpsSetDataBuilderImpl4callSetDataBuilderImpljava256 orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 orgapachecuratorframeworkimpsSetDataBuilderImplpathInForegroundSetDataBuilderImpljava252 orgapachecuratorframeworkimpsSetDataBuilderImplforPathSetDataBuilderImpljava239 orgapachecuratorframeworkimpsSetDataBuilderImplforPathSetDataBuilderImpljava39 orgspringframeworkxddirtstreamzookeeperZooKeeperJobRepositorydeleteZooKeeperJobRepositoryjava177 orgspringframeworkxddirtstreamzookeeperZooKeeperJobRepositorydeleteZooKeeperJobRepositoryjava199 orgspringframeworkxddirtstreamzookeeperZooKeeperJobRepositorydeleteZooKeeperJobRepositoryjava1 orgspringframeworkxddirtstreamAbstractInstancePersistingDeployerundeployAbstractInstancePersistingDeployerjava68 orgspringframeworkxddirtrestXDControllerundeployXDControllerjava125 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43,0
As a developer Id like to build Spark Streaming as data processors in XD so that we can demonstrate some of the capabilities Implement using Java Java Lambdas Scala,8
NullPointerException while fetching runtime containers In SpringXD ver 101 runtimecontainers fetches additional runtime modules information for each container When a user queries the runtime containers while a stream is being deploy it throws a NullPointerException See below 155602829 INFO DeploymentSupervisorCacheListener-0 serverInitialDeploymentListener - Path cache event pathdeploymentsstreamstestCreateHTTPStreampostData1413327352991 typeCHILDADDED 155602935 INFO Deployer serverStreamDeploymentListener - Deploying stream StreamnametestCreateHTTPStreampostData1413327352991 155605069 ERROR http-nio-9393-exec-9 restRestControllerAdvice - Caught exception while handling a request javalangNullPointerException orgspringframeworkxddirtmodulestoreZooKeeperModuleMetadataRepositoryupdateDeploymentStatusZooKeeperModuleMetadataRepositoryjava209 orgspringframeworkxddirtmodulestoreZooKeeperModuleMetadataRepositoryfindAllByContainerIdZooKeeperModuleMetadataRepositoryjava313 orgspringframeworkxddirtcontainerstoreZooKeeperContainerRepositoryfindAllRuntimeContainersZooKeeperContainerRepositoryjava339 orgspringframeworkxddirtrestContainersControllerlistContainersControllerjava97 sunreflectGeneratedMethodAccessor133invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeInvocableHandlerMethodjava215 orgspringframeworkwebmethodsupportInvocableHandlerMethodinvokeForRequestInvocableHandlerMethodjava132 orgspringframeworkwebservletmvcmethodannotationServletInvocableHandlerMethodinvokeAndHandleServletInvocableHandlerMethodjava104 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterinvokeHandleMethodRequestMappingHandlerAdapterjava749 orgspringframeworkwebservletmvcmethodannotationRequestMappingHandlerAdapterhandleInternalRequestMappingHandlerAdapterjava689 orgspringframeworkwebservletmvcmethodAbstractHandlerMethodAdapterhandleAbstractHandlerMethodAdapterjava83 orgspringframeworkwebservletDispatcherServletdoDispatchDispatcherServletjava938 orgspringframeworkwebservletDispatcherServletdoServiceDispatcherServletjava870 orgspringframeworkwebservletFrameworkServletprocessRequestFrameworkServletjava961 orgspringframeworkwebservletFrameworkServletdoGetFrameworkServletjava852 javaxservlethttpHttpServletserviceHttpServletjava620 orgspringframeworkwebservletFrameworkServletserviceFrameworkServletjava837 javaxservlethttpHttpServletserviceHttpServletjava727 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava303 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkbootactuatetraceWebRequestTraceFilterdoFilterInternalWebRequestTraceFilterjava110 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkbootactuateautoconfigureEndpointWebMvcAutoConfigurationApplicationContextHeaderFilterdoFilterInternalEndpointWebMvcAutoConfigurationjava280 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworksecuritywebFilterChainProxydoFilterInternalFilterChainProxyjava186 orgspringframeworksecuritywebFilterChainProxydoFilterFilterChainProxyjava160 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkwebfilterHiddenHttpMethodFilterdoFilterInternalHiddenHttpMethodFilterjava77 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkwebfilterHttpPutFormContentFilterdoFilterInternalHttpPutFormContentFilterjava88 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgspringframeworkbootactuateautoconfigureMetricFilterAutoConfigurationMetricsFilterdoFilterInternalMetricFilterAutoConfigurationjava89 orgspringframeworkwebfilterOncePerRequestFilterdoFilterOncePerRequestFilterjava107 orgapachecatalinacoreApplicationFilterChaininternalDoFilterApplicationFilterChainjava241 orgapachecatalinacoreApplicationFilterChaindoFilterApplicationFilterChainjava208 orgapachecatalinacoreStandardWrapperValveinvokeStandardWrapperValvejava220 orgapachecatalinacoreStandardContextValveinvokeStandardContextValvejava122 orgapachecatalinaauthenticatorAuthenticatorBaseinvokeAuthenticatorBasejava501 orgapachecatalinacoreStandardHostValveinvokeStandardHostValvejava171 orgapachecatalinavalvesErrorReportValveinvokeErrorReportValvejava103 orgapachecatalinacoreStandardEngineValveinvokeStandardEngineValvejava116 orgapachecatalinaconnectorCoyoteAdapterserviceCoyoteAdapterjava408 orgapachecoyotehttp11AbstractHttp11ProcessorprocessAbstractHttp11Processorjava1070 orgapachecoyoteAbstractProtocolAbstractConnectionHandlerprocessAbstractProtocoljava611 orgapachetomcatutilnetNioEndpointSocketProcessordoRunNioEndpointjava1736 orgapachetomcatutilnetNioEndpointSocketProcessorrunNioEndpointjava1695 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 orgapachetomcatutilthreadsTaskThreadWrappingRunnablerunTaskThreadjava61 javalangThreadrunThreadjava724,0
The HDFS Sink should support a number of rollover options A strategy to roll over files that allows the user to choose between 1 the size of the file 2 the number of eventsitems in the file 3 an idle timeout value that if exceeded will close the file,0
Further DSL extensions Extend the DSL in the following ways - stream naming use name code mystream http file code - module aliasing for later referencing use label code mystream http t1 transform --expressionpayloadtoUpperCase t2 transform --expressionpayloadtoLowerCase code - sequence of job steps with code mybigjobby step1 --optionvalue step2 --optionvalue code - Channels for sources and sinks use channels references prefixed code sink channel called foo http transform --expressionpayloadtoUppercase foo source channel called foo foo count file code - Qualify channels with a stream streamchannel code mystream http transform --expressionpayloadtoUppercase foo mystreamfoo count log code - Reusable substreams define then reuse code myIntricateFlow transform --expressionpayloadtoUppercase transform --expressionpayloadtoLowercase http myIntricateFlow file code - Parameterized substreams use XX or XX to indicate parameters code obfuscateName transform --expressionpayloadreplaceAllnameXXX twitter --queryBieber obfuscateName --nameJustin file code - Tapping still not 100 happy about the format here code mystream http filter t1 transform XXX t2 transform YYY file These are then equivalent tapping on a module is effectively tapping a channel hence the tap filter count file tap mystreamfilter count file mystream http filter foo tap foo count file tap mystreamfoo count file code Id still like to thing about removing tap and using a symbol perhaps but mystreamfoo is a little odd still not covered topological constraints on the stream components,0
Provide a source option to enable the SOFEOF markers when splitting a file into lines Depends on INT-3727,0
HDFS sink should provide rolloverTime option not only idleTiemout When using HDFS sink with ildeTimeout and rollover options in stream definition we have noticed that idleTimeout does not give you a flexibility when you would prefer a file to rollover after specific time regardless of the activityinactivity of the file Proposed option rolloverTimeout timeout after file will be automatically closed Link XD-2413,0
Stream should not be in deployed state following module failure Run singlenode Ensure twitterstream credentials are not valid eg no consumerKey property This is the default state stream create tweets --definition twitterstream log --deploy Created and deployed stream tweets Meanwhile Singlenode throws an exception the stacktrace below xdstream list Stream Name Stream Definition Status ----------- ------------------- -------- tweets twitterstream log deployed code 155407298 ERROR DeploymentsPathChildrenCache-0 cachePathChildrenCache550 - javalangRuntimeException orgspringframeworkbeansfactoryBeanDefinitionStoreException Invalid bean definition with name twitterTemplate defined in URL fileUsersdturanskispring-xdspring-xd-100M6xdmodulessourcetwitterstreamconfigtwitterstreamxml Could not resolve placeholder consumerKey in string value consumerKey nested exception is javalangIllegalArgumentException Could not resolve placeholder consumerKey in string value consumerKey orgspringframeworkxddirtserverContainerRegistrardeployStreamModuleContainerRegistrarjava448 orgspringframeworkxddirtserverContainerRegistraronChildAddedContainerRegistrarjava347 orgspringframeworkxddirtserverContainerRegistraraccess700ContainerRegistrarjava93 orgspringframeworkxddirtserverContainerRegistrarDeploymentListenerchildEventContainerRegistrarjava678 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava494 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava488 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava293 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava485 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache11runPathChildrenCachejava755 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 Caused by orgspringframeworkbeansfactoryBeanDefinitionStoreException Invalid bean definition with name twitterTemplate defined in URL fileUsersdturanskispring-xdspring-xd-100M6xdmodulessourcetwitterstreamconfigtwitterstreamxml Could not resolve placeholder consumerKey in string value consumerKey nested exception is javalangIllegalArgumentException Could not resolve placeholder consumerKey in string value consumerKey code,0
Documentation for use of conversion service and creating custom processing modules that use the Tuple data structure,0
Streamline command-line arg management Command line arguments and especially their default values are currently scattered around different places The aim is to regroup those in a common place Options classes make sense Also not very happy with how System properties are used as a vehicle for optionstransport optionshome,0
Add unregistration support to the channel registry,0
As a follow-up from XD-3613httpsjiraspringiobrowseXD-3629 we would want to fix this experience for Kafka message bus,5
Add UI screen shots to docs for new features in Alpha StepExecutionContext StepExecutionProgress JobScheduler Stream page Job definition XD1615,0
UI Shell Remove any usage of REST endpoints using the json notation Accessing REST endpoint using the json file extension causes maintenance issues for the authorization rules and is not necessary Remove any usage for the Admin UI and the Shell At the same time the json endpoint shall be deprecated or removed ultimately,0
Blank Container Screen from Admin UI w message rates With message rates enabled and container management enabled if you deploy a streaming module the container page may be blank Because the streaming module builds the channels outside the spring context spark receiver is ran in the spark cluster not in xd there is no need to setup the input andor output channels When these channels arent defined the rest call from admin UI will fail because it will not find the message rates returned in the JSON from the JMX call code Advice - Caught exception while handling a request orgcodehausjettisonjsonJSONException JSONObjectvalue not found at orgcodehausjettisonjsonJSONObjectgetJSONObjectjava360 at orgcodehausjettisonjsonJSONObjectgetJSONObjectJSONObjectjava454 at orgspringframeworkxddirtrestContainersControllergetMessageRateContainersControllerjava146 at orgspringframeworkxddirtrestContainersControllerlistContainersControllerjava121 code As a work around I have included the input and output channels for a spark streaming processor which is not used anywhere This gives a bad side affect of looking like the module isnt processing with message rates of 0 but everything else is now shown,0
As a s-c-s user Id like to have my modules addupdate its current state to Eureka so I can use the repository to discover the current sate of the module as needed,2
Composite Multiple Sink Module This would allow multiple individual sink modules to be combined via the shell DSL so that each message sent to the composite sink module will be sent to each of the individual sink modules in turn Internally this would probably use a recipient list router to send to each individual sink Module options for each individual sink would be combined to create the overall options for the composite sink module in a similar way to existing composite modules This would allow construction of streams with less communication with the message bus for example as an alternative to using a named topic in the message bus Using this in conjunction with sinks built using existing composite module functionality as a combination of processors and a sink would allow more sophisticated combinations to be constructed and deployed as a single module with no message bus communication One particular application of this would be with tap and counter functionality If multiple fields in a message need counted this currently needs to be done as separate streams tapping the original with the overhead of the tapped message being read from the message bus multiple times potentially on different nodes this enhancement would allow all the counters to be combined to make a more cohesive composite counter module so that the tapped message would only need to be read once,0
Provide xd-shell integration for deploying XD on YARN Command such as yarn app list yarn deploy-xd --zipFile tmpmyappzip --config tmpmyconfigyml,0
Add support to load a twitterproperties file in the source,0
Create CI Build for SCTM,0
transform processor with script option is broken Creating the following stream throws exception stream create s1 --definition http transform --scripttransformgroovy log Command failed orgspringframeworkxdrestclientimplSpringXDException Error with options for module transform of type processor valid the script and expression options are mutually exclusive The ExpressionOrScriptMixins assertions to check if script and expression options are mutually exclusive always fails,0
Remove Dynamically Created Producers When producers are createdbound dynamically eg from the router sink they are not unbound when the module is undeployed There is currently no metadata in the binding to provide that functionality It is not critical because the producers are just sitting there and may be reused if the module is redeployed but it is a leak and should be addressed at some time,0
As a developer Id like to investigate the increase in WARN logs so that I can troubleshoot and fix PMDSonar violations Consider notifying the violations through SONAR configurations The committer should be notified,3
HDFS StoreMessageHandlers are not very resilient There are cases where hdfs-outbound-channel-adapter from spring-xd-hadoop module will keep a broken datawriters stream open For example if the underlying HDFS stream throws a RemoteException ie some hadoop error occurred theres no mitigation Subsequent writes will always fail The MessageHandler could potentially try to close and re-open the stream or trigger a rollover strategy to occur creating a new stream,0
syslog-tcp Configure a FIxed Thread Pool The syslog-tcp source uses the default tcp connection factory which has an unbounded thread pool this can cause OOM if the bus blocks eg rabbit is out of resources,0
Support for GET of taps,0
As a s-c-d developer Id like to create a new project to contain all the rules associated RedisRule contract so it is isolated from core functionalities and reusable by test coverage as needed Consider moving this coverage to SI commons or equivalent,5
Allow registering default SpEL functions to simplify expressions Often one has to perform some basic conversion parsings in Stream definitions It would be helpful if one could provide some helper functions to simplify SpEL expressions Eg instead of code transform --expressionTjavalangLongparseLongpayloadvaluetoString code it would be nice to be able to write code transform --expressionparseLongpayloadvalue code Im thinking of support for parseByte parseInt parseShort parseLong parseFloat parseDouble parseBoolean parseTuple I dont think wed need support for parseCharacter This issue is about 1 providing the centralised infrastructure for defining the SpEL expressions 2 Add support for the above listed predefined SpEL expressions Those functions should be able to work with String based as well as JsonToStringFriendlyNode as input,0
Batch wordcount sample returns zero counts if user already has countin on their hdfs the input file will not copy the sample file to hdfs need to make sure that a file is already present if the hdfs Documents have to be updated to mention that hadoopDistro needs to be added both xd-singlenode and xd-shell,0
The tooltip for source displays incorrect information when using HDFS as sink Deploying a Stream with HDFS sink and JDBC as source displays incorrect information on the tooltip for the JDBC source The issue occurs when there are more than 1 containers deployed and the source is deployed on one container and the sink is deployed on another container I have checked the REST endpoints and they seem to show the correct information httplocalhost9393runtimecontainersjson In my test case say if there are 2 containers and source and sink are deployed on the same container the tooltips show correct information The Stream I used for testing purposes is as follows - noformat stream create swagataTestIssue --definition jdbc --queryselect employeeid employeename employer from EMPLOYEE --urljdbcoraclethinlocalhost1521orcl --usernamespringxd --passwordxdpwd --driverClassNameoraclejdbcOracleDriver --testOnBorrowfalse hdfs --inputTypeapplicationjson --deploy noformat I will attach the screenshots This issue has also been reported when using Gemfire as source and HDFS as sink Thanks Swagata,0
UI For Hadoop Steps - provide a link to the MapReduce Job details in Hadoop,0
As a user Id like to refer to documentation in wiki so that I can setup and configure Spark as a Batch job as recommended,1
As a developer Id like to port rich-gauge module from XD to s-c-s repo so I can use it as sink module to build streaming pipeline,2
Remove aliasHint flag usage when binding producerconsumer to MessageBus The MessageBus interface uses the aliasHint flag when binding consumerproducer on a point-to-point channel Actually the aliasHint is only needed when computing SourceSink channel names in case named channel names Otherwise indexed channel names will be used for the inputoutput channel name The only place where aliasHint is used in the message bus is on the LocalMessageBus where it provides a way to choose the channel provider directqueue channel based on the alias hint Otherwise it is not needed in message bus bindproducerconsumer We need to simplify this,0
Make failed deployment cleanup more robust When a deployment fails the supervisor will clean up failed deployment attempts If the deployment path is removed while the supervisor is waiting for instance if the target container departs the cluster then a NoNodeException will be thrown code 172259702 WARN ContainersPathChildrenCache-0 serverModuleDeploymentWriter361 - Error while cleaning up failed deployment deploymentsmodules40494bdb-0d8c-4b5d-a895-bf94432d9d3bssinklog-1 orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode for xddeploymentsmodules40494bdb-0d8c-4b5d-a895-bf94432d9d3bssinklog-1 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava111 orgapachezookeeperKeeperExceptioncreateKeeperExceptionjava51 orgapachezookeeperZooKeeperdeleteZooKeeperjava873 orgapachecuratorframeworkimpsDeleteBuilderImpl5callDeleteBuilderImpljava239 orgapachecuratorframeworkimpsDeleteBuilderImpl5callDeleteBuilderImpljava234 orgapachecuratorRetryLoopcallWithRetryRetryLoopjava107 orgapachecuratorframeworkimpsDeleteBuilderImplpathInForegroundDeleteBuilderImpljava230 orgapachecuratorframeworkimpsDeleteBuilderImplforPathDeleteBuilderImpljava215 orgapachecuratorframeworkimpsDeleteBuilderImplforPathDeleteBuilderImpljava42 orgspringframeworkxddirtserverModuleDeploymentWriterprocessResultsModuleDeploymentWriterjava355 orgspringframeworkxddirtserverModuleDeploymentWriterwriteDeploymentModuleDeploymentWriterjava325 orgspringframeworkxddirtserverModuleDeploymentWriterwriteDeploymentModuleDeploymentWriterjava247 orgspringframeworkxddirtserverContainerListenerredeployStreamModuleContainerListenerjava432 orgspringframeworkxddirtserverContainerListeneronChildLeftContainerListenerjava403 orgspringframeworkxddirtserverContainerListenerchildEventContainerListenerjava159 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 172259718 ERROR ContainersPathChildrenCache-0 cachePathChildrenCache557 - javalangIllegalStateException Container 40494bdb-0d8c-4b5d-a895-bf94432d9d3b experienced the following error deploying module log-1 of type sink orgapachezookeeperKeeperExceptionNoNodeException KeeperErrorCode NoNode orgspringframeworkxddirtserverModuleDeploymentWritervalidateResultsModuleDeploymentWriterjava523 orgspringframeworkxddirtserverModuleDeploymentWritervalidateResultModuleDeploymentWriterjava474 orgspringframeworkxddirtserverContainerListenerredeployStreamModuleContainerListenerjava436 orgspringframeworkxddirtserverContainerListeneronChildLeftContainerListenerjava403 orgspringframeworkxddirtserverContainerListenerchildEventContainerListenerjava159 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava509 orgapachecuratorframeworkrecipescachePathChildrenCache5applyPathChildrenCachejava503 orgapachecuratorframeworklistenListenerContainer1runListenerContainerjava92 comgooglecommonutilconcurrentMoreExecutorsSameThreadExecutorServiceexecuteMoreExecutorsjava297 orgapachecuratorframeworklistenListenerContainerforEachListenerContainerjava83 orgapachecuratorframeworkrecipescachePathChildrenCachecallListenersPathChildrenCachejava500 orgapachecuratorframeworkrecipescacheEventOperationinvokeEventOperationjava35 orgapachecuratorframeworkrecipescachePathChildrenCache10runPathChildrenCachejava762 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentExecutorsRunnableAdaptercallExecutorsjava471 javautilconcurrentFutureTaskrunFutureTaskjava262 javautilconcurrentThreadPoolExecutorrunWorkerThreadPoolExecutorjava1145 javautilconcurrentThreadPoolExecutorWorkerrunThreadPoolExecutorjava615 javalangThreadrunThreadjava744 code Additionally if the supervisor tries to remove a failed deployment after the container has written to it the following appears in the log code WARN ContainersPathChildrenCache-0 serverModuleDeploymentWriter361 - Error while cleaning up failed deployment deploymentsmodules18c7b4d7-991c-487b-a6e3-006b2dbf87fassourcehttp-0 orgapachezookeeperKeeperExceptionNotEmptyException KeeperErrorCode Directory not empty for xddeploymentsmodules18c7b4d7-991c-487b-a6e3-006b2dbf87fassourcehttp-0 code The supervisor has to force the removal of the node including children,0
JavaConfiguredModule should throw an exception when no Configuration class is present I had a custom module with a typo basepackagesbasepackagescomacmeconfig The module deploys without error but the stream hangs since the channels etc are not found in the stream plugin Very hard to debug,0
Create FsShell based module to copy a File to HDFS Spring batch workflows are great for complex hadoop operations but if I want to create a simple processor that executes some hadoop fs in groovy it would be nice to do this code service-activator output-channeloutput input-channelinput hadoopscript idloadScript languagegroovy def outputPath hdfsPath fshput- outputPath hadoopscript service-activator code The goal of this hadoop script is to use in a stream like thisfile script that puts a file byte for byte to hdfs An enhanced hdfs sink thats optimized for binary data like imagespdfs might be more elegant but I was hoping that this would work This script gets ignored by Spring XD But even if it didnt I am not sure the - stdin put would work as hoped,0
Support XD Runtime on Docker,0
Redis install-redis script fails on Ubuntu64 The installation script for redis fails on Ubuntu64 when trying to untar the redis distribution The script uses REDISZIPNAME instead of REDISZIPPATH This bug will be seen on any Linux 64 bits platform and looking at the code even Linux 32 bits platform,0
Rabbit Bus Expose ChannelCacheSize on CachingConnectionFactory httpstackoverflowcomquestions35563064processing-messages-through-namedchannels-with-prefetch-13558433335584333,0
Cannot start xd-container with the --hadoopDistro option Trying to use xd-container with PHD and therefore need to start with --hadoopDistro I get the following error binxd-container --hadoopDistro phd1 171120305 ERROR main serverContainerMain59 - --hadoopDistro is not a valid option,0
Job execution restart fails with NPE Create a job launch it but make it fail eg filejdbc with missing file job execution list its there as FAILED Good job execution restart theid Fails with NPE noformat 165942160 ERROR http-nio-9393-exec-7 restRestControllerAdvice191 - Caught exception while handling a request javalangNullPointerException orgspringframeworkbatchcorejobAbstractJobexecuteAbstractJobjava351 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncher1runSimpleJobLauncherjava135 orgspringframeworkcoretaskSyncTaskExecutorexecuteSyncTaskExecutorjava50 orgspringframeworkbatchcorelaunchsupportSimpleJobLauncherrunSimpleJobLauncherjava128 sunreflectGeneratedMethodAccessor157invokeUnknown Source sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkbatchcoreconfigurationannotationSimpleBatchConfigurationPassthruAdviceinvokeSimpleBatchConfigurationjava117 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy39runUnknown Source orgspringframeworkbatchadminserviceSimpleJobServicerestartSimpleJobServicejava179 orgspringframeworkxddirtpluginsjobDistributedJobServicerestartDistributedJobServicejava77 orgspringframeworkxddirtrestBatchJobExecutionsControllerrestartJobExecutionBatchJobExecutionsControllerjava146 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringfram noformat,0
Add the Dependencies Required to Use xpath in Streams Thanks to Gary I found this little gem of documentation to be able to use xpath expression in XD Only hiccup is that I had to also add the spring-xmljar to the classpath otherwise it is missing XPathException class httpstackoverflowcomquestions29110757spring-xd-work-with-xml-payload,0
As a user Id like to have the ability to configure ACLs so that I can restrict access to resources accessed via DSL Shell Examples Who can create streams Who can destroy the streams Who can view the streams defaults to all,8
Use Kryo instance pooling to reduce instantiation overhead httpsgithubcomEsotericSoftwarekryopooling-kryo-instances,0
Support underscore delimited module args for module launcher If the module launchers module arg is delimited by underscore --args0fixedDelay1 then boot ignores that property It is important to support the underscore delimited property arguments as we set environment properties of these in CF and lattice environment The spring boot fix httpsgithubcomspring-projectsspring-bootcommit5a287455273270a20742f03e4546acde9e857bee doesnt resolve the property if the value type of the Map is Map itself,0
Remove existing purpose built json processors and ensure all functionality is still available with jsonPath based SpEL expression based processors,0
Use correct FSDEFAULTNAMEKEY constant based on Hadoop version used Keep getting the following warning WARN Spring Shell confConfiguration817 - fsdefaultname is deprecated Instead use fsdefaultFS Should switch to use the runtime value of the FSDEFAULTNAMEKEY constant based on Hadoop version used,0
Allow conditional validation for module options Using JSR303 groups which should be derived from injected values,0
Install XD Container on EC2 Update the Deployer class to add the following methods RunningInstance deployContainer For each of the containers Using XD-977 install distribution Setup XDHOME variable Create configurator directory Copy the configurator to containers Run Configurators Verify that configuration files are setup correctly start container server Report if container started using jmxJolokia if available If it didnt start report failure but continue Report public DNS name of container Integration Testing Verify that config files have been setup properly For each container Verify container has been started Verify that container is working by creating a stream in admin triggerlog Verify that the log on the container is being updated,0
Investigate lack of falling back to originmaster when building docs on a branch When building on a branch the docs should be defaulting to build from originmaster but that doesnt seem to be happening Instead an explicit -Pwikibranchoriginmaster is required to be specified on the command line,0
Better UX when admin is not running Current behavior is to just have a prompt of unknown I think any return value of a CliCommand method is not shown bc the whole infrastructure is not up at that time,0
As a user Id like to have paging support so that I can scroll through the list of streams jobs and containers Currently the following error is thrown when we cross 20 rows httplocalhost9393jobsdefinitionsjson JSON Response codexml links logref IllegalStateException message Not all instances were looked at code Stack trace code 155121931 ERROR http-nio-9393-exec-9 restRestControllerAdvice - Caught exception while handling a request javalangIllegalStateException Not all instances were looked at orgspringframeworkutilAssertstateAssertjava385 code,5
change xd-configyml and xd-modules-configyml to serversyml and modulesyml,0
Use HATEOAS Traverson for client side consumption Now that Spring HATEOAS has some support for client side consumption we can consider using its Traverson object to replace code such as noformat resourcesputstreamsdefinitions URIcreatexdRuntimegetLinkstreamsgetHref definitions resourcesputstreamsdeployments URIcreatexdRuntimegetLinkstreamsgetHref deployments resourcesputjobs URIcreatexdRuntimegetLinkjobsgetHref noformat in SpringXDTemplate etc,0
Add definition of serialVersionUID to Twitter classes Add serialVersionUID to the objects in package orgspringframeworkintegrationxtwitter XDEntities XDUrlEntity XDHashTagEntity XDMentionEntity XDMediaEntity XDTickerSymbolEntity XDTweet The absence creates warnings during compile time,0
Support named channels when using local transport Sending data to an incomplete stream which is created using a named sink channel only works when using Redis or Rabbit not tested Since the in-memory version doesnt use a queue it will fail if you are using xd-singlenode We should use a queue channel with unlimited capacity to allow messages to be sent before the full stream is created,0
Unnecessary format enforcement on module short description What is the functional justification for enforcing this validation on modules Is it really necessary to enforce that the short description must start with a capitol letter and end with a period Seems a bit unnecessary and opinionated to me Caused by orgspringframeworkvalidationBindException orgspringframeworkvalidationBeanPropertyBindingResult 1 errors Field error in object info on field shortDescription rejected value snip codes PatterninfoshortDescriptionPatternshortDescriptionPatternjavalangStringPattern arguments orgspringframeworkcontextsupportDefaultMessageSourceResolvable codes infoshortDescriptionshortDescription arguments default message shortDescriptionLjavaxvalidationconstraintsPatternFlag3984374epIsUppercase default message Short description must start with a capital letter and end with a dot,0
serversyamls xd - transport rabbit overrides xd-singlenodes default of local transport When working w SXD xd-singlenode out of the box it defaults to using all embedded components transport analytics hsqldb zookeeper which is easy and a great way to get going This is also great for development When I then started trying out the M6 distributed mode I set my transport to rabbit in serversyaml now that the --transport option is gone Rabbit is my preferred transport here I then went back to running the singlenode for simplicity and then got an exception saying that the singlenode couldnt contact RabbitMQAMQP I was no longer running rabbit I then had to add the --transport local flag back to xd-singlenode Having the --transport option on xd-singlenode but not on xd-container is confusing Also I would expect xd-singlenode to default to local transport unless I specify another option in --transport -Derek,0
Add redis bundle to distribution zip file for linux and mac,0
Remove spring-xd-analytics-ml-pmml project and module xml - to be put in seperate repository AGPL license issues,0
Create low volume http stress test The test httpsgithubcomspring-projectsspring-xdblobmastersrctestscriptshttpbash is very simple it doesnt even check the results A small change to httpsgithubcomspring-projectsspring-xdblobmasterspring-xd-test-fixturessrcmainjavaorgspringframeworkxdtestgeneratorSimpleHttpGeneratorjava so that number of messages to post is specified would be part of this work,0
Vary prefetch size DB-3 Use a single producer single consumer message size of 1000 bytes Send 1M messages and increase or decrease so that a given test iteration takes about 2 minutes Vary the prefetch size Measure the msgsec rate and calculate the data transfer rate in MBsec Prefetch Sizes 1 10 50 100 10000 During the measurements look at the RabbitMQ Admin UI and see if the queue is backing up,0
Introduce wirejs into the XD admin UI We should consider moving to wirejs to encourage dependency injection in the UI Javascript code See here httpsgithubcomcujojswireblobmasterdocsgetmd,0
Create a RabbitKafka Available Rule in s-c-s-m Can take from previous implementation in XDSIBoot Should have a way to enforce not skipping tests based on an environment variable Consider moving this coverage to SI commons or equivalent,0
--type not supported by module delete as shown in documentation examples In the Module Composition example here httpdocsspringiospring-xddocs100M6referencehtmlcomposing-modules on of the examples is module delete --name foo --type sink which fails as the --type argument is not supported by the CLI There are 3 other references to the --type argument in the documentation which may not be supported by the CLI anymore,0
As a user Id like to have the data partition strategy state preserved so that when I adddelete modules they are able to dynamically adapt to the strategy This is already included as part of the GA release This story is to account for the testing effort,1
Strict flag for jdbchdfs h2 Narrative As a developer when using jdbchdfss incremental imports I need to be notified that something went wrong in a previous run of the jdbchdfs job so that I can take the appropriate actions based on the data previously imported h2 Back story As the incremental import currently works if the job fails half way through there is no check on the next run to see if the last run failed or not and how to address partially imported data,0
Add AngularJS Directive to format Stream Definition Strings It would be neat if streams could be easily formatted Eg Make the definition name bold use different colors for parameter names and values,0
Build should use Spring Boot plugin version 114 The platform uses Boot version 114 so the plugin version used in buildgradle should match that,0
The shell processor module cannot be stopped while blocked in receive Both lifecycle and sendreceive methods are synchronized so if the shell command processor is blocked reading from the scripts input - eg when no proper terminator is sent by the script the stop method cant acquire the object lock and proceed stopping the instance and therefore the module,0
Json information returned by curl does not reflect deployed status correctly The Json information returned by curl does not reflect deployed status correctly To recreate 1 Start xd-singlenode 2 start xd-shell In the xd-shell i stream create --definition time log --name ticktock ii stream list Note the status of the ticktock stream is deployed 3 open a new command prompt type curl httplocalhost9393streamsticktock 4 Note the returned json stream nameticktockdeployednulldefinitiontime loglinksrelselfhrefhttplocalhost9393streamsticktock 5 I would expect the json attribute deployed to be true but it is null,0
Fix filejdbc batch job filejdbc throws an exception code javalangIllegalArgumentException Could not resolve resource location pattern mycsvdircsv class path resource mycsvdir cannot be resolved to URL because it does not exist code This can be solved by using a file prefix Maybe just update the docs,0
As a developer Id like to certify Spring XD against PHD 30 so I can synchronize with the latest ODP based bits,3
jdbchdfs Acceptance Test,0
Fix XD modules parameters with - to use camel case XD-482 addresses the use of camel case in fixed-delay job module parameter name and we need to fix the same for other module parameters wherever - is being used,0
As a Spring XD user Im trying to use a custom MongoDB Batch job however Im getting an error running it against 120121 release while the same works with older releases of Spring XD More details in this SO threadhttpstackoverflowcomquestions31838720mongodb-batch-job-broken-in-spring-xd-1-2-0,3
As a s-c-d developer Id like to move kafka module from XD to s-c-s repo so I can use it as source to build streaming pipeline,2
JDBC FILE throws ConverterNotFoundException when split0 I am trying to create a simple JDBCFILE stream with Split0 at the jdbc source following is the DSL stream create --name test --definition jdbc --fixedDelay5 --split0 --queryselect from topmoviecompaniesfile --dirtmp --suffixxd --nametest --deploy It throws orgspringframeworkcoreconvertConverterNotFoundException No converter found capable of converting from type javautilArrayList to type javalangString orgspringframeworkintegrationutilAbstractExpressionEvaluatorevaluateExpressionAbstractExpressionEvaluatorjava138 It works fine when I use LOG sink instead of FILE I am assuming that if LOG sink works with JDBC then file should be similar The converter should be registered out of the box It could be something basic I am missing as Im relatively new to XD,0
Add Kafka-based implementation for AbstractDistributedTransportSingleNodeStreamDeploymentIntegrationTests,0
User would like to see requestresponse details headers URLs etc in shell Add debug flag for logging globally maybe or else --trace per command,0
JMX endpoints not functioning I cannot access the JMXJolokia endpoints using the Spring Boot RC1 and Snapshot Works with XD-M5 and Boot-M7,0
Add support for Sentinel in Redis Sink Currently the Redis sink appears to be unable to write to a Redis instance if it is connected via Sentinel Given the following XD Container serversyml configuration noformat Redis properties spring redis port 6379 host localhost sentinel master spring-xd nodes 108530133263791085301342637910853013526379 noformat a stream of time redis --keyticktock results in the following noformat Created JedisPool to master at 1085301306379 Caused by orgspringframeworkmessagingMessageHandlingException error occurred in message handler orgspringframeworkintegrationredisoutboundRedisStoreWritingMessageHandler0 nested exception is orgspringframeworkdataredisRedisConnectionFailureException Cannot get Jedis connection nested exception is redisclientsjedisexceptionsJedisConnectionException Could not get a resource from the pool Caused by orgspringframeworkdataredisRedisConnectionFailureException Cannot get Jedis connection nested exception is redisclientsjedisexceptionsJedisConnectionException Could not get a resource from the pool at orgspringframeworkdataredisconnectionjedisJedisConnectionFactoryfetchJedisConnectorJedisConnectionFactoryjava140 at orgspringframeworkdataredisconnectionjedisJedisConnectionFactorygetConnectionJedisConnectionFactoryjava229 at orgspringframeworkdataredisconnectionjedisJedisConnectionFactorygetConnectionJedisConnectionFactoryjava57 Caused by redisclientsjedisexceptionsJedisConnectionException Could not get a resource from the pool at redisclientsjedisJedisPoolgetResourceJedisPooljava84 at redisclientsjedisJedisPoolgetResourceJedisPooljava10 at orgspringframeworkdataredisconnectionjedisJedisConnectionFactoryfetchJedisConnectorJedisConnectionFactoryjava133 Caused by redisclientsjedisexceptionsJedisConnectionException javanetConnectException Connection refused at redisclientsjedisConnectionconnectConnectionjava150 at redisclientsjedisBinaryClientconnectBinaryClientjava71 at redisclientsjedisBinaryJedisconnectBinaryJedisjava1783 at redisclientsjedisJedisFactorymakeObjectJedisFactoryjava65 at redisclientsjedisConnectionconnectConnectionjava144 noformat The parts that sticks out to me is the line bq Created JedisPool to master at 1085301306379 The Sentinels arent at 130 thats a Redis and the only way that the JedisPool could know about that host is to have connected to a Sentinel instance and requested the listing of Redis nodes managed by the Sentinel Notably the Redis instance that the JedisPool connects to is actually responsive noformat redis-cli -h 108530130 -p 6379 1085301306379 ping PONG 1085301306379 noformat,0
Document queue channel capacity configurable when using local transport,0
Composite Modules should inherit xd properties Currently when modules are composed to a single application context properties are not inherited httpsgithubcomspring-projectsspring-xdwikiModulesplaceholders-available-to-all-modules,0
For time being checkin UI build artifacts,0
Rename Tuple class in spring-xd-tuple The Tuple classes in Reactor follow the more traditional data structure concept of Tuples an immutable fixed length sequence of values where each value can have different types They are ordered and can often be access by index An example in a static language is the Tuple class found in NET httpmsdnmicrosoftcomen-uslibrarysystemtupleaspx or in Scala httpwwwtutorialspointcomscalascalatupleshtm Using this standard definition of a Tuple they do not support named values There is also a different tuple class instance for each length eg TupleT1T2 TupleT1T2T3 The Tuple class in XD is more like a record or named tuple Python has a named tuple concept - httpdocspythonorg2librarycollectionshtmlcollectionsnamedtuple and httpstackoverflowcomquestions1490413languages-that-allow-named-tuples shows that other languages use the term Record for a named tuple - Haskell Standard ML OCaml and F httpenwikibooksorgwikiFSharpProgrammingTuplesandRecordsDefiningRecords So boiling it all down to avoid conflicts of names and also to open up the possibility of using Reactor tuples as keys instead of strings for names we should change the name to either NamedTuple or Record ATM there is no direct relationship between Reactors Tuple and NamedTuple such as inheritance and so probably Record is the way to go,0
As a user I would like the ability to undeploy or suspend a module without losing the deployment properties Currently when temporarily suspending a module an undeploy and redeploy is executed During the redeploy the deployment properties need to be added again Instead it would be nice if the properties are persisted so they automatically included with the deployment,5
Add XMPP Sink,0
Provide a way to access currently deployed modules For testing it would be useful to access the deployed Module instances to connect sources and or sinks to a modules input and output channels etc This could be a simple as exposing the deployedModuleMap on ModuleDeployer or possibly something more elaborate if this level of granularity is generally useful for runtime administration,0
As a Spring XD developer Id like to move reactor-ip module from XD to s-c-s repo so I can use it as source to build streaming pipeline,2
Remove UUID from Tuple class or replace with more efficient implementation The Java UUID class is known not to be the fasted implementation available See httpsgithubcomstephenceaio-uuid and httpmvnrepositorycomartifactcomeaiouuiduuid for high perf impls,0
As a user Id like to have the option to ACK messages so that I can guarantee that the messagerequest sent is successful,3
Misc cleanup in UI 0 Remove home page with sign in and upper right hand corner with user login info 1 Change the word template to modules in the tab 2 Different text for each of the tabs modules definition deployments scheduled 3 Definitions tab to have text along the lines allows you to deploy and undeploy batch job definitions add links to help on how to do that in the CLI 4 Deployments tab a creating new definitions - parameters needs to be space on parameters Job Parameters for Job XYZ after clicking launch b comment out scheduler button c add quick filter 5 Scheduler tab a comment out tab,0
No support for Amazon s3 source module in xpring xd There is no support for Amazon s3 source module in spring xd Spring Integration for s3 as custom source module is also not working gracefully,0
Update to use spring-data-hadoop 20 M6,0
Add ftp sink to default sink modules It would be nice to have a simple ftp sink I had to do it for one of my projects Therefore the sink already exists I would like to contribute but I dont know how you do the testing part for that kind of module,0
ClassNotFoundException ossocialtwitterapiTweet with Rabbit-transport Using Rabbit as a transport I get the below error when creating the following stream code stream create mytweets --definition twittersearch --queryspring log --deploy true code In local mode the stream executes just fine Of course it works with --outputTypeapplicationjson Nevertheless I was not expecting that exception see below Issue was also verified by grenfro code orgspringframeworkamqprabbitlistenerListenerExecutionFailedException Listener threw exception orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerwrapToListenerExecutionFailedExceptionIfNeededAbstractMessageListenerContainerjava758 orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerdoInvokeListenerAbstractMessageListenerContainerjava653 orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerinvokeListenerAbstractMessageListenerContainerjava576 orgspringframeworkamqprabbitlistenerSimpleMessageListenerContaineraccess001SimpleMessageListenerContainerjava75 orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainer1invokeListenerSimpleMessageListenerContainerjava154 sunreflectNativeMethodAccessorImplinvoke0Native Method sunreflectNativeMethodAccessorImplinvokeNativeMethodAccessorImpljava57 sunreflectDelegatingMethodAccessorImplinvokeDelegatingMethodAccessorImpljava43 javalangreflectMethodinvokeMethodjava606 orgspringframeworkaopsupportAopUtilsinvokeJoinpointUsingReflectionAopUtilsjava317 orgspringframeworkaopframeworkReflectiveMethodInvocationinvokeJoinpointReflectiveMethodInvocationjava190 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava157 orgspringframeworkretryinterceptorRetryOperationsInterceptor1doWithRetryRetryOperationsInterceptorjava69 orgspringframeworkretrysupportRetryTemplatedoExecuteRetryTemplatejava255 orgspringframeworkretrysupportRetryTemplateexecuteRetryTemplatejava162 orgspringframeworkretryinterceptorRetryOperationsInterceptorinvokeRetryOperationsInterceptorjava87 orgspringframeworkaopframeworkReflectiveMethodInvocationproceedReflectiveMethodInvocationjava179 orgspringframeworkaopframeworkJdkDynamicAopProxyinvokeJdkDynamicAopProxyjava207 comsunproxyProxy102invokeListenerUnknown Source orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerinvokeListenerSimpleMessageListenerContainerjava1111 orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerexecuteListenerAbstractMessageListenerContainerjava559 orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerdoReceiveAndExecuteSimpleMessageListenerContainerjava904 orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerreceiveAndExecuteSimpleMessageListenerContainerjava888 orgspringframeworkamqprabbitlistenerSimpleMessageListenerContaineraccess500SimpleMessageListenerContainerjava75 orgspringframeworkamqprabbitlistenerSimpleMessageListenerContainerAsyncMessageProcessingConsumerrunSimpleMessageListenerContainerjava989 javalangThreadrunThreadjava745 Caused by orgspringframeworkmessagingMessageHandlingException error occurred in message handler se0convertbridge orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava84 orgspringframeworkintegrationdispatcherAbstractDispatchertryOptimizedDispatchAbstractDispatcherjava116 orgspringframeworkintegrationdispatcherUnicastingDispatcherdoDispatchUnicastingDispatcherjava101 orgspringframeworkintegrationdispatcherUnicastingDispatcherdispatchUnicastingDispatcherjava97 orgspringframeworkintegrationchannelAbstractSubscribableChanneldoSendAbstractSubscribableChanneljava77 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava255 orgspringframeworkintegrationchannelAbstractMessageChannelsendAbstractMessageChanneljava223 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava114 orgspringframeworkmessagingcoreGenericMessagingTemplatedoSendGenericMessagingTemplatejava44 orgspringframeworkmessagingcoreAbstractMessageSendingTemplatesendAbstractMessageSendingTemplatejava93 orgspringframeworkintegrationendpointMessageProducerSupportsendMessageMessageProducerSupportjava98 orgspringframeworkintegrationamqpinboundAmqpInboundChannelAdapteraccess400AmqpInboundChannelAdapterjava44 orgspringframeworkintegrationamqpinboundAmqpInboundChannelAdapter1onMessageAmqpInboundChannelAdapterjava90 orgspringframeworkamqprabbitlistenerAbstractMessageListenerContainerdoInvokeListenerAbstractMessageListenerContainerjava650 24 more Caused by orgspringframeworkxddirtintegrationbusserializerSerializationException unable to deserialize null Class not found orgspringframeworkxddirtintegrationbusMessageBusSupportdeserializePayloadMessageBusSupportjava381 orgspringframeworkxddirtintegrationbusMessageBusSupportdeserializePayloadMessageBusSupportjava363 orgspringframeworkxddirtintegrationbusMessageBusSupportdeserializePayloadIfNecessaryMessageBusSupportjava346 orgspringframeworkxddirtintegrationrabbitRabbitMessageBusaccess500RabbitMessageBusjava70 orgspringframeworkxddirtintegrationrabbitRabbitMessageBusReceivingHandlerhandleRequestMessageRabbitMessageBusjava448 orgspringframeworkintegrationhandlerAbstractReplyProducingMessageHandlerhandleMessageInternalAbstractReplyProducingMessageHandlerjava170 orgspringframeworkintegrationhandlerAbstractMessageHandlerhandleMessageAbstractMessageHandlerjava78 37 more Caused by javalangClassNotFoundException orgspringframeworksocialtwitterapiTweet javanetURLClassLoader1runURLClassLoaderjava366 javanetURLClassLoader1runURLClassLoaderjava355 javasecurityAccessControllerdoPrivilegedNative Method javanetURLClassLoaderfindClassURLClassLoaderjava354 javalangClassLoaderloadClassClassLoaderjava425 sunmiscLauncherAppClassLoaderloadClassLauncherjava308 javalangClassLoaderloadClassClassLoaderjava358 javalangClassforName0Native Method javalangClassforNameClassjava190 orgspringframeworkxddirtintegrationbusMessageBusSupportdeserializePayloadMessageBusSupportjava375 43 more code,0
testHdfsSink sporadically fails because twitter data is written to file The hdfs sink needs to have a unique stream name Because the twitterSearch test uses the defaultName and it may broadcast more than one message to the sink for the search So when the stream is destroyed the message is abandoned until hdfsTest starts up using the same defaultName and the message is delivered to hdfs sink and thus the twitter data is written to the file,0
