ui deploy stream - return key does not submit form httplocalhost9393admin-uistreamsdefinitionstestdeploy,0
support for composed streams some recent changes caused this to be turned off basically the change was to police whether a stream is well formed at create time rather than deploy time by deferring that check we can create composed streams that are not deployable by themselves but that are when used as building blocks in proper streams,0
as a developer id like to develop a singlenode in a single jvm implementation of xd admin spi based on module launcher so i can run data pipeline use-cases locally,5
remove unnecessary si evalctx injection in modules with the inclusion of httpsgithubcomspring-cloudspring-cloud-streamcommit80b1d28be1c8b9a23099b145fe2dcf472bfa9697 any module that explicitly injectedlooked up the si ec dont need to do so anymore this issue is about simplifying those,0
unable to set --closetimeout on scsm hdfs sink module creating a stream like this stream create --name myhdfsstream1 --definition time hdfs --closetimeout5000 --deploy causes javalangillegalargumentexception task executor must be set at orgspringframeworkutilassertnotnullassertjava115 spring-core-421releasejar421release at orgspringframeworkdatahadoopstoresupportpollingtasksupportinitpollingtasksupportjava105 spring-data-hadoop-store-230m2jar230m2 at orgspringframeworkdatahadoopstoresupportstoreobjectsupportoninitstoreobjectsupportjava97 spring-data-hadoop-store-230m2jar230m2 at orgspringframeworkdatahadoopstoresupportoutputstoreobjectsupportoninitoutputstoreobjectsupportjava81 spring-data-hadoop-store-230m2jar230m2 at orgspringframeworkdatahadoopstoresupportlifecycleobjectsupportafterpropertiessetlifecycleobjectsupportjava67 spring-data-hadoop-store-230m2jar230m2 at orgspringframeworkcloudstreammodulehdfssinkdatastorewriterfactorybeanafterpropertiessetdatastorewriterfactorybeanjava175 hdfs-sink-100build-snapshot-execjar100build-snapshot at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinvokeinitmethodsabstractautowirecapablebeanfactoryjava1637 spring-beans-421releasejar421release at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1574 spring-beans-421releasejar421release 35 common frames omittedwrapped by orgspringframeworkbeansfactorybeancreationexception error creating bean with name datastorewriter defined in class path resource orgspringframeworkcloudstreammodulehdfssinkhdfssinkconfigurationclass invocation of init method failed nested exception is javalangillegalargumentexception task executor must be set at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1578 spring-beans-421releasejar421release at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava545 spring-beans-421releasejar421release at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava482 spring-beans-421releasejar421release at orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava305 spring-beans-421releasejar421release at orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava230 spring-beans-421releasejar421release at orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava301 spring-beans-421releasejar421release at orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbea,0
add admin-ui to yarn zip packaging,0
create localchannelprotocolxml that will load all the si specific implementations to suppor the xd container runtime and administration,0
as a developer id like to document how to nest batch jobs and workflows in xd so it will be easy for end-users to use it as reference,1
as a developer id like to port rich-gauge module from xd to s-c-s repo so i can use it as sink module to build streaming pipeline,2
multiple streams with same port for http source using a singlexd vm i can create multiple streams with the same http port stream name stream definition status ----------- ----------------- ------ xdstream create --definition http --port8081file --dirtmptest3 --name test1 --deploy created and deployed new stream test1 xdstream create --definition http --port8081file --dirtmptest3 --name test1 --deploy created and deployed new stream test1 xdstream create --definition http --port8081file --dirtmptest3 --name test2 --deploy created and deployed new stream test2 xdstream create --definition http --port8081file --dirtmptest3 --name test3 --deploy created and deployed new stream test3 xdstream list stream name stream definition status ----------- -------------------------------------- -------- test1 http --port8081file --dirtmptest3 deployed test2 http --port8081file --dirtmptest3 deployed test3 http --port8081file --dirtmptest3 deployed issues 1 no error is returned for the duplicate use of the port in m5 an error was returned 2 the status shows as deployed for all three 3 even though there are three streams only the first stream is active i can post to the first stream that was declared and it will successfully post to the directory if i post to the remaining streams i dont get an error and i no data is written to the flle 4 if i remove the working stream the remaining stream still dont work,0
sqoop job doesnt run when deployed on yarn on ambari deployed hdp got this error when submitting sqoop job code 2015-06-01 190942932 info main sqoopsqooprunner sqooprunnerjavamain75 - sqoop command import 2015-06-01 190942939 info main sqoopsqooprunner sqooprunnerjavamain76 - using args --table xdjobregistry --target-dir xdsqoop2 -m1 2015-06-01 190942939 info main sqoopsqooprunner sqooprunnerjavamain77 - mapreduce home usrhdp2242-2hadoop-mapreduce 2015-06-01 190942977 warn main confconfiguration configurationjava646 - deprecated hadoop-sitexml found in the classpath usage of hadoop-sitexml is deprecated instead use core-sitexml mapred-sitexml and hdfs-sitexml to override properties of core-defaultxml mapred-defaultxml and hdfs-defaultxml respectively 2015-06-01 190942984 info main sqoopsqooprunner sqooprunnerjavasetconfigurationproperty168 - setting configuration property fsdefaultfshdfshawaii8020 2015-06-01 190943743 info main sqoopsqooprunner sqooprunnerjavasetconfigurationproperty168 - setting configuration property yarnresourcemanagerhostnamehawaii 2015-06-01 190943758 info main sqoopsqooprunner sqooprunnerjavasetconfigurationproperty168 - setting configuration property yarnresourcemanageraddresshawaii8050 2015-06-01 190943758 info main sqoopsqooprunner sqooprunnerjavasetconfigurationproperty168 - setting configuration property yarnresourcemanagerscheduleraddresshawaii 2015-06-01 190943758 info main sqoopsqooprunner sqooprunnerjavasetconfigurationproperty168 - setting configuration property mapreduceframeworknameyarn 2015-06-01 190943758 info main sqoopsqooprunner sqooprunnerjavasetconfigurationproperty168 - setting configuration property mapreducejobhistoryaddresshawaii 2015-06-01 190943760 info main sqoopsqooprunner sqooprunnerjavacreateconfiguration158 - setting configuration property yarnresourcemanagerscheduleraddresshawaii8030 2015-06-01 190943760 info main sqoopsqooprunner sqooprunnerjavacreateconfiguration158 - setting configuration property mapreduceapplicationclasspathpwdmr-frameworkhadoopsharehadoopmapreducepwdmr-frameworkhadoopsharehadoopmapreducelibpwdmr-frameworkhadoopsharehadoopcommonpwdmr-frameworkhadoopsharehadoopcommonlibpwdmr-frameworkhadoopsharehadoopyarnpwdmr-frameworkhadoopsharehadoopyarnlibpwdmr-frameworkhadoopsharehadoophdfspwdmr-frameworkhadoopsharehadoophdfslibusrhdp2242-2hadooplibhadoop-lzo-0602242-2jaretchadoopconfsecure 2015-06-01 190943760 info main sqoopsqooprunner sqooprunnerjavacreateconfiguration158 - setting configuration property mapreduceapplicationframeworkpathhdpapps2242-2mapreducemapreducetargzmr-framework 2015-06-01 190944141 info main sqoopsqoop sqoopjava92 - running sqoop version 145 2015-06-01 190944691 info main managersqlmanager sqlmanagerjavainitoptiondefaults98 - using default fetchsize of 1000 2015-06-01 190944691 info main toolcodegentool codegentooljavagenerateorm92 - beginning code generation 2015-06-01 190945057 info main managersqlmanager sqlmanagerjavaexecute749 - executing sql statement select t from xdjobregistry as t where 10 2015-06-01 190945074 info main managersqlmanager sqlmanagerjavaexecute749 - executing sql statement select t from xdjobregistry as t where 10 2015-06-01 190945148 info main ormcompilationmanager compilationmanagerjavafindhadoopjars94 - hadoopmapredhome is usrhdp2242-2hadoop-mapreduce 2015-06-01 190945230 error main ormcompilationmanager compilationmanagerjavacompile184 - it seems as though you are running sqoop with a jre 2015-06-01 190945230 error main ormcompilationmanager compilationmanagerjavacompile185 - sqoop requires a jdk that can compile java code 2015-06-01 190945230 error main ormcompilationmanager compilationmanagerjavacompile186 - please install a jdk and set javahome to use it 2015-06-01 190945232 error main toolimporttool importtooljavarun609 - encountered ioexception running import job javaioioexception could not start java compiler at orgapachesqoopormcompilationmanagercompilecompilationmanagerjava187 at orgapachesqooptoolcodegentoolgenerateormcodegentooljava97 at orgapachesqooptoolimporttoolimporttableimporttooljava478 at orgapachesqooptoolimporttoolrunimporttooljava601 at orgapachesqoopsqooprunsqoopjava143 at orgapachehadooputiltoolrunnerruntoolrunnerjava70 at orgapachesqoopsqooprunsqoopsqoopjava179 at orgapachesqoopsqoopruntoolsqoopjava218 at orgspringframeworkxdsqoopsqooprunnermainsqooprunnerjava87 code,0
new libraries to experiment we would like to experiment with open source libraries to further enrich spring xds service offerings and feature-set this epic remains the anchor point for following categories and the respective experimentation outcomes will be documented in the associated stories measure based alerts log analysis machine learning and graph computation,0
redis based repositories should use a namingstrategy class to calculate the name of the key to use for persistence rediscounterrepository and redisgaugerepository have duplicated code that needs to be factored out into a one place one such duplication is the determination of the key name to use for persistence this should be abstracted out into a strategy helper class,0
composed modules destination binding order incorrect created a stream with definition code mysourcemodule myprocessormodule log code this stream worked fine but when created composed module with definition code mysourcemodule myprocessormodule code then stream definition code mycomposedmodule log code get an error stating that the output channel of mysourcemodule has no subscribers looking at previous bugs this appears to be a module binding order in which the source is started before the processor has subscribed to the output channel of the source,0
create rich gauge service a rich gauge stores a number and also rmd min max implementations for in-memory and redis,0
dispatcher has no subscriber error when posting a message to a stream this has been observed intermittently with redis transport by myself and others when sending a message to a valid stream not sure how to recreate it yet 112710082 error threadpooltaskscheduler-1 redisredisqueueinboundchanneladapter126 - error sending message orgspringframeworkintegrationmessagedeliveryexception dispatcher has no subscribers for channel orgspringframeworkcontextsupportgenericapplicationcontext3f73865dinput,0
test against spring boot snapshot build,0
cors support xd instances will not accept xhr requests from browsers whose page origin does not match the xd instance as an example the kodiak ui is served from a different process and url than the xd instance when users open the kodiak ui in a browser requests from the browser to the xd instance but these requests will fail due to cross-site scripting limitations cors cross-origin resource sharing is a way to get around this we can configure the server to accept requests from browsers whose origins are not the xd instance i have this working in a local branch and will submit a pull request more information cors spec httpwwww3orgtrcors spr-9278 cors support for springframework,0
update creating a source module section to use shell commands instead of curl see httpstaticspringsourceorgspring-xddocs10x-snapshotreferencehtmltestthedeployedmodule,0
user wants ability to test sources examples 1 be able to start the rabbitmq source just by pointing to modulessourcerabbitxml pass in some property file for parameters to be replaced and outgoing message is placed in a in-memory queue backed channel for use with assertions to verify functionality 2 test for as many source types as is reasonable eg mqtttcp testing might be harder than say rabbitmq 3 test that sending json results in media-type header is set to json 4 test that sending pojo pojo 5 test that sending tuple tuple 6 test that sending raw bytes raw bytes,0
refactor duplicate code for modules the admin leader performs module deployment requests by listening to stream deployment requests under xddeploymentsstreams and by listening to containers joining and leaving the cluster under xdcontainers refactor any duplicate code into a common classcomponent that can be used by both listeners edit the listener duplication will be handled in xd-1548 this issue is for the duplicate code in moduledeploymentrequest and moduledescriptor,0
file sink should support rollover i wanted to have a rollover feature when i was streaming tweets to a file overnight just to avoid dealing with a single enormous file in case i collected more data than my demo could handle and needed to split it up,0
create distributable artifact that contains server application and startstop scripts the gradle application task should get us most of the way to create a distributable artifact akin to what you see when downloading tomcatjetty etc now there is a launch task tasklaunch dependson classes type javaexec main orgspringframeworkxddirtstreamstreamserver classpath sourcesetstestruntimeclasspath the same main should be referenced in the application plugin a task to create a zip distributable is needed ideally would be nice to 1 download zip 2 unzip 3 cd spring-xdbin 4 xdserver start and gracefully shutdown later with 5 xdserver stop i dont know if we canshould bundle redis i think we should bundle it the scripts can be for unixlinux and for windows discuss a brew based install as well,0
remove timestamp task from scsm,0
upgrade sink and processor modules to use new conversion service,0
hdfs sink partition path causing writes to be slower in certain cases i have not tested this on m7 but i believe it is the case with latest release as well stream definition 1 stream create logingestion --definition rabbit --queuesdemo --hostrabbitmq-broker script --locationlinemergegroovy hdfs --rollover10m --idletimeout10000 --fileuuidtrue --directorydataloganalysis --partitionpathpathpayloadsplitu00011dateformatyyyymmddhhpayloadsplitu00010yyyymmddhhmmss we noticed this was causing writes to be slower stream definition 2 stream create logingestion --definition rabbit --queuesdemo --hostrabbitmq-broker script --locationlinemergegroovy hdfs --rollover10m --idletimeout10000 --fileuuidtrue --directorydataloganalysis but this definition caused the writes to be much faster please note this was just a one time test i did and not reproduced multiple times janne also seems to have reproduced this in another use case thanks girish,0
document kafka source,0
si outbound hdfs channel adapter,0
standardize xd logging to align with spring boot in xd today we use commons-logging or slf4j apis bound to log4j at runtime configured with log4jproperties boot uses slf4j apis backed by logback this causes some build incompatibilities building a component that depends on spring-xd-dirt and spring-boot requiring specific dependency exclusions in order to simplify building and troubleshooting log dependencies xd should standardize on slf4j apis replace any commons-logging loggers with slf4j this is internal only and would not impact users who are used to seeing log4jproperties an additional step is to replace log4j with logback this change would be visible to end users but will provide us greater affinity with boot and improve the developer experience if we make this change it should go into 12 ga,0
support for mesos based s-c-d deployment,0
spark streaming acceptance tests,0
refactor deployment interfacesclass hierarchy continued refactoring of the resourcedeployer to split apart the concepts of repository and deployment for reference see xd-2835 xd-2671 xd-2877 and xd-3070,0
script to generate reference documentation from wiki and include in zip distribution,0
add batch job listeners automatically add batch job listeners automatically each major listener category should send notifications to own channel stepexecution chunk item etc add attribute to disallow automatic adding of listeners,0
as a user id like to use kafka source through simple consumer api as opposed to high-level so that i can gain full control to offsets and partition assignment deterministically spike scope - study simple consumer api functionality - document findings approach and next steps,5
revert xd specific support for jsonpath 12 thanks to int-3624 we dont need our specific class anymore,0
as a user id like to have the custom module built as uber-jar hosted in hdfs so that i can deploy the module to newly arriving containers,5
as a developer id like to default to hdfs as distributed remote location for custom module registry so i can use xd-shell or the rest-api directly to upload the custom module bits i would also like to remove custom-moduleszip artifact from yarn distribution,3
all parameters for modules need to use hump case formerly camel hump,0
add xdstreamname property in streamplugin,0
unable to define port on rabbitmq streams the documentation for rabbitmq says to use the --address option to specify a port weve tried --address12345678 and also --port5678 just in case but have been unable to get a successful deployment running the same stream definition on a default port ie without specifying a port does work,0
as a user id like to have direct shell commands to scale updown a given module instance so i can avoid spi specific cli commands that needs run outside of data flow,4
remove tostringtransformer from tcp source add binary support to the http source the tcp source unconditionally converts to string this prevents binary transfers remove the transformer if the user wants a string she can use tcp --outputtypetextplaincharsetutf-8 assuming the byte stream has valid utf-8 encoding another option would be to add a --binary option but since conversion can already handle it its probably better to use that on the other hand a --binary option would enable backwards compatibility the http source also unconditionally converts to string,0
batch hashtag count throws exception when launched 1 update instructions to mention --hadoopdistro for both singlenode and shell else demo will not work 2 pom needs to be updated to use 121 at the least 3 i can see where hdfs is writing the results 4 throws npe stacktrace is attached,0
as a s-c-d developer id like to create foundation to support processor as ootb modules so i can use the processor modules from s-c-s-m repo to build streaming pipeline,4
with partitioned jobs wire partitioner and stepexecutionhandlers with the messagebus,0
handle pagination in spring xd shell,0
remove requirement for executionid to display step execution in shell when viewing a jobs step execution via the shell the user is required to provide both the job execution id and the step execution id since the job repository is backed by a database and the step execution id is unique across jobs the step execution id should be enough,0
update to spring shell 110m1 release,0
support xd as a service on pcf,0
ensure dsm matrix is diagonal,0
check for high cpu usage with syslog-tcp-reactor module,0
redis aggregate-counter fails when end of interval is on the hour curl httplocalhost9393metricsaggregate-counterssmartgridh28loadpredictedresolutionminutefrom2013-09-01t125500000zto2013-09-01t130000000z would return 0 as the last bucket while curl httplocalhost9393metricsaggregate-counterssmartgridh28loadpredictedresolutionminutefrom2013-09-01t125500000zto2013-09-01t130500000z would correctly return the value for 130000,0
as a developer id like to build batch sample using sqoop so that we can demonstrate some of the capabilities use cases to consider jdbc to hdfs hdfs to jdbc,5
as a spring xd developer id like to move null module from xd to s-c-s repo so i can use it as sink to build streaming pipeline,2
https source configuration issues 1 the sample httpsslproperties file that is included in the distribution contains the line quote keystorepassphrasesecret quote the correct key value is keystorepassphrase this issue causes https sources to deploy but not bind to the port 2 the password is always defaulting to secret,0
as a user id like to have an optional trace as inline deployment properties for stream so that i can declare which module in the stream needs to be traced for logging or notifications this gives the flexibility to track the stage progress between individual modules example codexml xd stream create foo http log xd stream deploy foo --properties modulehttptracemodulelogtrace or xd stream deploy foo --properties moduletrace code wildcard wiretap config httpdocsspringiospring-integrationreferencehtmlmessaging-channels-sectionhtmlchannel-global-wiretap,5
enhance hadoopfilesystemtestsupport to obtain resource for a specific hadoop distro it looks like the hadoopfilesystemtestsupport test rule by default runs against hadoop 12 and we can add a way to support running the hadoop centric tests to run against a given hadoop distro currently if the test is run against a version other than 12 the rule says 154734469 error main hadoophadoopfilesystemtestsupport95 - hadoopfs is not available skipping tests orgapachehadoopipcremoteexception server ipc version 9 cannot communicate with client version 4 orgapachehadoopipcclientcallclientjava1113 orgapachehadoopipcrpcinvokerinvokerpcjava229 comsunproxyproxy8getprotocolversionunknown source sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava601 orgapachehadoopioretryretryinvocationhandlerinvokemethodretryinvocationhandlerjava85 orgapachehadoopioretryretryinvocationhandlerinvokeretryinvocationhandlerjava62 comsunproxyproxy8getprotocolversionunknown source orgapachehadoopipcrpccheckversionrpcjava422 orgapachehadoophdfsdfsclientcreatenamenodedfsclientjava183 orgapachehadoophdfsdfsclientinitdfsclientjava281 orgapachehadoophdfsdfsclientinitdfsclientjava245 orgapachehadoophdfsdistributedfilesysteminitializedistributedfilesystemjava100 orgapachehadoopfsfilesystemcreatefilesystemfilesystemjava1446 orgapachehadoopfsfilesystemaccess200filesystemjava67 orgapachehadoopfsfilesystemcachegetfilesystemjava1464 orgapachehadoopfsfilesystemgetfilesystemjava263 orgapachehadoopfsfilesystemgetfilesystemjava124 orgspringframeworkxdtesthadoophadoopfilesystemtestsupportobtainresourcehadoopfilesystemtestsupportjava49 orgspringframeworkxdtestabstractexternalresourcetestsupportapplyabstractexternalresourcetestsupportjava58 orgjunitrulesrunrulesapplyallrunrulesjava26 orgjunitrulesrunrulesinitrunrulesjava15 orgjunitrunnersblockjunit4classrunnerwithtestrulesblockjunit4classrunnerjava379 orgjunitrunnersblockjunit4classrunnerwithrulesblockjunit4classrunnerjava340 orgjunitrunnersblockjunit4classrunnermethodblockblockjunit4classrunnerjava256 orgjunitrunnersblockjunit4classrunnerrunchildblockjunit4classrunnerjava70 orgjunitrunnersblockjunit4classrunnerrunchildblockjunit4classrunnerjava50 orgjunitrunnersparentrunner3runparentrunnerjava238 orgjunitrunnersparentrunner1scheduleparentrunnerjava63 orgjunitrunnersparentrunnerrunchildrenparentrunnerjava236 orgjunitrunnersparentrunneraccess000parentrunnerjava53 orgjunitrunnersparentrunner2evaluateparentrunnerjava229 orgjunitrunnersparentrunnerrunparentrunnerjava309 orgeclipsejdtinternaljunit4runnerjunit4testreferencerunjunit4testreferencejava50 orgeclipsejdtinternaljunitrunnertestexecutionruntestexecutionjava38 orgeclipsejdtinternaljunitrunnerremotetestrunnerruntestsremotetestrunnerjava467 orgeclipsejdtinternaljunitrunnerremotetestrunnerruntestsremotetestrunnerjava683 orgeclipsejdtinternaljunitrunnerremotetestrunnerrunremotetestrunnerjava390 orgeclipsejdtinternaljunitrunnerremotetestrunnermainremotetestrunnerjava197,0
as a user im trying to get all job definitions but the first 20 alone are returned job samples code job create aaa --definition hello --deploy job create bbb --definition hello --deploy job create ccc --definition hello --deploy job create ddd --definition hello --deploy job create eee --definition hello --deploy job create fff --definition hello --deploy job create ggg --definition hello --deploy job create hhh --definition hello --deploy job create iii --definition hello --deploy job create jjj --definition hello --deploy job create kkk --definition hello --deploy job create lll --definition hello --deploy job create mmm --definition hello --deploy job create nnn --definition hello --deploy job create ooo --definition hello --deploy job create ppp --definition hello --deploy job create qqq --definition hello --deploy job create rrr --definition hello --deploy job create sss --definition hello --deploy job create ttt --definition hello --deploy job create uuu --definition hello --deploy job create vvv --definition hello --deploy job create www --definition hello --deploy job create xxx --definition hello --deploy job create yyy --definition hello --deploy job create zzz --definition hello --deploy job create aaa1 --definition hello --deploy job create bbb1 --definition hello --deploy job create ccc1 --definition hello --deploy job create ddd1 --definition hello --deploy job create eee1 --definition hello --deploy code request httplocalhost9393jobsdefinitionsjson - returns top 20 the other experiments with page size of either 0 or -1 still brings the top 20,1
create taprepository see streamsrepository as an example this includes in memory and redis implementations,0
end user guide for data streams put on the guide as a section in an streams wiki page end user focused no need to mention spring underpinning impl details,0
column option of jdbc sink should not convert underscore to property name current implementation of column option of jdbc sink convert underscore to java property name if database column contains underscore there is no way to store data so jdbcmessagepayloadtransformer should not use jdbcutilsconvertunderscorenametopropertyname even if column contains,0
provide ip binding to the spring-xd instance we wanted to bind the spring-xd to the public ip but am not able to do so i scanned at the code here and could make there is not way to bind the ip address httpsgithubcomspring-projectsspring-xdblobmasterspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserveradminserverapplicationjava this one looks a simple change i can fix it and push the pull request,0
update hadoop instructions in the xd-samples batchhashtagcount and batchwordcount projects need hadoop fs ls instructions need to be updated,0
create xd module for syslog-tcp-reactor still keep existing one,0
make rabbitmessagebus rabbitmq config properties optional when the bus is used outside of the xd container eg spring-bus the inheritance from spring boot configuration is broken no applicationyml or serversyml on the cp make the bus properties optional add,0
as a spring xd developer id like to port ftpsftp module from xd to s-c-s repo so i can use it as sink modules to build streaming pipeline,2
user wants to setup a priority for triggers in the case that there are not enough resources to fire a trigger the highest priority will be fired first,0
enabling security breaks jobs page in admin ui after enabling spring xd security in xdhomeconfigserversyml code spring profiles admin security basic enabled true realm springxd xd security authentication file enabled true users user password roleview admin password roleview rolecreate roleadmin code after logging in as user with only roleview privilege jobs admin page is broken and is not displaying data 403 error code is returned for following urls code httplocalhost9393jobsconfigurationsjsonpage0size10 httplocalhost9393jobsdefinitionsjsonpage0size10 code looks like jobsconfigurations and jobsdefinitions urls are not covered in security section of applicationsyml file,0
allow sending to multiple named channels at once currently its possible to do this via code source router --expressionqueuequeue1queuequeue2 code but this involves an additional hop to the message bus for the pipe between the source and router it would be better if this was supported directly with the existing named channel syntax to remove this pipe ie code source queuequeue1queuequeue2 code this would be useful as a possible solution in the scenario described in xd-3613 as an alternative to using topics on the redis message bus which dont support having multiple instances of the same consumer,0
admin launcher startup fails when xdjmxenabled is set to true when exporting of mbeans are enabled via xdjmxenabled also jmxenabled as in applicationyml the admin and lancher server application fail to start since the admin applications has the same integrationmbeanexporter bean name for integrationmbeanexporter as that its parentconfiguration there is a naming conflicts and the exception thrown as same is the case for launcher and its parent configuration exception in thread main orgspringframeworkbeansfactorybeancreationexception error creating bean with name mbeanexporter defined in class orgspringframeworkcontextannotationmbeanexportconfiguration invocation of init method failed nested exception is orgspringframeworkjmxexportunabletoregistermbeanexception unable to register mbean orgspringframeworkintegrationmonitorintegrationmbeanexporter1de40d3e with key integrationmbeanexporter nested exception is javaxmanagementinstancealreadyexistsexception orgspringframeworkintegrationmonitornameintegrationmbeanexportertypeintegrationmbeanexporter orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1553 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava539 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava475 orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava304 orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava228 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava300 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava195 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava700 orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava760 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava482 orgspringframeworkbootcontextembeddedembeddedwebapplicationcontextrefreshembeddedwebapplicationcontextjava124 orgspringframeworkbootspringapplicationrefreshspringapplicationjava609 orgspringframeworkbootspringapplicationrunspringapplicationjava321 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava130 orgspringframeworkxddirtserveradminserverapplicationrunadminserverapplicationjava60 orgspringframeworkxddirtserveradminserverapplicationmainadminserverapplicationjava42 caused by orgspringframeworkjmxexportunabletoregistermbeanexception unable to register mbean orgspringframeworkintegrationmonitorintegrationmbeanexporter1de40d3e with key integrationmbeanexporter nested exception is javaxmanagementinstancealreadyexistsexception orgspringframeworkintegrationmonitornameintegrationmbeanexportertypeintegrationmbeanexporter orgspringframeworkjmxexportmbeanexporterregisterbeannameorinstancembeanexporterjava610 orgspringframeworkjmxexportmbeanexporterregisterbeansmbeanexporterjava535 orgspringframeworkjmxexportmbeanexporterafterpropertiessetmbeanexporterjava417 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinvokeinitmethodsabstractautowirecapablebeanfactoryjava1612 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1549 15 more caused by javaxmanagementinstancealreadyexistsexception orgspringframeworkintegrationmonitornameintegrationmbeanexportertypeintegrationmbeanexporter comsunjmxmbeanserverrepositoryaddmbeanrepositoryjava437 comsunjmxinterceptordefaultmbeanserverinterceptorregisterwithrepositorydefaultmbeanserverinterceptorjava1898 comsunjmxinterceptordefaultmbeanserverinterceptorregisterdynamicmbeandefaultmbeanserverinterceptorjava966 comsunjmxinterceptordefaultmbeanserverinterceptorregisterobjectdefaultmbeanserverinterceptorjava900 comsunjmxinterceptordefaultmbeanserverinterceptorregistermbeandefaultmbeanserverinterceptorjava324 comsunjmxmbeanserverjmxmbeanserverregistermbeanjmxmbeanserverjava513 orgspringframeworkjmxsupportmbeanregistrationsupportdoregistermbeanregistrationsupportjava195 orgspringframeworkjmxexportmbeanexporterregisterbeaninstancembeanexporterjava663 orgspringframeworkjmxexportmbeanexporterregisterbeannameorinstancembeanexporterjava600 19 more,0
add information that is updated in real-time for use in container matching information related to an xd-container process andor machine that is not static such as group eg free memory number of deployed streams should be available for use as variables in the evaluation context of the criteria spel expression in the admins container matcher a good candidate for the source of this information are system mbeans see httpdocsoraclecomjavase7docsapijavalangmanagementpackage-summaryhtml,0
disable auto-formatting of javadoc,0
job execution restart fails with npe create a job launch it but make it fail eg filejdbc with missing file job execution list its there as failed good job execution restart theid fails with npe noformat 165942160 error http-nio-9393-exec-7 restrestcontrolleradvice191 - caught exception while handling a request javalangnullpointerexception orgspringframeworkbatchcorejobabstractjobexecuteabstractjobjava351 orgspringframeworkbatchcorelaunchsupportsimplejoblauncher1runsimplejoblauncherjava135 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava50 orgspringframeworkbatchcorelaunchsupportsimplejoblauncherrunsimplejoblauncherjava128 sunreflectgeneratedmethodaccessor157invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkbatchcoreconfigurationannotationsimplebatchconfigurationpassthruadviceinvokesimplebatchconfigurationjava117 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy39rununknown source orgspringframeworkbatchadminservicesimplejobservicerestartsimplejobservicejava179 orgspringframeworkxddirtpluginsjobdistributedjobservicerestartdistributedjobservicejava77 orgspringframeworkxddirtrestbatchjobexecutionscontrollerrestartjobexecutionbatchjobexecutionscontrollerjava146 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringfram noformat,0
update twittersearch module for twitter 10 api retirement,0
as a developer id like to rebalance partitions as we scale the containers so i dont have to bring down the running streamjob to reestablish dynamic partitions,5
add license to be included in root directory of distribution should contain apache licence,0
upgrade to reactor 20 m2,0
create rabbitmq environment and record baseline results setup environment create 110 xd cluster with 1 admin and 3 containers create 3 node rabbitmq cluster associate each xd container to a single rabbit node all ec2 instances in the same placement group execute the following streams noformat stream create q1 --definition load-generator --messagecount2000000 queueq1 stream deploy q1 --properties moduleload-generatorcriteriagroupscontainsone stream create q2 --definition load-generator --messagecount4000000 queueq2 stream deploy q2 --properties moduleload-generatorcriteriagroupscontainstwo stream create q3 --definition load-generator --messagecount4000000 queueq3 stream deploy q3 --properties moduleload-generatorcriteriagroupscontainsthree stream create q4 --definition load-generator --messagecount4000000 queueq4 stream deploy q4 --properties moduleload-generatorcriteriagroupscontainsone stream create q5 --definition load-generator --messagecount4000000 queueq5 stream deploy q5 --properties moduleload-generatorcriteriagroupscontainstwo stream create q6 --definition load-generator --messagecount4000000 queueq6 stream deploy q6 --properties moduleload-generatorcriteriagroupscontainsthree noformat use the following rabbitmq perf tests to retrieve benchmark rates noformat runjavash comrabbitmqexamplesperftest -u xdbusqueueq1 -p -x 0 -y 2 -q 500 -z 120 -h amqpxx1compute-1amazonawscom q1txt runjavash comrabbitmqexamplesperftest -u xdbusqueueq2 -p -x 0 -y 1 -q 500 -z 120 -h amqpxx2compute-1amazonawscom q2txt runjavash comrabbitmqexamplesperftest -u xdbusqueueq3 -p -x 0 -y 1 -q 500 -z 120 -h amqpxx3compute-1amazonawscom q3txt runjavash comrabbitmqexamplesperftest -u xdbusqueueq4 -p -x 0 -y 1 -q 500 -z 120 -h amqpxx1compute-1amazonawscom q4txt runjavash comrabbitmqexamplesperftest -u xdbusqueueq5 -p -x 0 -y 1 -q 500 -z 120 -h amqpxx2compute-1amazonawscom q5txt runjavash comrabbitmqexamplesperftest -u xdbusqueueq6 -p -x 0 -y 1 -q 500 -z 120 -h amqpxx3compute-1amazonawscom q6txt noformat reach out to smes to identify proper configuration,0
create plugin module for reactor based processors as an developer id like to have a similar approach to creating reactor based stream processor as with spark and rxjava a plugin should allow a reactor processor module to specify the bare minimum to work eg the processor class explore how additional configuration can be achieved with well known module option commands,0
add --binary option to mqtt source see httpstackoverflowcomquestions25226527mqtt-source-spring-xd2522753125227531,0
container reconnection to zk fails intermittently as reported by matt stine after closing and reopening a laptop the following stack trace appears in the container log noformat 004728226 info main-eventthread stateconnectionstatemanager194 - state change reconnected 004728226 info connectionstatemanager-0 zookeeperzookeeperconnection255 - curator connected event reconnected 004728322 error connectionstatemanager-0 listenlistenercontainer96 - listener orgspringframeworkxddirtzookeeperzookeeperconnectiondelegatingconnectionstatelistener6abf4158 threw an exception javalangruntimeexception javalangruntimeexception orgapachezookeeperkeeperexceptionnodeexistsexception keepererrorcode nodeexists for xdcontainers5a8deb7b-fd93-42a7-a393-2f15023e007a at orgspringframeworkxddirtservercontainerregistrarregisterwithzookeepercontainerregistrarjava301 at orgspringframeworkxddirtservercontainerregistraraccess100containerregistrarjava93 at orgspringframeworkxddirtservercontainerregistrarcontainerattributesregisteringzookeeperconnectionlisteneronconnectcontainerregistrarjava316 at orgspringframeworkxddirtzookeeperzookeeperconnectiondelegatingconnectionstatelistenerstatechangedzookeeperconnectionjava257 at orgapachecuratorframeworkstateconnectionstatemanager2applyconnectionstatemanagerjava222 at orgapachecuratorframeworkstateconnectionstatemanager2applyconnectionstatemanagerjava218 at orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 at comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava293 at orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 at orgapachecuratorframeworkstateconnectionstatemanagerprocesseventsconnectionstatemanagerjava215 at orgapachecuratorframeworkstateconnectionstatemanageraccess000connectionstatemanagerjava42 at orgapachecuratorframeworkstateconnectionstatemanager1callconnectionstatemanagerjava110 at javautilconcurrentfuturetaskrunfuturetaskjava262 at javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 at javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 at javalangthreadrunthreadjava744 caused by javalangruntimeexception orgapachezookeeperkeeperexceptionnodeexistsexception keepererrorcode nodeexists for xdcontainers5a8deb7b-fd93-42a7-a393-2f15023e007a at orgspringframeworkxddirtcontainerstorezookeepercontainerattributesrepositorysavezookeepercontainerattributesrepositoryjava75 at orgspringframeworkxddirtcontainerstorezookeepercontainerattributesrepositorysavezookeepercontainerattributesrepositoryjava42 at orgspringframeworkxddirtservercontainerregistrarregisterwithzookeepercontainerregistrarjava295 15 more caused by orgapachezookeeperkeeperexceptionnodeexistsexception keepererrorcode nodeexists for xdcontainers5a8deb7b-fd93-42a7-a393-2f15023e007a at orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava119 at orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 at orgapachezookeeperzookeepercreatezookeeperjava783 at orgapachecuratorframeworkimpscreatebuilderimpl11callcreatebuilderimpljava676 at orgapachecuratorframeworkimpscreatebuilderimpl11callcreatebuilderimpljava660 at orgapachecuratorretryloopcallwithretryretryloopjava107 at orgapachecuratorframeworkimpscreatebuilderimplpathinforegroundcreatebuilderimpljava656 at orgapachecuratorframeworkimpscreatebuilderimplprotectedpathinforegroundcreatebuilderimpljava441 at orgapachecuratorframeworkimpscreatebuilderimplforpathcreatebuilderimpljava431 at orgapachecuratorframeworkimpscreatebuilderimplforpathcreatebuilderimpljava44 at orgspringframeworkxddirtcontainerstorezookeepercontainerattributesrepositorysavezookeepercontainerattributesrepositoryjava69 17 more noformat this can occur if zk does not remove the ephemeral node before the container creates a new one this can be fixed in the following ways remove the existing ephemeral node if it already exists register containers with a new uuid upon every new connection for now ill implement the first solution,0
create acceptance tests for container groups create infrastructure to retrieve container data create infrastructure to retrieve stream data and the associated container create tests that verify default behavior without group create tests that verify behavior with sink belonging to specific group create tests that verify behavior with processor belonging to specific group also generate tests for the scenarios above where the count 1,0
missing guava-1102jar dependency for hadoop distros we used to have a shared guava-1102jar dependency in the lib dir thats no longer there so hadoop distros that require this now fail at least any hadoop 20x based ones we should also upgrade to current hadoop versions hadoop 22 stable,0
document how to create a custom processor module the use case is to write custom code that does processing on a specific domain class perhaps from twitter adapter or a tuple need to package up this code so that it can be used inside xd,0
fix package tangles see httpssonar43springiodrilldownmeasures7173metricpackagetangleindex,0
wordcount failed to run in cloudera vm 57 i download the spring xd example projects and run through the steps acccording the readme file for the project i tried to change the hadoop-sitexml serveryml and wordcountxml files but i failed get the i am blocked by this issue thank you very much in advance for help best regards,0
as a user id like to have the option to write into file roll sink so that i can store events on the local file system,5
update sinks file section to use shell commands instead of curl see httpstaticspringsourceorgspring-xddocs100m1referencehtmlfilesinks,0
as a user id like to have guidance to create custom modules so that i can align the development practices with recommended approach 1120 update scope of this task is to create an example to demonstrate and document the capability,1
as a developer id like to refactor the programmatic means by which the messagebus transforms the message so throughput performance can be optimized,4
documentation for fixed rate triggers,0
upgrade to spring shell 11 rc3,0
support external datasource for single node application currently single node application assumes to use hsqldb server by default and starts the hsqldb as it starts we need a way to provide external datasource and not to start hsqldb by default when the single node starts up,0
add definition of serialversionuid to twitter classes add serialversionuid to the objects in package orgspringframeworkintegrationxtwitter xdentities xdurlentity xdhashtagentity xdmentionentity xdmediaentity xdtickersymbolentity xdtweet the absence creates warnings during compile time,0
update processors filter json filed value filter section to use shell commands instead of curl see httpstaticspringsourceorgspring-xddocs100m1referencehtmlfilter httpstaticspringsourceorgspring-xddocs100m1referencehtmljson-value-filter,0
stream definition completion rest layer shell adapter provide the infrastructure for http get completionsstarthttp file --d that would return a list of possible completions in this case returning the file option names that start with d this story is about and only about - having that rest controller delegating to some completionsengine - implementing the spring shell converter that talks to that its an empty shell useless but easy to do without the actual completionsengine,0
streamdeployerdeleteall does not handle dependency tracking create a composed module use it in a stream delete all streams try to delete the composed module fails thinking that its still used by the stream,0
support spark streaming processorsink specific module options currently the module options provided for spark streaming processorsink modules use the same defaultsparkstreamingmoduleoptionsmetadata since we start adding new module options for processorsink specific modules it would be better if we expose specific moduleoption classes so that would help the implementing developers,0
trim output from http post shell command to two lines instead of xdhttp post --target httplocalhost9898 --data hello world post textplaincharsetutf-8 httplocalhost9898 hello world 200 ok content-length 0 connection keep-alive success sending data hello world to target httplocalhost9898 have xdhttp post --target httplocalhost9898 --data hello world post textplaincharsetutf-8 httplocalhost9898 hello world 200 ok or better yet xdhttp post --target httplocalhost9898 --data hello world 200 ok post textplaincharsetutf-8 httplocalhost9898 hello world,0
handling boolean type module option properties defaults in option metadata there are few boolean type module option properties whose default values are specified in the module definitions than their corresponding moduleoptionsmetadata also when using boolean we need to have module option using primitive type boolean than boolean type currently these are some of the module options that require this change initializedatabase in modules filejdbc hdfsjdbc job modules aggregator processor module jdbc sink module restartable in all the job modules deletefiles in filejdbc filepollhdfs job modules,0
remove jars from zip packaging whose license prevents distribution the work here is doing the research mysql client jar should be removed as it is gpl - httpdevmysqlcomdownloadsconnectorj50html gpl postgresql is bsd so that is ok another issue will handle license file inclusion,0
in documentation replace usage of raw hadoop command with shell hadoop commands,0
return full modulestatus information remove all stubs and check all required information is returned accurately,0
add ability to inject delimiter on pre-packaged jobs that deal with files,0
singlenode logging for amqp listener container is too narrow error see httpsgopivotal-comsocialcastcommessages24095632 however it was set to error last year to reduce log noise i would prefer to elevate to at least warn in xd and address the noise issue in spring amqp,0
spring xd shell should maintain single log file per user currently xd-shell script packaged in spring xd dist creates spring-shelllog file in invocation directory when xd-shell is added to path user will usually invoke the script from many directories leaving log files all over the file system would it be possible to keep the log files in one predefined location eg homespring-shelllog or distshelllogsspring-shelllog,0
as a s-c-s developer id like to setup ci builds for s-c-s builds so i can incrementally build and test code commits automatically,3
as a developer id like to have the high-level description for each of the modules so that i can use the description presumably what is captured in javadoc for the module definition to understand the purpose of the module itself,3
add binding information to application definition moduledefinition contains bindings that need to be passed to the modulerunner app it appears these can be included in the applications environment,0
remove dependency on sprint boot in xd-dirt tests,0
cant execute query on hive hey guys we are currently trying to connect hive by spring-xd to create a table unfortunatly we are not able to do it we are using the attached job configuration hivexml trying to connect by hive thrift client with the following configuration hadoophive-client-factory hosthivehost port10000 hadoophive-tasklet idhive-script hadoopscript use testing drop table if exits testhivebatchtable create table testhivebatchtable key int value string hadoopscript hadoophive-tasklet for some reason spring xd is not finding the ttransportexception class the full log is in the singlenodehivequerylog file attached after that we tried uploading all the dependencies to the lib folder of the job but now we are facing problems with log4j full log is in singlenodehivequery2log attached and we are unable to deploy the job in any of the two cases please could you help us to solve this problem thanks in advance,0
add documentation for gemfire cache-listener source need some sample usage docs for httpsgithubcomspring-projectsspring-xdtreemastermodulessourcegemfire,0
ui automatically close notification messages automatically close notification messages polish ui,0
as a developer id like to add undeployed status for lattice spi so i can represent the correct status instead of the current unknown state,3
rewrite of the existing ui to use angluarjs,0
create rest endpoint for validation of a jobstream definition have a rest endpoint that would run validation of a definition without actually attempting the creation let alone deployment and return a structured representation of validation errors this to benefit the web ui,0
create multi-container single host testing framework use external jvm launch support provided by the oracle tools framework httpsjavanetprojectsoracletools,0
create general structure for asciidoc based wiki and spring xd guide adopt asciidoc as the markdown syntax useful for generating pdf and more feature rich than standard github flavored markdown loosely following the conventions of httpscommunityjbossorgwikitheholygrailasciidocongithubtodocbooktrain that have generate docbookpdf docs from the asciidoc wiki the asciidoctor project is a key element in the adoption of asciidoc for use as the format in github it is the rendering engine used by github for asciidoc see httpasciidoctororgdocsasciidoc-writers-guide for guidance,0
cleanup module deployer containers module deployer orgspringframeworkxddirtmodulemoduledeployer has some unused code and container-serverxml has listenersxml which is no longer used also all the extension code is moved to sharedcontextconfiguration,0
able to bypass authorization checks by appending json or xml how to reproduce 1 enable security 2 use a user that has the following role only rolecreate 3 make a normal rest call code httplocalhost9393runtimecontainers code yields the desired response code timestamp 2015-03-26t165117010z status 403 error forbidden message access is denied path runtimecontainers code now try code httplocalhost9393runtimecontainersjson code this produces code links rel self href httplocalhost9393runtimecontainerspagesizesort content containerid 86eea5aa-b18e-41c5-a3f5-42dfa10713c1 groups deploymentsize 0 deployedmodules messagerates null attributes ip 1001119 host integrationlocal groups pid 52686 id 86eea5aa-b18e-41c5-a3f5-42dfa10713c1 links rel self href httplocalhost9393runtimecontainers86eea5aa-b18e-41c5-a3f5-42dfa10713c1 page size 20 totalelements 1 totalpages 1 number 0 code,0
no errors in shell when creating stream with http source already used port 2 issues exist 1 current this does not create an error in the shell code stream create --name s1 --definition http log stream create --name s2 --definition http log code on the server-side i see code caused by javanetbindexception address already in use sunniochnetbind0native method sunniochnetbindnetjava344 sunniochnetbindnetjava336 sunniochserversocketchannelimplbindserversocketchannelimpljava199 sunniochserversocketadaptorbindserversocketadaptorjava74 orgjbossnettychannelsocketnionioserverbossregistertaskrunnioserverbossjava193 orgjbossnettychannelsocketnioabstractnioselectorprocesstaskqueueabstractnioselectorjava366 orgjbossnettychannelsocketnioabstractnioselectorrunabstractnioselectorjava290 orgjbossnettychannelsocketnionioserverbossrunnioserverbossjava42 3 more code 2 the stream should not be saved to the streamdefinitionrepo in case of an error,0
as a developer id like to deploy a stream in the same container so all modules are colocated within the container perhaps also consider building leader election within modules in order to automatically failover the application stream from one container to another,5
document mongodb source,0
xd shell needs to support multiple hadoop distros from httpsgithubcomspringsourcespring-xdpull161 the command shell needs to also support different hadoop distribution options perhaps the shell just uses a relative path to the location of xdlib,0
xd-container --transport local throws numberformatexception xd-container ok xd-container --transport redis ok xd-container --transport rabbit ok xd-container --transport local fail wkoh-mbpbin administrator xd-container --transport local exception in thread main orgspringframeworkbeansfactorybeancreationexception error creating bean with name orgjolokiajvmagentspringspringjolokiaagent0 invocation of init method failed nested exception is javalangnumberformatexception for input string xdjmxport orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1488 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava524 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava461 orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava295 orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava223 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava292 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava194 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava626 orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava932 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava479 orgspringframeworkxddirtservercontainermainlaunchcontainermainjava89 orgspringframeworkxddirtservercontainermainmaincontainermainjava72 caused by javalangnumberformatexception for input string xdjmxport javalangnumberformatexceptionforinputstringnumberformatexceptionjava48 javalangintegerparseintintegerjava449 javalangintegerparseintintegerjava499 orgjolokiajvmagentjolokiaserverconfiginitconfigandvalidatejolokiaserverconfigjava211 orgjolokiajvmagentjolokiaserverconfiginitjolokiaserverconfigjava84 orgjolokiajvmagentjolokiaserverconfiginitjolokiaserverconfigjava68 orgjolokiajvmagentspringspringjolokiaagentafterpropertiessetspringjolokiaagentjava78 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinvokeinitmethodsabstractautowirecapablebeanfactoryjava1547 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1485 11 more,0
upon a container departure redeployment of batch job fails on an existing container when there are multiple containers a b and c and a batch job is deployed into one of the containers a when the container a goes down the admin server tries re-deploy the job module that was deployed in container a into other matching container but when the re-deployment happens it tries to update the distributed job locator as if a new job is being deployed and following exception is thrown 171338811 error deploymentspathchildrencache-0 cachepathchildrencache550 - javalangruntimeexception orgspringframeworkbeansfactorybeancreationexception error creating bean with name job post-processing of the factorybeans object failed nested exception is orgspringframeworkxddirtjobbatchjobalreadyexistsexception batch job with the name myjob3 already exists orgspringframeworkxddirtservercontainerregistrardeployjobcontainerregistrarjava411 orgspringframeworkxddirtservercontainerregistraronchildaddedcontainerregistrarjava355 orgspringframeworkxddirtservercontainerregistraraccess8containerregistrarjava349 orgspringframeworkxddirtservercontainerregistrardeploymentlistenerchildeventcontainerregistrarjava695 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava494 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava488 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava253 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava485 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache11runpathchildrencachejava755 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetasksyncinnerrunfuturetaskjava334 javautilconcurrentfuturetaskrunfuturetaskjava166 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetasksyncinnerrunfuturetaskjava334 javautilconcurrentfuturetaskrunfuturetaskjava166 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava722 caused by orgspringframeworkbeansfactorybeancreationexception error creating bean with name job post-processing of the factorybeans object failed nested exception is orgspringframeworkxddirtjobbatchjobalreadyexistsexception batch job with the name myjob3 already exists orgspringframeworkbeansfactorysupportfactorybeanregistrysupportdogetobjectfromfactorybeanfactorybeanregistrysupportjava167 orgspringframeworkbeansfactorysupportfactorybeanregistrysupportgetobjectfromfactorybeanfactorybeanregistrysupportjava103 orgspringframeworkbeansfactorysupportabstractbeanfactorygetobjectforbeaninstanceabstractbeanfactoryjava1514 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava252 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava195 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava699 orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava760 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava482 orgspringframeworkbootspringapplicationrefreshspringapplicationjava648 orgspringframeworkbootspringapplicationrunspringapplicationjava311 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava130 orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava241 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava186 orgspringframeworkxddirtmodulemoduledeployerdeployandstoremoduledeployerjava176 orgspringframeworkxddirtmodulemoduledeployerdeployandstoremoduledeployerjava166 orgspringframeworkxddirtservercontainerregistrardeploymodulecontainerregistrarjava230 orgspringframeworkxddirtservercontainerregistrardeployjobcontainerregistrarjava399 20 more caused by orgspringframeworkxddirtjobbatchjobalreadyexistsexception batch job with the name myjob3 already exists orgspringframeworkxddirtpluginsjobdistributedjoblocatoraddjobdistributedjoblocatorjava114 orgspringframeworkxddirtpluginsjobbatchjobregistrybeanpostprocessorpostprocessafterinitializationbatchjobregistrybeanpostprocessorjava106 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryapplybeanpostprocessorsafterinitializationabstractautowirecapablebeanfactoryjava421 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorypostprocessobjectfromfactorybeanabstractautowirecapablebeanfactoryjava1698 orgspringframeworkbeansfactorysupportfactorybeanregistrysupportdogetobjectfromfactorybeanfactorybeanregistrysupportjava164 36 more,0
spring mvc infrastructure tests,0
migrate to si redis queue and topic adapters,0
refine project mainly dirt dependencies see also xd-903 xd-915 a lot of dependencies have been added with the compile scope as an oversight over time some of them are only required at runtime some may not be required anymore,0
xd should use same hadoop security keys as spring for apache hadoop for kerberos and other security related settings we use keys like springhadoopuserprincipal mentioned in httpsgithubcomspring-projectsspring-xdwikihadoop-kerberos however when we added boot config props to shdp we used a sub keys like springhadoopsecurityuserprincipal itd be good if wed fix these to be same in both xd and shdp not to cause confusion,0
as a user i want spring xd to pre-allocate a set of partitions between the kafka source modules when a stream is deployed so that deployment is simpler and rebalancing doesnt take place,5
spring-xd-module-parent creates resources outside of target folder custom modules that use code groupidorgspringframeworkxdgroupid artifactidspring-xd-module-parentartifactid version110releaseversion code as a parent will get a lib directory created in the module root source directory this forces us to add additional ignores in version control system following maven convention all build files should be created under target folder so lib folder should be created as targetlib,0
as a s-c-d developer id like to add support for profiles to the core admin application so i can back the stream repository with respective backend strategy for example local profile would use in-memory strategy to store the metadata,3
create rest api for stopping a specific job functionality adopted from spring batch admin should include springmvc test framework style tests delete batchjobsexecutionsexecutionid stop a specific job,0
as a qa id like to include acceptance test coverage for hdfs-dataset sink module so that i can validate the functionality as part of every ci build,3
add spring-xd-hadoop distro specific sub-projects we need to modify build adding two sub-projects for spring-xd-hadoop one for hadoop 112 and one for phd1 pivotal hd to pull in transitive dependencies for correct hadoop distro,0
command to show the xml of the job definition,0
message bus shut down kafka consumers completely before unbinding this causes the following exception to be thrown in the log without functional adverse effects orgspringframeworkmessagingmessagedeliveryexception dispatcher has no subscribers for channel unknownchannelname nested exception is orgspringframeworkintegrationmessagedispatchingexception dispatcher has no subscribers orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava81 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava239 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava101 orgspringframeworkintegrationkafkainboundkafkamessagedrivenchanneladapteraccess300kafkamessagedrivenchanneladapterjava43 orgspringframeworkintegrationkafkainboundkafkamessagedrivenchanneladapterautoacknowledgingchannelforwardingmessagelistenerdoonmessagekafkamessagedrivenchanneladapterjava172 orgspringframeworkintegrationkafkalistenerabstractdecodingmessagelisteneronmessageabstractdecodingmessagelistenerjava50 orgspringframeworkintegrationkafkalistenerqueueingmessagelistenerinvokerrunqueueingmessagelistenerinvokerjava121 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 javalangthreadrunthreadjava745 caused by orgspringframeworkintegrationmessagedispatchingexception dispatcher has no subscribers orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava107 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 13 more,0
spring shell --host option does not work when trying to use the --host command line parameter spring shell reports the following error for this command xd-shell --host localhost oct 25 2013 103525 am orgspringframeworkshellcoresimpleparser commandnotfound warning command --host localhost not found for assistance press tab,0
spike determine best way to centrally configure the job repository for batch jobs h2 narrative as a developer i need to be able to run batch jobs that use the centrally configured job repository to store job state h2 back story the xd containers each used a batchconfigurer implementation runtimebatchconfigurer to add a consistent configuration for the job repository this functionality needs to be replicated in some way in just a regular spring boot application,0
xd modules should not have build directory upon running gradle build currently the modules project is marked as java project to enable eclipseidea metadata files generation but it generates a build directory with a jar that has empty manifest file this build directory also gets copied into the bundle after dist,0
investigate typeconvertingstreamteststestbasictypeconversionwithtap test failure in ci builds typeconvertingstreamteststestbasictypeconversionwithtap is failing intermittently why,0
logging is not producing a log file need to add a -dxdhomexdhome to the start scripts else all files will write to the logs directory need to update bat files to use for env variables instead of need to rename loggerconfig to loggingconfig so that boot will pick up the log config files admin needs to use xd-admin-logger configs instead of xd-container-logger renamed logging file for singlenode from adminlog to singlenodelog,0
change jacoco to 07 for jdk 8 builds httpsbuildspringiobrowsexd-jdk8-5 apply plugin jacoco jacoco toolversion 070201403182114,0
fix incorrect ip address associated with containers the xd container ip address displayed on both singlenode and distributed modes are incorrect both on shell as well as admin-ui example noticed ip address as 101010 following function in runtimeutilshttpdocsspringioautorepodocsspring-xd101releaseapiorgspringframeworkxddirtutilruntimeutilshtml could be flawed code public static string getipaddress try forenumerationnetworkinterface enumnic networkinterfacegetnetworkinterfaces enumnichasmoreelements networkinterface ifc enumnicnextelement if ifcisup for enumerationinetaddress enumaddr ifcgetinetaddresses enumaddrhasmoreelements inetaddress address enumaddrnextelement if address instanceof inet4address addressisloopbackaddress return addressgethostaddress catch ioexception e ignore return unknown code,0
serialization over data transport fails for classes that are module specific given the counter example from the guide is run with redis enabled xd-singlenode --transport redis --store redis when a stream is created stream create --name springtweets --definition twittersearch --consumerkeyyourkey --consumersecretyoursecret --queryspring file --dirtweets then an exception is thrown exception in thread inboundspringtweets0-redisqueue-inbound-channel-adapter35 orgspringframeworkintegrationmessagehandlingexception error occurred in message handler springtweets0convertbridge orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava79 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava115 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava94 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava42 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava86 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava92 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointpopmessageandsendredisqueuemessagedrivenendpointjava207 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointaccess300redisqueuemessagedrivenendpointjava51 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointlistenertaskrunredisqueuemessagedrivenendpointjava286 javalangthreadrunthreadjava724 caused by orgspringframeworkintegrationxbusserializerserializationexception unable to deserialize null class not found orgspringframeworkintegrationxbusmessagebussupportdeserializeconsumerpayloadmessagebussupportjava247 orgspringframeworkintegrationxbusmessagebussupporttransformpayloadforconsumermessagebussupportjava191 orgspringframeworkintegrationxbusmessagebussupporttransformpayloadforconsumerifnecessarymessagebussupportjava168 orgspringframeworkintegrationxredisredismessagebusaccess300redismessagebusjava57 orgspringframeworkintegrationxredisredismessagebusreceivinghandlerhandlerequestmessageredismessagebusjava176 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava142 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 13 more caused by javalangclassnotfoundexception orgspringframeworksocialtwitterapitweet javaneturlclassloader1runurlclassloaderjava366 javaneturlclassloader1runurlclassloaderjava355 javasecurityaccesscontrollerdoprivilegednative method javaneturlclassloaderfindclassurlclassloaderjava354 javalangclassloaderloadclassclassloaderjava424 sunmisclauncherappclassloaderloadclasslauncherjava308 javalangclassloaderloadclassclassloaderjava357 javalangclassforname0native method javalangclassfornameclassjava190 orgspringframeworkintegrationxbusmessagebussupportdeserializeconsumerpayloadmessagebussupportjava241 19 more,0
create an embedded zookeeper server process this will be used by singlenodeapplication if no zookeeper process is available based on the provided client connect string it will still be recommended that users run zookeeper externally at least in standalone mode when running singlenodeapplication we should clarify that in the documentation and logs it should implement smartlifecycle so that it can be managed as a bean within an applicationcontext,0
update to reactor 202,0
clean up spring-xd-batch sub-project we should move the orgspringframeworkxdbatchjdbccolumnrangepartitioner and orgspringframeworkxdbatchitemjdbcfieldsetsqlparametersourceprovider to the spring-xd-extension-batch project,0
backport xd-2411 to 10x branch this fix for richgauge should go into the 10x line,0
updated xd-ec2 xd deployment for 12 mask out all properties for xd-ec2,0
simple ootb job for testing similar to time log we should ship a simple batch job that appends a timestamp to a file this will make it much easier to validate job functionality especially in automated tests,0
ui ability to deploy stream with deployment properties admin ui currently allows job to be deployed with deployment properties we need similar way to deploy stream with the deployment properties module count container matching criteria,0
document the file sink,0
add gradle tasks that build and bundle the redis server,0
as a spring xd user id like to use diego based receptor implementation of xd admin spi based on modulelauncher so i can run data pipeline use-cases running on cf latticediego,5
fix gradle dist build task,0
handle container shutdown gracefully currently moduledeployer is a disposable bean when the container context is closed the moduledeployer bean is destroyed along with its associated common context and deployed modules issue arises if the connectionfactory bean associated with the deployed modules message bus bindings is destroyed before the moduledeployer bean there is exception stacktrace at least in case of redis messagebus saying connection closed adding smartlifecycle support to moduledeployer will make sure all the beans are destroyed during lifecycle processors stop method before any of the singletonbeans are destroyed the stacktrace when using redis messagebus is orgspringframeworkdataredisredissystemexception redis exception nested exception is comlambdaworksredisredisexception connection closed at orgspringframeworkdataredisconnectionlettucelettuceexceptionconverterconvertlettuceexceptionconverterjava45 at orgspringframeworkdataredisconnectionlettucelettuceexceptionconverterconvertlettuceexceptionconverterjava35 at orgspringframeworkdataredisconnectionlettucelettuceconverterstodataaccessexceptionlettuceconvertersjava158 at orgspringframeworkdataredisconnectionlettucelettuceconnectionconvertlettuceaccessexceptionlettuceconnectionjava237 at orgspringframeworkdataredisconnectionlettucelettuceconnectionbrpoplettuceconnectionjava1449 at orgspringframeworkdatarediscoredefaultlistoperations12inredisdefaultlistoperationsjava154 at orgspringframeworkdatarediscoreabstractoperationsvaluedeserializingrediscallbackdoinredisabstractoperationsjava50 at orgspringframeworkdatarediscoreredistemplateexecuteredistemplatejava181 at orgspringframeworkdatarediscoreredistemplateexecuteredistemplatejava149 at orgspringframeworkdatarediscoreabstractoperationsexecuteabstractoperationsjava84 at orgspringframeworkdatarediscoredefaultlistoperationsrightpopdefaultlistoperationsjava151 at orgspringframeworkdatarediscoredefaultboundlistoperationsrightpopdefaultboundlistoperationsjava92 at orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointpopmessageandsendredisqueuemessagedrivenendpointjava178 at orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointaccess300redisqueuemessagedrivenendpointjava51 at orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointlistenertaskrunredisqueuemessagedrivenendpointjava291 at orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 at javalangthreadrunthreadjava722 caused by comlambdaworksredisredisexception connection closed at comlambdaworksredisredisasyncconnectionawaitredisasyncconnectionjava1079 at comlambdaworksredisredisconnectionawaitredisconnectionjava820 at comlambdaworksredisredisconnectionbrpopredisconnectionjava101 at orgspringframeworkdataredisconnectionlettucelettuceconnectionbrpoplettuceconnectionjava1447 12 more 131900897 warn thread-5 supportdefaultlifecycleprocessor257 - failed to stop bean orgspringframeworkintegrationredisinboundredisinboundchanneladapter0 comlambdaworksredisredisexception connection is closed at comlambdaworksredisredisasyncconnectiondispatchredisasyncconnectionjava1065 at comlambdaworksredispubsubredispubsubconnectionunsubscriberedispubsubconnectionjava82 at orgspringframeworkdataredisconnectionlettucelettucesubscriptiondounsubscribelettucesubscriptionjava68 at orgspringframeworkdataredisconnectionutilabstractsubscriptionunsubscribeabstractsubscriptionjava186 at orgspringframeworkdataredisconnectionutilabstractsubscriptionunsubscribeabstractsubscriptionjava146 at orgspringframeworkdataredislistenerredismessagelistenercontainersubscriptiontaskcancelredismessagelistenercontainerjava836 at orgspringframeworkdataredislistenerredismessagelistenercontainerstopredismessagelistenercontainerjava210 at orgspringframeworkintegrationredisinboundredisinboundchanneladapterdostopredisinboundchanneladapterjava127 at orgspringframeworkintegrationendpointabstractendpointstopabstractendpointjava100 at orgspringframeworkintegrationendpointabstractendpointstopabstractendpointjava115 at orgspringframeworkcontextsupportdefaultlifecycleprocessordostopdefaultlifecycleprocessorjava229 at orgspringframeworkcontextsupportdefaultlifecycleprocessoraccess300defaultlifecycleprocessorjava51 at orgspringframeworkcontextsupportdefaultlifecycleprocessorlifecyclegroupstopdefaultlifecycleprocessorjava363 at orgspringframeworkcontextsupportdefaultlifecycleprocessorstopbeansdefaultlifecycleprocessorjava202 at orgspringframeworkcontextsupportdefaultlifecycleprocessoronclosedefaultlifecycleprocessorjava118 at orgspringframeworkcontextsupportabstractapplicationcontextdocloseabstractapplicationcontextjava888 at orgspringframeworkbootcontextembeddedembeddedwebapplicationcontextdocloseembeddedwebapplicationcontextjava157 at orgspringframeworkcontextsupportabstractapplicationcontext1runabstractapplicationcontextjava809,0
add named channel api we need an abstraction in place to retrieve messages from a named channel programmatically right now there is no implementation agnostic way of doing this such as receivemessage queuesize this could be quite useful for integration tests of streams eg to do more focussed tests without resorting to temp-files and non-essential sinks or sources etc - eg code routeit router --expressionpayloadcontainsafoobar code,0
as a user id like to use the admin-ui and flo with consistent look and feel,1
design and document desired high level dsl for configuring data processing in xd start to explore how the dsl can cover both advanced non-linear spring integration flows as well as spring batch jobs,0
support explicit client connect string for zookeeper this will have an effect on both singlenode and distributed mode as described below singlenode currently when running in singlenode mode an embedded zookeeper server is started and it discovers an available port for client connections and exposes it via a getclientport method with this change if a client connect string is provided explicitly the embedded zookeeper server should not be started but instead the client connection should be established using that explicitly provided connect string see the todo comment above the springapplicationbuilder admin line within singlenodeapplication distributed currently when running in distributed mode the client connect string is hardcoded to localhost2181 obviously that is only a short term solution since a real-world distributed runtime would span multiple machines including the zookeeper ensemble itself that is also why the connect string must support a comma-delimited list of hostport values for redundancy but the constructor for zookeeperconnection that accepts a client connect string already supports that via the underlying curatorframework builder with this change a command-line argument for the client connect string will be passed into the zookeeperconnection constructor within the configuration eg see the todo statement within containerserverapplicationdistributedzookeeperconnectionconfiguration,0
as a developer im adding new overrides to serveryml file however the overridden properties do not reflect even after the restart of server,2
out of the box batch jobs should add xdjobexecutionlistener and xdstepexecutionlistener to show best practice our batch jobs should include these listeners so that notifications can be sent in particular it is desirable that jobs with file item readers can send the files that were processed so another stream can be sent the file name when the job completes to movedelete the file,0
verify platform compatibility versions with the xd dependencies we need to make sure there is no conflictingmissing dependency with buildgradle using spring io platform dependencies httpsjiraspringiobrowsexd-1929 is one such scenario where jolokia dependency went missing,0
documentation for deleting triggers,0
add timestamp to xd message history i dont recall why this commit httpsgithubcomgaryrussellspring-xdcommitba15a1390f7e448dbc723ee76a45c2e239e0994e was not applied to master but having the timestamp for each step in the history will be useful see this github issue httpsgithubcomspring-projectsspring-xd-modulesissues24issuecomment-154436643,0
support transparent boxingunboxing of tuples or other containers working with rich structured messages is currently painful when we have modules that know how to handle some sub-part of the structure case in point i have a tuple made of document byte metadata map and i have a module that knows how to extract textual content from the document byte if i want to extract the document but still retain metadata i need to either - rewrite the extract content module to accept a tuple urghh - fork the stream to extract the document field apply module aggregate with metadata that comes from side channel,0
jsr303 validation of options interferes with dsl completion when using a jsr303 annotated class for module options the binding failures should be bypassed as they interfere with completion proposals,0
rabbit sink source --host and --port are not updating module hostport acceptance tests failed on the rabbit source and sink tests the test started failing when xd-1824 was introduced support rabbitmq cluster in sourcesink this story added addresses to support rabbit cluster failover currently if a user set --host --port to a remote rabbit instance xd will use the default hostlocalhost and port5672 however using --addresses does work,0
as a user id like to have the flexibility to change the namespace so that i can isolate zk metadata based on each tenant profile,4
serversyaml has a typo that causes xd startup to fail when line 295 has 2 dashes instead of 3 there is no effect on xd unless the xd extensions block is uncommented i have been using the xd extensions in version 103 and have merged my serversyaml with all of the new content in 110m2 the admin jvm crahes without logging any exception and the container jvm crashes and logs the following - -- v -- 110m2 extreme data started containerserverapplication documentation httpsgithubcomspring-projectsspring-xdwiki expected document start but found blockmappingstart in reader line 303 column 1 xd at orgyamlsnakeyamlparserparserimplparsedocumentstartproduceparserimpljava225 at orgyamlsnakeyamlparserparserimplpeekeventparserimpljava158 at orgyamlsnakeyamlparserparserimplcheckeventparserimpljava143 at orgyamlsnakeyamlcomposercomposerchecknodecomposerjava68 at orgyamlsnakeyamlconstructorbaseconstructorcheckdatabaseconstructorjava93 at orgyamlsnakeyamlyaml1hasnextyamljava498 at orgspringframeworkbeansfactoryconfigyamlprocessorprocessyamlprocessorjava152 at orgspringframeworkbeansfactoryconfigyamlprocessorprocessyamlprocessorjava137 at orgspringframeworkbootenvyamlpropertysourceloaderprocessorprocessyamlpropertysourceloaderjava78 at orgspringframeworkbootenvyamlpropertysourceloaderloadyamlpropertysourceloaderjava50 at orgspringframeworkbootenvpropertysourcesloaderloadpropertysourcesloaderjava126 at orgspringframeworkbootcontextconfigconfigfileapplicationlistenerloaderloadintogroupconfigfileapplicationlistenerjava378 at orgspringframeworkbootcontextconfigconfigfileapplicationlistenerloaderloadconfigfileapplicationlistenerjava366 at orgspringframeworkbootcontextconfigconfigfileapplicationlistenerloaderloadconfigfileapplicationlistenerjava336 at orgspringframeworkbootcontextconfigconfigfileapplicationlisteneraddpropertysourcesconfigfileapplicationlistenerjava173 at orgspringframeworkbootcontextconfigconfigfileapplicationlisteneronapplicationenvironmentpreparedeventconfigfileapplicationlistenerjava144 at orgspringframeworkbootcontextconfigconfigfileapplicationlisteneronapplicationenvironmentpreparedeventconfigfileapplicationlistenerjava137 at orgspringframeworkbootcontextconfigconfigfileapplicationlisteneronapplicationeventconfigfileapplicationlistenerjava126 at orgspringframeworkcontexteventsimpleapplicationeventmulticasterinvokelistenersimpleapplicationeventmulticasterjava151 at orgspringframeworkcontexteventsimpleapplicationeventmulticastermulticasteventsimpleapplicationeventmulticasterjava128 at orgspringframeworkbootcontexteventeventpublishingrunlistenerpublisheventeventpublishingrunlistenerjava100 at orgspringframeworkbootcontexteventeventpublishingrunlistenerenvironmentpreparedeventpublishingrunlistenerjava59 at orgspringframeworkbootspringapplicationrunspringapplicationjava286 at orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 at orgspringframeworkxddirtservercontainerbootstrapcontextinitcontainerbootstrapcontextjava48 at orgspringframeworkxddirtservercontainerserverapplicationruncontainerserverapplicationjava83 at orgspringframeworkxddirtservercontainerserverapplicationmaincontainerserverapplicationjava72,0
interacting with xd on yarn 1 how we talk to the xd instances on yarn 2 there is a rest interface which location can be exposed either via resource manager or appmaster 3 technically appmaster could also expose interface which could eihter be proxy for xd rest or dedicated interface implementationie thrift or spring int,0
update docs for gemfire sink to include locator configuration,0
as a user id like to have the moduleapp specific metrics consumed directly from boot actuator exporthttpsgithubcomspring-projectsspring-bootblobmasterspring-boot-actuatorsrcmainjavaorgspringframeworkbootactuateautoconfiguremetricrepositoryautoconfigurationjava api so i can have insight on how it is performing being used and that it works etc,5
provide more informative error message when conversionservice fails in tuple when delegating to the conversion service the conversionfailedexception does not have the context of which key caused the failure should probably wrap conversionfailedexception with illegalargumentexception and add that context back in,0
deploy spring xd on hadoop yarn this is a master ticker tracking work enabling xd to run on hadoop as yarn application,0
packaging of guava 17 results in failure to deploy mapreduce job to hadoop 24 based distros trying to deploy the hashtagcount batch sample 1 to hadoop 241 or hortonworks hdp 21 fails with an illegalaccesserror exception looks like a guava versioning issue - swapping out guava-170jar for guava-1102jar in the xdlib directory solves it mark p suggested we try 1601 which is what curator uses and that seems to work as well looking into changing the build to not force 170 which is the io platform version httpupstream-trackerorgjavacompatreportsguava1601to170srccompatreporthtml i get the following exception code 164222214 info deployer serverjobdeploymentlistener - deployment status for job hashtagcountjob deploymentstatusstatedeployed 164227315 warn task-scheduler-2 mapreducejobsubmitter - no job jar file set user classes may not be found see job or jobsetjarstring 164227325 error task-scheduler-2 stepabstractstep - encountered an error executing step hashtagcount in job hashtagcountjob javalangillegalaccesserror tried to access method comgooglecommonbasestopwatchinitv from class orgapachehadoopmapreducelibinputfileinputformat orgapachehadoopmapreducelibinputfileinputformatgetsplitsfileinputformatjava369 orgapachehadoopmapreducejobsubmitterwritenewsplitsjobsubmitterjava493 orgapachehadoopmapreducejobsubmitterwritesplitsjobsubmitterjava510 orgapachehadoopmapreducejobsubmittersubmitjobinternaljobsubmitterjava394 orgapachehadoopmapreducejob10runjobjava1285 orgapachehadoopmapreducejob10runjobjava1282 javasecurityaccesscontrollerdoprivilegednative method javaxsecurityauthsubjectdoassubjectjava415 orgapachehadoopsecurityusergroupinformationdoasusergroupinformationjava1556 orgapachehadoopmapreducejobsubmitjobjava1282 orgapachehadoopmapreducejobwaitforcompletionjobjava1303 orgapachehadoopmapreducejobfastclassbyspringcgliba048cbfeinvokegenerated orgspringframeworkcglibproxymethodproxyinvokemethodproxyjava204 orgspringframeworkaopframeworkcglibaopproxycglibmethodinvocationinvokejoinpointcglibaopproxyjava708 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkaopsupportdelegatingintroductioninterceptordoproceeddelegatingintroductioninterceptorjava133 orgspringframeworkaopsupportdelegatingintroductioninterceptorinvokedelegatingintroductioninterceptorjava121 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkcglibaopproxydynamicadvisedinterceptorinterceptcglibaopproxyjava644 orgapachehadoopmapreducejobenhancerbyspringcglib875ec891waitforcompletiongenerated orgspringframeworkdatahadoopmapreducejobexecutor2runjobexecutorjava199 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava50 orgspringframeworkdatahadoopmapreducejobexecutorstartjobsjobexecutorjava170 orgspringframeworkdatahadoopbatchmapreducejobtaskletexecutejobtaskletjava90 orgspringframeworkbatchcoresteptasklettaskletstepchunktransactioncallbackdointransactiontaskletstepjava406 orgspringframeworkbatchcoresteptasklettaskletstepchunktransactioncallbackdointransactiontaskletstepjava330 orgspringframeworktransactionsupporttransactiontemplateexecutetransactiontemplatejava133 orgspringframeworkbatchcoresteptasklettaskletstep2doinchunkcontexttaskletstepjava271 orgspringframeworkbatchcorescopecontextstepcontextrepeatcallbackdoiniterationstepcontextrepeatcallbackjava77 orgspringframeworkbatchrepeatsupportrepeattemplategetnextresultrepeattemplatejava368 orgspringframeworkbatchrepeatsupportrepeattemplateexecuteinternalrepeattemplatejava215 orgspringframeworkbatchrepeatsupportrepeattemplateiteraterepeattemplatejava144 orgspringframeworkbatchcoresteptasklettaskletstepdoexecutetaskletstepjava257 orgspringframeworkbatchcorestepabstractstepexecuteabstractstepjava198 orgspringframeworkbatchcorejobsimplestephandlerhandlestepsimplestephandlerjava148 orgspringframeworkbatchcorejobflowjobflowexecutorexecutestepjobflowexecutorjava64 orgspringframeworkbatchcorejobflowsupportstatestepstatehandlestepstatejava67 orgspringframeworkbatchcorejobflowsupportsimpleflowresumesimpleflowjava162 orgspringframeworkbatchcorejobflowsupportsimpleflowstartsimpleflowjava141 orgspringframeworkbatchcorejobflowflowjobdoexecuteflowjobjava134 orgspringframeworkbatchcorejobabstractjobexecuteabstractjobjava304 orgspringframeworkbatchcorelaunchsupportsimplejoblauncher1runsimplejoblauncherjava135 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava50 orgspringframeworkbatchcorelaunchsupportsimplejoblauncherrunsimplejoblauncherjava128 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkbatchcoreconfigurationannotationsimplebatchconfigurationpassthruadviceinvokesimplebatchconfigurationjava127 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy44rununknown source orgspringframeworkbatchintegrationlaunchjoblaunchingmessagehandlerlaunchjoblaunchingmessagehandlerjava50 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkexpressionspelsupportreflectivemethodexecutorexecutereflectivemethodexecutorjava63 orgspringframeworkexpressionspelastmethodreferencegetvalueinternalmethodreferencejava122 orgspringframeworkexpressionspelastmethodreferenceaccess000methodreferencejava44 orgspringframeworkexpressionspelastmethodreferencemethodvaluerefgetvaluemethodreferencejava258 orgspringframeworkexpressionspelastcompoundexpressiongetvalueinternalcompoundexpressionjava84 orgspringframeworkexpressionspelastspelnodeimplgettypedvaluespelnodeimpljava114 orgspringframeworkexpressionspelstandardspelexpressiongetvaluespelexpressionjava111 orgspringframeworkintegrationutilabstractexpressionevaluatorevaluateexpressionabstractexpressionevaluatorjava159 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessinternalmessagingmethodinvokerhelperjava268 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessmessagingmethodinvokerhelperjava142 orgspringframeworkintegrationhandlermethodinvokingmessageprocessorprocessmessagemethodinvokingmessageprocessorjava75 orgspringframeworkintegrationhandlerserviceactivatinghandlerhandlerequestmessageserviceactivatinghandlerjava71 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava170 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 sunreflectgeneratedmethodaccessor98invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitorsimplemessagehandlermetricshandlemessagesimplemessagehandlermetricsjava106 orgspringframeworkintegrationmonitorsimplemessagehandlermetricsinvokesimplemessagehandlermetricsjava86 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy125handlemessageunknown source orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 sunreflectgeneratedmethodaccessor97invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava113 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava97 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava91 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy123sendunknown source orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava109 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava94 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava260 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava241 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava205 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava199 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava177 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 sunreflectgeneratedmethodaccessor98invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitorsimplemessagehandlermetricshandlemessagesimplemessagehandlermetricsjava106 orgspringframeworkintegrationmonitorsimplemessagehandlermetricsinvokesimplemessagehandlermetricsjava86 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy125handlemessageunknown source orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 sunreflectgeneratedmethodaccessor97invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava113 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava97 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava91 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy123sendunknown source orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava109 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava94 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava260 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava241 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava205 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava199 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava177 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationendpointpollingconsumerhandlemessagepollingconsumerjava74 orgspringframeworkintegrationendpointabstractpollingendpointdopollabstractpollingendpointjava205 orgspringframeworkintegrationendpointabstractpollingendpointaccess000abstractpollingendpointjava55 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava149 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava146 orgspringframeworkintegrationendpointabstractpollingendpointpoller1runabstractpollingendpointjava284 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava50 orgspringframeworkintegrationutilerrorhandlingtaskexecutorexecuteerrorhandlingtaskexecutorjava49 orgspringframeworkintegrationendpointabstractpollingendpointpollerrunabstractpollingendpointjava278 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava54 orgspringframeworkschedulingconcurrentreschedulingrunnablerunreschedulingrunnablejava81 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava178 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava292 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 code 1 httpsgithubcomspring-projectsspring-xd-samples,0
spark streaming module executor use getmessagebuilderfactorybeanfactory we need to use getmessagebuilderfactorybeanfactory to initialize messagebuilder in spark streaming module executor please see the discussion httpsgithubcomspring-projectsspring-xdpull1454filesr24367825,0
create xd integration test framework add top level utility methods to manage xd runtime deploy start and stop these methods will be used by underlying integration tests to control runtime test environment,0
as a developer id like to upgrade to 060 release of lattice so i can demonstrate data flow on the latest lattice improvements,4
postgresql serveryml options ignored p-spring-xd defines values for the following parameters in serversyml these values are not being retrieved and hence have to be manually added to each stream definition url username password driverclassname validationquery cf xd-2675 xd-2741,0
jdbc acceptance tests must jdbc props vs configprops setting in this case we will use environment variables to set the jdbc sink settings thus we will just remove code,0
update to spring-data-hadoop 200m4 update dependencies to spring-data-hadoop 200m4,0
add watch to stream deployment paths deploymentsupervisor will be responsible for maintaining the state data for each stream when a stream is deployed a watch should be created so that the supervisor can recalculate the state of a stream as modules are addedremoved,0
avoid using jquery inside admin ui there are couple of places where jquery is being used in the admin ui and those are for some dom manipulations i believe these can certainly be replaced with the use of angular directive or custom functions and thereby we can remove jquery dependency in the app,0
ui add tooltip directive small follow up story to xd-2094 to improve tooltip handling,0
create required infrastructure to easily perform integration testing of shell commands,0
cant completely remove custom module after putting properties in configmodulesjobxxxxproperties if we put a custom module static properties in configmodulesjobmodule-namemodule-nameproperties then we cannot completely remove the module - you can delete module but you cannot upload new jar with the same name as it gives an error - there is module already with the same name may be important to note that we had a zookeeper data corruption on which support asked us to upgrade we couldnt upgrade just yet so i cleaned up zookeeper and recreated all streamsjob from original scripts i have observed this behavior after the corruption - i cannot tell for sure if the behavior was there or not before the corruption in case it is not easily reproducible then it could be environment specific issue i may update jira once i get time to try it on my local distributed mode,0
admin ui does not show all containers we have 3 reported incidents so still working on reproducing the issue 1 you start multiple nodes but the admin-ui does not show all of them but logs do 2 by restarting the missing nodes they eventually show up in the admin ui,0
http does not report failure to bind to port stumbled upon this while having hadoop daemons running but simple way to repoduce noformat nc -lp 9000 stream create foo --definition http log --deploy all seems ok http post --data hello error 500 rightfully so noformat,0
remove copyrightlicence info in ui screens,0
catch erroneous hadoop config fs --namenode url early currently we can specify any bogus url using hadoop config fs --namenode without any warning eg hadoop config fs --namenode hdfslocalhost8888 doing a hadoop fs ls will catch the error and throw exception ideally we should catch the bogus url error early in the hadoop config fs command similar to admin config server --uri,0
classpath issue with homebrew version on macosx 1091 ive installed spring xd for the first time today on my mac using the homebrew distribution i tried to create the following stream xd stream create --definition http --port6666 log --name httptest this produced the following error orgspringframeworkintegrationmessagehandlingexception error occurred in message handler moduledeployer orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava79 orgspringframeworkintegrationconfigserviceactivatorfactorybean1handlerequestmessageserviceactivatorfactorybeanjava83 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava142 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava115 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava183 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava153 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava114 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava92 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava228 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava212 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava177 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava171 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava149 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava115 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava183 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava153 orgspringframeworkxddirtstreamdeploymentmessagesendersenddeploymentrequestsdeploymentmessagesenderjava57 orgspringframeworkxddirtstreamabstractdeployersenddeploymentrequestsabstractdeployerjava163 orgspringframeworkxddirtstreamabstractdeployerbasicdeployabstractdeployerjava204 orgspringframeworkxddirtstreamabstractinstancepersistingdeployerdeployabstractinstancepersistingdeployerjava78 orgspringframeworkxddirtrestxdcontrollersavexdcontrollerjava229 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeinvocablehandlermethodjava214 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava132 orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava104 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlemethodrequestmappinghandleradapterjava748 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava689 orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava83 orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava945 orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava876 orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava931 orgspringframeworkwebservletframeworkservletdopostframeworkservletjava833 javaxservlethttphttpservletservicehttpservletjava647 orgspringframeworkwebservletframeworkservletserviceframeworkservletjava807 javaxservlethttphttpservletservicehttpservletjava728 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava305 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkbootactuatetracewebrequesttracefilterdofilterwebrequesttracefilterjava114 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconfiguration1dofilterinternalendpointwebmvcautoconfigurationjava126 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinternalhiddenhttpmethodfilterjava77 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkwebfilterhttpputformcontentfilterdofilterinternalhttpputformcontentfilterjava88 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkbootactuateautoconfiguremetricfilterautoconfigurationmetricsfilterdofiltermetricfilterautoconfigurationjava97 orgspringframeworkbootactuateautoconfiguremetricfilterautoconfigurationmetricsfilterdofiltermetricfilterautoconfigurationjava82 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgapachecatalinacorestandardwrappervalveinvokestandardwrappervalvejava222 orgapachecatalinacorestandardcontextvalveinvokestandardcontextvalvejava123 orgapachecatalinaauthenticatorauthenticatorbaseinvokeauthenticatorbasejava472 orgapachecatalinavalvesremoteipvalveinvokeremoteipvalvejava680 orgapachecatalinacorestandardhostvalveinvokestandardhostvalvejava171 orgapachecatalinavalveserrorreportvalveinvokeerrorreportvalvejava99 orgapachecatalinacorestandardenginevalveinvokestandardenginevalvejava118 orgapachecatalinaconnectorcoyoteadapterservicecoyoteadapterjava407 orgapachecoyotehttp11abstracthttp11processorprocessabstracthttp11processorjava1004 orgapachecoyoteabstractprotocolabstractconnectionhandlerprocessabstractprotocoljava589 orgapachetomcatutilnetnioendpointsocketprocessorrunnioendpointjava1680 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 caused by orgspringframeworkbeansfactorycannotloadbeanclassexception cannot find class orgspringframeworkintegrationxhttpnettyhttpinboundchanneladapter for bean with name orgspringframeworkintegrationxhttpnettyhttpinboundchanneladapter0 defined in url fileusersphilippespringsourcespring-xd-100m1xdmodulessourcehttpxml nested exception is javalangclassnotfoundexception orgspringframeworkintegrationxhttpnettyhttpinboundchanneladapter orgspringframeworkbeansfactorysupportabstractbeanfactoryresolvebeanclassabstractbeanfactoryjava1327 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorypredictbeantypeabstractautowirecapablebeanfactoryjava594 orgspringframeworkbeansfactorysupportabstractbeanfactoryisfactorybeanabstractbeanfactoryjava1396 orgspringframeworkbeansfactorysupportabstractbeanfactoryisfactorybeanabstractbeanfactoryjava959 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava680 orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava760 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava482 orgspringframeworkbootspringapplicationrefreshspringapplicationjava609 orgspringframeworkbootspringapplicationrunspringapplicationjava321 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava130 orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava181 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava264 orgspringframeworkxddirtmodulemoduledeployerdeployandstoremoduledeployerjava254 orgspringframeworkxddirtmodulemoduledeployerhandledeploymoduledeployerjava249 orgspringframeworkxddirtmodulemoduledeployerhandlesinglemodulemessagemoduledeployerjava227 orgspringframeworkxddirtmodulemoduledeployerhandlemessageinternalmoduledeployerjava154 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 79 more caused by javalangclassnotfoundexception orgspringframeworkintegrationxhttpnettyhttpinboundchanneladapter orgspringframeworkbootcontextembeddedtomcattomcatembeddedwebappclassloaderloadclasstomcatembeddedwebappclassloaderjava68 orgapachecatalinaloaderwebappclassloaderloadclasswebappclassloaderjava1559 orgspringframeworkutilclassutilsfornameclassutilsjava238 orgspringframeworkbeansfactorysupportabstractbeandefinitionresolvebeanclassabstractbeandefinitionjava392 orgspringframeworkbeansfactorysupportabstractbeanfactorydoresolvebeanclassabstractbeanfactoryjava1348 orgspringframeworkbeansfactorysupportabstractbeanfactoryresolvebeanclassabstractbeanfactoryjava1319 95 more i managed to create the exact same stream successfully after installing the release manually from the zip file and setting up xdhome and my path as documented so i guess its a problem specific to the homebrew installation,0
adminui - provide server-side cron expression validation it is easy to get a cron expression wrong provide validation of the cron expression on the schedule job page using async validation submit the cron expression to the server-side - and validate that the expression is valid send a success message back we may even send back some meta data eg when is the next execution going to take place,0
allow end users to configure rabbit mq properties on the messagebus for acks txs etc this requires exposing properties to the listenercontainer probably cleaner to inject the listenercontainer into the rabbitmessagebus and expose property placeholders on the lc maybe do the same for rabbitadmin as well,0
align filehdfs batch job defaults with those of corresponding hdfs sink the batch jobs use different defaults compared to some of the sinksource modules filehdfs puts data in a data directory with files named after the stream using a log file extension the hdfs sink puts files in an xdstreamname directory using txt as the default file extension filehdfs needs a more descriptive naming,0
create ootb file to hdfs batch import job that is launched by a stream same processing as xd-984 but the job instacne is launched via an event from the input file source supporting a single file per job launch is ok job create blah --definition filehdfs stream create csvstream --definition file --reftrue --dirusersluke --patterncsv jobblah the job should be documented,0
vary queue number ecb-7 based on the the results from b-6 select the number of consumerproducers that give a distinct 5 increase in message rate below 5 change in message rate prefer lower consumerproducer count vary the number of perftest instances that are run simultaneously and use their own independent queue from 1 until the overall messagessec on the broker plateaus note the cpu performance using top for the broker and perftest processes test 1 2 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 test 2 3 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q3 -p -x 1 -y 1 -s 1000 -z 60 -q 500 test 3 4 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q3 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q4 -p -x 1 -y 1 -s 1000 -z 60 -q 500 test 4 5 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q3 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q4 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q5 -p -x 1 -y 1 -s 1000 -z 60 -q 500 etc,0
update launcherxml to have protocol independent beans defined and an import statement to load protocol specific defintiions from a system property defined location launcherxml can make use of the system property xdpipeprotocol inside an import statement this determines which version of the xd infrastructure to load for example what channelregistry implementation local or redis based or specific message listener containers file name conventions should be used so if the option passed in from the command line is --pipeprotocol localchannel then the xml filename looked for has the protocol suffix applied eg localchannelprotocol and is loaded via the classpath redis and local will not be the only options other implementations will be provided in the future eg rabbit and the user may be able to provide their own implementations of these infrastructure classes an advanced task,0
add command for deploying a stream deploy a named stream the stream must exist in the streamrepository,0
document tuple data structure on xd wiki,0
remove unavailable jobs if a job is deployed an the singlenode job is canceled the job name cannot neither be reused nor destroyed see screenshots,0
filepollhdfs sporadically fails to create files on remote machines need to add a retry to the createdatafileonremote machine because the creation of the test file on the remote machine fails from time to time usually related to network issues,0
sqoop list-tables doesnt work oob commands from docs xdjob create sqooplisttables --definition sqoop --commandlist-tables --deploy xdjob launch --name sqooplisttables 2015-05-21 191236211 120m1 error task-scheduler-1 sqoopsqooptasklet - sqoop job for list-tables finished with exit code 1 2015-05-21 191236212 120m1 error task-scheduler-1 sqoopsqooptasklet - sqoop err error required argument --connect is missing adding --connect results xdjob create sqooplisttables --definition sqoop --commandlist-tables --connectjdbchsqldbhsqllocalhost9101xdjob --deploy command failed orgspringframeworkxdrestclientimplspringxdexception error with options for module sqoop of type job connect option named connect is not supported this is with singlenode,0
getting stuck on hive error in hadoop while creating table in hive i am getting stuck in below error 150421 123534 info logperflogger perflog methoddriverrun fromorgapachehadoophiveqldriver 150421 123534 info logperflogger perflog methodtimetosubmit fromorgapachehadoophiveqldriver 150421 123534 info logperflogger perflog methodacquirereadwritelocks fromorgapachehadoophiveqldriver 150421 123534 info lockmgrdummytxnmanager creating lock manager of type orgapachehadoophiveqllockmgrzookeeperzookeeperhivelockmanager 150421 123534 info zookeeperzookeeper initiating client connection connectstringdkhc3013dcsgcom2181dkhc3010dcsgcom2181dkhc3011dcsgcom2181 sessiontimeout600000 watcherorgapachehadoophiveqllockmgrzookeeperzookeeperhivelockmanagerdummywatcher5b9e1cd4 150421 123534 debug lockmgrdummytxnmanager adding incomingmktgcdbetlmasteraccountpref to list of lock inputs 150421 123534 debug lockmgrdummytxnmanager adding databasemktincoming to list of lock outputs after restart the zookeeper service i am able to successfully run the query but after some time again facing the same issueerror i am stuck on the same error is there any solution to overcome this issue or any tuning i can do for resolve this issue please suggest on this,0
create an aggregate counter an aggregate counter rolls up counts into discrete time buckets there is an existing poc implementation in java based off the library httpsgithubcomthhellertimed-counter the readme there has a good description of the desired feature set,0
xd metrics backed message counter a spring integration based serviceactivator that counts the number of messages using the spring xd metrics support,0
as a spring xd developer id like to move mongo module from xd to s-c-s repo so i can use it as sink to build streaming pipeline,2
remove duplicate logger info on application started when the admin container and singlenode servers start the started application log message is displayed everytime the spring application is created we should only log when the server is started eventually,0
add jmxport to list of coerced cmd line options following merge of xd-1109 see discussion at httpsgithubcomspring-projectsspring-xdcommiteaf886eab3b2ef07da55575029ccabb2c8a36af9commitcomment-4701947,0
add ability to define nested jobs h3 narrative as a developer i need to be able to create a spring xd job module that consists of a job orchestrating the execution of other spring batch jobs using the spring batch job step see section 536 here httpdocsspringiospring-batchreferencehtmlconfigurestephtml within the same module definition h3 acceptance criteria define the contract for a job module currently the contract consists of a single job definition within the assembled applicationcontext contextgetbeanjobclass the new version will need to document what job definition within the assembled applicationcontext should be run as the entry point im assuming it would be by id contextgetbeanjob for example of the job but am open to other options a custom job module that orchestrates multiple spring batch jobs via job steps should be able to be deployed and executed as a single spring xd module spring xd launches the job that conforms to the previously defined contract spring batch manages the execution of the child jobs the existing ootb jobs should work under the new contract h3 assumptions the ui should just work in that child jobs update the job repository independently so no updates should be needed for an mvp of this functionality this will be a breaking change for users that have developed custom job modules h3 out of scope execution of child jobs that are remote deployed on another node applicationcontext dynamically assembling jobs via the shells dsl or the ui,0
module deployment order is not guaranteed we are getting test failures such as httpsbuildspringiobrowsexd-master-1381 quite often in the ci environment recently i suspect the ordering of checks in abstractsinglenodestreamdeploymentintegrationtests deploys in reverse order assertmodulerequeststreamname log false assertmodulerequeststreamname filter false assertmodulerequeststreamname transform false assertmodulerequeststreamname http false undeploys in stream order assertmodulerequeststreamname http true assertmodulerequeststreamname transform true assertmodulerequeststreamname filter true assertmodulerequeststreamname log true isnt happening perhaps changing nextundeployevent poll time from 5 seconds to higher is appropriate no idea why ci environment seems so slow,0
remove option parsing code used for tests from servers currently main class provide alternate static methods for parsing cli options one used for testing does not call systemexit just throws an exception this code should be moved to spring-xd-test to support integration testing,0
rename xd-configyml to serversyml and add modulesmodulesyml to spring-xd-yarn make changes to xd on yarn config that correspond to xd-1499 changes,0
processortesttestfailedsink needs to use http as its test source also check the jmx output to see that the filter rejected the entry,0
add aggregate counter monthly resolution query support,0
rabbitmq message bus rabbitmq sourcesinks are throwing exceptions i believe it is being cause by the following pr xd-2381 split messagebus and analytics dependencies from dirt pr 1307 sha 8d28b2786acbdea1617d7e903b805e5af5369b90 rabbitmq sink is throwing noformat 094416031 110snap error deploymentspathchildrencache-0 bootspringapplication - application startup failed orgspringframeworkbeansfactoryxmlxmlbeandefinitionstoreexception line 19 in xml document from class path resource configrabbitxml is invalid nested exception is orgxmlsaxsaxparseexception linenumber 19 columnnumber 53 cvc-complex-type322 attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloadbeandefinitionsxmlbeandefinitionreaderjava399 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderloadbeandefinitionsxmlbeandefinitionreaderjava336 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderloadbeandefinitionsxmlbeandefinitionreaderjava304 orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava180 orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava138 orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava127 orgspringframeworkbootspringapplicationloadspringapplicationjava620 orgspringframeworkbootspringapplicationrunspringapplicationjava315 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava211 orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava217 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 orgspringframeworkxddirtserverdeploymentlistenerdeploymoduledeploymentlistenerjava363 orgspringframeworkxddirtserverdeploymentlistenerdeploystreammoduledeploymentlistenerjava332 orgspringframeworkxddirtserverdeploymentlisteneronchildaddeddeploymentlistenerjava179 orgspringframeworkxddirtserverdeploymentlistenerchildeventdeploymentlistenerjava147 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 caused by orgxmlsaxsaxparseexception linenumber 19 columnnumber 53 cvc-complex-type322 attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter comsunorgapachexercesinternalutilerrorhandlerwrappercreatesaxparseexceptionerrorhandlerwrapperjava198 comsunorgapachexercesinternalutilerrorhandlerwrappererrorerrorhandlerwrapperjava134 comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava437 comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava368 comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava325 comsunorgapachexercesinternalimplxsxmlschemavalidatorxsierrorreporterreporterrorxmlschemavalidatorjava458 comsunorgapachexercesinternalimplxsxmlschemavalidatorreportschemaerrorxmlschemavalidatorjava3237 comsunorgapachexercesinternalimplxsxmlschemavalidatorprocessattributesxmlschemavalidatorjava2714 comsunorgapachexercesinternalimplxsxmlschemavalidatorhandlestartelementxmlschemavalidatorjava2056 comsunorgapachexercesinternalimplxsxmlschemavalidatoremptyelementxmlschemavalidatorjava766 comsunorgapachexercesinternalimplxmlnsdocumentscannerimplscanstartelementxmlnsdocumentscannerimpljava356 comsunorgapachexercesinternalimplxmldocumentfragmentscannerimplfragmentcontentdrivernextxmldocumentfragmentscannerimpljava2786 comsunorgapachexercesinternalimplxmldocumentscannerimplnextxmldocumentscannerimpljava606 comsunorgapachexercesinternalimplxmlnsdocumentscannerimplnextxmlnsdocumentscannerimpljava117 comsunorgapachexercesinternalimplxmldocumentfragmentscannerimplscandocumentxmldocumentfragmentscannerimpljava510 comsunorgapachexercesinternalparsersxml11configurationparsexml11configurationjava848 comsunorgapachexercesinternalparsersxml11configurationparsexml11configurationjava777 comsunorgapachexercesinternalparsersxmlparserparsexmlparserjava141 comsunorgapachexercesinternalparsersdomparserparsedomparserjava243 comsunorgapachexercesinternaljaxpdocumentbuilderimplparsedocumentbuilderimpljava347 orgspringframeworkbeansfactoryxmldefaultdocumentloaderloaddocumentdefaultdocumentloaderjava76 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloaddocumentxmlbeandefinitionreaderjava429 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloadbeandefinitionsxmlbeandefinitionreaderjava391 30 more 094416036 110snap error deploymentspathchildrencache-0 serverdeploymentlistener - exception deploying module orgspringframeworkbeansfactoryxmlxmlbeandefinitionstoreexception line 19 in xml document from class path resource configrabbitxml is invalid nested exception is orgxmlsaxsaxparseexception linenumber 19 columnnumber 53 cvc-complex-type322 attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloadbeandefinitionsxmlbeandefinitionreaderjava399 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderloadbeandefinitionsxmlbeandefinitionreaderjava336 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderloadbeandefinitionsxmlbeandefinitionreaderjava304 orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava180 orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava138 orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava127 orgspringframeworkbootspringapplicationloadspringapplicationjava620 orgspringframeworkbootspringapplicationrunspringapplicationjava315 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava211 orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava217 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 orgspringframeworkxddirtserverdeploymentlistenerdeploymoduledeploymentlistenerjava363 orgspringframeworkxddirtserverdeploymentlistenerdeploystreammoduledeploymentlistenerjava332 orgspringframeworkxddirtserverdeploymentlisteneronchildaddeddeploymentlistenerjava179 orgspringframeworkxddirtserverdeploymentlistenerchildeventdeploymentlistenerjava147 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 caused by orgxmlsaxsaxparseexception linenumber 19 columnnumber 53 cvc-complex-type322 attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter comsunorgapachexercesinternalutilerrorhandlerwrappercreatesaxparseexceptionerrorhandlerwrapperjava198 comsunorgapachexercesinternalutilerrorhandlerwrappererrorerrorhandlerwrapperjava134 comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava437 comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava368 comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava325 comsunorgapachexercesinternalimplxsxmlschemavalidatorxsierrorreporterreporterrorxmlschemavalidatorjava458 comsunorgapachexercesinternalimplxsxmlschemavalidatorreportschemaerrorxmlschemavalidatorjava3237 comsunorgapachexercesinternalimplxsxmlschemavalidatorprocessattributesxmlschemavalidatorjava2714 comsunorgapachexercesinternalimplxsxmlschemavalidatorhandlestartelementxmlschemavalidatorjava2056 comsunorgapachexercesinternalimplxsxmlschemavalidatoremptyelementxmlschemavalidatorjava766 comsunorgapachexercesinternalimplxmlnsdocumentscannerimplscanstartelementxmlnsdocumentscannerimpljava356 comsunorgapachexercesinternalimplxmldocumentfragmentscannerimplfragmentcontentdrivernextxmldocumentfragmentscannerimpljava2786 comsunorgapachexercesinternalimplxmldocumentscannerimplnextxmldocumentscannerimpljava606 comsunorgapachexercesinternalimplxmlnsdocumentscannerimplnextxmlnsdocumentscannerimpljava117 comsunorgapachexercesinternalimplxmldocumentfragmentscannerimplscandocumentxmldocumentfragmentscannerimpljava510 comsunorgapachexercesinternalparsersxml11configurationparsexml11configurationjava848 comsunorgapachexercesinternalparsersxml11configurationparsexml11configurationjava777 comsunorgapachexercesinternalparsersxmlparserparsexmlparserjava141 comsunorgapachexercesinternalparsersdomparserparsedomparserjava243 comsunorgapachexercesinternaljaxpdocumentbuilderimplparsedocumentbuilderimpljava347 orgspringframeworkbeansfactoryxmldefaultdocumentloaderloaddocumentdefaultdocumentloaderjava76 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloaddocumentxmlbeandefinitionreaderjava429 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloadbeandefinitionsxmlbeandefinitionreaderjava391 noformat rabbit message bus is throwing noformat 101404678 110snap info deploymentsupervisor-0 serverstreamdeploymentlistener - deployment status for stream foo deploymentstatusstatefailederrorsorgspringframeworkamqpuncategorizedamqpexception javalangillegalargumentexception interface orgspringframeworkamqprabbitlistenersimplemessagelistenercontainercontainerdelegate is not visible from class loader orgspringframeworkamqprabbitsupportrabbitexceptiontranslatorconvertrabbitaccessexceptionrabbitexceptiontranslatorjava66 orgspringframeworkamqprabbitconnectionrabbitaccessorconvertrabbitaccessexceptionrabbitaccessorjava110 orgspringframeworkamqprabbitlistenerabstractmessagelistenercontainerinitializeabstractmessagelistenercontainerjava426 orgspringframeworkamqprabbitlistenerabstractmessagelistenercontainerafterpropertiessetabstractmessagelistenercontainerjava385 orgspringframeworkxddirtintegrationrabbitrabbitmessagebusdoregisterconsumerrabbitmessagebusjava367 orgspringframeworkxddirtintegrationrabbitrabbitmessagebusbindconsumerrabbitmessagebusjava308 orgspringframeworkxddirtpluginsabstractmessagebusbinderpluginbindmessageconsumerabstractmessagebusbinderpluginjava183 orgspringframeworkxddirtpluginsabstractmessagebusbinderpluginbindconsumerandproducersabstractmessagebusbinderpluginjava138 orgspringframeworkxddirtpluginsstreamstreampluginpostprocessmodulestreampluginjava73 orgspringframeworkxddirtmodulemoduledeployerpostprocessmodulemoduledeployerjava238 orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava218 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 orgspringframeworkxddirtserverdeploymentlistenerdeploymoduledeploymentlistenerjava363 orgspringframeworkxddirtserverdeploymentlistenerdeploystreammoduledeploymentlistenerjava332 orgspringframeworkxddirtserverdeploymentlisteneronchildaddeddeploymentlistenerjava179 orgspringframeworkxddirtserverdeploymentlistenerchildeventdeploymentlistenerjava147 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 caused by javalangillegalargumentexception interface orgspringframeworkamqprabbitlistenersimplemessagelistenercontainercontainerdelegate is not visible from class loader javalangreflectproxyproxyclassfactoryapplyproxyjava616 javalangreflectproxyproxyclassfactoryapplyproxyjava592 javalangreflectweakcachefactorygetweakcachejava244 javalangreflectweakcachegetweakcachejava141 javalangreflectproxygetproxyclass0proxyjava455 javalangreflectproxynewproxyinstanceproxyjava738 orgspringframeworkaopframeworkjdkdynamicaopproxygetproxyjdkdynamicaopproxyjava121 orgspringframeworkaopframeworkjdkdynamicaopproxygetproxyjdkdynamicaopproxyjava111 orgspringframeworkaopframeworkproxyfactorygetproxyproxyfactoryjava96 orgspringframeworkamqprabbitlistenersimplemessagelistenercontainerinitializeproxysimplemessagelistenercontainerjava586 orgspringframeworkamqprabbitlistenersimplemessagelistenercontainerdoinitializesimplemessagelistenercontainerjava612 orgspringframeworkamqprabbitlistenerabstractmessagelistenercontainerinitializeabstractmessagelistenercontainerjava424 28 more noformat,0
not possible to create a rabbitmq to rabbitmq stream we get the following error when trying a rabbit to rabbit stream definition as shown in the error code stream test warn failure during end to end test orgspringframeworkxdrestclientimplspringxdexception xd143epos 141 label rabbit should be unique but module rabbit at position 0 and module rabbit at position 1 both use it rabbit --queuescxablknzdhvpotpo-source --addresses108530129 --usernamebef4412739e7d7fe929e --passwordb8ace17e56456b7753a2 --vhost rabbit --exchangecxablknzdhvpotpo-sink --addresses108530129 --usernamebef4412739e7d7fe929e --passwordb8ace17e56456b7753a2 --vhost code,0
springrabbitmqaddresses environment variable is ignored when trying to configure xd to use a rabbitmq instance other than the default localhost5672 a user is supposedto updated the springrabbitmqaddresses environment variable or the springrabbitmqaddresses setting in the serversyml file in this case xd is ignoring this environment variable h3 steps to reproduce set the transport by using export xdtransportrabbit set the springrabbitmqaddresses by export springrabbitmqaddressesfoo5672 startup a admin container on your local machine deploy ticktock this should fail start up a local rabbitmq deploy a new ticktock and stream will deploy,0
create assertion to get count of messages processed by a specific module in a stream the modules are exposed via jmx and in turn exposed over http via jolokia see httpsjiraspringsourceorgbrowsexd-343 this issue is to develop a helper method that given a stream id andor module name assert that the number of messages processed after sending stimulus messages is as expected eg int originalcount getcountteststream file do stuff that generates 100 messages assertcountteststream file 100 originalcount for now we can assume we know the location of where the modules are located by assuming we have only one container deployed,0
xd is not logging when deployed using yarn when deploying xd admin container using yarn we only get the first 495 characters of the log which is the ascii art and documentation links noformat - -- v -- 110build-snapshot extreme data started containerserverapplication documentation httpsgithubcomspring-projectsspring-xdwiki noformat,0
xd cluster view improve hover over capabilities please see the discussion here httpsgithubcomspring-projectsspring-xdpull1183issuecomment-55917701,0
custom job with rabbitmq dependencies hi ive develop a custom job which have to publish message on rabbitmq when its finished to develop this module iveto include this libraries comrabbitmqamqp-clientjar orgspringframeworkamqpspring-rabbitjar orgspringframeworkamqpspring-amqpjar my job use this writer orgspringframeworkbatchitemamqpamqpitemwriter ive this error log noformat supportdefaultamqpheadermapper - skipping header amqpdeliverymode since it is not of expected type class orgspringframeworkamqpcoremessagedeliverymode it is class orgspringframeworkamqpcoremessagedeliverymode noformat this is typically due to a library loaded several times what is the solution to resolve this id like to use the same libraries has rabbitmq sourcesink or the transport bus does module classloader isolated from others thanks mickal,0
change springsource references in pomxml to springspringio this is currently in the m6 pom organization namespringsourcename urlhttpspringsourceorgurl organization,0
hdfstest picks up data from a previous run if a stream foo has messages in its queue when it is destroyed and another stream named foo is created of similar structure those messages will be delivered to sink this is seen when twitterstream runs prior to hdfssink test the twitters stream data is written to hdfs instead of the trigger data that was intended the solution is to give hdfstest its own unique name instead of the default ec2test3 name,0
more dsl work documentation updates for new format once issues like xd-438 have been completed the wiki doc will need updates to reflect the current behaviour and syntax options,0
as a developer id like to split up spring-xd dependencies to more fine-grained so i can get the ones below the line down to spring-bus- instead of spring-xd- bundle,5
tab support inconsistent for http post when doing xd http post and press the tab key one should get a list of available options right now nothing happens i have to press -- and then tab to get the options interestingly this works for stream create tab key,0
harmonize rest features between deployment profiles as an s-c-d user id like to take advantage of admin running on variety of platforms such as lattice yarn or cf id like to access rest apis consistently across these platforms,0
modify acceptance tests to give a pause time for deployment different than default kafka deployments take nearly 4 times as long as other transports because of the creation of the topic an partitions currently all test use the same wait time whether it is for waiting for connections or file writes so to get a ci build for kafka build would take a long period of time the goal of the story is to allow deployments to have a different pausetime to give kafka bus the extra time it needs but not affect the timeout for other stages of the tests,0
update spring-amqp to 36 rabbitmq client to 154 update to amqp-client 360 and spring-amqp 154,0
as a user i want spring xds message bus to be able to pre-allocate partitions between nodes when a stream is deployed so that rebalancing doesnt happen when a container crashes andor its redeployed,5
identify scenario where xd jdbc based jobs fail to connect to db during an integration test over the weekend the cluster based tests failed they showed that a job was left in an inconsistent state incomplete and other jdbc job tests failed because they could not connect to the database,0
create tests for streamjob deployments path data verification based on the discussion here httpsgithubcomspring-projectsspring-xdpull852issuecomment-43356579 we would like to have tests created for verifying the streamjob deployments path data,0
user should be able to provide job deployment properties at the job definitions page user should be able to provide the job deployment manifest module count criteria etc,0
uploaded custom module requires restart to get in effect when a custom module is uploaded to module registry though the module registry is updated with the changed module after deleting the existing one the module changes arent loaded when deployed,0
cors issue when trying to use http in singlenode when im trying to send a json object to spring-xd i get the following error even though i opened up requests to allow all xmlhttprequest cannot load httplocalhost9000 no access-control-allow-origin header is present on the requested resource origin httplocalhost3000 is therefore not allowed access config spring profiles singlenode xd transport local ui alloworigin,0
exception consistency favor using custom exceptions instead of using assertnotnull review usage and make changes eg if a stream cant be found or another definition a xyznotfoundexception instead of assertnull on the return value of a findone method,0
show visual representation of stream in admin ui,0
job undeploy operation throws exception job undeploy operation throws the following stacktrace http-nio-9393-exec-5 zookeeperzookeeperjobrepository - exception while transitioning job j state to undeploying orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsjobsjstatus orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava111 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 orgapachezookeeperzookeepersetdatazookeeperjava1266 orgapachecuratorframeworkimpssetdatabuilderimpl4callsetdatabuilderimpljava260 orgapachecuratorframeworkimpssetdatabuilderimpl4callsetdatabuilderimpljava256 orgapachecuratorretryloopcallwithretryretryloopjava107 orgapachecuratorframeworkimpssetdatabuilderimplpathinforegroundsetdatabuilderimpljava252 orgapachecuratorframeworkimpssetdatabuilderimplforpathsetdatabuilderimpljava239 orgapachecuratorframeworkimpssetdatabuilderimplforpathsetdatabuilderimpljava39 orgspringframeworkxddirtstreamzookeeperzookeeperjobrepositorydeletezookeeperjobrepositoryjava177 orgspringframeworkxddirtstreamzookeeperzookeeperjobrepositorydeletezookeeperjobrepositoryjava199 orgspringframeworkxddirtstreamzookeeperzookeeperjobrepositorydeletezookeeperjobrepositoryjava1 orgspringframeworkxddirtstreamabstractinstancepersistingdeployerundeployabstractinstancepersistingdeployerjava68 orgspringframeworkxddirtrestxdcontrollerundeployxdcontrollerjava125 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43,0
upgrade to spring batch 300 m3,0
documentation for http hdfs processing put on the guide as a section in an input-stream wiki page,0
rest api for job management spring batch admin provides a complete but outdated implementation style which covers the full administrative lifecycle of batch jobs their creation stopstart and retrieving information about previous job executions and the status of currently executing job executions springxd has a different way of deploying starting and stopping jobs - by sending messages to containers that run the batch job however the reporting state of a job is still stored in a common job repository the purpose of this story is to take the first step to merging in the existing code base that focuses only on the retrieval of information from spring batch admins job controller the current rest api style of these commands should stay as close to the original spring batch admin style as possible there are several reasons for this 1 it works and time to springone is short and we mgmt has expectations around deliverables that we must strive to meet 2 it gives andrew a working contract to start developing a ui 3 we can take on this technical debt but refactor after rc1 and before ga while and deliver end-user functionality attached is the list of endpoints in spring batch admin,0
update httpsgithubcomspring-projectsspring-xdwikimodules need to update the modules page and any other that describes top level xml files also describe alternate module implementations xd-713 xd-1805 xd-2100,0
batch basic fails to launch job when rabbit is data transport deployed the batch basic as instructions prescribe tests work for both singlenode and redis as a data transport however while the job does deploy using rabbit it does not launch,0
gemfire-json-server multiple pdxtypes types i am using springxd to ingest tweets to a gemfire-json-server sink i am running into an issue where the json documents get defined as a pdx type twice see the reweetcount field below this causes problems later when using oql to access this data incompatible types what are the recommended ways to resolve this the field type should account for the largest possible value which is unknown because it is twitter this would likely be a int or long i was asked to log this as a sxd jira issue but i am not sure if the problem is in sxd or gemfire info 20150425 065128767 cst twittersource-1-1 tid0x53 defining pdxtype dsid0typenum1 namegemfirejson fields idstring0idx0relativeoffset0idx1vlfoffsetindex-1 fromuserstring11idx0relativeoffset0idx1vlfoffsetindex1 createdatstring22idx0relativeoffset0idx1vlfoffsetindex2 textstring33idx0relativeoffset0idx1vlfoffsetindex3 languagecodestring44idx0relativeoffset0idx1vlfoffsetindex4 retweetcountshort54idx0relativeoffset-3idx1vlfoffsetindex-1 retweetboolean64idx0relativeoffset-1idx1vlfoffsetindex-1 info 20150425 065129307 cst twittersource-1-1 tid0x53 defining pdxtype dsid0typenum2 namegemfirejson fields idstring0idx0relativeoffset0idx1vlfoffsetindex-1 fromuserstring11idx0relativeoffset0idx1vlfoffsetindex1 createdatstring22idx0relativeoffset0idx1vlfoffsetindex2 textstring33idx0relativeoffset0idx1vlfoffsetindex3 languagecodestring44idx0relativeoffset0idx1vlfoffsetindex4 retweetcountbyte54idx0relativeoffset-2idx1vlfoffsetindex-1 retweetboolean64idx0relativeoffset-1idx1vlfoffsetindex-1,0
provide tab completion for deployment manifest properties,0
as a spring xd user id like to make spi implementation profile aware so i can run java -jar admin or cf push admin or ltc create admin and the corresponding implementation gets wired-in automatically,3
automate execution of gradle pushgenerateddocs should be part of the daily build one easy way to do it would be to use the hardcoded authentication scheme as described here bamboo should mask a property whose name contains password we may want to create a dedicated github user though,0
update to spring shell 10 rc4,0
update jobs section to use shell,0
scs - split kryo implementation to spring-cloud-streams-codec-kryo,0
the ability to route within streams a flow or a processor component may require routing semantics currently the stream assumes a single input and output for each module a flow may support multiple outputs - switch routing that is - recipient list is not currently supported another subtask we need to support semantics like a outputfoocoutputbarddefaulte,0
ensure package-infojava is present for each package we should ensure that each package of spring xd is documented right now the created javadoc looks barren httpstaticspringsourceorgspring-xddocs100m1api,0
modules that use tomcat connection pool need to expose configurations filejdbc hdfsjdbc jdbchdfs jdbc modules each support a tomcat connection pool at this time none of the configurations allowed by the tomcat connection pool are available unless the user adds them to the appropriate module xml file we need to allow the user to configure them via yml property file and environment variables,0
illegalstateexception when shutting down container noformat 132357643 info main-eventthread servercontainerregistrar - undeploying module moduledescriptor1c736092 modulename log modulelabel log group paymenttap sourcechannelname tapjobpayment sinkchannelname null sinkchannelname null index 0 type sink parameters mapempty children listempty 132357643 error main-eventthread impscuratorframeworkimpl - watcher exception javalangillegalstateexception instance must be started before calling this method at comgooglecommonbasepreconditionscheckstatepreconditionsjava176 at orgapachecuratorframeworkimpscuratorframeworkimpldeletecuratorframeworkimpljava344 at orgspringframeworkxddirtservercontainerregistrarunregistertapcontainerregistrarjava292 at orgspringframeworkxddirtservercontainerregistrarundeploymodulecontainerregistrarjava257 at orgspringframeworkxddirtservercontainerregistrarstreammodulewatcherprocesscontainerregistrarjava711 at orgapachecuratorframeworkimpsnamespacewatcherprocessnamespacewatcherjava67 at orgapachezookeeperclientcnxneventthreadprocesseventclientcnxnjava522 at orgapachezookeeperclientcnxneventthreadrunclientcnxnjava498 noformat sequence of events stream module zk path is removed event is raised zk connection is closed event handler causes module undeployment which includes unregistration of tap since connection is closed exception is thrown,0
move resusable analytics repository classes to a new project the analytics project has been used as a host for common repository classes because it was easily visible by both -dirt and other stuff cant remember which this should be cleaned and a dedicated project for core utility re-usable whatever classes should be created,0
install xd container on ec2 update the deployer class to add the following methods runninginstance deploycontainer for each of the containers using xd-977 install distribution setup xdhome variable create configurator directory copy the configurator to containers run configurators verify that configuration files are setup correctly start container server report if container started using jmxjolokia if available if it didnt start report failure but continue report public dns name of container integration testing verify that config files have been setup properly for each container verify container has been started verify that container is working by creating a stream in admin triggerlog verify that the log on the container is being updated,0
admin servers should write streams to and delete them from zookeeper this should also enable removal of any streamdefinitionrepository code the state should be written as a data node at the stream level eg xdstreamsmystream state for now we at least need to support the boolean --deploytruefalse flag if that is true then the leader admin will deploy the modules of the stream across available containers xd-1399,0
create a xd job definition when posting the dsl to create a spring batch job eg trigger jobxml --option1foo it should be stored in redis so that a listing of xd job definitions can be retrieved,0
provide a clean way to get a reference to the messagebus running in singlenodeapplication currently the message bus is only obtained via modulegetcomponentmessagebusclass stream testing scenarios that depend on sending and receiving payloads via named channels do not require a deployed module instance per se but any stream flow control uses the messagebus directly getting a deployed module instance in general is expensive eg you have to wait for the module to deploy asynchronously whereas the messagebus implementation could be known a priori when the application starts an improvement would be to ask the container for its messagebus,0
prevent deploying modules of same type on a given streamjob when new leadership election happens when the leadership election happens the new deployment supervisors container listener tries to deploy unallocated modules via arrivingcontainermoduleredeployer into existing container that has the modules of the same type on a given streamjob already deployed currently on a given streamjob we dont allow more than one deployment of the same module type and there by avoiding any conflicting properties for the given module type,0
consolidate trigger sources into a single source currently we have 2 trigger sources trigger cron-trigger the preference is to have a user to just use a single trigger source for example trigger myjob trigger --cron myjob trigger --fixeddelay myjob one option to handle this is to use spel to reference a bean and then have different trigger beans defined ie triggercrontriggerbean each trigger bean would setup the channel with the correct poller,0
add more hands on example to mqtt doco not everyone may be familiar with mqtt or esp with mqtt inside rabbit,0
upgrade to gradle 22 looks like upgrade to gradle 22 is not a simple version change eg i see code failure build failed with an exception where build file usershillertdevgitspring-xdbuildgradle line 219 what went wrong a problem occurred evaluating root project spring-xd could not find method forcedependencyversions for arguments project documentation-toolchain on root project spring-xd code,0
create rest api for stopping all job executions adopted functionality from spring batch admin should include springmvc test framework style tests delete batchjobsexecutions - stop all job executions,0
as a developer id like to remove the hardcoded buildpack reference since the latest 162 er release includes all the features required by data flow,1
add authentication information to twittersearch source doc since the changes for xd-202 twittersearch requires authentication need to update the docs to reflect this,0
support groups container attribute a container instance may be designated as belonging to a group the end user may define this attribute using yaml config as xdcontainergroupscomma delimited string or an environment variable or --groups command line argument,0
implement an xd module type that integrates with spark streaming reactor etc,0
metric repositories should support spring data crudrepository interface this provides common crud behavior and a shared interface that can be useful in testing scenarios,0
create ootb batch job that uses the hadoop shell to copy multiple files from hdfs to a local directory this is the inverse of xd-986 and will require creating a custom tasklet but with the inputoutput reversd,0
support for configuration based module definitions,0
dependendcies for hadoop distros are broken we used to have distro specific jars i the libdistro directory that is no longer working and all distros seem to contain mostly the same version hadoop 220 dependencies this is the list for phd1 now avro-175jar hadoop-annotations-220jar hadoop-auth-220jar hadoop-client-205-alpha-gphd-2100jar hadoop-common-220jar hadoop-distcp-220jar hadoop-hdfs-220jar hadoop-mapreduce-client-app-220jar hadoop-mapreduce-client-common-220jar hadoop-mapreduce-client-core-220jar hadoop-mapreduce-client-jobclient-220jar hadoop-mapreduce-client-shuffle-220jar hadoop-streaming-220jar hadoop-yarn-api-220jar hadoop-yarn-client-220jar hadoop-yarn-common-220jar hadoop-yarn-server-common-220jar hadoop-yarn-server-nodemanager-220jar jersey-core-19jar jersey-server-19jar jetty-util-6126jar protobuf-java-250jar spring-data-hadoop-201releasejar spring-data-hadoop-batch-201releasejar spring-data-hadoop-core-201releasejar spring-data-hadoop-store-201releasejar,0
create integration test script for jms mqtt create a script to sanity check jms and mqtt,0
as a s-c-s user id like to have gemfire message-channel binder so i can use gemfire as the messaging middleware for low latency use-cases,5
kafka message bus maxwait property is not set up the maxwait property from serveryml in the message bus section for kafka is not propagated through the code it is ignored,0
update jclouds to 18 have to update the code because of deprecation and to get ready for 20,0
colocate modules using labels ie http group1 filter group1 transform file then specifying anything labelled group1 goes to machinex,0
merge moduletype and moduletype also likely rename remove or replace that module maybe can be supplanted by moduledescriptor when used in the refactored parser also considering the url property is not necessary vestige of the prototype all wed be left with here is the module name and type which are used to identify a module uniquely therefore this module could be renamed to modulekey or something it could be used within the streamdefinition itself eg getdescriptormodulekey,0
inject moduledefinitionrepository into modulescontroller currently modulescontroller creates the moduledefinitionrepository instance with moduleregistry instead we should inject the moduledefinitionrepository into modulescontroller directly,0
documentation that points on how to install hadoop pointers to other documentation on how to install hadoop,0
remove all deprecated compile warnings run a clean gradle build to identify all warnings,0
add unregistration support to the channel registry,0
add aggregate counter year resolution query support,0
create sample application for rxjava create port of httpsgithubcomspring-projectsspring-xd-samplestreemasterreactor-moving-average based on rxjava,0
xd shell support for accessing ha namenode we need a convenient way for the shell to access a ha namenode,0
as a user id like to have a shell command so that i can point to the custom-built module archive and push it to the runtime for immediate usage,3
as a s-c-d developer id like to add support to deploy yarn app into hdfs automatically so i can have the xd-admin orchestrate overall deployment by leveraging the manifest to deploy where and with what assets,3
support deploying to multiple containers in ec2 acceptance tests need the ability to support the --group option,0
create directory structures and move existing ui code into spring xd repository create a directory structure that best benefits ui development the copying of the ui files and other gradle build tasks so that the ui can be run inside the embedded servlet container of xd will be a seperate story,0
add acceptance tests for fieldvaluecounts and aggregatecounts to enrich acceptance tests id like to have test coverage to evaluate fieldvaluecounts and aggregatecounts for a given scenario,0
as a pm id like to have the smart grid demo from s1-2014 ported into spring xd samples repo,5
as a s-c-s developer id like to adapt redis counter from xd to s-c-s so i can build streaming pipes using s-c-s modules with simple counters to feed dashboards,3
integration tests for xd installer,0
modify module metadata to exclude default module properties when the runtime modules command displays the the modules metadata properties we can exclude the default module properties such as xdstreamname xdmoduleindex and show only the other properties such as resolved module options etc,0
composing modules ignores outputinput type specified in definition when composing two or more modules together if any output or input type is specified between modules it is ignored i created a stream with definition code mysourcemodule --outputtypeapplicationjson myprocessormodule code that worked fine as expected when i composed this definition as a composed module i got errors stating that the processors message handler had no handler method for the object the source module emitted the process was only configured to accept json as string i simply had to create a second handler method but if i didnt own the module this could be an issue,0
document queue channel capacity configurable when using local transport,0
use external connection factory in tcp syslog source warn log emitted because the embedded connection factory does not get an application event publisher will be fixed in si m3 int-3107,0
eliminate stack trace on xd-container shutdown when active module running after deploying stream such as time log the xd-container emits the following stacktraces if the stream is in a deployed state when that xd-container process is halted via ctrl-c code 201531415 info main-eventthread modulemoduledeployer215 - removed simplemodule namelog typesink groups index1 128936ff 201531417 error main-eventthread impscuratorframeworkimpl512 - watcher exception javalangillegalstateexception orgspringframeworkcontextannotationannotationconfigapplicationcontext7bf4bc83 has been closed already orgspringframeworkcontextsupportabstractapplicationcontextassertbeanfactoryactiveabstractapplicationcontextjava956 orgspringframeworkcontextsupportabstractapplicationcontextgetbeanabstractapplicationcontextjava978 orgspringframeworkxdmodulecoresimplemodulegetcomponentsimplemodulejava214 orgspringframeworkxddirtpluginsabstractmessagebusbinderpluginunbindconsumerandproducersabstractmessagebusbinderpluginjava140 orgspringframeworkxddirtpluginsstreamstreampluginbeforeshutdownstreampluginjava74 orgspringframeworkxddirtmodulemoduledeployerbeforeshutdownmoduledeployerjava267 orgspringframeworkxddirtmodulemoduledeployerdestroymodulemoduledeployerjava217 orgspringframeworkxddirtmodulemoduledeployerhandleundeploymoduledeployerjava197 orgspringframeworkxddirtmodulemoduledeployerundeploymoduledeployerjava169 orgspringframeworkxddirtservercontainerregistrarundeploymodulecontainerregistrarjava252 orgspringframeworkxddirtservercontainerregistrarstreammodulewatcherprocesscontainerregistrarjava580 orgapachecuratorframeworkimpsnamespacewatcherprocessnamespacewatcherjava56 orgapachezookeeperclientcnxneventthreadprocesseventclientcnxnjava522 orgapachezookeeperclientcnxneventthreadrunclientcnxnjava498 201531420 info main-eventthread servercontainerregistrar250 - undeploying module time-0 time typesource deploymentpropertiescount1 201531420 info main-eventthread modulemoduledeployer215 - removed simplemodule nametime typesource groups index0 51a42578 201531420 error main-eventthread impscuratorframeworkimpl512 - watcher exception javalangillegalstateexception orgspringframeworkcontextannotationannotationconfigapplicationcontext6d223732 has been closed already orgspringframeworkcontextsupportabstractapplicationcontextassertbeanfactoryactiveabstractapplicationcontextjava956 orgspringframeworkcontextsupportabstractapplicationcontextgetbeanabstractapplicationcontextjava978 orgspringframeworkxdmodulecoresimplemodulegetcomponentsimplemodulejava214 orgspringframeworkxddirtpluginsabstractmessagebusbinderpluginunbindconsumerandproducersabstractmessagebusbinderpluginjava144 orgspringframeworkxddirtpluginsstreamstreampluginbeforeshutdownstreampluginjava74 orgspringframeworkxddirtmodulemoduledeployerbeforeshutdownmoduledeployerjava267 orgspringframeworkxddirtmodulemoduledeployerdestroymodulemoduledeployerjava217 orgspringframeworkxddirtmodulemoduledeployerhandleundeploymoduledeployerjava197 orgspringframeworkxddirtmodulemoduledeployerundeploymoduledeployerjava169 orgspringframeworkxddirtservercontainerregistrarundeploymodulecontainerregistrarjava252 orgspringframeworkxddirtservercontainerregistrarstreammodulewatcherprocesscontainerregistrarjava580 orgapachecuratorframeworkimpsnamespacewatcherprocessnamespacewatcherjava56 orgapachezookeeperclientcnxneventthreadprocesseventclientcnxnjava522 orgapachezookeeperclientcnxneventthreadrunclientcnxnjava498 code,0
rest make the configurations rest endpoint pagination-aware add pagination for httplocalhost9393jobsconfigurations related to xd-1864,0
allow local data transport option for the container currently local is not a supported data transport for the container it should be an option note that local is not valid for control transport for a standalone container so we need to revisit the current semantics that default the control transport to be the same as the data transport ie --transportlocal should fail,0
composed modules not working on yarn from httpsgithubcomspring-projectsspring-xdissues1704 i am trying to use composed modules when running on yarn in zk each child module definition of the composed module gets serialized as follows classorgspringframeworkxdmodulesimplemoduledefinitionnametransformtypeprocessorlocationfiletmphadoop-hdusernm-local-dirusercachehduserappcacheapplication14337891372180001filecache17spring-xd-yarn-112releasezipmodulesprocessortransform when i try to use the composed module on yarn it may be deployed to a different container where the location file path is not valid in this case i get the following exception javalangillegalargumentexception file must exist orgspringframeworkbootloaderdatarandomaccessdatafileinitrandomaccessdatafilejava67 orgspringframeworkbootloaderdatarandomaccessdatafileinitrandomaccessdatafilejava51 orgspringframeworkbootloaderjarjarfileinitjarfilejava95 orgspringframeworkbootloaderarchivejarfilearchiveinitjarfilearchivejava61 orgspringframeworkbootloaderarchivejarfilearchiveinitjarfilearchivejava57 orgspringframeworkxdmodulesupportmoduleutilscreatemoduleclassloadermoduleutilsjava54 orgspringframeworkxdmodulesupportmoduleutilscreatemoduleclassloadermoduleutilsjava47 orgspringframeworkxdmoduleoptionsdefaultmoduleoptionsmetadataresolverresolvenormalmetadatadefaultmoduleoptionsmetadataresolverjava186 orgspringframeworkxdmoduleoptionsdefaultmoduleoptionsmetadataresolverresolvedefaultmoduleoptionsmetadataresolverjava164 orgspringframeworkxdmoduleoptionsdelegatingmoduleoptionsmetadataresolverresolvedelegatingmoduleoptionsmetadataresolverjava44 orgspringframeworkxdmoduleoptionsenvironmentawaremoduleoptionsmetadataresolverresolveenvironmentawaremoduleoptionsmetadataresolverjava127 orgspringframeworkxdmoduleoptionsdefaultmoduleoptionsmetadataresolverresolvecomposedmodulemetadatadefaultmoduleoptionsmetadataresolverjava175 orgspringframeworkxdmoduleoptionsdefaultmoduleoptionsmetadataresolverresolvedefaultmoduleoptionsmetadataresolverjava167 orgspringframeworkxdmoduleoptionsdelegatingmoduleoptionsmetadataresolverresolvedelegatingmoduleoptionsmetadataresolverjava44 orgspringframeworkxdmoduleoptionsenvironmentawaremoduleoptionsmetadataresolverresolveenvironmentawaremoduleoptionsmetadataresolverjava127 orgspringframeworkxddirtstreamxdstreamparserparsexdstreamparserjava174 i think the issue may be related to the following line in archivemoduleregistry string filename resourcegetfilegetcanonicalfilegetname,0
weird behavior of the transform module when trying some of the examples of xd-159 came up with weird behavior of the transform module this boils down to noformat stream create foo --definition http transform --expressionnew javalangintegerpayload transform --expressionpayloadgetclass log http post --data 42 integer ok http post --data wth wth noformat seems that when the expression can not be evaluated the incoming payload is transmitted as is,0
add a tcp-client source module add a module that can act as a tcp client as opposed to our current tcp module which acts as a server waiting for an incoming connection also the module should allow to send commands to the remote server the typical minimal case for such a protocol is to send ping messages but a stateful mechanism should be put in place for more complex cases,0
as a developer id like to add undeployed status for cf spi so i can represent the correct status instead of the current unknown state,3
investigate classloading leakage using the gemfire module as an example there is currently at least two sources of leakage retaining classes that are loaded by the module classloader and hence everything from there one of them is because of jmx monitoring another one im not sure about but here is a screenshot,0
nonode exception in springxd admin sorry to set it blocker but the problem makes springxd unusable we are getting this weird nonode exception on the status znode example and log given below once this happens both streams and jobs cannot be deployed for whatever reason the status znode goes missing the only way for us to get the cluster back to working state is to clear the zk znode xd tree and restart spring-xd at which point we have to recreate all our streams and jobs back again xddeploymentsstreamstestcreatestreamsrchttpsinkfile1413234903170status nonode exception 13 oct 2014 141616044 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsstreamstestdestroystream1413234903170 type childremoved 13 oct 2014 141616705 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsstreamstestliststreams1413234903170 type childadded 13 oct 2014 141622818 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsstreamstestliststreams1413234903170 type childremoved 13 oct 2014 141623585 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsstreamsteststreamsrchttptimeseriessink1413234903170 type childadded 13 oct 2014 141637694 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsjobsfiletsjob-newjob001 type childadded 13 oct 2014 141649950 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsstreamsteststreamsrchttptimeseriessink1413234903170 type childremoved 13 oct 2014 141654490 info deployer serverstreamdeploymentlistener - deployment status for stream testcreatestreamsrchttpsinkfile1413234903170 deploymentstatusstatefailederrorsdeployment of module moduledeploymentkeystreamtestcreatestreamsrchttpsinkfile1413234903170 typesink labelfile to container d03bccd6-524b-4ff8-84d2-88f3f6daac42 timed out after 30000 ms deployment of module moduledeploymentkeystreamtestcreatestreamsrchttpsinkfile1413234903170 typesource labelhttp to container 52abf1c8-ba45-4994-8324-6079b03c670c timed out after 30000 ms 13 oct 2014 141654493 error deployer serverinitialdeploymentlistener - exception caught while handling event orgspringframeworkxddirtzookeeperzookeeperaccessexception keepererrorcode nonode for xddeploymentsstreamstestcreatestreamsrchttpsinkfile1413234903170status at orgspringframeworkxddirtzookeeperzookeeperutilswrapthrowablezookeeperutilsjava111 at orgspringframeworkxddirtzookeeperzookeeperutilswrapthrowablezookeeperutilsjava95 at orgspringframeworkxddirtserverstreamdeploymentlistenerdeploystreamstreamdeploymentlistenerjava185 at orgspringframeworkxddirtserverstreamdeploymentlisteneronchildaddedstreamdeploymentlistenerjava100 at orgspringframeworkxddirtserverinitialdeploymentlistenereventhandlercallinitialdeploymentlistenerjava217 at orgspringframeworkxddirtserverinitialdeploymentlistenereventhandlercallinitialdeploymentlistenerjava186 at javautilconcurrentfuturetaskrunfuturetaskjava262 at javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 at javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 at javalangthreadrunthreadjava744 caused by orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsstreamstestcreatestreamsrchttpsinkfile1413234903170status at orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava111 at orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 at orgapachezookeeperzookeepersetdatazookeeperjava1270 at orgapachecuratorframeworkimpssetdatabuilderimpl4callsetdatabuilderimpljava274 at orgapachecuratorframeworkimpssetdatabuilderimpl4callsetdatabuilderimpljava270 at orgapachecuratorretryloopcallwithretryretryloopjava107 at orgapachecuratorframeworkimpssetdatabuilderimplpathinforegroundsetdatabuilderimpljava266 at orgapachecuratorframeworkimpssetdatabuilderimplforpathsetdatabuilderimpljava253 at orgapachecuratorframeworkimpssetdatabuilderimplforpathsetdatabuilderimpljava41 at orgspringframeworkxddirtserverstreamdeploymentlistenerdeploystreamstreamdeploymentlistenerjava179 7 more 13 oct 2014 141656251 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsjobsfiletsjob-newjob001 type childremoved 13 oct 2014 141708179 info deployer serverjobdeploymentlistener - deployment status for job filetsjob-newjob001 deploymentstatusstatefailederrorsdeployment of module moduledeploymentkeystreamfiletsjob-newjob001 typejob labelfilepolltimeseries to container 244d5076-f69d-42a4-8110-3b046cea2667 timed out after 30000 ms 13 oct 2014 141708181 error deployer serverinitialdeploymentlistener - exception caught while handling event orgspringframeworkxddirtzookeeperzookeeperaccessexception keepererrorcode nonode for xddeploymentsjobsfiletsjob-newjob001status at orgspringframeworkxddirtzookeeperzookeeperutilswrapthrowablezookeeperutilsjava111 at orgspringframeworkxddirtzookeeperzookeeperutilswrapthrowablezookeeperutilsjava95 at orgspringframeworkxddirtserverjobdeploymentlistenerdeployjobjobdeploymentlistenerjava175 at orgspringframeworkxddirtserverjobdeploymentlisteneronchildaddedjobdeploymentlistenerjava99 at orgspringframeworkxddirtserverinitialdeploymentlistenereventhandlercallinitialdeploymentlistenerjava217 at orgspringframeworkxddirtserverinitialdeploymentlistenereventhandlercallinitialdeploymentlistenerjava186 at javautilconcurrentfuturetaskrunfuturetaskjava262 at javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 at javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 at javalangthreadrunthreadjava744 caused by orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsjobsfiletsjob-newjob001status at orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava111 at orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 at orgapachezookeeperzookeepersetdatazookeeperjava1270 at orgapachecuratorframeworkimpssetdatabuilderimpl4callsetdatabuilderimpljava274 at orgapachecuratorframeworkimpssetdatabuilderimpl4callsetdatabuilderimpljava270 at orgapachecuratorretryloopcallwithretryretryloopjava107 at orgapachecuratorframeworkimpssetdatabuilderimplpathinforegroundsetdatabuilderimpljava266 at orgapachecuratorframeworkimpssetdatabuilderimplforpathsetdatabuilderimpljava253 at orgapachecuratorframeworkimpssetdatabuilderimplforpathsetdatabuilderimpljava41 at orgspringframeworkxddirtserverjobdeploymentlistenerdeployjobjobdeploymentlistenerjava165 7 more 13 oct 2014 141710553 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsjobsfiletsjob-newjob001 type childadded,0
vary consumers size ecb-4 using a single producer message size of 1000 bytes pretch of 100 send 1m messages and increase or decrease so that a given test iteration takes about 2 minutes vary the number of consumers measure the msgsec rate and calculate the data transfer rate in mbsec number of consumers 1 2 4 6 10 50 during the measurements look at the rabbitmq admin ui and see if the queue is backing up,0
using hdfs for custom module home doesnt work with kerberized hadoop cluster i tried setting the xdcustommodulehome property to point to a kerberized hadoop cluster with all usual security config settings provided it failed with the following exception code orgspringframeworkbeansfactorybeancreationexception error creating bean with name moduleregistry defined in class path resource meta-infspring-xdinternalrepositoriesxml cannot create inner bean orgspringframeworkxddirtmodulecustommoduleregistryfactorybean19f459aa of type orgspringframeworkxddirtmodulecustommoduleregistryfactorybean while setting constructor argument with key 1 nested exception is orgspringframeworkbeansfactorybeancreationexception error creating bean with name orgspringframeworkxddirtmodulecustommoduleregistryfactorybean19f459aa defined in class path resource meta-infspring-xdinternalrepositoriesxml invocation of init method failed nested exception is orgapachehadoopsecurityaccesscontrolexception simple authentication is not enabled availabletoken kerberos orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolveinnerbeanbeandefinitionvalueresolverjava313 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvevalueifnecessarybeandefinitionvalueresolverjava122 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvemanagedlistbeandefinitionvalueresolverjava382 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvevalueifnecessarybeandefinitionvalueresolverjava157 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportconstructorresolverresolveconstructorargumentsconstructorresolverjava648 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportconstructorresolverautowireconstructorconstructorresolverjava140 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryautowireconstructorabstractautowirecapablebeanfactoryjava1139 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeaninstanceabstractautowirecapablebeanfactoryjava1042 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava504 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava476 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava303 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava230 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava299 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava194 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava755 spring-beans-416releasejar416release orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava757 spring-context-416releasejar416release orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava480 spring-context-416releasejar416release orgspringframeworkbootspringapplicationrefreshspringapplicationjava686 spring-boot-123releasejar123release orgspringframeworkbootspringapplicationrunspringapplicationjava320 spring-boot-123releasejar123release orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 spring-boot-123releasejar123release orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava129 spring-boot-123releasejar123release orgspringframeworkxddirtserveradminadminserverapplicationrunadminserverapplicationjava95 spring-xd-dirt-120build-snapshotjar120build-snapshot orgspringframeworkxddirtserveradminadminserverapplicationmainadminserverapplicationjava79 spring-xd-dirt-120build-snapshotjar120build-snapshot caused by orgspringframeworkbeansfactorybeancreationexception error creating bean with name orgspringframeworkxddirtmodulecustommoduleregistryfactorybean19f459aa defined in class path resource meta-infspring-xdinternalrepositoriesxml invocation of init method failed nested exception is orgapachehadoopsecurityaccesscontrolexception simple authentication is not enabled availabletoken kerberos orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1574 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava539 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava476 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolveinnerbeanbeandefinitionvalueresolverjava299 spring-beans-416releasejar416release 22 common frames omitted caused by orgapachehadoopsecurityaccesscontrolexception simple authentication is not enabled availabletoken kerberos sunreflectnativeconstructoraccessorimplnewinstance0native method na17067 sunreflectnativeconstructoraccessorimplnewinstancenativeconstructoraccessorimpljava57 na17067 sunreflectdelegatingconstructoraccessorimplnewinstancedelegatingconstructoraccessorimpljava45 na17067 javalangreflectconstructornewinstanceconstructorjava526 na17067 orgapachehadoopipcremoteexceptioninstantiateexceptionremoteexceptionjava106 hadoop-common-260jarna orgapachehadoopipcremoteexceptionunwrapremoteexceptionremoteexceptionjava73 hadoop-common-260jarna orgapachehadoophdfsdfsclientprimitivemkdirdfsclientjava2755 hadoop-hdfs-260jarna orgapachehadoophdfsdfsclientmkdirsdfsclientjava2724 hadoop-hdfs-260jarna orgapachehadoophdfsdistributedfilesystem17docalldistributedfilesystemjava870 hadoop-hdfs-260jarna orgapachehadoophdfsdistributedfilesystem17docalldistributedfilesystemjava866 hadoop-hdfs-260jarna orgapachehadoopfsfilesystemlinkresolverresolvefilesystemlinkresolverjava81 hadoop-common-260jarna orgapachehadoophdfsdistributedfilesystemmkdirsinternaldistributedfilesystemjava866 hadoop-hdfs-260jarna orgapachehadoophdfsdistributedfilesystemmkdirsdistributedfilesystemjava859 hadoop-hdfs-260jarna orgapachehadoopfsfilesystemmkdirsfilesystemjava1817 hadoop-common-260jarna orgspringframeworkxddirtmoduleextendedresourcehdfsextendedresourcemkdirsextendedresourcejava127 spring-xd-dirt-120build-snapshotjar120build-snapshot orgspringframeworkxddirtmodulewritableresourcemoduleregistryafterpropertiessetwritableresourcemoduleregistryjava123 spring-xd-dirt-120build-snapshotjar120build-snapshot orgspringframeworkxddirtmodulecustommoduleregistryfactorybeanafterpropertiessetcustommoduleregistryfactorybeanjava79 spring-xd-dirt-120build-snapshotjar120build-snapshot orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinvokeinitmethodsabstractautowirecapablebeanfactoryjava1633 spring-beans-416releasejar416release orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1570 spring-beans-416releasejar416release 25 common frames omitted caused by orgapachehadoopipcremoteexception simple authentication is not enabled availabletoken kerberos orgapachehadoopipcclientcallclientjava1468 hadoop-common-260jarna orgapachehadoopipcclientcallclientjava1399 hadoop-common-260jarna orgapachehadoopipcprotobufrpcengineinvokerinvokeprotobufrpcenginejava232 hadoop-common-260jarna comsunproxyproxy79mkdirsunknown source nana orgapachehadoophdfsprotocolpbclientnamenodeprotocoltranslatorpbmkdirsclientnamenodeprotocoltranslatorpbjava539 hadoop-hdfs-260jarna sunreflectnativemethodaccessorimplinvoke0native method na17067 sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 na17067 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 na17067 javalangreflectmethodinvokemethodjava606 na17067 orgapachehadoopioretryretryinvocationhandlerinvokemethodretryinvocationhandlerjava187 hadoop-common-260jarna orgapachehadoopioretryretryinvocationhandlerinvokeretryinvocationhandlerjava102 hadoop-common-260jarna comsunproxyproxy80mkdirsunknown source nana orgapachehadoophdfsdfsclientprimitivemkdirdfsclientjava2753 hadoop-hdfs-260jarna 37 common frames omitted 2015-06-10t144920-0400 120snap error main bootspringapplication - application startup failed code,0
create a banner page for xd shell,0
document and review rest api rest api needs to be finalized and documented for the ga release the api to be reviewed by rest experts,0
use the tuple data structure to process data in a spring batch step do not require a pojo in order to do end-to-end processing in a batch step,0
update to spring-data-hadoop 101release this might mean we should adjust our hadoopdistro options to the ones supported in the new release - hadoop12 default cdh4 hdp13 phd1 and hadoop21,0
update deployment guide to include verbose gc the deployment guide httpsgithubcomspring-projectsspring-xdwikideployment should have instructions on turning on verbose gc for production applications the gc log tends to be verbose so running it in development is not desirable however having the gc log in production is very helpful for troubleshooting slowunresponsive applications,0
tap fixture refactoring the tap fixture does not need to inherit from abstractmodulefixture replace modulename method with moduletotap the current tap syntax is tapstreamstreamnamemodulelabel and not tapstreamstreamnamemodulelabelmodulename as currently implemented by the label fixture,0
create a standard way to configure spring cloud data and stream projects,0
launching xd admin fails with zk holding existing stream data following exception is thrown when starting xd admin withe zk holding the stream data 2015-03-23 172113831 120snap error leaderselector-0 leaderleaderselector - the leader threw an exception javalangnullpointerexception at comfasterxmljacksoncorejsonfactorycreateparserjsonfactoryjava822 at comfasterxmljacksondatabindobjectreaderreadvalueobjectreaderjava896 at orgspringframeworkxddirtstreamzookeeperzookeeperstreamdefinitionrepositoryfindonezookeeperstreamdefinitionrepositoryjava157 at orgspringframeworkxddirtstreamzookeeperzookeeperstreamdefinitionrepositoryfindonezookeeperstreamdefinitionrepositoryjava56 at orgspringframeworkxddirtstreamdslstreamconfigparserlookupstreamstreamconfigparserjava654 at orgspringframeworkxddirtstreamdslchannelnoderesolvechannelnodejava144 at orgspringframeworkxddirtstreamdslsourcechannelnoderesolvesourcechannelnodejava54 at orgspringframeworkxddirtstreamdslstreamnoderesolvestreamnodejava125 at orgspringframeworkxddirtstreamdslstreamconfigparserparsestreamconfigparserjava110 at orgspringframeworkxddirtstreamxdstreamparserparsexdstreamparserjava121 at orgspringframeworkxddirtstreamstreamfactorycreatestreamstreamfactoryjava84 at orgspringframeworkxddirtserveradmindeploymentzkdeploymentloaderloadstreamdeploymentloaderjava101 at orgspringframeworkxddirtserveradmindeploymentzkdefaultdeploymentstaterecalculatorrecalculatestreamstatesdefaultdeploymentstaterecalculatorjava96 at orgspringframeworkxddirtserveradmindeploymentzkdefaultdeploymentstaterecalculatoronsupervisorelecteddefaultdeploymentstaterecalculatorjava182 at orgspringframeworkxddirtserveradmindeploymentzkdeploymentsupervisorleaderlistenertakeleadershipdeploymentsupervisorjava468 at orgapachecuratorframeworkrecipesleaderleaderselectorwrappedlistenertakeleadershipleaderselectorjava536 at orgapachecuratorframeworkrecipesleaderleaderselectordoworkleaderselectorjava398 at orgapachecuratorframeworkrecipesleaderleaderselectordoworkloopleaderselectorjava443 at orgapachecuratorframeworkrecipesleaderleaderselectoraccess100leaderselectorjava63 at orgapachecuratorframeworkrecipesleaderleaderselector2callleaderselectorjava244 at orgapachecuratorframeworkrecipesleaderleaderselector2callleaderselectorjava238 at javautilconcurrentfuturetaskrunfuturetaskjava262 at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 at javautilconcurrentfuturetaskrunfuturetaskjava262 at javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 at javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 at javalangthreadrunthreadjava745,0
the batch-hashtag-count example from spring-xd-samples is giving javalangclassnotfoundexception exception version spring xd version spring-xd-130release spring-xd-130release-yarn os version linux 2632-431292el6x8664 java version java version 17065 description the batch-hashtag-count example from spring-xd-samples ran using spring xd is failing with inline error message steps to recreate the problem 1 followed steps present in readmeasciidoc present at the git repository link given below httpsgithubcomspring-projectsspring-xd-samplestreemasterbatch-hashtag-count describe xd deployment distributed deployment type distributed - yarn on aws ec2 cloud number of xd-admins and xd-containers 1 admin and 3 containers describe other components transport redis 301 zookeeper version 3462320-2950 hadoop deployment data platform hortonworks hdp 2320-2950 rdbms mysql error message 2015-11-23 175616527 warn main orgapachehadoopmapredyarnchild exception running child javalangruntimeexception javalangclassnotfoundexception class or gspringframeworkxdexampleshadoophashtagcounttokenizermapper not found at orgapachehadoopconfconfigurationgetclassconfigurationjava2195 at orgapachehadoopmapreducetaskjobcontextimplgetmapperclassjobcontextimpljava186 at orgapachehadoopmapredmaptaskrunnewmappermaptaskjava745 at orgapachehadoopmapredmaptaskrunmaptaskjava341 at orgapachehadoopmapredyarnchild2runyarnchildjava164 at javasecurityaccesscontrollerdoprivilegednative method at javaxsecurityauthsubjectdoassubjectjava422 at orgapachehadoopsecurityusergroupinformationdoasusergroupinformationjava1657 at orgapachehadoopmapredyarnchildmainyarnchildjava158 caused by javalangclassnotfoundexception class orgspringframeworkxdexampleshadoophashtagcounttokenizermapper not found at orgapachehadoopconfconfigurationgetclassbynameconfigurationjava2101 at orgapachehadoopconfconfigurationgetclassconfigurationjava2193 8 more,0
no way to set makeunique false when creating job in ui the resulting definition starts with --makeuniquetrue even if the makeunique checkbox is unchecked i can check and uncheck the box and the --make unique parameter isnt included since the default for this parameter is true the end result is the same there doesnt seem to be a way to set --makeuniquefalse,0
as a spring xd developer id like to move splunk module from xd to s-c-s repo so i can use it as sink to build streaming pipeline,2
classloading interaction issue between messagebus and modules see discussion at httpstackoverflowcomquestions28551506spring-xd-jms-message-bus-with-jms-sink,0
exception when accessing cdh4 namenode get exception when accessing cdh4 from shell - javalangunsupportedoperationexception this is supposed to be overridden by subclasses comgoogleprotobufgeneratedmessagegetunknownfields most likely due to protobuf-java-250jar being on the main classpath now full stack trace code trisbergcarbontest spring-xd-100build-snapshotshellbinxd-shell --hadoopdistro cdh4 165522680 warn main confconfiguration824 - fsdefaultname is deprecated instead use fsdefaultfs - -- v -- extreme data 100build-snapshot admin server target httplocalhost9393 welcome to the spring xd shell for assistance hit tab or type help xdhadoop config fs --namenode hdfscdh48020 xdhadoop fs ls hadoop configuration changed re-initializing shell 165528853 warn spring shell utilnativecodeloader62 - unable to load native-hadoop library for your platform using builtin-java classes where applicable -ls fatal internal error javalangunsupportedoperationexception this is supposed to be overridden by subclasses comgoogleprotobufgeneratedmessagegetunknownfieldsgeneratedmessagejava180 orgapachehadoophdfsprotocolprotoclientnamenodeprotocolprotosgetfileinforequestprotogetserializedsizeclientnamenodeprotocolprotosjava30108 comgoogleprotobufabstractmessagelitetobytestringabstractmessagelitejava49 orgapachehadoopipcprotobufrpcengineinvokerconstructrpcrequestprotobufrpcenginejava149 orgapachehadoopipcprotobufrpcengineinvokerinvokeprotobufrpcenginejava193 comsunproxyproxy43getfileinfounknown source sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgapachehadoopioretryretryinvocationhandlerinvokemethodretryinvocationhandlerjava164 orgapachehadoopioretryretryinvocationhandlerinvokeretryinvocationhandlerjava83 comsunproxyproxy43getfileinfounknown source orgapachehadoophdfsprotocolpbclientnamenodeprotocoltranslatorpbgetfileinfoclientnamenodeprotocoltranslatorpbjava629 orgapachehadoophdfsdfsclientgetfileinfodfsclientjava1545 orgapachehadoophdfsdistributedfilesystemgetfilestatusdistributedfilesystemjava819 orgapachehadoopfsfilesystemglobstatusinternalfilesystemjava1646 orgapachehadoopfsfilesystemglobstatusfilesystemjava1592 orgapachehadoopfsfilesystemglobstatusfilesystemjava1567 orgapachehadoopfsshellpathdataexpandasglobpathdatajava271 orgapachehadoopfsshellcommandexpandargumentcommandjava224 orgapachehadoopfsshellcommandexpandargumentscommandjava207 orgapachehadoopfsshellcommandprocessrawargumentscommandjava190 orgapachehadoopfsshellcommandruncommandjava154 orgapachehadoopfsfsshellrunfsshelljava254 orgspringframeworkxdshellhadoopfsshellcommandsrunfsshellcommandsjava412 orgspringframeworkxdshellhadoopfsshellcommandsruncommandfsshellcommandsjava407 orgspringframeworkxdshellhadoopfsshellcommandslsfsshellcommandsjava110 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkutilreflectionutilsinvokemethodreflectionutilsjava196 orgspringframeworkshellcoresimpleexecutionstrategyinvokesimpleexecutionstrategyjava64 orgspringframeworkshellcoresimpleexecutionstrategyexecutesimpleexecutionstrategyjava48 orgspringframeworkshellcoreabstractshellexecutecommandabstractshelljava127 orgspringframeworkshellcorejlineshellpromptloopjlineshelljava530 orgspringframeworkshellcorejlineshellrunjlineshelljava178 javalangthreadrunthreadjava744 code,0
refactor dsl for taps and jobs usage the syntax for both taps and job channels will be prefixed with the word tap the parser will search both the all stream and job for now registries to find the name if the name is present in only in one registry then that definition will be used if the name is present both registries a syntax exception will be issued - the user then can optionally specify which registry to use by adding a second token to the definition that specifies the type of channel the user wants - ie tapstreamstreamname mysink if the user attempts to place a job on the greater left hand side without specifying a notification a syntax error will be thrown format -- taptypename -- taptypename -- example tapstreamname mysink tapstreamstreamname mysink mysourcemyprocessor tapstreammysink myemailsource tapjobjobnamestep1 myemailsource tapjobnamestep1 tapjobjobname-notifications myemailsink,0
shell remove taps list command we should only allow tap list - currently tap list and taps list are allowed but tap list does not show up under help,0
setting active profiles drops contiaineradmin profile when setting an active property via springprofilesactive environment variable the profile set containerserverapplication or adminserverapplication is ignored configfileapplicationlistener in spring boot has an if else in the load method which skips adding the additional properties added to the standardenvironment if the environment variable exists this could be a bug for spring boot but i wasnt sure if the mutual exclusion was intentional additionally it would be nice to know when this feature is included in spring xd if it is a spring boot bug,0
jdbc sink is broken - looks like some config options got booted the jdbc sink is broken simple time jdbc results in orgspringframeworkjdbcbadsqlgrammarexception preparedstatementcallback bad sql grammar insert into test payload values nested exception is javasqlsqlsyntaxerrorexception user lacks privilege or object not found test looks like some config options got clobbered during bootification,0
deployundeploydeploy acceptance tests run back to back causes exception sha 33de93797106c8dd413dfb08f2fdbbb4931b528c deployment 1 admin 1 container datastore mysql a springxdexception is thrown when running the testjobdeployundeployflow test in acceptance tests back to back ran the test once success ran the test a second time the following exception is thrown springxdexception batch job with the name deployundeployjob already exists the xdjobregistrystepnames xdjobregistry still have jobname deployunderployjob still stored the following exception is seen on the admin server 204559214 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsjobsdeployundeployjob type childadded 204604741 info deployer serverjobdeploymentlistener - deployment status for job deployundeployjob deploymentstatusstatedeployed 204605436 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsjobsdeployundeployjob type childremoved 204612471 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsjobsdeployundeployjob type childadded 204616330 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsjobsdeployundeployjob type childremoved 204617819 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsjobsdeployundeployjob type childadded 204617832 info deployer serverjobdeploymentlistener - deployment status for job deployundeployjob deploymentstatusstatedeployed 204617834 error deployer serverinitialdeploymentlistener - exception caught while handling event orgspringframeworkxddirtzookeeperzookeeperaccessexception keepererrorcode nonode for xddeploymentsjobsdeployundeployjobstatus orgspringframeworkxddirtzookeeperzookeeperutilswrapthrowablezookeeperutilsjava111 orgspringframeworkxddirtzookeeperzookeeperutilswrapthrowablezookeeperutilsjava95 orgspringframeworkxddirtserverjobdeploymentlistenerdeployjobjobdeploymentlistenerjava175 orgspringframeworkxddirtserverjobdeploymentlisteneronchildaddedjobdeploymentlistenerjava99 orgspringframeworkxddirtserverinitialdeploymentlistenereventhandlercallinitialdeploymentlistenerjava217 orgspringframeworkxddirtserverinitialdeploymentlistenereventhandlercallinitialdeploymentlistenerjava186 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 caused by orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsjobsdeployundeployjobstatus orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava111 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 orgapachezookeeperzookeepersetdatazookeeperjava1270 orgapachecuratorframeworkimpssetdatabuilderimpl4callsetdatabuilderimpljava274 orgapachecuratorframeworkimpssetdatabuilderimpl4callsetdatabuilderimpljava270 orgapachecuratorretryloopcallwithretryretryloopjava107 orgapachecuratorframeworkimpssetdatabuilderimplpathinforegroundsetdatabuilderimpljava266 orgapachecuratorframeworkimpssetdatabuilderimplforpathsetdatabuilderimpljava253 orgapachecuratorframeworkimpssetdatabuilderimplforpathsetdatabuilderimpljava41 orgspringframeworkxddirtserverjobdeploymentlistenerdeployjobjobdeploymentlistenerjava165 7 more clear xdjobregistrystepnames xdjobregistry tables and run the test a third time ran the test a third time the following exception is thrown springxdexception the job named deployundeployjob is already deployed the following exception was reported by the admin server 211829355 warn http-nio-9393-exec-4 zookeeperzookeeperjobrepository - exception while transitioning job deployundeployjob state to undeploying orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsjobsdeployundeployjobstatus orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava111 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 orgapachezookeeperzookeepersetdatazookeeperjava1270 orgapachecuratorframeworkimpssetdatabuilderimpl4callsetdatabuilderimpljava274 orgapachecuratorframeworkimpssetdatabuilderimpl4callsetdatabuilderimpljava270 orgapachecuratorretryloopcallwithretryretryloopjava107 orgapachecuratorframeworkimpssetdatabuilderimplpathinforegroundsetdatabuilderimpljava266 orgapachecuratorframeworkimpssetdatabuilderimplforpathsetdatabuilderimpljava253 orgapachecuratorframeworkimpssetdatabuilderimplforpathsetdatabuilderimpljava41 orgspringframeworkxddirtstreamzookeeperzookeeperjobrepositorydeletezookeeperjobrepositoryjava174 orgspringframeworkxddirtstreamzookeeperzookeeperjobrepositorydeletezookeeperjobrepositoryjava196 orgspringframeworkxddirtstreamzookeeperzookeeperjobrepositorydeletezookeeperjobrepositoryjava54 orgspringframeworkxddirtstreamabstractinstancepersistingdeployerundeployabstractinstancepersistingdeployerjava77 orgspringframeworkxddirtstreamabstractinstancepersistingdeployerundeployallabstractinstancepersistingdeployerjava103 orgspringframeworkxddirtstreamabstractinstancepersistingdeployerdeleteallabstractinstancepersistingdeployerjava111 orgspringframeworkxddirtrestxdcontrollerdeleteallxdcontrollerjava114 sunreflectgeneratedmethodaccessor161invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeinvocablehandlermethodjava215 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava132 orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava104 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlemethodrequestmappinghandleradapterjava749 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava689 orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava83 orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava938 orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava870 orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava961 orgspringframeworkwebservletframeworkservletdodeleteframeworkservletjava885 javaxservlethttphttpservletservicehttpservletjava652 orgspringframeworkwebservletframeworkservletserviceframeworkservletjava837 javaxservlethttphttpservletservicehttpservletjava727 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava303 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkbootactuatetracewebrequesttracefilterdofilterinternalwebrequesttracefilterjava110 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconfigurationapplicationcontextfilterconfiguration1dofilterinternalendpointwebmvcautoconfigurationjava257 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinternalhiddenhttpmethodfilterjava77 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkwebfilterhttpputformcontentfilterdofilterinternalhttpputformcontentfilterjava88 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkbootactuateautoconfiguremetricfilterautoconfigurationmetricsfilterdofilterinternalmetricfilterautoconfigurationjava85 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgapachecatalinacorestandardwrappervalveinvokestandardwrappervalvejava220 orgapachecatalinacorestandardcontextvalveinvokestandardcontextvalvejava122 orgapachecatalinaauthenticatorauthenticatorbaseinvokeauthenticatorbasejava501 orgapachecatalinavalvesremoteipvalveinvokeremoteipvalvejava683 orgapachecatalinacorestandardhostvalveinvokestandardhostvalvejava171 orgapachecatalinavalveserrorreportvalveinvokeerrorreportvalvejava102 orgapachecatalinacorestandardenginevalveinvokestandardenginevalvejava116 orgapachecatalinaconnectorcoyoteadapterservicecoyoteadapterjava408 orgapachecoyotehttp11abstracthttp11processorprocessabstracthttp11processorjava1040 orgapachecoyoteabstractprotocolabstractconnectionhandlerprocessabstractprotocoljava607 orgapachetomcatutilnetnioendpointsocketprocessordorunnioendpointjava1720 orgapachetomcatutilnetnioendpointsocketprocessorrunnioendpointjava1679 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 orgapachetomcatutilthreadstaskthreadwrappingrunnableruntaskthreadjava61 javalangthreadrunthreadjava745 ran the test a fourth time success,0
sts - spring xd imported with compilation error cannot import spring xd into sts without compilation errors in class orgspringframeworkxddirtrestmodulescontrollerlist error is in code return assemblertoresourcepage detailed detailedassembler simpleassembler code code the method toresourcepagemoduledefinition link in the type pagedresourcesassemblermoduledefinition is not applicable for the arguments pagemoduledefinition detailed detailedassembler simpleassembler code seems to be an sts specific issue,0
as a qa id like to include acceptance test coverage for reactor-ip source module so that i can validate the functionality as part of every ci build,3
streamutil cleanup update streamutils based on code review comments,0
hdfs sink loads codecs class during module info --name sinkhdfs command the hdfs sink metadata causes loading of orgspringframeworkdatahadoopstorecodeccodecs class during module info --name sinkhdfs command since the type is a specific spring hadoop class optionscodecdescription compression codec alias name optionscodectype orgspringframeworkdatahadoopstorecodeccodecs optionscodecdefault dont think we want to tie the sink module to specific spring hadoop classes during runtime of the admin we cant be sure that admin has hadoop classes on classpath in all environments and there is no way of specifying the hadoop distro for admin wouldnt it be better to have this option as a string to be passed in to the modules context that could then load the class,0
deploy batch jobs on xd h2 narrative as a developer i need a way to deploy job configurations as well as the related custom code to xd h2 acceptance criteria provide the ability to register jobs that have been deployed as modules via something like curl -d job httplocalhost8080streamsmyjob where job is the name of the job definition located in modulesjob and myjob is the name of the resulting registered job confirm that both regular jobs and spring hadoop based jobs can be packagedrun,0
os commands no longer supports whitespacearguments in m6 os commands ie doesnt support arguments in m6 it did in m5 the following gives an error xd ls you cannot specify option more than once in a single command no arguments or whitespace works xd ls command isls spring-shelllog xd-shell xd-shellbat,0
only ship relevant modules files the current build ships everything that is found in the modules directory including build artifacts such as build or idea iml files restrict the build to only include config lib at the moment,0
unable to fully destroy hung batch job i created and launched a jdbchdfs job due to network issues the job hung wasnt able to cancel it so i ended up destroying it after that i couldnt recreate the job since xd insisted hat there already was a job with that same name code xdjob create jdbc1 --definition jdbchdfs --columnsidfilepathfilenameyearfilelenghtlastmodified --tablenamesomefiles --checkcolumnid --partitioncolumnid --partitions3 --partitionresultstimeout3000000 --rollover128000000 --commitinterval1000 --urljdbcoraclethinredwood1521xe --driverclassnameoraclejdbcoracledriver --usernamespring --passwordspring --testonborrowfalse successfully created job jdbc1 xdjob deploy jdbc1 --properties modulejdbchdfscount3 deployed job jdbc1 xdjob launch jdbc1 successfully submitted launch request for job jdbc1 here the job was hung xdjob destroy jdbc1 destroyed job jdbc1 xdjob create jdbc1 --definition jdbchdfs --columnsidfilepathfilenameyearfilelenghtlastmodified --tablenamesomefiles --checkcolumnid --partitioncolumnid --partitions3 --partitionresultstimeout3000000 --rollover128000000 --commitinterval1000 --urljdbcoraclethinredwood1521xe --driverclassnameoraclejdbcoracledriver --usernamespring --passwordspring --testonborrowfalse command failed orgspringframeworkxdrestclientimplspringxdexception batch job with the name jdbc1 already exists xdjob create jdbc1 --definition jdbchdfs --columnsidfilepathfilenameyearfilelenghtlastmodified --tablenamesomefiles --checkcolumnid --partitioncolumnid --partitions3 --partitionresultstimeout3000000 --rollover128000000 --commitinterval1000 --urljdbcoraclethinredwood1521xe --driverclassnameoraclejdbcoracledriver --usernamespring --passwordspring --testonborrowfalse command failed orgspringframeworkxdrestclientimplspringxdexception batch job with the name jdbc1 already exists xdjob destroy jdbc1 command failed orgspringframeworkxdrestclientimplspringxdexception there is no job definition named jdbc1 xdjob create jdbc1 --definition jdbchdfs --columnsidfilepathfilenameyearfilelenghtlastmodified --tablenamesomefiles --checkcolumnid --partitioncolumnid --partitions3 --partitionresultstimeout3000000 --rollover128000000 --commitinterval1000 --urljdbcoraclethinredwood1521xe --driverclassnameoraclejdbcoracledriver --usernamespring --passwordspring --testonborrowfalse command failed orgspringframeworkxdrestclientimplspringxdexception batch job with the name jdbc1 already exists code,0
add jms source module,0
combine distributed job locator related schema changes into one table currently there are jobregistrynames jobregistryrestartables and jobregistryincrementables tables and we can possibly combine them into one table and have a better schema for this,0
known hosts configuration for sftp source spring integration 42 changed the default sftp session factory to not accept keys from unknown hosts by default this is more secure you either have to provide a pre-populated knownhosts file or set allowunknownkeys to true if you do both the keys will be automatically added to the known hosts file when updating xd to 420rc1 i simply set the boolean to true to retain the previous behavior add properties to the sftp source to allow configuration of these properties at the stream level,0
change twittersearch default outputtype to be applicationjson the current output type is a java object - this raises issues wrt to consumers in other jvm that to no have the spring social tweet object in the main container classpath see httpsjiraspringiobrowsexd-1370 will also create another issue to update twittersearch to generate the raw twitterstream output vs the structure of the spring social tweet object,0
update acceptance test to use new jmx module name format the update to the jmx was introduced in xd-2941 also noticed that we should have been checking source and not sink this was also resolved,0
ui create a dedicated scheduling page for jobs create a dedicated scheduling page for jobs currently we create a form underneath the deployments table that is a bit unwieldy when many deployed jobs are shown in the table similar to xd-2320,0
as a developer id want to document the limitations of hsql db when using composed jobs,1
support for delete of taps,0
as a developer id like to isolate the hadoop tests in a different project so that the dirt project doesnt have to depend upon thus eliminating the incorrect cp file generation in eclipse,3
ensure proper lifecycle shutdown of processors in broadcastermessagehandler and multiplebroadcastermessagehandler,0
add zookeeper timeout options to configuration file the following timeout options should be added to our configuration file session timeout the number of milliseconds before the zookeeper session times out connection timeout the number of milliseconds before a connection to a zookeeper server times out retry wait period number of milliseconds to wait before attempting a connection after a failed connection max retries number of times to attempt a connection after a failed connection,0
update support for hortonworks to hdp 232 we currently support hdp 230 the most recent hdp version is 232 this latest hdp release also changes spark version to 141,0
as a performance tester id like to re-run baseline benchmarks with compression enabled on rabbit so that i can compare the results with previous performance snapshots,3
add states to the deployment of stream improve how the state of the stream is managed a deploy command moves the stream from the undeployed state to the deploying state if all modules in the stream are successfully deployed the stream state is deployed if one or more module deployments failed the stream state is failed any modules that were successfully deployed are still running sending an undeploy command will stop all modules of the stream and return the stream to the undeployed state for the individual modules that failed we will be able to find out which ones failed not yet sure if we can try to redeploy just those parts of the stream that failed see the design dochttpsdocsgooglecomagopivotalcomdocumentd1kwtohxef1wmklzq8azaiuhbzwilpcdi8g9hap8fgceditheadingh2rk74f16ow4i for more details story points for this issue are the total of all the story points for the subtasks,0
zookeeper runtime cleanup and refactoring,0
add ability to logout using the admin ui while there is a server endpoint to logout we dont have that ability yet from the ui as indicated by xd-2122 we will also need a meta-data rest endpoint so we can interrogate whether security is enabled whether the user is logged etc so we can fulfill the requirements show a logout button only if a security is enabled and b user is logged in show the username andor full name of the user being logged in,0
remove unused properties files in config and update docs there are some properties files in the config directory that no longer are needed we should clean that up and also removeupdate any documentation references to these files,0
add job rdbms config in ambari plugin spring xd ambari plugin only supports hdb as job db hdb is not good in production environment it will be great if we can specify rdb in spring xd installationconfig process,0
automatically align version for tomcat components from platform httpsgithubcomspring-projectsspring-xdcommitdb66aa2a329a6fc7ef89a340dd4d562fa70d14a4 introduces orgapachetomcatembedtomcat-embed-logging-log4j which is not covered by platform yet we should lookup the version to use from other tomcat artifacts using some gradle magic,0
the new scsm twitterstream module should produce same json as old xd source the new scsm twitterstream module uses a different format than xd 1x source module it should match what twitter uses so existing processors etc will continue to work,0
as a user im trying to use counter sink with spel expression but im not able to use them in combination it throwshttpsgithubcomspring-cloudspring-cloud-stream-modulesblobmastercounter-sinksrcmainjavaorgspringframeworkcloudstreammodulemetricscountersinkpropertiesjaval77 exactly one of name and nameexpression must be set as error message,1
websocket based taps,0
jmx mbean name clash when using labels with s-c-d deployment we need to make sure that jmx mbean names are unique even in the case of labeled modules the following stream fails for example http filter filter2 filter log a good candidate could be stream name group module label,0
redis sink better handling of module optionsprofile activation please see the discussion here httpsgithubcomspring-projectsspring-xdpull1188discussionr18788216,0
separate module context refresh from context start split plugin module processing into pre and post processing where preprocessing is done before the context is refreshed and post processing is done after the refresh but before the start in the stream plugin wire the module into the channelregistry during post processing instead of using the channelregistrar,0
user wants to select the ec2 zone when deploying xd currently the application allows aws select which zone in the region to create an instance,0
refactor the file source module to have libconfig directories convert a simple module such as file to further test that what was done in the previous story use parentlastclassloader to create the modules applicationcontext works as expected implementation suggestions remove from buildgradle the dependency on spring-integration-file and place that jar inside a directory modulessourcefilelib place the current filexml inside modulessourcefileconfig how to verify it works 1 running tests that currently use the file source eg in spring shell should work as before 2 when deploying a stream file log we should be able to interrogate the channel registry and make sure it found the dependencies for the module moduledescriptor should have a not-null url property,0
file source name and duplicates options not working as documented the doc says the name option is the absolute path to the directory to monitor for files but it actually seems to be the name of a dir in tmpxdinput not sure which is the correct behavior also name as an option name seems a little vague maybe something like --directory also if i set --duplicatestrue it actually prevents duplicates setting prevents-duplicates to true,0
update documentation for kafka sources include new features added by using spring integration kafka m3,0
refactor streamparser to return a streamdefinition code streamdefinition sd streamparserparsename dsltext code we should also consider explicit methods such as parsestream so that parsejob and parsecomposedmodule are at least separate methods if not separate parser classes that share the common parser support class that is the core of todays parser the parsing for completion providers should probably be spun off to its own class as well in the end there should be no need for a parsingcontext enum but rather more explicitly named methods and dedicated classes if that seems like the right approach the streamdefinition should be composed of moduledescriptors that name is not set in stone and other stream-level metadata like sourcesink channels consider merging some of streamfactory code there and the rest into streamdeployer merge moduledescriptor and moduledeploymentrequest as part of this effort again a new name could be considered but moduledescriptor should take precedence over moduledeploymentrequest and note in the process that moduledescriptor was originally designed to be immutable taking constructor args but as we migrated the prototype code into xd itself this was violated we may want to consider a builder approach and we likely want to avoid the need for a moduledefinition within the moduledescriptor,0
introduce cache to zookeepercontainerrepository add cache implementation for zookeepercontainerrepository,0
as a qa id like to include acceptance test coverage for hdfs-dataset module so that i can validate the functionality as part of every ci build,3
build should use spring boot plugin version 114 the platform uses boot version 114 so the plugin version used in buildgradle should match that,0
xd-admin server to --transport as an option --transport as an alias for --controltransport,0
container with redis as transport emits stack trace on shutdown this is harmless the attempt to brpop continues even after the connection itself has been closed but ugly code 124515084 error redisinboundadapter-redisqueue-inbound-channel-adapter1 inboundredisqueuemessagedrivenendpoint181 - failed to execute listening task will attempt to resubmit in 5000 milliseconds orgspringframeworkdataredisredissystemexception redis exception nested exception is comlambdaworksredisredisexception connection closed orgspringframeworkdataredisconnectionlettucelettuceexceptionconverterconvertlettuceexceptionconverterjava46 orgspringframeworkdataredisconnectionlettucelettuceexceptionconverterconvertlettuceexceptionconverterjava36 orgspringframeworkdataredisconnectionlettucelettuceconverterstodataaccessexceptionlettuceconvertersjava159 orgspringframeworkdataredisconnectionlettucelettuceconnectionconvertlettuceaccessexceptionlettuceconnectionjava253 orgspringframeworkdataredisconnectionlettucelettuceconnectionbrpoplettuceconnectionjava1508 orgspringframeworkdatarediscoredefaultlistoperations12inredisdefaultlistoperationsjava163 orgspringframeworkdatarediscoreabstractoperationsvaluedeserializingrediscallbackdoinredisabstractoperationsjava51 orgspringframeworkdatarediscoreredistemplateexecuteredistemplatejava185 orgspringframeworkdatarediscoreredistemplateexecuteredistemplatejava153 orgspringframeworkdatarediscoreabstractoperationsexecuteabstractoperationsjava86 orgspringframeworkdatarediscoredefaultlistoperationsrightpopdefaultlistoperationsjava160 orgspringframeworkdatarediscoredefaultboundlistoperationsrightpopdefaultboundlistoperationsjava105 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointpopmessageandsendredisqueuemessagedrivenendpointjava178 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointaccess300redisqueuemessagedrivenendpointjava51 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointlistenertaskrunredisqueuemessagedrivenendpointjava286 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 javalangthreadrunthreadjava724 caused by comlambdaworksredisredisexception connection closed comlambdaworksredisredisasyncconnectionawaitredisasyncconnectionjava1079 comlambdaworksredisredisconnectionawaitredisconnectionjava820 comlambdaworksredisredisconnectionbrpopredisconnectionjava101 orgspringframeworkdataredisconnectionlettucelettuceconnectionbrpoplettuceconnectionjava1506 12 more code we should shutdown the consumer gracefully ie before the connection is closed,0
ensure that only bean definitions for the proper transport are loaded currently the orgspringframeworkxddirtserversharedservercontextconfiguration will load everything that matches the classpath configlocationsxdconfigroot busxml path in a normal ie production environment there are no conflicts since only one jar containing message bus definitions is ever on the class path however during testing all the projects containing bus definitions are on the class path which leads to potential conflicts,0
use wants the ability to persist trigger context,0
implement a spark streaming driver application that can be controlled as an xd module instance this should include lifecycle management so that when the modules stream is undeployed the spark streaming application should be stopped etc deploying a number of module instances should result in multiple receiver tasks and those should bind to the bus using the consumer side partitioning metadata,0
create a test case for insulating environment variables in module property lookup for pr httpsgithubcomspring-projectsspring-xdpull682 see if one can have a test case such that a test module would have a path property that overlaps with the environment variable it should never resolve to the real unixwindows path,0
as a s-c-s developer id like to create a public screencast of firehose counter pipe so i can demonstrate s-c-s and the development experience,3
as a s-c-d developer id like to study concourse cihttpconcourseci so i can understand how to use it for s-c-d going forward,3
upgrade curator to 250,0
nodeexists exception upon container disconnectreconnect without admin leader when the container which has modules deployed disconnectsreconnects to the cluster while the admin leader isnt available following exception is thrown this is more likely to happen in single-node scenario as there is no admin leader re-election there in distributed mode we can always setup ha on admins so that the leadership re-election happens 200316307 error deploymentspathchildrencache-0 cachepathchildrencache - orgapachezookeeperkeeperexceptionnodeexistsexception keepererrorcode nodeexists for xddeploymentsmodulesallocated53f41042-8abd-443b-abfb-ba42a24fb9fbfoosinklog1metadata orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava119 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 orgapachezookeeperzookeepercreatezookeeperjava783 orgapachecuratorframeworkimpscreatebuilderimpl11callcreatebuilderimpljava676 orgapachecuratorframeworkimpscreatebuilderimpl11callcreatebuilderimpljava660 orgapachecuratorretryloopcallwithretryretryloopjava107 orgapachecuratorframeworkimpscreatebuilderimplpathinforegroundcreatebuilderimpljava656 orgapachecuratorframeworkimpscreatebuilderimplprotectedpathinforegroundcreatebuilderimpljava441 orgapachecuratorframeworkimpscreatebuilderimplforpathcreatebuilderimpljava431 orgapachecuratorframeworkimpscreatebuilderimplforpathcreatebuilderimpljava44 orgspringframeworkxddirtservercontainerregistrarwritemodulemetadatacontainerregistrarjava486 orgspringframeworkxddirtservercontainerregistraronchildaddedcontainerregistrarjava461 orgspringframeworkxddirtservercontainerregistraraccess8containerregistrarjava426 orgspringframeworkxddirtservercontainerregistrardeploymentlistenerchildeventcontainerregistrarjava807 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92,0
as a user id like to have the option of kerberized hdfs sink so that i can leverage kerberos open source distributed authentication system for secured data writes into hadoop,3
exclude slf4j transitive dependencies,0
all jobs end up on the same container node the jobs arent spread evenly across available container nodes as they are createddeployed i had 3 nodes but only one has the job modules zk localhost2181connected 56 ls xddeploymentsmodules621230e0-a089-4fbe-afc8-611ae527fcbc myjob9jobjdbchdfs-0 myjob5jobjdbchdfs-0 myjob8jobjdbchdfs-0 myjob4jobjdbchdfs-0 myjob6jobjdbchdfs-0 myjob7jobjdbchdfs-0 zk localhost2181connected 57 ls xddeploymentsmodules6969579c-0cf4-4cc1-8e21-e01d73a70965 zk localhost2181connected 58 ls xddeploymentsmodulesd0667cd1-a57a-4279-b7fb-dd63e4dd40d4,0
as a users i would to be able to execute sql statementscript via a processor or job statement,3
process for creating and deploying custom xd modules,0
reduce necessity for quoting in parameter values in dsl expressions parameter values that include spaces need to be quoted but this becomes overly complex in this kind of case here is what you want to say code http --port9995 filter --expressionpayloadmatcheshello world code with the rule parameter values that contain spaces must be quoted it would be this code http --port9995 filter --expressionpayloadmatcheshello world code but then to include single quotes within a single quoted string you need to use two of them - so it becomes code http --port9995 filter --expressionpayloadmatcheshello world code less than ideal,0
ensure that branch-specific documentation is pulled and generated,0
update deprecated jackson methods in tupletojsonstringconverter warning options bootstrap class path not set in conjunction with -source 16 homedturanskispring-xdspring-xd-tuplesrcmainjavaorgspringframeworkxdtupletupletojsonstringconverterjava53 warning deprecation putstringjsonnode in objectnode has been deprecated rootputname toobjectnodetuple value homedturanskispring-xdspring-xd-tuplesrcmainjavaorgspringframeworkxdtupletupletojsonstringconverterjava57 warning deprecation putstringjsonnode in objectnode has been deprecated rootputname rootpojonodevalue,0
document how to specify custom-modules location via environment variable it is possible to specify the location of custom modules via the environment variable xdcustommodulehome which is provided by spring boot property key derivation mechanism in this case derived from xdcustommodulehome this allows a user to specify a custom modules location that survives a complete wipe of spring-xd installations,0
xd zookeeper connection lost xd container loose connection with zookeeper im in a distributed environnement - 3 xd container nodes 121 - 1 xd admin - 3 zookeeper - 3 rabbitmq - 3 redissentinel logs zookeeperlog noformat 2015-11-25 065307235 myid3 - info quorumpeermyid3000000002181zookeeperserver617 - established session 0x251250651910006 with negotiated timeout 40000 for client 172201958070 2015-11-25 065408525 myid3 - warn nioservercxnfactory000000002181nioservercnxn357 - caught end of stream exception endofstreamexception unable to read additional data from client sessionid 0x251250651910006 likely client has closed socket at orgapachezookeeperservernioservercnxndoionioservercnxnjava228 at orgapachezookeeperservernioservercnxnfactoryrunnioservercnxnfactoryjava208 at javalangthreadrunthreadjava745 2015-11-25 065408621 myid3 - info nioservercxnfactory000000002181nioservercnxn1007 - closed socket connection for client 172201958070 which had sessionid 0x251250651910006 noformat containerlog noformat 2015-11-25t0653370100 121release error main-eventthread curatorconnectionstate - connection timed out for connection string 172201121811722018218117220192181 and timeout 30000 elapsed 34187 orgapachecuratorcuratorconnectionlossexception keepererrorcode connectionloss at orgapachecuratorconnectionstatechecktimeoutsconnectionstatejava198 curator-client-260jarna at orgapachecuratorconnectionstategetzookeeperconnectionstatejava88 curator-client-260jarna at orgapachecuratorcuratorzookeeperclientgetzookeepercuratorzookeeperclientjava115 curator-client-260jarna at orgapachecuratorframeworkimpscuratorframeworkimplgetzookeepercuratorframeworkimpljava474 curator-framework-260jarna at orgapachecuratorframeworkimpsgetdatabuilderimpl4callgetdatabuilderimpljava302 curator-framework-260jarna at orgapachecuratorframeworkimpsgetdatabuilderimpl4callgetdatabuilderimpljava291 curator-framework-260jarna at orgapachecuratorretryloopcallwithretryretryloopjava107 curator-client-260jarna at orgapachecuratorframeworkimpsgetdatabuilderimplpathinforegroundgetdatabuilderimpljava287 curator-framework-260jarna at orgapachecuratorframeworkimpsgetdatabuilderimplforpathgetdatabuilderimpljava279 curator-framework-260jarna at orgapachecuratorframeworkimpsgetdatabuilderimplforpathgetdatabuilderimpljava41 curator-framework-260jarna at orgspringframeworkxddirtservercontainerdeploymentlistenerstreammodulewatcherprocessdeploymentlistenerjava596 spring-xd-dirt-121releasejar121release at orgapachecuratorframeworkimpsnamespacewatcherprocessnamespacewatcherjava67 curator-framework-260jarna at orgapachezookeeperclientcnxneventthreadprocesseventclientcnxnjava522 zookeeper-346jar346-1569965 at orgapachezookeeperclientcnxneventthreadrunclientcnxnjava498 zookeeper-346jar346-1569965 2015-11-25t0653370100 121release error curatorframework-0 curatorconnectionstate - connection timed out for connection string 172201121811722018218117220192181 and timeout 30000 elapsed 34189 orgapachecuratorcuratorconnectionlossexception keepererrorcode connectionloss at orgapachecuratorconnectionstatechecktimeoutsconnectionstatejava198 curator-client-260jarna at orgapachecuratorconnectionstategetzookeeperconnectionstatejava88 curator-client-260jarna at orgapachecuratorcuratorzookeeperclientgetzookeepercuratorzookeeperclientjava115 curator-client-260jarna at orgapachecuratorframeworkimpscuratorframeworkimplperformbackgroundoperationcuratorframeworkimpljava793 curator-framework-260jarna at orgapachecuratorframeworkimpscuratorframeworkimplbackgroundoperationsloopcuratorframeworkimpljava779 curator-framework-260jarna at orgapachecuratorframeworkimpscuratorframeworkimplaccess400curatorframeworkimpljava58 curator-framework-260jarna at orgapachecuratorframeworkimpscuratorframeworkimpl4callcuratorframeworkimpljava265 curator-framework-260jarna at javautilconcurrentfuturetaskrunfuturetaskjava266 na18060 at javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 na18060 at javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 na18060 at javalangthreadrunthreadjava745 na18060 2015-11-25t0653390100 121release error curatorframework-0 curatorconnectionstate - connection timed out for connection string 172201121811722018218117220192181 and timeout 30000 elapsed 36191 orgapachecuratorcuratorconnectionlossexception keepererrorcode connectionloss at orgapachecuratorconnectionstatechecktimeoutsconnectionstatejava198 curator-client-260jarna at orgapachecuratorconnectionstategetzookeeperconnectionstatejava88 curator-client-260jarna at orgapachecuratorcuratorzookeeperclientgetzookeepercuratorzookeeperclientjava115 curator-client-260jarna at orgapachecuratorframeworkimpscuratorframeworkimplperformbackgroundoperationcuratorframeworkimpljava793 curator-framework-260jarna at orgapachecuratorframeworkimpscuratorframeworkimplbackgroundoperationsloopcuratorframeworkimpljava779 curator-framework-260jarna at orgapachecuratorframeworkimpscuratorframeworkimplaccess400curatorframeworkimpljava58 curator-framework-260jarna at orgapachecuratorframeworkimpscuratorframeworkimpl4callcuratorframeworkimpljava265 curator-framework-260jarna 2015-11-25t0654340100 121release info connectionstatemanager-0 containercontainerregistrar - waiting for supervisor to clean up prior deployments elapsed time 26 seconds 2015-11-25t0655050100 121release info connectionstatemanager-0 containercontainerregistrar - waiting for supervisor to clean up prior deployments elapsed time 57 seconds 2015-11-25t0656050100 121release info connectionstatemanager-0 containercontainerregistrar - waiting for supervisor to clean up prior deployments elapsed time 117 seconds 2015-11-25t0657050100 121release info connectionstatemanager-0 containercontainerregistrar - waiting for supervisor to clean up prior deployments elapsed time 177 seconds noformat adminlog noformat 2015-11-25t0654230100 121release error deploymentsupervisor-0 cachepathchildrencache - orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsmodulesallocatedb1de9530-1837-42c0-a6bc-840b1b15aefcjobtriggersourcetrigger1 at orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava111 zookeeper-346jar346-1569965 at orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 zookeeper-346jar346-1569965 at orgapachezookeeperzookeepergetdatazookeeperjava1155 zookeeper-346jar346-1569965 at orgapachecuratorframeworkimpsgetdatabuilderimpl4callgetdatabuilderimpljava302 curator-framework-260jarna at orgapachecuratorframeworkimpsgetdatabuilderimpl4callgetdatabuilderimpljava291 curator-framework-260jarna at orgapachecuratorretryloopcallwithretryretryloopjava107 curator-client-260jarna at orgapachecuratorframeworkimpsgetdatabuilderimplpathinforegroundgetdatabuilderimpljava287 curator-framework-260jarna at orgapachecuratorframeworkimpsgetdatabuilderimplforpathgetdatabuilderimpljava279 curator-framework-260jarna at orgapachecuratorframeworkimpsgetdatabuilderimplforpathgetdatabuilderimpljava41 curator-framework-260jarna at orgspringframeworkxddirtserveradmindeploymentzkdepartingcontainermoduleredeployerdeploymodulesdepartingcontainermoduleredeployerjava116 spring-xd-dirt-121releasejar121release at orgspringframeworkxddirtserveradmindeploymentzkcontainerlistenerchildeventcontainerlistenerjava140 spring-xd-dirt-121releasejar121release at orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 curator-recipes-260jarna at orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 curator-recipes-260jarna at orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 curator-framework-260jarna at comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 guava-1601jarna at orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 curator-framework-260jarna at orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 curator-recipes-260jarna at orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 curator-recipes-260jarna at orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 curator-recipes-260jarna at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 na18060 at javautilconcurrentfuturetaskrunfuturetaskjava266 na18060 at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 na18060 at javautilconcurrentfuturetaskrunfuturetaskjava266 na18060 at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 na18060 at javautilconcurrentfuturetaskrunfuturetaskjava266 na18060 at javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava180 na18060 at javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava293 na18060 at javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 na18060 at javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 na18060 at javalangthreadrunthreadjava745 na18060 noformat if a module is deployed on the node which has lost the connection its not redeployed on one of the two others the only difference between node is that the node in error has less memory when this occurs node doesnt appear anymore on the admin ui and deployed streams do not appear as incomplete but they should if a node has disappear and deployment property modulecount is set to the number of nodes thanks mickal,0
convert remaining modules to be cp-aware now that xd-924 is merged we can convert splunk twitter and gemfire modules to rely on the newly created projects the hadoop module will get its own story as classpath handling is a bit more tricky for that one from there on no new dependency should be added to dirt for the sole purpose of a module rather it should directly be created as a cp-aware module and project,0
add docs for creating a job item processor httpsgithubcomspring-projectsspring-xdwikicreating-a-job-item-processor should be very brief introduction to this topic before linking to relevant spring batch documentation,0
add propertyaccessor for json fields in spel code filter --expressionpayloadmyfieldstartswithfoo code example using index code filter --expressionpayload2startswithfoo code this should support nested keys as well code filter --expressionpayloadmyfieldsubfieldstartswithfoo code this is related to httpsjiraspringsourceorgbrowsexd-676 and that in turn depends on si being able to configure spel,0
gemfire cq module for ingestion,0
support ci build in travis get minimal compilation going in travis redisrabbit services can be done in a separate story,0
create a shell command for stopping all job executions,0
upgrade ci acceptance ami to hvm replace the current paravirtual ami used for ci tests needed to be replaced with a hvm based ami paravirtual is being phased out by amazon also so we can utilize vpc and placement groups in the future,0
job deletedestroy command for shell,0
spring batch admin ui looks to localhost when getting status updates currently when you bring up a admin-ui on a browser that is not on the xd admin server the page reports an error this is because the javascript is looking to localhost to get its updates,0
as a developer id like to complete the remaining work with debs challenge so i can submit by the deadline,2
use guava 150 for spring-xd-integration-test jclouds is not compatible with versions of guava higher than 15,0
shell - makeunique job parameter is true by default currently the shell assumes that the makeuniquejob parameter is by default false that is not true as a consequence the parameter has currently no impactdoes not work,0
hdfstextfilewriter incompatible with maprfs use of fsshell in abstracthdfswriterinitializecounterifnecessary causes maprfs to throw an unimplemented operation exception replacing the fsshell code with filesystemliststatus allows it to be used with maprfs,0
throughput optimized tcp based adapters based on reactor tcp project,0
enhance tasklauncher h2 narrative as spring xd i will be able to launch spring boot jar files as diego tasks h2 back story the tasklauncher will be responsible for listening for launch requests looking up the definition in the taskdescriptorrepository and launching it the first implementation of this would be a receptor based implementation see httpsdocsgooglecomdocumentd1q964adrca-kjkei0gbtojhlxjjtv7tatpqt0ymsbcedit,0
document the configuration of the jobrepository xd-2172 added a custom batchconfigurer to allow the configuration of various properties when creating the jobrepository isolationlevel tableprefix etc this should be documented in either the application configuration second of the docs or in the batch job section,0
modify rest controller to obtain streamjob state see the design documenthttpsdocsgooglecomagopivotalcomdocumentd1kwtohxef1wmklzq8azaiuhbzwilpcdi8g9hap8fgceditheadingh2rk74f16ow4i for more details the rest controller needs to be modified to obtain streamjob state once it is available in zookeeper this depends on xd-1847,0
as a developer id like to build data pipeline using kafka as as message bus in xd so that we can demonstrate some of the capabilities use case to consider log aggregation and analysis lambda architecture how to avoid code duplication how to eliminate tight coupling of business logic how kafka can be used for reliable reprocessing,5
allow direct binding even for modulecount 0,0
hdfsjdbc acceptance test,0
as a system administrator i need to connect to sonicmq as jms provider when setting up the correct spring xml file and added the correct jar files to the lib directory i received the following exception--- question is there a spot i should be defining the conversion strategy code spring boot v050m6 150436092 error http-bio-9393-exec-1 restrestcontrolleradvice157 - caught exception while handling a request orgspringframeworkintegrationmessagehandlingexception error occurred in message handler moduledeployer orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava79 orgspringframeworkintegrationconfigserviceactivatorfactorybean1handlerequestmessageserviceactivatorfactorybeanjava83 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava142 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava115 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava94 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava42 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava86 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava228 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava212 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava177 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava171 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava149 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava115 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkxddirtstreamdeploymentmessagesendersenddeploymentrequestsdeploymentmessagesenderjava57 orgspringframeworkxddirtstreamabstractdeployersenddeploymentrequestsabstractdeployerjava137 orgspringframeworkxddirtstreamabstractdeployerbasicdeployabstractdeployerjava157 orgspringframeworkxddirtstreamabstractinstancepersistingdeployerdeployabstractinstancepersistingdeployerjava78 orgspringframeworkxddirtrestxdcontrollersavexdcontrollerjava242 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeinvocablehandlermethodjava214 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava132 orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava104 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlemethodrequestmappinghandleradapterjava748 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava689 orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava83 orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava947 orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava878 orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava946 orgspringframeworkwebservletframeworkservletdopostframeworkservletjava848 javaxservlethttphttpservletservicehttpservletjava647 orgspringframeworkwebservletframeworkservletserviceframeworkservletjava822 javaxservlethttphttpservletservicehttpservletjava728 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava305 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkwebfilterhttpputformcontentfilterdofilterinternalhttpputformcontentfilterjava88 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgapachecatalinacorestandardwrappervalveinvokestandardwrappervalvejava222 orgapachecatalinacorestandardcontextvalveinvokestandardcontextvalvejava123 orgapachecatalinaauthenticatorauthenticatorbaseinvokeauthenticatorbasejava472 orgapachecatalinacorestandardhostvalveinvokestandardhostvalvejava171 orgapachecatalinavalveserrorreportvalveinvokeerrorreportvalvejava99 orgapachecatalinacorestandardenginevalveinvokestandardenginevalvejava118 orgapachecatalinaconnectorcoyoteadapterservicecoyoteadapterjava407 orgapachecoyotehttp11abstracthttp11processorprocessabstracthttp11processorjava1004 orgapachecoyoteabstractprotocolabstractconnectionhandlerprocessabstractprotocoljava589 orgapachetomcatutilnetjioendpointsocketprocessorrunjioendpointjava310 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 caused by orgspringframeworkbeansfactorybeancreationexception error creating bean with name connectionfactory defined in file usersdmarleysandboxspring-xdbuilddistspring-xdxdmodulessourcejmsconfigcommonjms-sonic-infrastructure-contextxml initialization of bean failed nested exception is orgspringframeworkbeansconversionnotsupportedexception failed to convert property value of type progressmessagejclientconnectionfactory to required type javaxjmsconnectionfactory for property targetconnectionfactory nested exception is javalangillegalstateexception cannot convert value of type progressmessagejclientconnectionfactory to required type javaxjmsconnectionfactory for property targetconnectionfactory no matching editors or conversion strategy found orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava547 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava475 orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava300 orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava228 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava296 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava195 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava660 orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava760 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava482 orgspringframeworkbootspringapplicationrefreshspringapplicationjava552 orgspringframeworkbootspringapplicationrunspringapplicationjava293 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava130 orgspringframeworkxdmodulesimplemoduleinitializesimplemodulejava135 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava239 orgspringframeworkxddirtmodulemoduledeployerdeploymodulemoduledeployerjava229 orgspringframeworkxddirtmodulemoduledeployerhandledeploymoduledeployerjava214 orgspringframeworkxddirtmodulemoduledeployerhandledeploymentrequestmoduledeployerjava196 orgspringframeworkxddirtmodulemoduledeployerhandlemessageinternalmoduledeployerjava137 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 63 more caused by orgspringframeworkbeansconversionnotsupportedexception failed to convert property value of type progressmessagejclientconnectionfactory to required type javaxjmsconnectionfactory for property targetconnectionfactory nested exception is javalangillegalstateexception cannot convert value of type progressmessagejclientconnectionfactory to required type javaxjmsconnectionfactory for property targetconnectionfactory no matching editors or conversion strategy found orgspringframeworkbeansbeanwrapperimplconvertifnecessarybeanwrapperimpljava474 orgspringframeworkbeansbeanwrapperimplconvertforpropertybeanwrapperimpljava505 orgspringframeworkbeansbeanwrapperimplconvertforpropertybeanwrapperimpljava499 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryconvertforpropertyabstractautowirecapablebeanfactoryjava1497 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryapplypropertyvaluesabstractautowirecapablebeanfactoryjava1456 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorypopulatebeanabstractautowirecapablebeanfactoryjava1192 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava537 81 more caused by javalangillegalstateexception cannot convert value of type progressmessagejclientconnectionfactory to required type javaxjmsconnectionfactory for property targetconnectionfactory no matching editors or conversion strategy found orgspringframeworkbeanstypeconverterdelegateconvertifnecessarytypeconverterdelegatejava267 orgspringframeworkbeansbeanwrapperimplconvertifnecessarybeanwrapperimpljava459 87 more code, 
add accepted media type support to tap currently the initial tap module accepted media types are not retrieved from the module when creating the tap,0
as a user im trying to create a composed job with 20 stepstransitions using rabbit as the message bus and it doesnt complete successfully,3
ui implement job deployundeploy from the job definitions page from xd-1023 the job statusdeployedundeployed is available from jobinstance repository and a job can be deployedundeployed correctly implement job deployundeploy for a given job from jobdefinitions page and indicate status of the job definition deployedundeployed,0
cleanup embedded container story the --embeddedx options are a bit confusing in code right now as the admin can embed the container and vice-versa i guess we should only keep the admincontainer side of things,0
version xd dependencies with spring io platform versioning all the xd artifacts dependencies need to be updated with the versions that in line with spring io platforms standard versioning,0
make deployment timeout configurable currently moduledeploymentwriter uses default timeout 30s which can not be overridden we need to make this configurable,0
create config support based on channel registry type we need to have the xd container admin reading the registry specific property based on the registry type selected from mark f on one of the code review comments maybe rather than having redis rabbit etc properties all within a containerproperties we should rely upon naming conventions instead specifically we could have a single configurable property for the type of channel registry redis rabbit or local being possible values and then we could use something like import resourceconfigregistrytypexml contextproperty-placeholder locationconfigregistrytypeproperties,0
add create and deploy methods to tapscontroller see httpsdocsgooglecomagopivotalcomdrawingsd1kcnbvsprbjgc10itf9cskwst8wgcjgg3wgzfkqlcazuedit create tapscontroller if necessary,0
create reactormessagehandler for reactor based xd processorsink modules the module should be flexible to act as a sink as well as a processor errorhandling will be considered as part of another jira,0
ui add analytics tab,0
close hdfs file when batch job ends the file to hdfs batch job will not close the file being written to in hdfs when the job completes the itemwriter for hdfs needs to incorporate functionality that is present in the standard flatfilewriter perhaps inheriting from abstractitemstreamitemwriter,0
speed up upload of module launcher jar upload of module launcher bits is slow because we do not take into account the cc cache to fix this we need to use an async upload and to somehow generate the sha etc for the module launcher so that cc can pre-empt uploading all the bits every time,0
message bus optimizations kafka redis,0
update xd-ec2 to use placement groups,0
twittersearch arrayindexoutofboundsexception noformat 04430715 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 255 groovyjsoninternalcharbufdoaddjsonescapedstringcharbufjava525 groovyjsoninternalcharbufaddjsonescapedstringcharbufjava394 groovyjsoninternalcharbufaddjsonescapedstringcharbufjava357 groovyjsonjsonoutputwritecharsequencejsonoutputjava309 groovyjsonjsonoutputwriteobjectjsonoutputjava260 groovyjsonjsonoutputwritemapjsonoutputjava425 groovyjsonjsonoutputwriteobjectjsonoutputjava270 groovyjsonjsonoutputwriteiteratorjsonoutputjava442 groovyjsonjsonoutputwriteobjectjsonoutputjava272 groovyjsonjsonoutputwritemapjsonoutputjava425 groovyjsonjsonoutputwriteobjectjsonoutputjava270 groovyjsonjsonoutputwritemapjsonoutputjava425 groovyjsonjsonoutputtojsonjsonoutputjava204 orgspringframeworkintegrationxtwittertwittersearchchanneladapterdosendlinetwittersearchchanneladapterjava137 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtask2extractdataabstracttwitterinboundchanneladapterjava200 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtask2extractdataabstracttwitterinboundchanneladapterjava186 orgspringframeworkwebclientresttemplatedoexecuteresttemplatejava549 orgspringframeworkwebclientresttemplateexecuteresttemplatejava517 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtaskreadstreamabstracttwitterinboundchanneladapterjava180 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtaskrunabstracttwitterinboundchanneladapterjava158 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava54 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava178 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava292 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 204430718 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204431136 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 255 groovyjsoninternalcharbufdoaddjsonescapedstringcharbufjava525 groovyjsoninternalcharbufaddjsonescapedstringcharbufjava394 groovyjsoninternalcharbufaddjsonescapedstringcharbufjava357 groovyjsonjsonoutputwritecharsequencejsonoutputjava309 groovyjsonjsonoutputwriteobjectjsonoutputjava260 groovyjsonjsonoutputwritemapjsonoutputjava425 groovyjsonjsonoutputwriteobjectjsonoutputjava270 groovyjsonjsonoutputwriteiteratorjsonoutputjava442 groovyjsonjsonoutputwriteobjectjsonoutputjava272 groovyjsonjsonoutputwritemapjsonoutputjava425 groovyjsonjsonoutputwriteobjectjsonoutputjava270 groovyjsonjsonoutputwritemapjsonoutputjava425 groovyjsonjsonoutputtojsonjsonoutputjava204 orgspringframeworkintegrationxtwittertwittersearchchanneladapterdosendlinetwittersearchchanneladapterjava137 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtask2extractdataabstracttwitterinboundchanneladapterjava200 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtask2extractdataabstracttwitterinboundchanneladapterjava186 orgspringframeworkwebclientresttemplatedoexecuteresttemplatejava549 orgspringframeworkwebclientresttemplateexecuteresttemplatejava517 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtaskreadstreamabstracttwitterinboundchanneladapterjava180 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtaskrunabstracttwitterinboundchanneladapterjava158 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava54 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava178 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava292 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 204431137 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204431525 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 255 groovyjsoninternalcharbufdoaddjsonescapedstringcharbufjava525 groovyjsoninternalcharbufaddjsonescapedstringcharbufjava394 groovyjsoninternalcharbufaddjsonescapedstringcharbufjava357 groovyjsonjsonoutputwritecharsequencejsonoutputjava309 groovyjsonjsonoutputwriteobjectjsonoutputjava260 groovyjsonjsonoutputwritemapjsonoutputjava425 groovyjsonjsonoutputwriteobjectjsonoutputjava270 groovyjsonjsonoutputwriteiteratorjsonoutputjava442 groovyjsonjsonoutputwriteobjectjsonoutputjava272 groovyjsonjsonoutputwritemapjsonoutputjava425 groovyjsonjsonoutputwriteobjectjsonoutputjava270 groovyjsonjsonoutputwritemapjsonoutputjava425 groovyjsonjsonoutputtojsonjsonoutputjava204 orgspringframeworkintegrationxtwittertwittersearchchanneladapterdosendlinetwittersearchchanneladapterjava137 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtask2extractdataabstracttwitterinboundchanneladapterjava200 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtask2extractdataabstracttwitterinboundchanneladapterjava186 orgspringframeworkwebclientresttemplatedoexecuteresttemplatejava549 orgspringframeworkwebclientresttemplateexecuteresttemplatejava517 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtaskreadstreamabstracttwitterinboundchanneladapterjava180 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtaskrunabstracttwitterinboundchanneladapterjava158 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava54 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava178 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava292 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 204431526 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204431948 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 255 groovyjsoninternalcharbufdoaddjsonescapedstringcharbufjava525 groovyjsoninternalcharbufaddjsonescapedstringcharbufjava394 groovyjsoninternalcharbufaddjsonescapedstringcharbufjava357 groovyjsonjsonoutputwritecharsequencejsonoutputjava309 groovyjsonjsonoutputwriteobjectjsonoutputjava260 groovyjsonjsonoutputwritemapjsonoutputjava425 groovyjsonjsonoutputwriteobjectjsonoutputjava270 groovyjsonjsonoutputwriteiteratorjsonoutputjava442 groovyjsonjsonoutputwriteobjectjsonoutputjava272 groovyjsonjsonoutputwritemapjsonoutputjava425 groovyjsonjsonoutputwriteobjectjsonoutputjava270 groovyjsonjsonoutputwritemapjsonoutputjava425 groovyjsonjsonoutputtojsonjsonoutputjava204 orgspringframeworkintegrationxtwittertwittersearchchanneladapterdosendlinetwittersearchchanneladapterjava137 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtask2extractdataabstracttwitterinboundchanneladapterjava200 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtask2extractdataabstracttwitterinboundchanneladapterjava186 orgspringframeworkwebclientresttemplatedoexecuteresttemplatejava549 orgspringframeworkwebclientresttemplateexecuteresttemplatejava517 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtaskreadstreamabstracttwitterinboundchanneladapterjava180 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtaskrunabstracttwitterinboundchanneladapterjava158 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava54 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava178 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava292 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 204431949 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204432345 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204432346 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204432727 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204432727 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204433103 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204433104 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204433548 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204433548 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204433935 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204433935 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204434318 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204434318 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204434696 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204434696 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204435060 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204435061 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204435445 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204435445 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204435825 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204435825 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204436221 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204436221 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204436602 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204436602 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204437006 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204437006 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204437396 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204437396 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204437790 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204437790 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204438179 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204438179 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204438559 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204438559 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204438967 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204438967 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204439365 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204439365 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204439747 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204439747 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204440179 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204440179 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204440596 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204440597 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204440978 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204440979 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204441342 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204441342 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204441732 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204441732 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204442125 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204442126 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204442511 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204442512 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204442918 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204442918 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204443309 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204443309 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204443689 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream javalangarrayindexoutofboundsexception 204443689 warn task-scheduler-6 twittertwittersearchchanneladapter231 - exception while reading stream waiting for 250 ms before restarting 204444071 warn task-scheduler-6 twittertwittersearchchanneladapter173 - exception while reading stream,0
create separate distribution for shell create zip distribution for shell,0
the hdfs sink should support writing pojos to hdfs using avro serialization writing pojos using cdk data avro we should support both partitioned and un-partitioned this story addresses only un-partitioned document limitations in terms of which java types are supported and not supported by the avro serialization,0
xd scripts lib path needs to be dynamic we currently have the manually created xd scripts this makes it difficult to maintain as the lib path is error prone with the changes we need to make sure that the properties such as lib path etc are dynamically updated,0
as a user i want to know my configuration options are for enabling sslhttps and basic authentication for administration endpoints so that i can secure my application,1
exception thrown when accessing jolokia via the management context path when trying to access jolokia via the managementjolokia httplocalhost9393managementjolokia i get the following exception errortypejavalangillegalargumentexceptionerrorjavalangillegalargumentexception no type with name management existsstatus400stacktracejavalangillegalargumentexception no type with name management existsntat orgjolokiautilrequesttypegettypebynamerequesttypejava69ntat orgjolokiarequestjmxrequestfactorycreategetrequestjmxrequestfactoryjava94ntat orgjolokiahttphttprequesthandlerhandlegetrequesthttprequesthandlerjava78ntat orgjolokiahttpagentservlet3handlerequestagentservletjava298ntat orgjolokiahttpagentservlethandleagentservletjava229ntat orgjolokiahttpagentservletdogetagentservletjava194ntat javaxservlethttphttpservletservicehttpservletjava621ntat javaxservlethttphttpservletservicehttpservletjava728ntat orgspringframeworkwebservletmvcservletwrappingcontrollerhandlerequestinternalservletwrappingcontrollerjava158ntat orgspringframeworkwebservletmvcabstractcontrollerhandlerequestabstractcontrollerjava154ntat orgspringframeworkbootactuateendpointmvcjolokiamvcendpointhandlejolokiamvcendpointjava120ntat sunreflectnativemethodaccessorimplinvoke0native methodntat sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57ntat sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43ntat javalangreflectmethodinvokemethodjava606ntat orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeinvocablehandlermethodjava215ntat orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava132ntat orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava104ntat orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlemethodrequestmappinghandleradapterjava749ntat orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava689ntat orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava83ntat orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava938ntat orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava870ntat orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava961ntat orgspringframeworkwebservletframeworkservletdogetframeworkservletjava852ntat javaxservlethttphttpservletservicehttpservletjava621ntat orgspringframeworkwebservletframeworkservletserviceframeworkservletjava837ntat javaxservlethttphttpservletservicehttpservletjava728ntat orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava305ntat orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210ntat orgspringframeworkbootactuatetracewebrequesttracefilterdofilterwebrequesttracefilterjava115ntat orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243ntat orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210ntat orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconfigurationapplicationcontextfilterconfiguration1dofilterinternalendpointwebmvcautoconfigurationjava137ntat orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108ntat orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243ntat orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210ntat orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinternalhiddenhttpmethodfilterjava77ntat orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108ntat orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243ntat orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210ntat orgspringframeworkwebfilterhttpputformcontentfilterdofilterinternalhttpputformcontentfilterjava88ntat orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108ntat orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243ntat orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210ntat orgspringframeworkbootactuateautoconfiguremetricfilterautoconfigurationmetricsfilterdofilterinternalmetricfilterautoconfigurationjava85ntat orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108ntat orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243ntat orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210ntat orgapachecatalinacorestandardwrappervalveinvokestandardwrappervalvejava222ntat orgapachecatalinacorestandardcontextvalveinvokestandardcontextvalvejava123ntat orgapachecatalinaauthenticatorauthenticatorbaseinvokeauthenticatorbasejava472ntat orgapachecatalinavalvesremoteipvalveinvokeremoteipvalvejava680ntat orgapachecatalinacorestandardhostvalveinvokestandardhostvalvejava171ntat orgapachecatalinavalveserrorreportvalveinvokeerrorreportvalvejava99ntat orgapachecatalinacorestandardenginevalveinvokestandardenginevalvejava118ntat orgapachecatalinaconnectorcoyoteadapterservicecoyoteadapterjava407ntat orgapachecoyotehttp11abstracthttp11processorprocessabstracthttp11processorjava1004ntat orgapachecoyoteabstractprotocolabstractconnectionhandlerprocessabstractprotocoljava589ntat orgapachetomcatutilnetnioendpointsocketprocessorrunnioendpointjava1680ntat javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145ntat javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615ntat javalangthreadrunthreadjava724n,0
homogenize container initialization failures if redis is not running the container fails to initialize in containermainlaunch because the connection factory attempts to eagerly connect if rabbitmq is not running the container fails to initialize in abstractcontainerlauncherlaunch make the failure behavior consistent from a user perspective and add a spring-retry retrytemplate to retry container startup,0
vary queue number b-7 based on the the results from b-6 select the number of consumerproducers that give a distinct 5 increase in message rate below 5 change in message rate prefer lower consumerproducer count vary the number of perftest instances that are run simultaneously and use their own independent queue from 1 until the overall messagessec on the broker plateaus note the cpu performance using top for the broker and perftest processes test 1 2 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 test 2 3 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q3 -p -x 1 -y 1 -s 1000 -z 60 -q 500 test 3 4 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q3 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q4 -p -x 1 -y 1 -s 1000 -z 60 -q 500 test 4 5 queues -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q3 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q4 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q5 -p -x 1 -y 1 -s 1000 -z 60 -q 500 etc,0
the lib directory for hadoop12 contains mix of hadoop versions this causes issues depending on which version of the corecommon jar gets loaded first - like xdhadoop fs ls -ls fatal internal error javalangunsupportedoperationexception not implemented by the distributedfilesystem filesystem implementation at orgapachehadoopfsfilesystemgetschemefilesystemjava213 at orgapachehadoopfsfilesystemloadfilesystemsfilesystemjava2401 at orgapachehadoopfsfilesystemgetfilesystemclassfilesystemjava2411 at orgapachehadoopfsfilesystemcreatefilesystemfilesystemjava2428 at orgapachehadoopfsfilesystemaccess200filesystemjava88 at orgapachehadoopfsfilesystemcachegetinternalfilesystemjava2467 at orgapachehadoopfsfilesystemcachegetfilesystemjava2449 at orgapachehadoopfsfilesystemgetfilesystemjava367 at orgapachehadoopfsfilesystemgetfilesystemjava166 at orgapachehadoopfsfilesystemgetfilesystemjava351 at orgapachehadoopfspathgetfilesystempathjava287 at orgapachehadoopfsshellpathdataexpandasglobpathdatajava325 at orgapachehadoopfsshellcommandexpandargumentcommandjava224 at orgapachehadoopfsshellcommandexpandargumentscommandjava207 at orgapachehadoopfsshellcommandprocessrawargumentscommandjava190 at orgapachehadoopfsshellcommandruncommandjava154 at orgapachehadoopfsfsshellrunfsshelljava255 at orgspringframeworkxdshellhadoopfsshellcommandsrunfsshellcommandsjava412 at orgspringframeworkxdshellhadoopfsshellcommandsruncommandfsshellcommandsjava407 at orgspringframeworkxdshellhadoopfsshellcommandslsfsshellcommandsjava110 at sunreflectnativemethodaccessorimplinvoke0native method at sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 at sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 at javalangreflectmethodinvokemethodjava606 at orgspringframeworkutilreflectionutilsinvokemethodreflectionutilsjava191 at orgspringframeworkshellcoresimpleexecutionstrategyinvokesimpleexecutionstrategyjava64 at orgspringframeworkshellcoresimpleexecutionstrategyexecutesimpleexecutionstrategyjava48 at orgspringframeworkshellcoreabstractshellexecutecommandabstractshelljava127 at orgspringframeworkshellcorejlineshellpromptloopjlineshelljava483 at orgspringframeworkshellcorejlineshellrunjlineshelljava157 at javalangthreadrunthreadjava724,0
documentation for aggregatecounter add section to analytics chapter on use of aggregatecounter the example should show the use of the shell to create the tap that uses the aggregatecounter,0
batch-hive module from spring-xd-samples project is not working version spring xd version spring-xd-130release spring-xd-130release-yarn os version linux 2632-431292el6x8664 java version java version 17065 description the batch-hive job in the spring-xd-samples project link httpsgithubcomspring-projectsspring-xd-samplestreemasterbatch-hive is failing with inline error message steps to recreate the problem 1 created a jar for batch-hive job 2 once the final jar was ready uploaded using module upload --name testhivemodule --type job --file homeuserjarbatchhivejar 3 after that created and deployed job using job create --name testhivejob --definition testhivemodule --deploy 4 finally launched using job launch testhivejob which failed with inline error describe xd deployment distributed deployment type distributed - yarn on aws ec2 cloud number of xd-admins and xd-containers 1 admin and 3 containers describe other components transport redis 301 zookeeper version 3462320-2950 hadoop deployment data platform hortonworks hdp 2320-2950 rdbms mysql error message info deploymentsupervisor-0 zkzkjobdeploymenthandler - deployment status for job testhivejob deploymentstatusstatefailederrorsorgspringframeworkbeansfactorybeancreationexception error creating bean with name hive cannot resolve reference to bean hive-tasklet while setting bean property tasklet nested exception is orgspringframeworkbeansfactorybeancreationexception error creating bean with name hive-tasklet initialization of bean failed nested exception is javalangnoclassdeffounderror orgapachehadoophiveservicehiveclient at orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvereferencebeandefinitionvalueresolverjava359 at orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvevalueifnecessarybeandefinitionvalueresolverjava108 at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryapplypropertyvaluesabstractautowirecapablebeanfactoryjava1481 at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorypopulatebeanabstractautowirecapablebeanfactoryjava1226 at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava543 at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava482 at orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava305 at orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava230 at orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava301 at orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava196 at orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava753 at orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava835 at orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava537 at orgspringframeworkbootspringapplicationrefreshspringapplicationjava686 at orgspringframeworkbootspringapplicationrunspringapplicationjava320 at orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 at orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava213 at orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava217 at orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 at orgspringframeworkxddirtservercontainerdeploymentlistenerdeploymoduledeploymentlistenerjava365 at orgspringframeworkxddirtservercontainerdeploymentlistenerdeployjobmoduledeploymentlistenerjava291 at orgspringframeworkxddirtservercontainerdeploymentlisteneronchildaddeddeploymentlistenerjava181 at orgspringframeworkxddirtservercontainerdeploymentlistenerchildeventdeploymentlistenerjava149 at orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 at orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 at orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 at comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 at orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 at orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 at orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 at orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 at javautilconcurrentfuturetaskrunfuturetaskjava266 at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 at javautilconcurrentfuturetaskrunfuturetaskjava266 at javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 at javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 at javalangthreadrunthreadjava745 caused by orgspringframeworkbeansfactorybeancreationexception error creating bean with name hive-tasklet initialization of bean failed nested exception is javalangnoclassdeffounderror orgapachehadoophiveservicehiveclient at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava553 at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava482 at orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava305 at orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava230 at orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava301 at orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava196 at orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvereferencebeandefinitionvalueresolverjava351 37 more caused by javalangnoclassdeffounderror orgapachehadoophiveservicehiveclient at javalangclassgetdeclaredmethods0native method at javalangclassprivategetdeclaredmethodsclassjava2701 at javalangclassgetdeclaredmethodsclassjava1975 at orgspringframeworkutilreflectionutilsgetdeclaredmethodsreflectionutilsjava606 at orgspringframeworkutilreflectionutilsdowithmethodsreflectionutilsjava518 at orgspringframeworkutilreflectionutilsdowithmethodsreflectionutilsjava504 at orgspringframeworkbeansfactoryannotationautowiredannotationbeanpostprocessordeterminecandidateconstructorsautowiredannotationbeanpostprocessorjava241 at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydetermineconstructorsfrombeanpostprocessorsabstractautowirecapablebeanfactoryjava1069 at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeaninstanceabstractautowirecapablebeanfactoryjava1042 at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava510 at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava482 at orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava305 at orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava230 at orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava301 at orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava196 at orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvereferencebeandefinitionvalueresolverjava351 at orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvevalueifnecessarybeandefinitionvalueresolverjava108 at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryapplypropertyvaluesabstractautowirecapablebeanfactoryjava1481 at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorypopulatebeanabstractautowirecapablebeanfactoryjava1226 at orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava543 43 more caused by javalangclassnotfoundexception orgapachehadoophiveservicehiveclient at javaneturlclassloaderfindclassurlclassloaderjava381 at javalangclassloaderloadclassclassloaderjava424 at sunmisclauncherappclassloaderloadclasslauncherjava331 at javalangclassloaderloadclassclassloaderjava357 63 more,0
as a qa id like to include acceptance test coverage for mail sink module so that i can validate the functionality as part of every ci build,3
support the ability for a user to create composite modules that can accept parameters parser creates a module compose command that allows a user to create a module of other modules this composed module can accept parameters,0
parameter parsing does not work if an argument contains -- parameter parsing does not work if an argument contains -- for example code transform --expression42 transform --expression--payload code also i was surprised that this worked code transform --expressionnew stringbuilderpayloadreverse code but this didnt code transform --expressionnew stringbuilderpayloadreverse code i think we need to tokenize the argument with if contains spaces and remove any surrounding from the result this means if someone wants a spel literal they would have to use something like code--expressionhello worldcode resulting in a spel literal hello world,0
users need the ability to provision an xd cluster on ec2 via command line tool we need the ability to run an xd cluster to get a handle on general issues and missing features based on running the system in a true clustered environment we dont need to make this an end-user facing feature in the short term eg set a few keys in the shell and then install via a shell command,0
as a qa id like to include acceptance test coverage for field-value-counter sink module so that i can validate the functionality as part of every ci build,3
create simple gague service a gauge just stores a number implementations for in-memory and redis,0
add caching to moduleoptionsmetadataresolver will likely involve having the module identity typename be part of the optionsmetadata identitycache key,0
create project home page for springxd on springsourceorgspring-xd a minimal project page of a top level project page that has basic information of docs and links to the github wiki page no need to list maven coordinates,0
add email source,0
add jdbc source as an user id like to have a native jdbc source module to ingest data directly from various databases,0
scs- rename codec packages,0
update batch modules to be short lived h2 narrative as a developer id like a job module to be bootstrapped when the job is launched and shut down once it is complete instead of the current behavior of bootstrapping the context when the module is deployed regardless of if its being used so that i can achieve better resource utilization h2 back story while streams are never ending batch jobs have a true lifecycle with a beginning and and end by having a job bootstrapped when its not executing it eats up precious resources for example if i have a job that creates connections to a database via a connection pool the job module will hold those connections from the moment its deployed to the moment its undeployed even if the job isnt being executed a more efficient use of resources would be to have the job module provide just enough to receive the launch request and then bootstrap the jobs context h2 notes httpsdocsgooglecomdocumentd1q964adrca-kjkei0gbtojhlxjjtv7tatpqt0ymsbcedit,0
ui for hadoop steps - provide a link to the mapreduce job details in hadoop,0
as a user id like to have the option to ack messages so that i can guarantee that the messagerequest sent is successful,3
as a s-c-s user id like to use kinesis module so i can use it as source module to build streaming pipeline,2
update batch job docs to cover triggers as a source,0
copy latest build to s3 after a xd build,0
replace usage of raw curl with shell command to post http data in documentation eg httplocalhost8080post httpsource --target httplocalhost9090 --data 10 i believe this will also help to avoid ugly syntax to escaping quotes for json as in the gemfire example,0
remove external config properties for modules there are some modules that use external config properties kafka producerconsumer hadoop properties etc we need to avoid using such properties and have them configured inside module so that module and its properties are self contained,0
update creating a custom source module doc with a different si adapter due to twitter issues httpsgithubcomspringsourcespring-xdwikicreating-a-source-module uses the si twittersearch inbound channel adapter which is no longer going to work once twitter disallows anonymous searches ideally we update the example to use a new version of si-twitter that adds support for this as opposed to the xd workaround,0
spring-xd shell cant run commands with kerberized cdh 430 basically when i launch the spring-xd shell i cant interact with the namenode i receive security violations despite the fact that i try and set the proper configs authenticationauthorization truekerberos details of this issue can be found here httpstackoverflowcomquestions19258321the-spring-xd-xd-shell-cant-run-the-hadoop-fs-ls-command-the-command-returns,0
cant access hdfs using webhdfs protocol httplocalhost8080hadoop config fs --namenode webhdfslocalhost50070 httplocalhost8080hadoop fs ls hadoop configuration changed re-initializing shell run hdfs shell failed message is orgmortbayutilajaxjson this was on a hadoop 101 install the hdfs http interface was available curl -i httplocalhost50070webhdfsv1tmpopgetfilestatus http11 200 ok content-type applicationjson transfer-encoding chunked server jetty6126 filestatusaccesstime0blocksize0groupsupergrouplength0modificationtime1365015846724ownermpollackpathsuffixpermission777replication0typedirectory,0
spring xd should log the address of the admin ui when i start xd-singlenode for instance i would expect to see httplocalhost9393admin-ui listed in the logs,0
add contributingmd file add contributingmd file use the spring integration file as the basis,0
ensure job definitions are escaped in ui if using the definition aaa bbb where the definition starts with a and ends with a the definition for the composed job does not appear on the definition page,0
as a qa id like to include acceptance test coverage for aggregate-counter sink module so that i can validate the functionality as part of every ci build,3
kafka profiling for base distributed base benchmarks,0
remove test scripts from xd the acceptance tests cover the entire suite of script tests thus they are no longer needed the only test that was remaining was posting 10 messages to a http source and writing to a long and making sure we didnt get an error this test httpbash was never called from the scripts ci build,0
make the parser aware of message conversion configuration enhance the stream parser to take message conversion into account in order to validate or automatically configure converters for example noformatnopaneltrue source --outputtypemyfoo sink --inputtypesomeotherbar is likely invalid since xd doesnt know how to convert foo-bar noformat,0
as a developer id like to upgrade to shdp ga release so that i can sync -up with the latest bits,1
improve itemwriter in ootb jdbchdfs to use datastorewriter the current jdbchdfs job does not take advantage of all the features available to write into hdfs provided by spring hadoops datastorewriter implementations such as partitioning update the jdbchdfs job to use int-hadoopstore-writer similar to the hdfs sink inside a new itemwriter implementation,0
create gemfire test port httpsgithubcomspring-projectsspring-xdblobmastersrctestscriptsgemfirestreamtests need to consider how to start the server maybe use the jvm fork utilities look into spring-data-gemfire as well,0
deploy a new job module after xd-singlenode container has started after the xd-singlenode process has started create a new job that has dependencies not already in the parent application context and then create and run a new job that uses the new module implementation suggestions develop in the test tree we can put in the jar and config from httpsgithubcomspringsourcespring-xd-samplestreemasterbatch-simple how to verify it works in a junit test case copy in a new job that has new dependencies copy the lib and config directories into the location where the moduleregisty will pick it up deploy a new job and check in the job repository that the job ran and was successful,0
as a user id like to use spel expressions inline at the stream definition level so i can operate on the payload consistently while using any ootb including the custom modules,5
as a qa id like to include acceptance test coverage for throughput-sampler sink module so that i can validate the functionality as part of every ci build,3
basic authentication realm is always null besides the basic authentication realm being always null securitybasicrealm is always ignored,0
composite multiple sink module this would allow multiple individual sink modules to be combined via the shell dsl so that each message sent to the composite sink module will be sent to each of the individual sink modules in turn internally this would probably use a recipient list router to send to each individual sink module options for each individual sink would be combined to create the overall options for the composite sink module in a similar way to existing composite modules this would allow construction of streams with less communication with the message bus for example as an alternative to using a named topic in the message bus using this in conjunction with sinks built using existing composite module functionality as a combination of processors and a sink would allow more sophisticated combinations to be constructed and deployed as a single module with no message bus communication one particular application of this would be with tap and counter functionality if multiple fields in a message need counted this currently needs to be done as separate streams tapping the original with the overhead of the tapped message being read from the message bus multiple times potentially on different nodes this enhancement would allow all the counters to be combined to make a more cohesive composite counter module so that the tapped message would only need to be read once,0
as a user id like to use boot-based modulerunner for use in container-managed environments so i can run xd without xd-containers scope complete the remaining deployment properties work,5
pom generation creates the correct dependency list we are referencing springio deps when we shouldnt since we moved to a different version of boot than in in the platform,0
as a user id like to have the option to provide single-user security configurations so that i can override them as needed reference spring boot - securityhttpdocsspringiospring-bootdocs11x-snapshotreferencehtmlboot-features-securityhtml scope configurations can be provided through serversyml file,1
container launcher id is not unique xd containers id is set to use its application context id which is derived from vcapapplicationnamespringapplicationnamespringconfignameapplicationvcapapplicationinstanceindexspringapplicationindexserverportportnull with the default valuesthe port is not set and embedded tomcat uses local port the launcher id is set to application0 when i have multiple launchers then all the launchers have the same id as application0 which doesnt seem correct do we need to use the id that is generated at the xdcontainers constructor here public xdcontainer thisid uuidrandomuuidtostring,0
rest api for dsl completion should allow extension the rest api for dsl completion currently returns a liststring this prevents future backwards compatible extension should change to listcompletion where completion has eg a text property,0
update xdec2validation to reference rootmanagement endpoint change jolokialist to managementjolokialist etc,0
document idletimeout setting document --idletimeout setting to not exceed the hdfs timeout value,0
create ootb batch job that moved data from jdbc to hdfs basic inverse of current hdfsjdbc job,0
add bash based scripts of simple module create to srcmainscripts,0
upgrade to spring integration 410 as to prepare for 11 release we would like to upgrade to spring integration 410 rc so that we can leverage the new features enhancement and bug fixes,0
remove the s3 xd jar cache originally it was placed in the code to prevent overtasking our servers with downloads when people want to install xd and to allow for faster downloads however xd jars are already placed on s3 so this feature is no longer needed,0
shell resttemplate not posting using utf-8 the http post command uses the default mediatype by the resttemplate which in return triggers the default stringhttpmessageconverter which itself uses the default charset iso-8859-1 this creates issues when posting special characters,0
add --verbose option to display all property values,0
xd shell crashes when the stream dsl has the xd shell crashes when the following command issued stream create test --definition http filter --expressionpayloadcontainstest log it looks like the jline consolereaders expandevents is set to true by default and this causes the issue exception in thread spring shell javalangillegalargumentexception payloadcontainstest log event not found jlineconsoleconsolereaderexpandeventsconsolereaderjava734 jlineconsoleconsolereaderfinishbufferconsolereaderjava604 jlineconsoleconsolereaderacceptconsolereaderjava1912 jlineconsoleconsolereaderreadlineconsolereaderjava2537 jlineconsoleconsolereaderreadlineconsolereaderjava2162 jlineconsoleconsolereaderreadlineconsolereaderjava2150 orgspringframeworkshellcorejlineshellpromptloopjlineshelljava517 orgspringframeworkshellcorejlineshellrunjlineshelljava178 javalangthreadrunthreadjava722,0
as a pm id like to have a static ghpages to organize the collateral such as samples tutorials links perf benchmarks and ref architectures so that its easy for anyone to quickly get up and running on xd,5
review dsl updated story points to 14 since 5 of us just participated in a 2 hour call and we still need to discuss topology support after some dev spikes later this week,0
hdfsjdbc acceptance test,0
cannot destroy tap if tapped stream is already destroyed xdtap destroy mytap 164441850 warn spring shell clientresttemplate524 - delete request for httplocalhost8080tapsmytap resulted in 400 bad request invoking error handler command failed orgspringframeworkxdrestclientimplspringxdexception xd116epos 4 unrecognized stream reference foo tap foohttp log tap is then still listed when i do a tap list,0
as a user i logged in with rolecreate and i get an error while trying job creation from adminui i can create job from the shell successfully trying the same workflow with roleadmin results with the same error as well i dont see anything in the admincontainer logs about the error itself,1
support groovy bean definitions as xd extensions modify the plugincontextextensionsinitializer to consume groovy bean definitions as well as xml,0
clean up duplicated dependencies from xd on yarn installation remove unnecessaryduplicated jars from the lib directory in spring-xd-yarn zip distribution,0
as a follow-up to kafka message bus support we would like to rerun the failing tests after upgrading to new consumerhttpscwikiapacheorgconfluencedisplaykafkakafka09consumerrewritedesign rewrite response from kafka supporthttpmail-archivesapacheorgmodmboxkafka-users201410mbox3ccahwhrrwzmlr94ehx1z5i36byz2b3dcisx7gcbw1nn7oonjcshmw40mailgmailcom3e,3
support map payloads in field-value-counter the fieldvaluecounterhandler handles pojo tuple and json jsonpath emits a linkedhashmap the handler should natively support a map see httpstackoverflowcomquestions33270926springxds-field-value-counter-doesnt-work-after-splitting-json-object-array-in3328178333281783,0
fix filejdbc batch job filejdbc throws an exception code javalangillegalargumentexception could not resolve resource location pattern mycsvdircsv class path resource mycsvdir cannot be resolved to url because it does not exist code this can be solved by using a file prefix maybe just update the docs,0
xd ui on yarn technically speaking of we want to integrate xd ui on hadoop tools we should do it so that the proxy on resource manager works with xd ui from hadoop yarn resource manager point of view this proxied url is the applications tracking urlwhich is registered when application is deployed,0
user wants the ability to limit the total number of jobs a trigger can have running simultaneously,0
sqooprunner class not found errror we have installed the springxd 12 m1 release via the rpm and it seems that the sqoop-145-hadoop200jar file are not part of the rpm the sqoop jar file are not in the xdlib directory this is causing a problem during customer module development if we include the sqoop-145-hadoop200 dependency as part of the pom file and forces us to redeploy the our jar as separate deployment should we be referencing different dependencies or have or should the sqoop-145-hadoop200jar be part of the rpm definition so it part of the xdlib i have currently the following dependency in the pom file code -- sqoop -- dependency groupidorgapachesqoopgroupid artifactidsqoopartifactid version145version classifierhadoop200classifier dependency code it would be great be great if the sqoop jar are part of rpm so we dont have to do any additional jar deployment thanks,0
create documentation on the general dsl syntax the asciidoc wiki should have a section included in the sidebarasciidoc as well that describes the general usage of the dsl syntax,0
set fixed npm version for grunt gradle plugin ensure build works in windows environments,0
as a developer id like to bench rabbit on rackspace infrastructure so i can have a sense on how it scales as we add more xd-container nodes,5
as a user i want to be able to provide security credentials to the xd shell so that i can interact with an xd admin server that is secured via basic auth technical implementation add ---password and --username to the admin config command,4
add docs or reference for standard shell commands eg script httpstackoverflowcomquestions24819401how-to-get-spring-xd-to-deploy-a-predefined-set-of-streams-and-taps-on-startup it is documented here httpsgithubcomspring-projectsspring-xdwikishellexecuting-a-script but maybe it should also be at the top of the appendix httpsgithubcomspring-projectsspring-xdwikishellreference,0
support for registering custom message converters users need to register custom message converters used by modules,0
as a field engineer id like to have a comparison of spark streaming examples in spring xd so that it is easy to relate from implementation standpoint,5
address already in use for tomcathsqldb should fail completly currently process is left running and if logs sysout are not monitored you have no clue,0
garbage in job repo causes list failure for some reason the partitioned batch jobs are storing stepexecutionss in the db with a null id this causes jobcommandteststestliststepexecutionsforspecificjobexecution to fail because the hateos code asserts not null code 182526185 error http-nio-9393-exec-3 restrestcontrolleradvice186 - caught exception while handling a request javalangillegalargumentexception assertion failed - this argument is required it must not be null orgspringframeworkutilassertnotnullassertjava112 orgspringframeworkutilassertnotnullassertjava123 orgspringframeworkhateoasmvcresourceassemblersupportcreateresourcewithidresourceassemblersupportjava87 orgspringframeworkxddirtreststepexecutioninforesourceassemblertoresourcestepexecutioninforesourceassemblerjava39 orgspringframeworkxddirtrestbatchstepexecutionscontrollerlistbatchstepexecutionscontrollerjava107 code for some reason the query for objects with the jobexecutionid also returned these two objects with null keys blowing away my data directory fixes the problem until i run another partitioned batch job i need to figure out why spring batch is creating these bad records but we should probably add some defensive code to protect against null ids you can reproduce by building against my xd-1146 branch,0
filepollhdfs is not writing results to hdfs xd deployment descriptionxd cluster 1 container environmentec2 type of testmanual test test failed onfilepollhdfs only test that was run build usedbuilt may 7 1029 utc from the shell attempted to create filepollhdfs however no results were written to hdfs hadoop22 the commands executed were the following job create myjob --definition filepollhdfs --namesforenamesurnameaddress --deploy stream create mystream --definition file --dir67fc27a6-224d-4c67-a02a-40730bcf8906 --patternout queuejobmyjob --deploy no warnings nor exceptions were displayed till i changed the log4jloggerorgspringframework to info and restarted the container then when i copied the sample file to the monitored directory the log reported 213007605 info deploymentspathchildrencache-0 modulemoduledeployer118 - deployed simplemodule namefile typesource groupmystream index0 61612c7c exception in thread inboundjobmyjob-redisqueue-inbound-channel-adapter1 orgspringframeworkmessagingcoredestinationresolutionexception failed to look up messagechannel with name errorchannel in the beanfactory and there is no headerchannelregistry present orgspringframeworkintegrationsupportchannelbeanfactorychannelresolverresolvedestinationbeanfactorychannelresolverjava108 orgspringframeworkintegrationsupportchannelbeanfactorychannelresolverresolvedestinationbeanfactorychannelresolverjava44 orgspringframeworkintegrationchannelmessagepublishingerrorhandlerresolveerrorchannelmessagepublishingerrorhandlerjava111 orgspringframeworkintegrationchannelmessagepublishingerrorhandlerhandleerrormessagepublishingerrorhandlerjava78 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava55 javalangthreadrunthreadjava724 caused by orgspringframeworkbeansfactorynosuchbeandefinitionexception no bean named errorchannel is defined orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorygetbeandefinitiondefaultlistablebeanfactoryjava641 orgspringframeworkbeansfactorysupportabstractbeanfactorygetmergedlocalbeandefinitionabstractbeanfactoryjava1159 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava282 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava200 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava273 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava200 orgspringframeworkintegrationsupportchannelbeanfactorychannelresolverresolvedestinationbeanfactorychannelresolverjava99 when using the attached sample file you need to rename the file to try2out,0
add --inputtype and --outputtype module parameters the ability to configure message conversion via parameters consider programatic configuration of data type channels values can be media type eg applicationjson or a java class name,0
remove xml rest endpoints the xml rest endpoints are not working correctly interfere with security are not used,0
http-client improvement userdefinedheaderprefix currently you cannot suppress or change the x- prefix on user-defined headers see httpstackoverflowcomquestions28118990passing-http-request-header-to-restapi-from-springxd-using-http-client-processor2815329128153291 add userdefinedheaderprefix property,0
implement list method on tapcontroller,0
splunk module is broken splunk sink module doesnt work at all it throws javalangverifyerror exception like following nested exception is javalangverifyerror class orgspringframeworkintegrationsplunkoutboundsplunkoutboundchanneladapter overrides final method oninitv this is because splunkoutputchanneladapter refers old spring integration jar but recent abstractreplyproducingmessagehandler which splunkoutputchanneladapter extends set final to oninit method hence it doesnt work splunkoutboundchanneladapter should be fixed to not override oninit method and replace the jar file spring-integration-splunk-100m1jar,0
change default container port from 9000 to something else change the default port since it conflicts with the default port for the http source,0
update dependencies to latest spring io platform versions httpsgithubcomspring-projectsgradle-pluginstreemasterspring-io-plugin is the starting point to introduce the appropriate plugin to check for the correct dependencies,0
as a user i should not be allowed to create a custom module with a reserved keywords so that i it will avoid confusions from seeing duplicate strings in deployment manifest example we would like to avoid a custom module name of producer to eliminate the confusion below code xdstream deploy --name test1 --properties moduleproducerproducerdeliverymode persistentmodulelogcriteriagroupscontainsgroup1 code list of available reserved keywordshttpsgithubcomspring-projectsspring-xdwikideploymentdeployment-properties,4
support json to object register a json to object converter in the defaultcontenttypeawareconverterregistry currently we only support object to json but not the other way this may or may not work for an arbitrary object but is useful in many cases,0
update master environment for 20 ci acceptance tests,0
add way to provide module config options for xd on yarn there seems to be some intersection with the work for this issue and the rationalization of how module properties are handled there will be changes to configurationproperty management support such that each module source sink etc will be able to also be overridden in spring-xdyml or wherever -dspringconfiglocation points to the hdfs sink module for example will have default values based on its optionsmetadata and will be of the form typemoduleoption that means in the configuration for hdfsxml sink there would be a config section such as codexml configuration fsdefaultnamesinkhdfshdfs mapredjobtrackersinkhdfshdjt yarnresourcemanageraddresssinkhdfshdrm mapreduceframeworknamesinkhdfsmrfw configuration code with default values defined by a hdfssinkoptionsmetadata class the hdfsxml module file would not contain any references to a properties file a file specified by -dspringconfiglocation could override the values in a config section such as sink hdfs hdfs hdfsfoobarhost8020 hdjt 101231231239000 etc,0
as a user id like flo graphs as screenshots while referring to the batch dsl so it will be easy for me to relate to concepts,1
create module options metadata for ootb jobs,0
composed modules cant have duplicate processors code xdmodule compose foo --definition time --fixeddelay5 t1transform --expressionpayloada t2transform --expressionpayloadtouppercase code produces 2016-05-02 172720aa - the first transform is applied twice,0
as a developer id like to add load generator source module so that i could use it for performance testing use-cases,3
issues with custom modules when using module configuration springxd seems to think that a module exists if there is a module configuration present there is also an issue of having to restart the node when theres been a problem with uploadingremoving a module when using springxd in single node on windows i uploaded a custom module and then added a folder and property file for it in the module configuration directory as specified in the documentation when i went to delete the module using the command in the springxd admin console it would say that it was successfull but when then listing the modules it would still be listed if i tried to upload a new version of that same module i would get an error stating that module already existed with the same name i would check the custom modules directory and my jar would not be there i would then have to manually delete the module configuration directory and restart springxd before being able to upload a new module having to replace my module configuration each time seems like there are three things wrong here should the presence of a module configuration alone inform springxd of a modules existence should one have to delete a module configuration before uploading a new version of the module when getting module deletionupload errors should one have to restart spring xd node to get it to allow the upload again,0
partition jobs jdbchdfs are running in sequence the jdbchdfs jobs that are partitioned are running in sequence rather than in parallel our expectation with partition jobs is that they run in parallel job configuration is jdbchdfs --driverclassnameoraclejdbcoracledriver --urljdbcoraclethin --username --password --validationqueryselect currenttimestamp from dual --tablenamehzorganizationprofiles --columnsorganizationprofileid versionnumber --partitions10 --partitioncolumnorganizationprofileid --directoryingestsourceoracle11iarhzorganizationprofiles --filenamehzorganizationprofiles --fileextensioncsv --delimiter --commitinterval10000 --rollover262144000 --dateformatyyyy-mmm-dd --partitionresultstimeout1800000 --testonborrowfalse,0
document json quoting behavior in shell this may be an issue following the searchreplace from curl to shell but for example this documentation line does not work http post --target httplocalhost9000 --data symbolvmwprice7204 the backslash prior to quote is left in the payload and hence jackson chokes on it we need clear rules about quoting at the shell level,0
tuplebuilderfromstring should not overwrite original id and timestamp fields when converting a json string to a tuple the json may contain id this method should handle this same with timestamp,0
nonodeexception for job creation the following exception was encountered by a few parties for example httpsgopivotal-comsocialcastcommessages21678398 noformat error leaderselector-0 leaderleaderselector - the leader threw an exception orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsjobsnnnnmodules orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava111 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 orgapachezookeeperzookeepergetchildrenzookeeperjava1586 orgapachecuratorframeworkimpsgetchildrenbuilderimpl3callgetchildrenbuilderimpljava214 orgapachecuratorframeworkimpsgetchildrenbuilderimpl3callgetchildrenbuilderimpljava203 orgapachecuratorretryloopcallwithretryretryloopjava107 orgapachecuratorframeworkimpsgetchildrenbuilderimplpathinforegroundgetchildrenbuilderimpljava199 orgapachecuratorframeworkimpsgetchildrenbuilderimplforpathgetchildrenbuilderimpljava191 orgapachecuratorframeworkimpsgetchildrenbuilderimplforpathgetchildrenbuilderimpljava38 orgspringframeworkxddirtserverjobdeploymentlistenerrecalculatejobstatesjobdeploymentlistenerjava197 orgspringframeworkxddirtserverdeploymentsupervisorleaderlistenertakeleadershipdeploymentsupervisorjava389 orgapachecuratorframeworkrecipesleaderleaderselectorwrappedlistenertakeleadershipleaderselectorjava536 orgapachecuratorframeworkrecipesleaderleaderselectordoworkleaderselectorjava398 orgapachecuratorframeworkrecipesleaderleaderselectordoworkloopleaderselectorjava443 orgapachecuratorframeworkrecipesleaderleaderselectoraccess100leaderselectorjava63 orgapachecuratorframeworkrecipesleaderleaderselector2callleaderselectorjava244 orgapachecuratorframeworkrecipesleaderleaderselector2callleaderselectorjava238 javautilconcurrentfuturetaskrunfuturetaskjava266 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 javautilconcurrentfuturetaskrunfuturetaskjava266 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 javalangthreadrunthreadjava745 noformat no specific details on reproducing yet although the socialcast thread indicates quote i only hit this when i have tried to deploy a job that fails deployment the first time quote,0
allow arbitrary headers to be set in http-client processor see httpstackoverflowcomquestions26880903using-mappedrequestheaders-in-spring-xd,0
create test with jdbc sink and initializedbfalse see httpsgithubcomspring-projectsspring-xdblobmastersrctestscriptsjdbctestsl96 and httpsgithubcomspring-projectsspring-xdblobmastersrctestscriptsjdbctestsl64 the second assert has initializedbfalse and so there are double the number of rows running the job a second time,0
consolidate rest endpoints for batch resources under jobs currently we have batch and jobs everything should move to jobs see httpsgithubcomspring-projectsspring-xdwikirest-api for details,0
defaultmoduleoptionsresolver to use parent classloader to load options metadata classes there are cases where it would be required to load the options metadata classes from the parent classloader first than the modules parentlasturlclassloader it would be nice to have a configuration option in defaultmoduleoptionsresolver to set which classloader to use,0
deploy-working-dir is set to to root directory when container is started as service when spring xd is started as a service using service spring-xd-container start the deploy-working-dir in gemfire module is resolved to the top-most directory on linux this directory is not writable by spring-xd user under which the process is executed when a stream using gemfire is created eg stream create --name gftest --definition time gemfire-json-server following exception will be thrown code error 20150324 155520798 gmt deploymentspathchildrencache-0 tid0x34 error when attempting to deploy jar files on load javaioioexception unable to write to deploy directory comgemstonegemfireinternaljardeployerverifywritabledeploydirectoryjardeployerjava589 comgemstonegemfireinternaljardeployerloadpreviouslydeployedjarsjardeployerjava68 comgemstonegemfireinternalcachegemfirecacheimplinitgemfirecacheimpljava839 comgemstonegemfireinternalcachegemfirecacheimplcreategemfirecacheimpljava620 comgemstonegemfirecacheclientclientcachefactorybasiccreateclientcachefactoryjava207 comgemstonegemfirecacheclientclientcachefactorycreateclientcachefactoryjava162 orgspringframeworkdatagemfireclientclientcachefactorybeancreatecacheclientcachefactorybeanjava93 orgspringframeworkdatagemfirecachefactorybeaninitcachefactorybeanjava271 orgspringframeworkdatagemfirecachefactorybeangetobjectcachefactorybeanjava455 orgspringframeworkdatagemfirecachefactorybeangetobjectcachefactorybeanjava77 orgspringframeworkbeansfactorysupportfactorybeanregistrysupportdogetobjectfromfactorybeanfactorybeanregistrysupportjava168 orgspringframeworkbeansfactorysupportfactorybeanregistrysupportgetobjectfromfactorybeanfactorybeanregistrysupportjava103 orgspringframeworkbeansfactorysupportabstractbeanfactorygetobjectforbeaninstanceabstractbeanfactoryjava1517 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava251 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava194 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvereferencebeandefinitionvalueresolverjava351 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvevalueifnecessarybeandefinitionvalueresolverjava108 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryapplypropertyvaluesabstractautowirecapablebeanfactoryjava1469 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorypopulatebeanabstractautowirecapablebeanfactoryjava1214 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava537 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava476 orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava303 orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava230 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava299 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava194 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava743 orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava757 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava480 orgspringframeworkbootspringapplicationrefreshspringapplicationjava691 orgspringframeworkbootspringapplicationrunspringapplicationjava321 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava214 orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava217 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 orgspringframeworkxddirtserverdeploymentlistenerdeploymoduledeploymentlistenerjava363 orgspringframeworkxddirtserverdeploymentlistenerdeploystreammoduledeploymentlistenerjava332 orgspringframeworkxddirtserverdeploymentlisteneronchildaddeddeploymentlistenerjava179 orgspringframeworkxddirtserverdeploymentlistenerchildeventdeploymentlistenerjava147 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 code deploy-working-dir should be set to a directory which writable by spring-xd user maybe javaiotmpdir,0
automate provisioning story for xd,0
as a user id like to refer to documentation in wiki so that i can setup and configure kafka as a message bus as recommended,2
add integration tests for spel and groovy based routing,0
exception in a tap will stop the tapped stream from sinking data exception in a tap will stop the tapped stream from sinking data h2 background running xd-singlenode we experienced this when streaming data from a rabbit queue to hdfs the stream was tapped and we had a groovy processor on the tap stream any exceptions in the processor stopped the main stream from writing data to the hdfs sink h2 steps to reproduce 1 create a groovy script that throws an exception in modulesprocessorscriptsexceptionthrowergroovy code below code custom processor to be wired into a tap to throw an exception throw new runtimeexceptionerror from processor code 2 create a sample main stream code xdstream create --name ticktock --definition time log --deploy code 3 tail the log to confirm the data is going to the sink we see sinkticktock appearing in the log as expected 4 add a tap to the stream that will throw an exception code xdstream create --name extap --definition tapstreamticktock script --locationexceptionthrowergroovy log --deploy code 5 tail the log and we see that there are no more sinkticktock strings being logged looks like the main stream is no longer sending messages to the sink,0
refactor use of getcontainerhostforsource in integration tests some cleanup to make the tests a bit easer to read,0
update to spring batch 30 release,0
temp files for stream create not being cleaned during testing for spring xd for pivotalcf we create deploy use undeploy and destroy many streams each stream generates tmp directories i think 2 one for source one for sink in the xd-admin vms tmp directory eg noformat dummy-module4635787551932601017sinkredis dummy-module252960009195893204sourcehttp noformat these tmp directories are not being cleared up so our system has hit the inode limit of 32768 files for a volume noformat filesystem inodes iused ifree iuse mounted on devloop0 32768 32768 0 100 tmp noformat this causes a java ioexception the immediately relevant part of which appears to be noformat caught exception while handling a request feb 18 090606 108530142-2 xd-admin-partition-defaultazguid-0 javalangruntimeexception javaioioexception no space left on device feb 18 090606 108530142-2 xd-admin-partition-defaultazguid-0 at orgspringframeworkxdmodulemoduledefinitionsdummymoduledefinitionsjava81 noformat this causes the test system to fail entirely,0
add file source and sink modules,0
rename controllers to have pluralized named eg jobscontroller see implementation used for steams and apply to jobs taps triggers,0
ui the user can view progress information about a given step,0
jdbc source acceptance tests,0
add twitter search module tests acceptance tests,0
as a developer id like to update to spring hadoop 220 ga release so i can leverage the latest improvements,1
improve user experience when redis is not running redis is not running we get a nasty stacktrace code devgitspring-xddistspring-xdxdbin master xd-container 130529 161715 info supportclasspathxmlapplicationcontext refreshing orgspringframeworkcontextsupportclasspathxmlapplicationcontext851052d startup date wed may 29 161715 edt 2013 root of context hierarchy 130529 161716 info xmlxmlbeandefinitionreader loading xml bean definitions from class path resource meta-infspringlauncherxml 130529 161716 info xmlxmlbeandefinitionreader loading xml bean definitions from class path resource meta-infspringredisxml 130529 161717 info supportdefaultlistablebeanfactory pre-instantiating singletons in orgspringframeworkbeansfactorysupportdefaultlistablebeanfactory4934ce4a defining beans orgspringframeworkcontextsupportpropertysourcesplaceholderconfigurer0redisconnectionfactoryorgspringframeworkxddirtlauncherrediscontainerlauncher0 root of factory hierarchy 130529 161717 info supportdefaultlistablebeanfactory destroying singletons in orgspringframeworkbeansfactorysupportdefaultlistablebeanfactory4934ce4a defining beans orgspringframeworkcontextsupportpropertysourcesplaceholderconfigurer0redisconnectionfactoryorgspringframeworkxddirtlauncherrediscontainerlauncher0 root of factory hierarchy exception in thread main orgspringframeworkbeansfactorybeancreationexception error creating bean with name redisconnectionfactory defined in class path resource meta-infspringredisxml invocation of init method failed nested exception is comlambdaworksredisredisexception unable to connect orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1488 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava524 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava461 orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava295 orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava223 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava292 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava194 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava626 orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava932 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava479 orgspringframeworkcontextsupportclasspathxmlapplicationcontextinitclasspathxmlapplicationcontextjava139 orgspringframeworkcontextsupportclasspathxmlapplicationcontextinitclasspathxmlapplicationcontextjava83 orgspringframeworkxddirtlauncherrediscontainerlaunchermainrediscontainerlauncherjava68 orgspringframeworkxdcontainermainmaincontainermainjava68 caused by comlambdaworksredisredisexception unable to connect comlambdaworksredisredisclientconnectredisclientjava176 comlambdaworksredisredisclientconnectasyncredisclientjava139 orgspringframeworkdataredisconnectionlettucelettuceconnectionfactoryinitconnectionlettuceconnectionfactoryjava108 orgspringframeworkdataredisconnectionlettucelettuceconnectionfactoryafterpropertiessetlettuceconnectionfactoryjava86 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinvokeinitmethodsabstractautowirecapablebeanfactoryjava1547 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1485 13 more caused by javanetconnectexception connection refused localhost1270016379 sunniochsocketchannelimplcheckconnectnative method sunniochsocketchannelimplfinishconnectsocketchannelimpljava599 orgjbossnettychannelsocketnionioclientbossconnectnioclientbossjava150 orgjbossnettychannelsocketnionioclientbossprocessselectedkeysnioclientbossjava105 orgjbossnettychannelsocketnionioclientbossprocessnioclientbossjava79 orgjbossnettychannelsocketnioabstractnioselectorrunabstractnioselectorjava312 orgjbossnettychannelsocketnionioclientbossrunnioclientbossjava42 javautilconcurrentthreadpoolexecutorworkerruntaskthreadpoolexecutorjava895 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava918 javalangthreadrunthreadjava680 code i think it would be helpful to provide users with some helpful advice eg redis does not seem to be running at localhost1270016379 did you start or install redis please see for further help httpfoobar,0
add a processor for restful webservices offers the functionality to make http request to a web service ie outbound http gateway example implementations stream create --name foo --definition trigger rest --reply-timeout1 --urlhttpearthquakeusgsgovearthquakesfeedgeojsonalldaylog stream create --name foos --definition trigger --payloadlat340567006lon-8434368810000001siteallsmap1searchresultroswell2c20ga20300762c20usauktzawsg1dd rest --urlhttpforecastweathergovmapclickphp log,0
provide an option --deletetrue on the file source provide an option --deletetrue on the file source if the file reading is not ref an option --deletetrue will remove the file once it was read,0
update to spring batch admin 130rc1,0
create rest api for getting information on a given job instance,0
add filepollhdfs acceptance tests,0
create rest api for restarting a specific job instance functionality adopted from spring-batch admin should include springmvc test framework style tests post batchjobsjobnamejobinstanceidexecutions - restart a specific job instance,0
as a s-c-d developer id like to have module unregister shell command so i can unregister an existing module from the moduleregistry,2
deployed modules are not redeployed properly once the container come back online deployed component s are not deployed to the containers that failed and restarted we have 3 containers and 3 jobs where all jobs are deployed evenly one job per container however when two of the containers fail and come back up we end up with 3 jobs on 1 container see attached document for detail,0
boot upgrade caused test failures springgroovytemplatecheck-template-locationfalse must now be set in the properties file,0
add ability to launch job composition h2 narrative verify that the job launch works as we expect for the composed job,0
create ec2 ami for single-node install of apache hadoop 121,0
attempt to compose a module with same nametype as existing should fail as per discussion any attempt to create something that would collide with existing should fail ii attempt to create a composed module with same name as an already existing not composed module with same type should fail eb mf should work and shadow previous module from now on iii attempt to create a composed module with same name as an already existing composed module with same type should fail eb mf should work and shadow previous module from now on should work and retroactively change definitions of streams with that module,0
as a user id like to define security definitions so that i can configure entity rest api specific grouprole access policies,5
log version number in log files when answering support questions the first step is to determine what version of the software the customer is using this question can be easily answered if we log the version as one of the fields in the log file for example noformat 104421212 102build-snapshot info deploymentsupervisorcachelistener-0 servercontainerlistener - container arrived containername431baa56-b23b-48fc-b37d-18b52231e799 attributesip19216825177 hostpatrick-peralta-macbook-prolocal groups pid38004 id431baa56-b23b-48fc-b37d-18b52231e799 noformat this way when we receive log snippets initial support inquires rarely include the entire log file we can immediately determine if the issue has already been fixed in a later release,0
bootstrap project for xd aws installer create a spring application context xml or java dealers choice use xd eclipse code format policy create source package structure create test package structure gradle build jclouds and spring deps,0
interface to capture required data for state calculation when the state of all the individual modules for a stream are collected these states need to be examined in order to determine what the overall stream state is these should be fed into an interface that can potentially be pluggable to handle all of the edge casesscenarios that may arise one possibility is noformat public interface deploymentunitstatecalculator deploymentunitstate calculatedeploymentunit deploymentunit moduledeploymentpropertiesprovider provider collectionmodulestate modulestates noformat,0
as a user id like to have spring core upgraded to 411 milestone so that i can benefit from performance improvements associated with compiled spel and other enhancements,3
support pagination in list command for jobs see xd-477,0
no indication of failure in shell when deploying job referencing nonexistent trigger i see the following output on the shell if i create a job and reference a non-existent trigger theres a big stack trace in the server log but nothing on the shell side indicating failure a subsequent jobs list also shows the job the same thing happens if i deploy an undeployed job after deleting its associated trigger job create --name helloworldjob --definition myjob --triggernonexistenttrigger successfully created and deployed job helloworldjob,0
document partitioning through deployment properties as an s-c-d user id like to have documentation on deployment manifest so i could refer to the relevant bits on partitions id like to understand how streams withe,0
as a user i would like to use fsuri file to use hadoop localfilesystem instead of a running cluster in my use case my data scientist team requested to provide me a local csv of data that is being loaded using jdbchdfs job the quickest way to solve this was to change the fsuri to file and it should have just worked this will work alright for singlenode setups for multiple containers hosted on multiple machines will split the file across different machines - but then i believe it is fair to assume that the developer must know what he is doing,1
as a developer id like to add documentation on escape quotes so when someone using sqoop job can double escape n instead of sending quotes n to successfully submit the job,1
more dsl work hooking up stream directory following stream parsing there is now a stream resolution stage that chases down substream references and fills in parameterization the lookup of streams is done through implementors of the streamlookupenvironment interface currently the parser implements this itself but it is really a job for the stream directory the parser implementation doesnt know about stream deletions for example so may still resolve streams that no longer exist,0
re-enable jshint during grunt build jshint should be enabled in grunt build there are few minor issues and needs to be fixed,0
tests are failing due to change in jmx endpoint data need to update the jackson parser,0
add logging to zookeepercontainerrepository occasional ci test build failures quote caused by javalangillegalstateexception container cache not initialized likely as a result of a zookeeper connection error orgspringframeworkutilassertstateassertjava385 orgspringframeworkxddirtcontainerstorezookeepercontainerrepositoryensurecachezookeepercontainerrepositoryjava184 orgspringframeworkxddirtcontainerstorezookeepercontainerrepositoryfindonezookeepercontainerrepositoryjava263 quote eg httpsbuildspringiobrowsexd-jdk8-job1-1514 add logging to ensurecache eg in childevent and closecache to log that the cache was closed it appears thats the only way the cache not initialized message can be emitted,0
solve cp issues for the rabbit messagebus rabbit message bus is throwing quote 101404678 110snap info deploymentsupervisor-0 serverstreamdeploymentlistener - deployment status for stream foo deploymentstatusstatefailederrorsorgspringframeworkamqpuncategorizedamqpexception javalangillegalargumentexception interface orgspringframeworkamqprabbitlistenersimplemessagelistenercontainercontainerdelegate is not visible from class loader at orgspringframeworkamqprabbitsupportrabbitexceptiontranslatorconvertrabbitaccessexceptionrabbitexceptiontranslatorjava66 at orgspringframeworkamqprabbitconnectionrabbitaccessorconvertrabbitaccessexceptionrabbitaccessorjava110 at orgspringframeworkamqprabbitlistenerabstractmessagelistenercontainerinitializeabstractmessagelistenercontainerjava426 at orgspringframeworkamqprabbitlistenerabstractmessagelistenercontainerafterpropertiessetabstractmessagelistenercontainerjava385 at orgspringframeworkxddirtintegrationrabbitrabbitmessagebusdoregisterconsumerrabbitmessagebusjava367 at orgspringframeworkxddirtintegrationrabbitrabbitmessagebusbindconsumerrabbitmessagebusjava308 at orgspringframeworkxddirtpluginsabstractmessagebusbinderpluginbindmessageconsumerabstractmessagebusbinderpluginjava183 at orgspringframeworkxddirtpluginsabstractmessagebusbinderpluginbindconsumerandproducersabstractmessagebusbinderpluginjava138 at orgspringframeworkxddirtpluginsstreamstreampluginpostprocessmodulestreampluginjava73 at orgspringframeworkxddirtmodulemoduledeployerpostprocessmodulemoduledeployerjava238 at orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava218 at orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 at orgspringframeworkxddirtserverdeploymentlistenerdeploymoduledeploymentlistenerjava363 at orgspringframeworkxddirtserverdeploymentlistenerdeploystreammoduledeploymentlistenerjava332 at orgspringframeworkxddirtserverdeploymentlisteneronchildaddeddeploymentlistenerjava179 at orgspringframeworkxddirtserverdeploymentlistenerchildeventdeploymentlistenerjava147 at orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 at orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 at orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 at comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 at orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 at orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 at orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 at orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 at javautilconcurrentfuturetaskrunfuturetaskjava262 at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 at javautilconcurrentfuturetaskrunfuturetaskjava262 at javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 at javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 at javalangthreadrunthreadjava745 caused by javalangillegalargumentexception interface orgspringframeworkamqprabbitlistenersimplemessagelistenercontainercontainerdelegate is not visible from class loader at javalangreflectproxyproxyclassfactoryapplyproxyjava616 at javalangreflectproxyproxyclassfactoryapplyproxyjava592 at javalangreflectweakcachefactorygetweakcachejava244 at javalangreflectweakcachegetweakcachejava141 at javalangreflectproxygetproxyclass0proxyjava455 at javalangreflectproxynewproxyinstanceproxyjava738 at orgspringframeworkaopframeworkjdkdynamicaopproxygetproxyjdkdynamicaopproxyjava121 at orgspringframeworkaopframeworkjdkdynamicaopproxygetproxyjdkdynamicaopproxyjava111 at orgspringframeworkaopframeworkproxyfactorygetproxyproxyfactoryjava96 at orgspringframeworkamqprabbitlistenersimplemessagelistenercontainerinitializeproxysimplemessagelistenercontainerjava586 at orgspringframeworkamqprabbitlistenersimplemessagelistenercontainerdoinitializesimplemessagelistenercontainerjava612 at orgspringframeworkamqprabbitlistenerabstractmessagelistenercontainerinitializeabstractmessagelistenercontainerjava424 28 more quote,0
xd config home should use xdconfiglocation if this is set if xdconfiglocation is set then xd runtimes xdconfighome should use that otherwise they point to two different paths,0
test integration with jboss queue message i am new to spring xd i want to read the jboss queue message and then want to write it into text file by using stream create comment ie stream create --name test-log --definition jms file --deploy i am trying to configure the spring-xd-100m6xdmodulescommonjms-jbossmq-infrastructure-contextxml to invoke the jboss queue and read the queue message can you help me to do the configuration and resolve my objective,0
enable configuration of replication factor on the kafka message bus the field exists and it is referred to in applicationyml but it does not have a setter and the bus will always use the configured default which is 1,0
as a spring xd developer id like to move jdbc module from xd to s-c-s repo so i can use it as source to build streaming pipeline,2
as a user id like to use the gf source along with native gf authentication enabled so i can consume data from gf in a secured way id like to refer to documentation on where the gf specific native and security properties needs configured see this sc posthttpsgopivotal-comsocialcastcommessages24377202 for more details,1
as a user id like to have the option to version the custom modules so i can evolve the custom module fragments in increments and be able to roll-out upgrades seamlessly,4
change rabbitmq sink to use routing-key-expression instead of routing-key the current rabbitmq sink uses the attribute routing-key which defaults to the name of the stream this should be change to use the attribute routing-key-expression so that the routing-key can be determined using spel this will enable a dynamic evaluation of the routing-key based on message payloadheader implementation suggestions this hopefully should be changing the xml description of the sink to routing-key-expressionroutingkeyxdstreamname this way the xdstreamname is surrounded by a single quote to indicate a string literal to spel in the default case how to verify it works one of the simple uses of this is to create a routing key based on payload in a distributed word-count example the hashcode of a word would be sent to a certain number of processing modules that would perform the count the idea is that the same word is sent to the same node over and over again in particular if in-memory counters or state is computed - using centralized redis counters this wouldnt be necessary in the case of only counter state the stream http rabbit --routingkeyword- payloadhashcode 3 is an example of a stream that can be used to verify that messages published to a direct exchange will have routing keys of the value word-0 word-1 and word-2 binding a queue to each of these routing keys one can observe the contents of messages in the queue to make sure that words are being routed to the appropriate queue eg publishing hello as the payload of an http request should always appear in the same queue the rabbitmq admin console can be used for this purpose,0
cannot create tap if you have already tried to create an invalid one of same name from the shell code stream create --name aaa --definition timelog created new stream aaa tap create --name aa --definition tap aaa log command failed orgspringframeworkxdrestclientimplspringxdexception xd111epos 8 unexpected token expected dot but was pipe tap aaa log tap create --name aa --definition tap aaa log command failed orgspringframeworkxdrestclientimplspringxdexception there is already a tap named aa code looks like the first tap was created even though there was a parse error and so the second attempt to create the tap failed due to an existing tap,0
as a spring xd developer id like to port aggregator module from xd to s-c-s repo so i can use it as processor module to build streaming pipeline,2
research adding support for spring-cloud-config to configure modules please refer to the gh issue reported here httpsgithubcomspring-projectsspring-xdissues1218,0
create shell integration tests for trigger lifeycle creating triggers deleting triggers,0
update xd-ec2 deployer to use xdtransport xd-ec2 must use environment variable xdtransport instead of --transport to declare data-transport for xd,0
remove singlenode prefix from embeddedhsql propery in singlenode profile the prefix singlenode in embeddedhsql option property defined in singlenode profile seems to be an overhead as it only exists in singlenode profile also we dont need a system property xdsinglenodeembedhsql as configserversyml can be used to override the default from applicationyml,0
move cassandra sink to xd proper,0
as a follow up to xd-2877 experiment with the removal of the list of modules from basedefinition and reparse as needed branch is here httpsgithubcompperaltaspring-xdtreedeploy-refactor-2,5
as a user id like to have a sample app github project so that i can use it as a reference while provisioning spring xd cluster with kafka consider kafka as message bus kafka as source,5
as a user id like to retain the data partitioning state so that when i restart the containers i continue to write based on the original partitioning strategy currently the state is not preserved hence on restarts the definition of partitioning strategy is lost due to different hashcode design consideration mine through the container info to derive the partition index instead of relying on hashcode,4
make in-memory meta data stores persistent just wanted to create story for this - so we can consider whether this should be addressed in at least 2 modules we use non-persisted states we may want to consider making them persistent twitter search uses an in-memory metadatastore that keeps track of the twitter ids there exists a corresponding issue for spring integration create a redis-backed metadatastore see httpsjiraspringsourceorgbrowseint-3085 file soures file inbound channel adapter uses a acceptoncefilelistfilter which uses an in-memory queue to keep track of duplicate files,0
defaultcontainer should have a default constructor that generates a uuid the current incrementandget approach based off redis will not easily be applicable in local model deployment,0
as a spring xd developer id like to port ftpsftp modules from xd to s-c-s repo so i can use them as source modules to build streaming pipeline,2
add spring-xd-python to the distribution,0
as a developer id like to design and document the approach towards deploying stream in a single container so i can have all modules within a stream colocated,4
rename packages that is applicable for both streamjob determine a better package name for the following packages once we have a common model that applies to both streamjob orgspringframeworkxddirtstream orgspringframeworkxddirtstreamzookeeper,0
add new sink modules as an user id like to have ootb sink modules to integrate with various data sources to egest data using spring xd note the ootb support however is limited to currently available spring integration adapters acceptance criteria - user should be able to list the new sink through dsl commands - user should be able to optionally choose the new sink adapters for stream creation using xd shell - user should see appropriate error messages if the required attributes are missing while creating a stream with the new sink module - after successful stream creation with the new sink module the definition should be included in stream listing - rest endpoints should include new sink definitions - data ingested into new sink should be validated for accurateness - appropriate errorexception message needs logged if theres any problem ingesting data into new sink module,0
create acceptance test for source trigger create a test specific to for the trigger source instead of it being tested with other acceptance tests,0
update documentation related to transport and controltransport eg need to update this section maybe others httpsgithubcomspring-projectsspring-xdwikirunning-distributed-mode remove all mentions of control bus and replace any mentions of the --transport cmd line arg with the xdtransport property in yml,0
upgrade lettuce to 232,0
add some test coverage to mqtt modules even though it may be hard to come up with a mqtt broker an easy test that should be automated is somesource mqtt --topicfoo with mqtt --topicsfoo somesink and asserting that what is emitted to somesource ends up in somesink,0
as a user i want to have a documentation that shows how to configure multiple topics with kafka source module,1
need better error handling for module info shell command would be better to provide a more useful message eg the module name must be of the form module-typemodule-name xdmodule info --name time javalangstringindexoutofboundsexception failed to convert time to type qualifiedmodulename for option name string index out of range -1 xdmodule info --name sinktime javalangstringindexoutofboundsexception failed to convert sinktime to type qualifiedmodulename for option name string index out of range -1 xdmodule info --name sinktime command failed orgspringframeworkxdrestclientimplspringxdexception nullpointerexception xdmodule info --name sourcetime information about source module time,0
create jobdefinition repository h2 narrative as xd i need a persistent way to register job definitions beyond the map registry implementation provided by spring batch h2 acceptance criteria xd should be able to register unregister and find job definitions via the registry the registry should be backed by redis so that it is persistent,0
create test that uses jsonpath with the filter module the script tests does the following code filter for good and bad createstream httpfilter http good filter --expressionjsonpathpayloadentitieshashtagstextcontainsgood aftergood filter --expressiontrue bad filter --expressionjsonpathpayloadentitieshashtagstextcontainsbad goodandbad splitter --expressionjsonpathpayloadid file --dirtestdir true code,0
as a developer id like to resolve remaining gaps wrt ci pipelines for data flow and the family so i can continuously evaluate functionalities on every commit,5
spring xd ec2 needs to setup cluster that uses static resources h1 summary user wants the ability to deploy an ec2 cluster where the admin containers use a pre existing zk ensemble rabbit and redis instance that are deployed on different machines h2 current functionality currently spring-xd-ec2 sets up its containers admin server to use a zk rabbit and redis that are provisioned and collocated with the admin server h2 detail the following properties will be added to the spring-xd-ec2properties springzkclientconnect - contains a comma delimited list of zk hostsports for a ensemble the application will check to see if the port is open on at least of the servers in the list if not deployment will fail default is adminserverhost2181 springrabbitmqaddresses - contains a comma delimited list of hostsports for a rabbit cluster the application will check to see if the port is open on at least of the servers in the list if not deployment will fail default is adminserverhost5672 springredis - contains a hostport for a redis instance the application will check to see if the port is open if not deployment will fail default is adminserverhost5672 ec2zone - user can specify the zone to which the containers and admin will be deployed if not present aws will decide which zone to deploy the cluster,0
add a sqoop example,0
add warning-level log to postprocessafterinitialization if job name is not job should it be fatal vs warning,0
npe in abstractreactormessagehandler when the broadcastermessagehandler is defined as a serviceactivator bean the output channel must be set on the handler not in the annotation the handler should detect a null outputchannel see httpstackoverflowcomquestions32462059spring-xd-reactor-streams-with-configuration-npe,0
upgrade asciidoctor-gradle-plugin to 070 looks like we need to spend a cycle on asciidoc - as we still have the author-tag-issue - i thought we can simply upgrade the asciidoctor-gradle-plugin to 070 currently 041 but that breaks the docs being generated,0
test processor module in isolation register the module under test and have access to a source channel that drives messages into the processor and a output channel where output messages are sent examples built-in message conversion send json to a processor module that accepts tuples,0
in certain scenarios a job can be redeployed more than once in a scenario where we are using the same job definition ie jobxml and we create job instance foo if i create and deploy foo2 using jobxml i will see only 2 job definitionscorrect but i will see the job run 3 times if i create foo3 deploy i will see 3 job definitionscorrect but the jobs will run 5 times,0
update build to use shdp 220rc1,0
refactor test cases to move away from inheritance model of utility methods for streams counters model the api more akin to springxdoperations api,0
as a user im trying to load task task deployment and task executions page but im seeing an error error fetching data is the xd server running instead,1
broadcast undeploy requests use an undeploy topic to broadcast undeploy requests to all containers applies to redis and rabbit transports not local also rename moduledeploymentrequest to moduleoperationrequest with an enum deploy undeploy,0
switch to use lettuce driver for redis replace the use of jedis with lettuce as it has higher performance,0
support pagination in list command for streams spring hateoas is here to help nonetheless there are currently a number of outstanding issues namely httpsgithubcomspringsourcespring-hateoaspull98 httpsjiraspringsourceorgbrowsespr-10262comment-91685 httpsgithubcomspringsourcespring-hateoaspull94 creating a issue here for future reference,0
destroying xd job should remove jobs entries at batch job repositoriesbatch job locator when an xd job is destroyeddeleted the batch jobrepository entries for the job associated jobinstances jobexecutions etc and the batchjoblocator entries,0
add --date option to the trigger module the triggersourceoptionsmetadata class should be able to use an actual date object thanks to spring binding conversion but the date construct will receive a tostring version of it make sure this works properly,0
channel registry refactoring factor out common redisrabbit channelregistry code also factor out common inboundtap code very similar change transport nternals to use abstracttransformer instead of arpmh and bridgehandler,0
update http source to use netty 4 platform version of netty is 4018final current http source is using 37 packagesclasses have changed in netty4,0
investigate how to provide a means to share bean defintions across module instances in some cases it maybe useful to share a specific bean instance contributed by a user across multiple module instances this story is a placeholder to collect requirements and discuss,0
job deployment list returns 404 after laptop wakes up version xd 101 mac osx 1095 problem - deployed a simple batch job in singlenode - laptop put to sleep mode - after login notice that zk is establishing connection - continues to clean-up prior to redeployment but never goes through successfully - listing job both in ui and shell states it is undeployed gunnars experiment - system is running in single node - laptop goes to sleep - after waking up your laptop from sleep you cannot retrieve the list of deployed jobs anymore in adminui error only getting back a 404 - nosuchbatchjobexception batch job with the name abcd doesnt exist,0
the http source creates the channelpipeline inefficiently the channelpipelinefactory used by the http source should cache expensive objects used by the channelpipeline between requests because creating them every time is inefficient and in the case of https it can become even more expensive,0
ui when launching a job - required parameters should be indicated and their names prepopulated,0
the hdfs sink should support compressing files as they are copied get a javaiofile and copy it into hdfs could be text or binary write compressed with hadoop and third party codecs see xd-277 xd-279 should initially support - bzip2 - lzo,0
support for listing of modules in the shell commands that pair up with the functionality described in xd-859 module list would list all modules in a table format module list --typesource would list only source modules and so on,0
add integration tests scope is to have integration test coverage for source and sink modules,0
add starting of newly build xd server running of smoketest bash script and killing of xd server to ci test,0
as a developer id like to handle the non-default configurableconversionservice tuples in an uniform manner so theyre not reset after deserialization,4
document splitter aggregator processors,0
create xd source from pojo annotated source xd module configured for component scanning classes or methods annotated with source consider processor and sink as well and simply provide the pojos and dependent jars in the module lib directory custom processor is fairly straightforward currently but still requires an xml module definition to wire up the pojo as a service activator or transformer to the input and output channel a service activator works for a pojo backed sink writing a source that is not backed by an existing inbound channel adapter is a bit more involved and requires more than basic familiarity with si it should be possible for xd to automatically create a polling source by wiring a java method to an inbound adapter configured with a poller ideally we would require no xml even to enable component scanning- this will require some changes to the module registrymodule initializer,0
parser blows on modules names with - tried to create a module named tcp-poll and got this xd108epos 3 missing expected character - tcp-poll --host5420822193 --port8081 log i believe this should be supported and indeed we have several module names of this form already,0
support exponential moving average in richgauge this could easily be supported in the existing gauge by adding a setalpha method to richgaugeservice and adding the extra parameter alpha to the gauge data httpsenwikipediaorgwikiexponentialmovingaverage if not set it would default to the current behaviour simple mean otherwise it would calculate the exponential moving average in place of the mean,0
shell cp command fails from the wordcount sample code xd cp tmpnietzsche-chapter-1txt tmpxdinputwordcountfiles you cannot specify option more than once in a single command code,0
clarify api or syntax for managing deployment parameters suppose we have 3 environements of spring xd - dev environment - test environment - prod environement suppose whe develop the script bellow stream1 http filter --expressionpayloadcontainstoto file --dirtmptoto stream2 http filter --expressionpayloadcontainstiti file --dirtmptiti when we need to deploy the script in test and prod environements we must modify dir option of file sink this is very easy when there is not a lot of options and when we have a small factory team but in a big factory environment this will be problematic in order to industrialize deployment it would be convenient to implement in dsl a directory interface api or something equivalent like below suppose we call this directory interface xddi like xd directory interface - the script can be like that stream1 http filter --expressionpayloadcontainstoto file --dirxdditotokey stream2 http filter --expressionpayloadcontainstiti file --dirxddititikey the xddi keys are defined in a centralized directory interface admin console or xddiproperties the xddi keysvalues in dev environment totokeytmptoto titikeytmptiti the xddi keysvalues in test environment totokeytartempiontoto titikeypetaouchnoktiti the xddi keysvalues in prod environment totokeyvavoirlabasijysuistoto titikeyvavoirlabasijysuistiti when the script is deployed in test or prod environement if the script contain a key that is not defined in centralized directory the deployment fail this will reduce errors risks in a big factory environnement several hundred parameters and signifiant team turnover,0
set bean name in consumerendpointfactorybean localmessagebus and compositemodule,0
jolokia based aggregator for cluster monitoring,0
anchor the footer at the bottom of page,0
command to list taps,0
as a user id like to have the data partition strategy state preserved so that when i adddelete modules they are able to dynamically adapt to the strategy this is already included as part of the ga release this story is to account for the testing effort,1
add acceptance test to include gemfire use case to enrich acceptance test id like to have basic coverage to evaluate gemfire use cases an example would be to ingest data from http source and write it to gemfire server,0
remove uuid from tuple class or replace with more efficient implementation the java uuid class is known not to be the fasted implementation available see httpsgithubcomstephenceaio-uuid and httpmvnrepositorycomartifactcomeaiouuiduuid for high perf impls,0
accessing admin rest apis on cf returns unexpected results as an s-c-d user im trying to access admin rest endpoints running on cf but im getting ssl authentication errors,0
xd ui job parameters tool tips display needs to aligned when clicking on a specific job execution from the job executions bar chart the tool tips display isnt aligned with the job parameters please see the attachment,0
document append support else filepollhdfs writes empty file to hdfs when testing in both singlenode and cluster redis xd throws exception stacktrace attached the file is created on hdfs but it is empty steps to recreate using hadoop12 1 job create myjob --definition filepollhdfs --namesforenamesurnameaddress --deploy 2 stream create csvstream --definition file --reftrue --dirtmpdug --patterncsv queuejobmyjob --deploy 3 use excel to create a 3 column spreadsheet and save as csv 4 copy csv to tmpdug directory,0
tap definitions should verify stream name xdstream create --name simple --definition http transform filter transform file created new stream simple xdstream create --name tapsimple --definition tapstreammystreamtransform file created new stream tapsimple there isnt a stream named mystream i dont remember if we want to allow for this set up taps before there is a stream or if it should be an error otherwise works as expected xdstream create --name tapsimple2 --definition tapstreamsimpletransform file command failed orgspringframeworkxdrestclientimplspringxdexception xd144epos 11 reference to transform is not unique in the target stream http transform filter transform file please label the relevant module and use the label or use a suffix index to indicate which occurrence of the module eg transform0 tapsimpletransform,0
as a qa id like to include acceptance test coverage for router sink module so that i can validate the functionality as part of every ci build,3
properly close redisrabbit connection factories in tests tests that leverage redisrabbitavailablerule often create another connection factory in the test body but fail to close it tests should properly close the resource as an added benefit the rule itself can expose the resource that it created for deciding whether to skip the test or not,0
module message conversion fails to work if jmx is enabled if jmx is enabled for modules enabling the integrationmbeanexporter the moduletypeconversionplugin fails to get the reference to inputoutput channel for adding the contenttypeheaderinterceptor and results in exception it seems like the integrationmbeanexporter when jmx is enabled creates jdkdynamicaopproxy for all the integration components and thereby the following check on moduletypeconversionplugin to retrieve the abstractmessagechannel fails abstractmessagechannel channel null if isinput channel modulegetcomponentinput abstractmessagechannelclass else channel modulegetcomponentoutput abstractmessagechannelclass i see the reason why abstractmessagechannel is used here to use some of the methods in the implementing class that didnt exist in the interfaces but integrationmbeanexporter creating jdkdynamicaopproxy for the channel fails to resolve as abstractmessagechannel here following is the full stack trace to replicate stream create testing --definition http --outputtypetextplain log 345238 error redisinboundadapter-redisqueue-inbound-channel-adapter1 handlerlogginghandler145 - orgspringframeworkmessagingmessagehandlingexception error occurred in message handler moduledeployer orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava79 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava601 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitorsimplemessagehandlermetricshandlemessagesimplemessagehandlermetricsjava106 orgspringframeworkintegrationmonitorsimplemessagehandlermetricsinvokesimplemessagehandlermetricsjava86 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy62handlemessageunknown source orgspringframeworkintegrationconfigserviceactivatorfactorybean1handlerequestmessageserviceactivatorfactorybeanjava83 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava152 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava121 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava108 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava218 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava188 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava601 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava113 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava97 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava91 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy61sendunknown source orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava114 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava92 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava96 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointpopmessageandsendredisqueuemessagedrivenendpointjava212 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointaccess300redisqueuemessagedrivenendpointjava51 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointlistenertaskrunredisqueuemessagedrivenendpointjava291 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 javalangthreadrunthreadjava722 caused by orgspringframeworkxddirtpluginsmoduleconfigurationexception bean named output must be of type orgspringframeworkintegrationchannelabstractmessagechannel but was actually of type comsunproxyproxy70 orgspringframeworkxddirtpluginsstreammoduletypeconversionpluginconfiguremoduleconvertersmoduletypeconversionpluginjava144 orgspringframeworkxddirtpluginsstreammoduletypeconversionpluginpostprocessmodulemoduletypeconversionpluginjava70 orgspringframeworkxddirtmodulemoduledeployerpostprocessmodulemoduledeployerjava378 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava282 orgspringframeworkxddirtmodulemoduledeployerdeployandstoremoduledeployerjava271 orgspringframeworkxddirtmodulemoduledeployerhandledeploymoduledeployerjava266 orgspringframeworkxddirtmodulemoduledeployerhandlesinglemodulemessagemoduledeployerjava244 orgspringframeworkxddirtmodulemoduledeployerhandlemessageinternalmoduledeployerjava171 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 42 more caused by orgspringframeworkbeansfactorybeannotofrequiredtypeexception bean named output must be of type orgspringframeworkintegrationchannelabstractmessagechannel but was actually of type comsunproxyproxy70 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava376 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava200 orgspringframeworkcontextsupportabstractapplicationcontextgetbeanabstractapplicationcontextjava979 orgspringframeworkxdmodulecoresimplemodulegetcomponentsimplemodulejava156 orgspringframeworkxddirtpluginsstreammoduletypeconversionpluginconfiguremoduleconvertersmoduletypeconversionpluginjava100 50 more,0
as a s-c-d developer id like to investigate how to includeexclude msg busbinding jars so i can decide the binding selection and fallback mechanism when there is none setup,4
as a s-c-d developer id like to add support to add external libraries so i can consume such dependencies for modules in an uniform way,2
support multiple admin servers on a same host by default xd admin server uses hsqldb as data source for batch job repository and uses the default port 9101 specific database location and dbname this makes the existence of multiple admin server on a same host not possible,0
jsonstringtoobjecttransformertests fail on mac if local machine name is not in etchosts when running the gradlew build the jsonstringtoobjecttransformertests unit test failed the cause is enumerated below caused by comgemstonegemfireinternaltcpconnectionexception while creating serversocket and stub on port 0 with address glenns-mbp1921681254 if i added 127001 glenns-mbp to my etchosts the tests succeeded,0
add gemfire-server application to the distribution zip of the project spring-xd-gemfire-server,0
as a developer id like to have a simplified ux around parameters for gpdb so i dont have to escape each parameter the scope is also to test the sqoop job with sqlserver and gpdb to identify the ux differences,5
as a qa id like to include acceptance test coverage for null sink module so that i can validate the functionality as part of every ci build,3
expose job parameters for jobexecutions currently the way that we are accessing jobexecutions from batch admin the jobparameters are not being filled in we are using a orgspringframeworkbatchadminservicejdbcsearchablejobexecutiondao to grab the job executions from the database the database queries that it uses does not include the jobparameters which is stored in a different table i think that this will require a change to batch admin in order to properly expose the parameters,0
create a throughput-sampler module for benchmarking a module that could be used in a stream definition such as reactor --bind tcp00003000lengthcodecbytes do-stuff throughput-sampler where throughput-sampler could start measurements once a key start is found in a message and stop when the key stop is found in a message listing the number of msgssec etc,0
create ootb batch job for export and processing multiple files from hdfs to jdbc same setup as xd-987 for itemreader and itemprocessor but should write to hdfs one can assume that the table structure has been created already external to the batch job execution,0
fix sqoop job to allow for setting yarnapplicationclasspath running sqoop job against non apache hadoop installation - yarn app fails error could not find or load main class orgapachehadoopmapreducev2appmrappmaster - need to be able to set yarnapplicationclasspath for any distro that doesnt use the hadoop defult classpath cloudera hortonworks pivotal hd,0
create runtimemoduledescriptor that represents runtime module instance see this for more info httpsgithubcomspring-projectsspring-xdpull1021filesr14611854,0
as a developer id like to port aggregate-counter module from xd to s-c-s repo so i can use it as sink module to build streaming pipeline,2
container startstop publish events are not getting processed it looks like containers containerstartedevent and containerstoppedevent are published from containerlaunchers context whereas the containereventlisteners are running in xdcontainers context this makes the container startstop events not getting processed,0
taps introduction section should show use of shell to create a real stream and a real tap using the shell see httpstaticspringsourceorgspring-xddocs100m1referencehtmltaps the existing docs should be made to show a real stream being created with filter andor transformer and then a tap that goes to logging the shell syntax to also stopundeploy a tap should be shown here as well since the lifecycle is discussed,0
add integration tests for sqoop job we need to add some integration tests for the sqoop job introduced in xd-2430,0
clean up mbean registration for failed module deployments when a module fails to deploy for instance an http module configured with a port that is already bound subsequent attempts to deploy the module fail due to a jmx exception noformat javalangruntimeexception orgspringframeworkcontextapplicationcontextexception failed to start bean orgspringframeworkintegrationmonitorintegrationmbeanexporter0beafb1fc-4423-4e4f-a88c-1655ea0fdcc5 nested exception is orgspringframeworkjmxexportunabletoregistermbeanexception unable to register mbean messagechannelmonitor nameoutput sends0 with key orgspringframeworkintegrationtypemessagechannelnameoutput nested exception is javaxmanagementinstancealreadyexistsexception xdfoomodulehttp0componentmessagechannelnameoutput orgspringframeworkxddirtservercontainerregistrardeploystreammodulecontainerregistrarjava447 orgspringframeworkxddirtservercontainerregistraronchildaddedcontainerregistrarjava346 orgspringframeworkxddirtservercontainerregistraraccess700containerregistrarjava92 orgspringframeworkxddirtservercontainerregistrardeploymentlistenerchildeventcontainerregistrarjava655 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava494 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava488 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava293 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava485 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache11runpathchildrencachejava755 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 javautilconcurrentfuturetaskrunfuturetaskjava266 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 javautilconcurrentfuturetaskrunfuturetaskjava266 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 javalangthreadrunthreadjava744 caused by orgspringframeworkcontextapplicationcontextexception failed to start bean orgspringframeworkintegrationmonitorintegrationmbeanexporter0beafb1fc-4423-4e4f-a88c-1655ea0fdcc5 nested exception is orgspringframeworkjmxexportunabletoregistermbeanexception unable to register mbean messagechannelmonitor nameoutput sends0 with key orgspringframeworkintegrationtypemessagechannelnameoutput nested exception is javaxmanagementinstancealreadyexistsexception xdfoomodulehttp0componentmessagechannelnameoutput orgspringframeworkcontextsupportdefaultlifecycleprocessordostartdefaultlifecycleprocessorjava176 orgspringframeworkcontextsupportdefaultlifecycleprocessoraccess200defaultlifecycleprocessorjava51 orgspringframeworkcontextsupportdefaultlifecycleprocessorlifecyclegroupstartdefaultlifecycleprocessorjava346 orgspringframeworkcontextsupportdefaultlifecycleprocessorstartbeansdefaultlifecycleprocessorjava149 orgspringframeworkcontextsupportdefaultlifecycleprocessoronrefreshdefaultlifecycleprocessorjava112 orgspringframeworkcontextsupportabstractapplicationcontextfinishrefreshabstractapplicationcontextjava773 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava485 orgspringframeworkbootspringapplicationrefreshspringapplicationjava648 orgspringframeworkbootspringapplicationrunspringapplicationjava311 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava130 orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava240 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava184 orgspringframeworkxddirtmodulemoduledeployerdeployandstoremoduledeployerjava174 orgspringframeworkxddirtmodulemoduledeployerdeployandstoremoduledeployerjava164 orgspringframeworkxddirtservercontainerregistrardeploymodulecontainerregistrarjava227 orgspringframeworkxddirtservercontainerregistrardeploystreammodulecontainerregistrarjava429 18 more caused by orgspringframeworkjmxexportunabletoregistermbeanexception unable to register mbean messagechannelmonitor nameoutput sends0 with key orgspringframeworkintegrationtypemessagechannelnameoutput nested exception is javaxmanagementinstancealreadyexistsexception xdfoomodulehttp0componentmessagechannelnameoutput orgspringframeworkjmxexportmbeanexporterregisterbeannameorinstancembeanexporterjava610 orgspringframeworkintegrationmonitorintegrationmbeanexporterregisterchannelsintegrationmbeanexporterjava837 orgspringframeworkintegrationmonitorintegrationmbeanexporterdostartintegrationmbeanexporterjava459 orgspringframeworkintegrationmonitorintegrationmbeanexporterstartintegrationmbeanexporterjava410 orgspringframeworkcontextsupportdefaultlifecycleprocessordostartdefaultlifecycleprocessorjava173 33 more caused by javaxmanagementinstancealreadyexistsexception xdfoomodulehttp0componentmessagechannelnameoutput comsunjmxmbeanserverrepositoryaddmbeanrepositoryjava437 comsunjmxinterceptordefaultmbeanserverinterceptorregisterwithrepositorydefaultmbeanserverinterceptorjava1898 comsunjmxinterceptordefaultmbeanserverinterceptorregisterdynamicmbeandefaultmbeanserverinterceptorjava966 comsunjmxinterceptordefaultmbeanserverinterceptorregisterobjectdefaultmbeanserverinterceptorjava900 comsunjmxinterceptordefaultmbeanserverinterceptorregistermbeandefaultmbeanserverinterceptorjava324 comsunjmxmbeanserverjmxmbeanserverregistermbeanjmxmbeanserverjava522 orgspringframeworkjmxsupportmbeanregistrationsupportdoregistermbeanregistrationsupportjava195 orgspringframeworkjmxexportmbeanexporterregisterbeaninstancembeanexporterjava663 orgspringframeworkjmxexportmbeanexporterregisterbeannameorinstancembeanexporterjava606 37 more noformat,0
update xd to use si 300m2,0
as a user id like to have the option to configure default access control for endpoints so that i can grant access by admin or viewer roles,5
exception thrown when all containers are shut down if all containers are shut down and theres a stream deployed this exception is thrown on the admin noformat javautilnosuchelementexception javautilarraylistitrnextarraylistjava839 orgspringframeworkxddirtservermoduledeploymentwriterwritedeploymentmoduledeploymentwriterjava260 orgspringframeworkxddirtservercontainerlistenerredeploystreammodulecontainerlistenerjava432 orgspringframeworkxddirtservercontainerlisteneronchildleftcontainerlistenerjava403 orgspringframeworkxddirtservercontainerlistenerchildeventcontainerlistenerjava159 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 javautilconcurrentfuturetaskrunfuturetaskjava266 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 javautilconcurrentfuturetaskrunfuturetaskjava266 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 javalangthreadrunthreadjava744 noformat this is a regression caused by the earlier code refactoring for stream deployment,0
more dsl work using and policing for job step lists the new parser supports for connecting regular modules and for connecting job steps the modules in the ast that were connected with are tagged but nothing is currently using that information it doesnt get into the module deployment request we need to think about using this data policing the modules that are being deployed to ensure they are job steps for example,0
tab completion does not work for stream definition following stream create tapstreamfoo does not suggest modules,0
stream destroy fails to remove if the underlying modules have been removed in short if you attempt to destroy a stream that has had its modules removed the destroy will fail 1 so if i create my own processorx and use the processor in a stream 2 i then shutdown the admin and container 3 delete the processorx from the xdhomemodules directory 4 restart the admin and container 5 if you do a stream list the stream that used the processorx is still present 6 but you can not delete the stream because of the exception below to reproduce using payload conversion example 1 follow the instructions to install and use the mytupleprocessor module in a stream 2 now shutdown the admin and container 3 rm -rf xdhomemodulesprocessormytupleprocessorxml 4 rm -rf xdhomelibpayload-conversionjar 5 startup your admin and container 6 stream all destroy then type yreturn 6a the shell will report ommand failed orgspringframeworkxdrestclientimplspringxdexception no content to map due to end-of-input at source javaiostringreader5b8bd3d0 line 1 column 1 6b the admin server will report 115943543 error http-nio-9393-exec-1 restrestcontrolleradvice199 - caught exception while handling a request orgspringframeworkxddirtzookeeperzookeeperaccessexception no content to map due to end-of-input at source javaiostringreader648849d5 line 1 column 1 orgspringframeworkxddirtzookeeperzookeeperutilswrapthrowablezookeeperutilsjava47 orgspringframeworkxddirtzookeeperzookeeperutilswrapthrowablezookeeperutilsjava31 orgspringframeworkxddirtzookeeperzookeeperutilswrapandthrowignoringzookeeperutilsjava65 orgspringframeworkxddirtmodulestorezookeepermoduledefinitionrepositoryfindbynameandtypezookeepermoduledefinitionrepositoryjava95 orgspringframeworkxddirtstreamxdstreamparserresolvemoduletypexdstreamparserjava300 orgspringframeworkxddirtstreamxdstreamparserdeterminetypexdstreamparserjava196 orgspringframeworkxddirtstreamxdstreamparserparsexdstreamparserjava152 orgspringframeworkxddirtstreamstreamdeployerbeforedeletestreamdeployerjava116 orgspringframeworkxddirtstreamstreamdeployerbeforedeletestreamdeployerjava43 orgspringframeworkxddirtstreamabstractdeployerdeleteabstractdeployerjava246 orgspringframeworkxddirtstreamabstractdeployerdeleteallabstractdeployerjava169 orgspringframeworkxddirtstreamabstractinstancepersistingdeployerdeleteallabstractinstancepersistingdeployerjava100 orgspringframeworkxddirtrestxdcontrollerdeleteallxdcontrollerjava110 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeinvocablehandlermethodjava215 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava132 orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava104 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlemethodrequestmappinghandleradapterjava749 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava689 orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava83 orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava938 orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava870 orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava961 orgspringframeworkwebservletframeworkservletdodeleteframeworkservletjava885 javaxservlethttphttpservletservicehttpservletjava653 orgspringframeworkwebservletframeworkservletserviceframeworkservletjava837 javaxservlethttphttpservletservicehttpservletjava728 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava305 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkbootactuatetracewebrequesttracefilterdofilterwebrequesttracefilterjava115 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconfigurationapplicationcontextfilterconfiguration1dofilterinternalendpointwebmvcautoconfigurationjava137 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinternalhiddenhttpmethodfilterjava77 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkwebfilterhttpputformcontentfilterdofilterinternalhttpputformcontentfilterjava88 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkbootactuateautoconfiguremetricfilterautoconfigurationmetricsfilterdofilterinternalmetricfilterautoconfigurationjava85 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgapachecatalinacorestandardwrappervalveinvokestandardwrappervalvejava222 orgapachecatalinacorestandardcontextvalveinvokestandardcontextvalvejava123 orgapachecatalinaauthenticatorauthenticatorbaseinvokeauthenticatorbasejava472 orgapachecatalinavalvesremoteipvalveinvokeremoteipvalvejava680 orgapachecatalinacorestandardhostvalveinvokestandardhostvalvejava171 orgapachecatalinavalveserrorreportvalveinvokeerrorreportvalvejava99 orgapachecatalinacorestandardenginevalveinvokestandardenginevalvejava118 orgapachecatalinaconnectorcoyoteadapterservicecoyoteadapterjava407 orgapachecoyotehttp11abstracthttp11processorprocessabstracthttp11processorjava1004 orgapachecoyoteabstractprotocolabstractconnectionhandlerprocessabstractprotocoljava589 orgapachetomcatutilnetnioendpointsocketprocessorrunnioendpointjava1680 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava724 caused by comfasterxmljacksondatabindjsonmappingexception no content to map due to end-of-input at source javaiostringreader648849d5 line 1 column 1 comfasterxmljacksondatabindjsonmappingexceptionfromjsonmappingexceptionjava164 comfasterxmljacksondatabindobjectmapperinitforreadingobjectmapperjava3036 comfasterxmljacksondatabindobjectmapperreadmapandcloseobjectmapperjava2978 comfasterxmljacksondatabindobjectmapperreadvalueobjectmapperjava2098 orgspringframeworkxddirtmodulestorezookeepermoduledefinitionrepositoryfindbynameandtypezookeepermoduledefinitionrepositoryjava82 61 more,0
context deserialize doesnt use parent first classloader if a class is added to a batch execution context that is located in an isolated context an exception will be thrown when that object is deserialized it appears the serialize doesnt use the parentfirstclassloader during deserialization,0
pluralization of admin nodes leadership selector group path xdadmin currently the admin nodes that participate in the leadership election are grouped under xdadmin since there are multiple lock nodes that correspond to all the admin servers that participate in leadership election we can pluralize this node name to xdadmins,0
minification of xd admin ui js files with requirejs rjs and ngmin we need to make sure the xd admin js files are appropriately minified currently the js files are not minified,0
allow processor script variables to be passed as module parameters currently if we want to bind values to script variables we need to put them in a properties file like so xd stream create --name groovyprocessortest --definition http --port9006 script --locationcustom-processorgroovy --properties-locationcustom-processorproperties log ideally it should be xd stream create --name groovyprocessortest --definition http --port9006 script --locationcustom-processorgroovy --foobar --bazboo log,0
create ootb batch job for export and processing multiple files from hdfs to mongodb the itemreader will read multiple files from hdfs and the data will be converted to a tuple data structure the itemprocessor will be a no-op groovy script the itemwriter will write the data to a mongodb collection a tupletodbobject converter will need to be developed the sample job should be documented,0
module delete on windows throws exception used module upload for processorpayload-conversion from xd samples all worked well until i tried to delete the module custommodule in serversyml was set to xd custommodule home filecprojectmymodulehome stacktrace noformat 2015-03-06 015433460 110release error qtp1891077689-37 restrestcontroller advice - caught exception while handling a request javalangillegalargumentexception could not delete module processorpayload-c onversion at orgspringframeworkutilassertistrueassertjava65 at orgspringframeworkxddirtmodulemoduledefinitionservicedeletemod uledefinitionservicejava121 at orgspringframeworkxddirtrestmodulescontrollerdeletemodulescont rollerjava155 at sunreflectnativemethodaccessorimplinvoke0native method at sunreflectnativemethodaccessorimplinvokeunknown source at sunreflectdelegatingmethodaccessorimplinvokeunknown source at javalangreflectmethodinvokeunknown source at orgspringframeworkwebmethodsupportinvocablehandlermethoddoinvok einvocablehandlermethodjava221 at orgspringframeworkwebmethodsupportinvocablehandlermethodinvokef orrequestinvocablehandlermethodjava137 at orgspringframeworkwebservletmvcmethodannotationservletinvocabl ehandlermethodinvokeandhandleservletinvocablehandlermethodjava110 at orgspringframeworkwebservletmvcmethodannotationrequestmappingh andleradapterinvokehandlemethodrequestmappinghandleradapterjava777 at orgspringframeworkwebservletmvcmethodannotationrequestmappingh andleradapterhandleinternalrequestmappinghandleradapterjava706 at orgspringframeworkwebservletmvcmethodabstracthandlermethodadapt erhandleabstracthandlermethodadapterjava85 at orgspringframeworkwebservletdispatcherservletdodispatchdispatch erservletjava943 at orgspringframeworkwebservletdispatcherservletdoservicedispatche rservletjava877 at orgspringframeworkwebservletframeworkservletprocessrequestframe workservletjava966 at orgspringframeworkwebservletframeworkservletdodeleteframeworkse rvletjava890 at javaxservlethttphttpservletservicehttpservletjava761 at orgspringframeworkwebservletframeworkservletserviceframeworkser vletjava842 at javaxservlethttphttpservletservicehttpservletjava848 at orgeclipsejettyservletservletholderhandleservletholderjava684 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1496 at orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconf igurationapplicationcontextheaderfilterdofilterinternalendpointwebmvcautoconf igurationjava291 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperr equestfilterjava107 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1467 at orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinterna lhiddenhttpmethodfilterjava77 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperr equestfilterjava107 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1467 at orgspringframeworkwebfilterhttpputformcontentfilterdofilterinter nalhttpputformcontentfilterjava87 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperr equestfilterjava107 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1467 at orgspringframeworkbootactuatetracewebrequesttracefilterdofilter internalwebrequesttracefilterjava100 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperr equestfilterjava107 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1467 at orgspringframeworksecuritywebfilterchainproxydofilterinternalfi lterchainproxyjava186 at orgspringframeworksecuritywebfilterchainproxydofilterfilterchai nproxyjava160 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1467 at orgspringframeworkbootactuateautoconfiguremetricfilterautoconfig urationmetricsfilterdofilterinternalmetricfilterautoconfigurationjava90 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperr equestfilterjava107 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1467 at orgeclipsejettyservletservlethandlerdohandleservlethandlerjava 499 at orgeclipsejettyserverhandlerscopedhandlerhandlescopedhandlerj ava137 at orgeclipsejettysecuritysecurityhandlerhandlesecurityhandlerjav a557 at orgeclipsejettyserversessionsessionhandlerdohandlesessionhandl erjava231 at orgeclipsejettyserverhandlercontexthandlerdohandlecontexthandl erjava1086 at orgeclipsejettyservletservlethandlerdoscopeservlethandlerjava 428 at orgeclipsejettyserversessionsessionhandlerdoscopesessionhandle rjava193 at orgeclipsejettyserverhandlercontexthandlerdoscopecontexthandle rjava1020 at orgeclipsejettyserverhandlerscopedhandlerhandlescopedhandlerj ava135 at orgeclipsejettyserverhandlerhandlerwrapperhandlehandlerwrapper java116 at orgeclipsejettyserverserverhandleserverjava370 at orgeclipsejettyserverabstracthttpconnectionhandlerequestabstrac thttpconnectionjava494 at orgeclipsejettyserverabstracthttpconnectionheadercompleteabstra cthttpconnectionjava971 at orgeclipsejettyserverabstracthttpconnectionrequesthandlerheader completeabstracthttpconnectionjava1033 at orgeclipsejettyhttphttpparserparsenexthttpparserjava644 at orgeclipsejettyhttphttpparserparseavailablehttpparserjava235 at orgeclipsejettyserverasynchttpconnectionhandleasynchttpconnecti onjava82 at orgeclipsejettyionioselectchannelendpointhandleselectchannelen dpointjava667 at orgeclipsejettyionioselectchannelendpoint1runselectchannelend pointjava52 at orgeclipsejettyutilthreadqueuedthreadpoolrunjobqueuedthreadpoo ljava608 at orgeclipsejettyutilthreadqueuedthreadpool3runqueuedthreadpool java543 at javalangthreadrununknown source noformat,0
syslog source is not capturing log info keep in mind this could be pbkac on my part please review and see if you can get it to work,0
create plugin module for rxjava based processors as an developer id like to have a similar approach to creating reactor based stream processor as with spark and rxjava a plugin should allow a reactor processor module to specify the bare minimum to work eg the processor class explore how additional configuration can be achieved with well known module option commands,0
backport handle streamjob deployment status recalculation failures the admin leader election fails when the streamjob module definitions doesnt exist in module-registry but still some of the references still exist in zk via some of the previous deployments that had this module in module registry though this is expected this behavior will make all the subsequent deployments in deploying state because the admin leader isnt elected,0
provide security integration acceptance criteria - users should be able to gain access using usernamepassword - both usernamepassword are mandatory - invalid user credentials should be displayed as error messages and the user will not be able to gain access,0
enable profile selection from module options this came up when working on email source there is int-mailimap-idle-channel-adapter and int-mailinbound-channel-adapter it would be nice to be able to put those in two profiles and have one of the profile being activated from module options eg email --pollingtruefalse dont know the runtime cost of activating profiles but we could blindly activate profiles from all options passed explicitly beans profileprofile-optionname-optionvalue not sure if this is the same as xd-132,0
upgrade to gradle 22,0
using custom classes for module properties leads to classnotfoundexception attached is module properties file both custom java classes referenced in the properties are available in the jar file under springxdhomexdmodulethe-modulelib directory following exception is thrown code62603064 102release error http-nio-9393-exec-4 restrestcontrolleradvice - caught exception while handling a request javalangillegalstateexception cant find class used for type of option binding comemcitdsrtdspringxdbindingbindingstrategy orgspringframeworkxdmoduleoptionsdefaultmoduleoptionsmetadataresolvermakesimplemoduleoptionsdefaultmoduleoptionsmetadataresolverjava137 orgspringframeworkxdmoduleoptionsdefaultmoduleoptionsmetadataresolverresolvenormalmetadatadefaultmoduleoptionsmetadataresolverjava193 orgspringframeworkxdmoduleoptionsdefaultmoduleoptionsmetadataresolverresolvedefaultmoduleoptionsmetadataresolverjava154 orgspringframeworkxdmoduleoptionsdelegatingmoduleoptionsmetadataresolverresolvedelegatingmoduleoptionsmetadataresolverjava44 orgspringframeworkxdmoduleoptionsenvironmentawaremoduleoptionsmetadataresolverresolveenvironmentawaremoduleoptionsmetadataresolverjava127 orgspringframeworkxddirtstreamxdstreamparserparsexdstreamparserjava173 orgspringframeworkxddirtstreamabstractdeployersaveabstractdeployerjava95 orgspringframeworkxddirtrestxdcontrollersavexdcontrollerjava223 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeinvocablehandlermethodjava215 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava132 orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava104 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlemethodrequestmappinghandleradapterjava749 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava689 orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava83 orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava938 orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava870 orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava961 orgspringframeworkwebservletframeworkservletdopostframeworkservletjava863 javaxservlethttphttpservletservicehttpservletjava646 orgspringframeworkwebservletframeworkservletserviceframeworkservletjava837 javaxservlethttphttpservletservicehttpservletjava727 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava303 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkbootactuatetracewebrequesttracefilterdofilterinternalwebrequesttracefilterjava110 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconfigurationapplicationcontextheaderfilterdofilterinternalendpointwebmvcautoconfigurationjava280 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworksecuritywebfilterchainproxydofilterinternalfilterchainproxyjava186 orgspringframeworksecuritywebfilterchainproxydofilterfilterchainproxyjava160 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinternalhiddenhttpmethodfilterjava77 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkwebfilterhttpputformcontentfilterdofilterinternalhttpputformcontentfilterjava88 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkbootactuateautoconfiguremetricfilterautoconfigurationmetricsfilterdofilterinternalmetricfilterautoconfigurationjava89 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgapachecatalinacorestandardwrappervalveinvokestandardwrappervalvejava220 orgapachecatalinacorestandardcontextvalveinvokestandardcontextvalvejava122 orgapachecatalinaauthenticatorauthenticatorbaseinvokeauthenticatorbasejava501 orgapachecatalinacorestandardhostvalveinvokestandardhostvalvejava171 orgapachecatalinavalveserrorreportvalveinvokeerrorreportvalvejava103 orgapachecatalinacorestandardenginevalveinvokestandardenginevalvejava116 orgapachecatalinaconnectorcoyoteadapterservicecoyoteadapterjava408 orgapachecoyotehttp11abstracthttp11processorprocessabstracthttp11processorjava1070 orgapachecoyoteabstractprotocolabstractconnectionhandlerprocessabstractprotocoljava611 orgapachetomcatutilnetnioendpointsocketprocessordorunnioendpointjava1736 orgapachetomcatutilnetnioendpointsocketprocessorrunnioendpointjava1695 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 orgapachetomcatutilthreadstaskthreadwrappingrunnableruntaskthreadjava61 javalangthreadrunthreadjava745code please see attached patch file this seems to be enough to resolve the problem,0
better approach to handle module execution framework currently when the module doesnt need to go through message bus binding the module interface provides shouldbind method to return false the shouldbind is being used in other place where moduletypeconversionplugin is excluded for spark streaming modules we need a better approach to refactor this also see the discussion here httpsgithubcomspring-projectsspring-xdpull1438discussionr24150937,0
module delete tab completion includes undeletable modules see my comment on httpsgithubcomspring-projectsspring-xdpull1295 for details,0
have three startup scripts xd-singlenode xd-admin and xd-container the xd-singlenode script will launch a main application that creates both the admin node to process http admin requests and the container node to execute modules for data processing within in the same process the xd-admin script will launch a main application that creates only the admin node remove current embeddedcontainer options the xd-container script will launch a main application that creates only the container node as it is now,0
enabledisable boot and integration mbeans when jmx is enableddisabled spring integration mbeans are enabled by default even though xdjmxenabled is set to false we need to disable jmx on these mbeans as well as spring boot mbeans,0
run javascript tests jasmine as part of the build process we probably need to look into some options to run our javascript tests jasmine as part of the build process - some possibilities jasmine gradle plugin httpsgithubcomdzhaughnrothjasmine-gradle-plugin saga - httptimurstrekalovgithubiosaga looks like maven has slightly better support httpsearlsgithubiojasmine-maven-pluginindexhtml see also xd-865,0
redissink to support in-memory store,0
as a user id like to have the option to store the custom module uber-jar in hdfs so that i can rely on the ha feature to reliably read and reinstall under failure scenarios,3
as a spring xd user i need to listen on a jms topic and ingest the messages so i can process the messages currently the module only allows for queues,2
rabbit sink with explicit routingkey as string spel literal expression fails following stream fails to work tream create s3 --definition http rabbit --routingkeymytest1 --deploy created and deployed new stream s3 xdhttp post --data testing post textplaincharsetutf-8 httplocalhost9000 testing 500 internalservererror 500 internalservererror error sending data testing to httplocalhost9000 the exception at the container log is 072457245 error pool-18-thread-4 httpnettyhttpinboundchanneladapter171 - error sending message orgspringframeworkmessagingmessagehandlingexception expression evaluation failed mytest1 orgspringframeworkintegrationutilabstractexpressionevaluatorevaluateexpressionabstractexpressionevaluatorjava126 orgspringframeworkintegrationhandlerexpressionevaluatingmessageprocessorprocessmessageexpressionevaluatingmessageprocessorjava76 orgspringframeworkintegrationamqpoutboundamqpoutboundendpointhandlerequestmessageamqpoutboundendpointjava196 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava170 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitorsimplemessagehandlermetricshandlemessagesimplemessagehandlermetricsjava106 orgspringframeworkintegrationmonitorsimplemessagehandlermetricsinvokesimplemessagehandlermetricsjava86 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy109handlemessageunknown source orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 sunreflectgeneratedmethodaccessor100invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava113 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava97 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava91 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy54sendunknown source orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava114 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava93 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava260 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava241 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava205 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava199 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava177 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava114 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava93 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava260 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava241 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava205 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava199 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava177 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 sunreflectgeneratedmethodaccessor100invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava113 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava97 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava91 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy111sendunknown source orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava114 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava93 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava98 orgspringframeworkintegrationxhttpnettyhttpinboundchanneladapteraccess300nettyhttpinboundchanneladapterjava69 orgspringframeworkintegrationxhttpnettyhttpinboundchanneladapterhandlermessagereceivednettyhttpinboundchanneladapterjava168 orgjbossnettychannelsimplechannelupstreamhandlerhandleupstreamsimplechannelupstreamhandlerjava70 orgjbossnettychanneldefaultchannelpipelinesendupstreamdefaultchannelpipelinejava564 orgjbossnettychanneldefaultchannelpipelinedefaultchannelhandlercontextsendupstreamdefaultchannelpipelinejava791 orgjbossnettyhandlerexecutionchannelupstreameventrunnabledorunchannelupstreameventrunnablejava43 orgjbossnettyhandlerexecutionchanneleventrunnablerunchanneleventrunnablejava67 orgjbossnettyhandlerexecutionorderedmemoryawarethreadpoolexecutorchildexecutorrunorderedmemoryawarethreadpoolexecutorjava314 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 caused by orgspringframeworkexpressionspelspelevaluationexception el1008epos 0 property or field mytest1 cannot be found on object of type orgspringframeworkmessagingsupportgenericmessage - maybe not public orgspringframeworkexpressionspelastpropertyorfieldreferencereadpropertypropertyorfieldreferencejava215 orgspringframeworkexpressionspelastpropertyorfieldreferencegetvalueinternalpropertyorfieldreferencejava85 orgspringframeworkexpressionspelastpropertyorfieldreferencegetvalueinternalpropertyorfieldreferencejava78 orgspringframeworkexpressionspelastspelnodeimplgettypedvaluespelnodeimpljava114 orgspringframeworkexpressionspelstandardspelexpressiongetvaluespelexpressionjava111 orgspringframeworkintegrationutilabstractexpressionevaluatorevaluateexpressionabstractexpressionevaluatorjava159 orgspringframeworkintegrationutilabstractexpressionevaluatorevaluateexpressionabstractexpressionevaluatorjava119 91 more,0
as a developer id like to measure the baseline serialization characteristics in xd so i can determine the areas of performance improvements,4
as a s-c-d developer id like to setup ghpages branch for s-c-d and s-c-s-m repos so i can start pushing documentation with pr commits,4
dsl needs to have wildcard support for taps wildcard support for associating inbound and outbound channels with modules the wild card will be represented by an asterisk example myemailsource tapjobsend message to all jobs myemailsource tapsend message to all streamjob taps myemailsource foosend message to all channels that contain the channels that contains the word foo tapbar myemailsource,0
as a user i need a document covering our recommendations for deploying a xd cluster using mesos with the marathon framework,5
combine jobdefinition info and batchjobinfo endpoints currently jobsdefinitions and batchjobs offer similar info related to the job configuration info the former comes from zkjobdefinitionrepository while the latter comes from batch job repository we need to combine this together so that it is not confusing to the end user,0
separate lifecycle of input and output adapter endpoints described in httpsgithubcomspring-cloudspring-cloud-streamissues144 as a developer i want input enpoints to be started after all the beans in the context so that received messages can be delivered to components,0
expose status for each job within the composition h2 narrative as the xd user i would like a way obtain the result of each child job as it is represented as a step in the parent jobs graph h2 back story each child job will have a completion status of its own that will be displayed in the spring xd ui as well as the shells job execution list,0
ui list of streams causes undefined is not an option see screenshot the error is caused when loading all stream definitions in method loadstreamdefinitions only 1 or two streams exist in the system,0
create shell integration test for named chanels expected usage atm would be sink channel called foo http transform --expressionpayloadtouppercase foo source channel called foo foo count file,0
add about section to module description it should be possible to configure a short description for a module that is display above the module options via module info --name the description could contain a few lines describing the core functionality and potentially hyperlinks to additional information for a module this information should be exposed via the rest interface as well currently only the module options are printed,0
map column names with underscore to camelcase style keys for jdbc sink we need to add support for matching column names with underscores like username and map them to camel case style keys like username in the jdbcmessagepayloadtransformer,0
update spring-amqp to 131release,0
hdfs sink should provide rollovertime option not only idletiemout when using hdfs sink with ildetimeout and rollover options in stream definition we have noticed that idletimeout does not give you a flexibility when you would prefer a file to rollover after specific time regardless of the activityinactivity of the file proposed option rollovertimeout timeout after file will be automatically closed link xd-2413,0
sftp source requires passphrase with private key private keys do not require pass phrases hence its bogus for the source to require one,0
as a developer id like to identify the kafka configurations so that i could setup infrastructure to perform performance testing,3
stacktrace on container with deployed modules is shutdown when the container that has deployed module is shutdown following stacktrace is thrown 101027560 info main-eventthread servercontainerregistrar254 - undeploying module moduledescriptor3a615460 modulename job modulelabel job group j4 sourcechannelname null sinkchannelname null sinkchannelname null index 0 type job parameters mapempty children listempty 101027560 info main-eventthread modulemoduledeployer158 - removed simplemodule namejob typejob groupj4 index0 7df1aff2 101027561 error main-eventthread impscuratorframeworkimpl555 - watcher exception javalangillegalstateexception orgspringframeworkcontextannotationannotationconfigapplicationcontext422fd7b7 has been closed already orgspringframeworkcontextsupportabstractapplicationcontextassertbeanfactoryactiveabstractapplicationcontextjava956 orgspringframeworkcontextsupportabstractapplicationcontextgetbeanabstractapplicationcontextjava978 orgspringframeworkxdmodulecoresimplemodulegetcomponentsimplemodulejava164 orgspringframeworkxddirtpluginsabstractmessagebusbinderpluginunbindconsumerandproducersabstractmessagebusbinderpluginjava219 orgspringframeworkxddirtpluginsjobjobpluginremovemodulejobpluginjava70 orgspringframeworkxddirtmodulemoduledeployerremovemodulemoduledeployerjava204 orgspringframeworkxddirtmodulemoduledeployerdestroymodulemoduledeployerjava162 orgspringframeworkxddirtmodulemoduledeployerhandleundeploymoduledeployerjava140 orgspringframeworkxddirtmodulemoduledeployerundeploymoduledeployerjava112 orgspringframeworkxddirtservercontainerregistrarundeploymodulecontainerregistrarjava256 orgspringframeworkxddirtservercontainerregistrarjobmodulewatcherprocesscontainerregistrarjava753 orgapachecuratorframeworkimpsnamespacewatcherprocessnamespacewatcherjava67 orgapachezookeeperclientcnxneventthreadprocesseventclientcnxnjava522 orgapachezookeeperclientcnxneventthreadrunclientcnxnjava498 101027561 info main-eventthread zookeeperclientcnxn512 - eventthread shut down 101027564 info thread-2 jmxendpointmbeanexporter433 - unregistering jmx-exposed beans on shutdown,0
as a s-c-d developer id like to support multiple app instances this is simply to make controlling app instances more clever potentially we could use deployment properties to define different yarn app instances like code cloud-datastream deploy --name ticktock --properties moduleyarnappnameapp cloud-datastream deploy --name ticktock --properties moduletimeyarnappnameapp code motivation to this is that different yarn apps can have different queues and priorities yarn administrator can define that some app queues have higher priority to reserve resources from using deployment properties like this allows to customize runtime parameters like how much we try to reserve memcpu for modules etc,2
convert modules to be cp-aware once xd-887 is merged gradually convert more modules recipe 1 move the modulexml file to moduleconfigmodulexml 2 declare a moduletypemodule gradle project 3 move dependencies from dirt project to newly created module project 4 gradle build picks it up gradle clean build manual test also have a look at gradle cleaneclipse eclipse,0
create integralmetric and integralresource types there is some overlap between the gauge and counter repository types and also between the domain resources used by the rest controllers counterresource gaugeresource the aggregate counter may wish to return a simple count value for the counter too which would also be a simple integral value,0
provide option for sourcessinks to configure mapped headers tofrom messages see the discussion httpsgopivotal-comsocialcastcommessages20771872,0
hdfstest in acceptance test fails sporadically uses trigger as a source hdfstest uses the following stream to test the hdfs sink trigger --payloadfoobar hdfs in the test failure the test reported that no file was created on the hdfs im wondering if the trigger fired before the hdfs was fully deployed i would say that we set the phase to the maximum but the problem is that by default it is maxint thoughts,0
stream list should show undeployed rather than blank if a stream is not deployed,0
add authentication support to the mongo sink,0
create way to deploy custom modules for xd on yarn need a way for end-user to package and add custom modulesscripts when deploying xd on yarn currently we have a zip file containing all code including modules its not convenient to un-zipre-zip this archive to add custom modulesscripts see - httpsgithubcomspring-projectsspring-xdissues931,0
as a developer id like to have an ootb mvc-aware http module with embedded tomcat so i can use this module to leverage spring-mvc and spring-security features instead of rewriting them within the existing http source module adds richer support for content-type in the http source module see jbrisbin comments httpsgithubcomspring-projectsspring-xdpull879 adds full header mapping in the source see comments see so request httpstackoverflowcomquestions29353471spring-xd-as-a-rest-endpoint,5
fix support for cliavailabilityindicator see pr httpsgithubcomspring-projectsspring-xdpull1043,0
user wants to be able to know what triggers are associated with a job,0
as a developer id like to update to si kafka extension 120 so i can leverage the latest performance improvements,1
documentation hovering over some of the examples corrupts the text if you mouse over any of the examples in the documentation the grey boxes containing code shell commands etc typically in the upper right hand corner a label for the type of codeexample will appear eg ruby javascript etc 1 the labels that appear seem to be random and incorrect shell scripts show as ruby and javascript 2 more importantly on some of the examples the label appears in front of and part of the example corrupting the example to see this hover your mouse over the two examples grey boxes here httpdocsspringiospring-xddocs100m6referencehtmlxdshellindistributedmode there may be more but this is the ones i noticed -derek,0
elk - log analysis we would like to experiment with elk stack its the combination of elasticsearch logstash and kibana to extract end-to-end real-time insights from structured and unstructured data source possibly provide integration endpoints to some of the components features search and analyze in real-time scrub parse and enrich data visualization website - httpwwwelasticsearchorgoverview github - httpwwwelasticsearchorgoverviewelkdownloads,0
rename node references to container this applies to a few places when addressing the issue a search should be done to uncover any others eg containerserverapplication public static final string nodeprofile node options classes the transport to use for data messages from node to node the transport to use for control messages between admin and nodes,0
create links to springxd on other pages of springsourceorg site bottom home page - list of projects dataintegration category landing pages - related projects,0
add infrastructure support for admin ui as an user id like to have the ability to setup infrastructure to developenhance ui functionality this is including but not limited to - ui designs mockups - unit testing - ci - js minification,0
undeploying twitterstream logs warning - messagedeliveryexception to reproduce - download recent snapshot - httprepospringiolibs-snapshot-localorgspringframeworkxdspring-xd100build-snapshotspring-xd-100build-20140715101224-1-distzip start xd and shell - xdstream create --name tweets --definition twitterstream file --deploy xdstream undeploy --name tweets note the illegalstateexception has been fixed for rc1 still need to fix the messagedeliveryexception there is an error logged in the logs code 083757022 info deploymentspathchildrencache-0 modulemoduledeployer - deployed simplemodule nametwitterstream typesource grouptweets index0 581a12b9 083802685 info main-eventthread servercontainerregistrar - undeploying module moduledescriptor4807f3e2 modulename twitterstream modulelabel twitterstream group tweets sourcechannelname null sinkchannelname null sinkchannelname null index 0 type source parameters mapempty children listempty 083802687 info main-eventthread modulemoduledeployer - removed simplemodule nametwitterstream typesource grouptweets index0 581a12b9 083802705 info deploymentspathchildrencache-0 servercontainerregistrar - path cache event deploymentsmodulesallocatedfa40cb45-3c16-4b19-81e9-eb6d357d186dtweetssourcetwitterstream1 type childremoved 083802779 warn task-scheduler-4 twittertwitterstreamchanneladapter - exception while reading stream orgspringframeworkmessagingmessagedeliveryexception dispatcher has no subscribers for channel simplemodule nametwitterstream typesource grouptweets index0 581a12b9defaultcontainer0todiscarddeletes orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava81 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 sunreflectgeneratedmethodaccessor86invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava113 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava97 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava91 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy81sendunknown source orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava109 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava94 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava98 orgspringframeworkintegrationxtwittertwitterstreamchanneladapterdosendlinetwitterstreamchanneladapterjava154 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtask2extractdataabstracttwitterinboundchanneladapterjava200 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtask2extractdataabstracttwitterinboundchanneladapterjava186 orgspringframeworkwebclientresttemplatedoexecuteresttemplatejava553 orgspringframeworkwebclientresttemplateexecuteresttemplatejava521 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtaskreadstreamabstracttwitterinboundchanneladapterjava180 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtaskrunabstracttwitterinboundchanneladapterjava158 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava54 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava178 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava292 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 caused by orgspringframeworkintegrationmessagedispatchingexception dispatcher has no subscribers orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava107 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 33 more 083802780 warn task-scheduler-4 twittertwitterstreamchanneladapter - exception while reading stream waiting for 250 ms before restarting 083802781 error task-scheduler-4 handlerlogginghandler - javalangillegalstateexception javalanginterruptedexception sleep interrupted orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterwaitabstracttwitterinboundchanneladapterjava258 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterwaitlinearbackoffabstracttwitterinboundchanneladapterjava232 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapteraccess600abstracttwitterinboundchanneladapterjava54 orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterstreamreadingtaskrunabstracttwitterinboundchanneladapterjava174 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava54 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava178 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava292 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 caused by javalanginterruptedexception sleep interrupted javalangthreadsleepnative method orgspringframeworkintegrationxtwitterabstracttwitterinboundchanneladapterwaitabstracttwitterinboundchanneladapterjava254 11 more code,0
move xdhomemodulesprocessorscripts out of the way since the refactoring of the module registry that does not look inside a module it cant know that the scripts directory is not a module everything that is a direct child of source processor sink job should be a module archive everything else supporting that should be moved out eg in modulescommon,0
type conversion across modules this story will need to be broken down further the current code mixes together the type conversion that happens within a single jvm for data that is passed on a local transport between modules and serializationdeserialization between jvms this should be separated there was a suggestion that we could perhaps use typed data channels in si as a means implement the type conversion between modules the media-type conversion support in spring 4 is another part of this solution,0
build script should not package spring-xd-dirt scripts we are packaging separate scripts to start xdadmin and xdcontainer the gradle application plugin will generate an unwanted spring-xd-dirt scripts this should be removed from the bin directory when creating a distribution zip,0
composed job endpoint is missing from the defined authorization rules more details in the support ticket httpsissuetrackerspringsourcecombrowsevesc-679 following entires should be added to applicationyml file code - post toolsparsejobtograph hasrolerolecreate - post toolsparsejobtograph hasrolerolecreate - post toolsconvertjobgraphtotext hasrolerolecreate - post toolsconvertjobgraphtotext hasrolerolecreate code,0
jobplugin should not add properties that are not needed if you create a simple http log stream and list the modules youll see that jobplugin adds its numberformat makeunique etc properties even though they do no harm its really strange for users plus it could conflict with eg activation of profiles given present properties,0
document splunk source sink,0
stream plugin cleanup public streamplugin postprocesscontextpath channelregistry subclasses should not directly update superclass fields,0
placeholder for latticediego poc 1,0
implement xdmoduleconfiglocation name the description in the google doc httpsdocsgooglecomagopivotalcomdocumentd12cboa7nyvvkvxdishlj-68m5f78ayxn14ejlrcljyvgedituspsharing describes the usage of xdmoduleconfiglocation and xdmoduleconfigname,0
provide settings formatting rules so that theyre shared thinking about using the official springsource rules as a template,0
upgrade lettuce and netty upgrade lettuce to 233 and subsequently netty to 366,0
sqoop command should not require jdbc parameters based on the ootb sqoopxml definition on github we are required to provide the jdbcurl jdbcusername and jdbcpassword as a parameter definition code bean idsqooptasklet classorgspringframeworkxdsqoopsqooptasklet property namearguments list valuecommandvalue valueargsvalue valuejdbcurlurlvalue valuejdbcusernameusernamevalue valuejdbcpasswordpasswordvalue valuefsdefaultfsfsurivalue code this is causing a problem if we define the the sqoop connection parameters within the args list we are using the --password-file option in the args list and need to specify the connection info via the --connect option with the --username within the args list our job definition is code job create bdllookup --definition bdl-load --commandimport --args--connectjdbcoraclethinhostname1821dbname --usernameuser --password-fileuserworkspacesecure-filesgdwpassword --tablemasterdatawlookupd --target-dirtargetfolderlookupd -m 1 code this results to an deployment code 2015-05-07 114051586 120m1 info deploymentsupervisor-0 zkzkjobdeploymenthandler - deployment status for job bdllookup deploymentstatusstatefailederrorsorgspringframeworkbeansfactorybeandefinitionstoreexception invalid bean definition with name sqooptasklet defined in class path resource configbdl-loadxml could not resolve placeholder url in string value jdbcurlurl nested exception is javalangillegalargumentexception could not resolve placeholder url in string value jdbcurlurl code if we skip the jdbc connection info from the modulexml file similar to code bean idsqooptasklet classorgspringframeworkxdsqoopsqooptasklet property namearguments list valuecommandvalue valueargsvalue -- comment out jdbc info valuejdbcurlurlvalue valuejdbcusernameusernamevalue valuejdbcpasswordpasswordvalue -- valuefsdefaultfsfsurivalue code custom module deploys fine but get a we get a nullpointerexception in the container logs code 2015-05-07 114604450 120m1 error inboundjobbdllookup-redisqueue-inbound-channel-adapter1 stepabstractstep - encountered an error executing step sqooptask in job bdllookup javalangnullpointerexception orgspringframeworkxdsqoopsqooptaskletcreatecommandsqooptaskletjava91 orgspringframeworkbatchsteptaskletxabstractprocessbuildertaskletexecuteabstractprocessbuildertaskletjava107 orgspringframeworkbatchcoresteptasklettaskletstepchunktransactioncallbackdointransactiontaskletstepjava406 orgspringframeworkbatchcoresteptasklettaskletstepchunktransactioncallbackdointransactiontaskletstepjava330 orgspringframeworktransactionsupporttransactiontemplateexecutetransactiontemplatejava133 orgspringframeworkbatchcoresteptasklettaskletstep2doinchunkcontexttaskletstepjava271 orgspringframeworkbatchcorescopecontextstepcontextrepeatcallbackdoiniterationstepcontextrepeatcallbackjava77 code,0
as a module author i want to be able to test my code in next to real world conditions ie integration testing but not really - i want all my module wiring to be testable - i want all my module configuration configurationproperties to be in effect and i want to be able to test various combination of props - i want to be able to send data to my module and assert what is coming at the other end - i want an idiomatic way of asserting the above eg integration with hamcrest etc - i dont want to have to send data to an actual bus redis rabbit etc,4
create subproject spring-xd-machine-learning-analytics this project contains core abstractions that will allow for multiple implementations of a machine learning algorithm to be implemented via integration with various existing libraries or custom code implementations the initial code for this has been developed in a separate github repo and is located here httpsgithubcomthomasdarimontspring-xdtreefeatureadvanced-analytics-supportspring-xd-analyticssrcmainjavaorgspringframeworkxdanalyticsmodel the model can assume its use in evaluation of the model inside a stream where the data structure is a tuple note it maybe useful to consider messagetuple in case any metadata outside the core input data is required to help guide the evaluation the buildgradle file should be updated such that there is a new build artifact spring-xd-machine-learning-analyticsjar along the lines of our other build artifacts open to other naming suggestions,0
xd should run offline trying to run xd offline results in an error in redisxml because the cloudfoundry schema file is missing we need to add the cf-runtime jar to the classpath to resolve this,0
as a qa id like to include acceptance test coverage for shell sink module so that i can validate the functionality as part of every ci build,4
payload conversion will need to migrated to m6 as soon as m6 is available currently uses m5 dependency,0
add hadoop 24x as an option hadoop 241 is now a stable release and we should add support for running against it,0
downgrade reactor based modules to reactor 1x ga can revert part of the commit that went into upgrading to reactor 20 httpsgithubcomspring-projectsspring-xdpull1342files,0
gemfire source and sink deployments cause oome permgen if you create more than 4 gemfire modules the container will throw a oome permgen on java 7 the solution is to put a technote into the wiki for the gemfire modules stating that for java 7 they will need to add the following to environment export javaopts-xxpermsize256m,0
provide xd module build plugins to upload a module provide maven and gradle plugins to execute module upload via rest to upload and install a module to spring xd eg mvn xdupload-module,0
update doc about trigger changes trigger has been changed to be one single modules taking params as opposed to 3 before update doc at httpsgithubcomspring-projectsspring-xdwikibatch-jobs also arguably the module could be advertised as a source itself it is only mentioned in the context of batch,0
support for broadcastermessagehandler to work with concurrent producing threads also provide better lifecycle shutdown mgmt of handler,0
create one xd-yarn shell script that encompases the functionality of seperate shell scripts,0
add documentation about message store to aggregator doco,0
add support for dynamic routing it should be possible to create streams like the following which rely upon named channel support and dynamic routing capabilities code http somerouter x xtransformer hdfs y ytransformer hdfs code the somerouter processor could return x or y which determines the downstream path for each message this should be implemented in such a way that any developer adding a router module would only need to deal with existing spring integration semantics in this case only considering the return of x or y - whether it be spel or a pojo method invocation perhaps in the plugin that modifies a module context we could simply add a new channelresolver implementation by adding that channelresolver as a bean andor a beanpostprocessor that configures that as the resolver for any router if necessary that channelresolver would have a reference to the channelregistry so that the router actually sends its messages to those shared channels the shared channels themselves would have been created as long as a valid downstream flow has been defined,0
update streams chapter to use shell commands instead of curl the current streams chapter httpstaticspringsourceorgspring-xddocs100m1referencehtmlstreams shows creation and deleting streams using curl - switch to use shell also add listing of a stream there is also an example of creating a stream this should be replaced as well,0
as a developer id like to add support to flush offsets intelligently so i can reliably process streams based on successful message acknowledgements from the module-producer,5
as a developer id like to add support for explicit partition count configuration so i can use this option to cleverly route the payload to the intended consumer module,4
add support for cluster rebalancing when deploying streams to clustered spring xd modules are deployed to all avilable spring xd containers assuming no additional deployment properties are specificed each container gets similar number of modules when spring xd container departs from the cluster all departing modules will be migrated to remaining containers after container rejoins the cluster the modules are not redeployed to it and the cluster looks unbalanced and the node is not used unbalanced-clusterpng,0
remove footer from admin ui please see the discussion here httpsgithubcomspring-projectsspring-xdpull1052issuecomment-48761686,0
document direct binding as an s-c-d user id like to refer to documentation on direct binding so i can use it as a reference to deploy a stream that includes directly bound modules example code java -jar spring-cloud-stream-module-launchertargetspring-cloud-stream-module-launcher-100build-snapshotjar --modulesorgspringframeworkcloudstreammoduletime-source100build-snapshotorgspringframeworkcloudstreammodulefilter-processor100build-snapshotorgspringframeworkcloudstreammodulefilter-processor100build-snapshot --args0fixeddelay7 --args1expressionpayloadcontains6 --aggregatetrue --springcloudstreambindingsoutputfiltered code,0
add the dependencies required to use xpath in streams thanks to gary i found this little gem of documentation to be able to use xpath expression in xd only hiccup is that i had to also add the spring-xmljar to the classpath otherwise it is missing xpathexception class httpstackoverflowcomquestions29110757spring-xd-work-with-xml-payload,0
as a s-c-s developer id like to investigate the right approach to port phd as the provider to support hdfs module from xd so i can decide better handling of hdfs dependencies which needs loaded and available in root cp at the runtime,4
all controllers to return xyzresource objects not the raw domain objects resource objects should be returned from all controller methods mvc tests should be added to check returned values,0
add documentation for a stdin source module in order to support ingestion from stdin the suggested approach is to do the following xdstream create --definition tcp --decoderlf log --name foo cat mylog netcat localhost 1234 so while this is really a tcp based ingestion case once can use pipe or redirect of stdinerr in order to achieve the same goal it should appear as a source module in the docs on par with other source modules in its own section,0
mixins need to use property placeholders instead of hard coded values where possible many attributes in mixins use hard coded values instead of using property placeholders jdbcconnectionmixin jdbcconnectionpoolmixin mqttconnectionmixin,0
as a user i would like to have an option to write data into hbase sink so that i can perform random realtime readwrite access on big data,5
cant use apache velocity in custom modules creating a custom processor module with apache velocity orgapachevelocityvelocity17 as dependency results in javalangclassnotfoundexception during stream deployment code 2015-04-08 173532595 111release info deploymentspathchildrencache-0 serverdeploymentlistener - deploying module moduledescriptor144d1f50 modulename custom-velocity-processor modulelabel custom-velocity-processor group velocity-stream sourcechannelname null sinkchannelname null index 1 type processor parameters mapempty children listempty 2015-04-08 173532768 111release warn deploymentspathchildrencache-0 supportdefaultlistablebeanfactory - factorybean threw exception from getobjecttype despite the contract saying that it should return null if the type of its object cannot be determined yet javalangnoclassdeffounderror orgapachevelocityappvelocityengine orgspringframeworkuivelocityvelocityenginefactorybeangetobjecttypevelocityenginefactorybeanjava69 orgspringframeworkbeansfactorysupportfactorybeanregistrysupportgettypeforfactorybeanfactorybeanregistrysupportjava66 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorygettypeforfactorybeanabstractautowirecapablebeanfactoryjava795 orgspringframeworkbeansfactorysupportabstractbeanfactoryistypematchabstractbeanfactoryjava542 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorydogetbeannamesfortypedefaultlistablebeanfactoryjava436 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorygetbeannamesfortypedefaultlistablebeanfactoryjava404 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorygetbeannamesfortypedefaultlistablebeanfactoryjava398 orgspringframeworkintegrationjmxconfigjmxintegrationconfigurationinitializerregistermbeanexporterhelperifnecessaryjmxintegrationconfigurationinitializerjava42 orgspringframeworkintegrationjmxconfigjmxintegrationconfigurationinitializerinitializejmxintegrationconfigurationinitializerjava38 orgspringframeworkintegrationconfigintegrationconfigurationbeanfactorypostprocessorpostprocessbeanfactoryintegrationconfigurationbeanfactorypostprocessorjava48 orgspringframeworkcontextsupportpostprocessorregistrationdelegateinvokebeanfactorypostprocessorspostprocessorregistrationdelegatejava265 orgspringframeworkcontextsupportpostprocessorregistrationdelegateinvokebeanfactorypostprocessorspostprocessorregistrationdelegatejava177 orgspringframeworkcontextsupportabstractapplicationcontextinvokebeanfactorypostprocessorsabstractapplicationcontextjava606 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava462 orgspringframeworkbootspringapplicationrefreshspringapplicationjava691 orgspringframeworkbootspringapplicationrunspringapplicationjava321 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava214 orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava217 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 orgspringframeworkxddirtserverdeploymentlistenerdeploymoduledeploymentlistenerjava363 orgspringframeworkxddirtserverdeploymentlistenerdeploystreammoduledeploymentlistenerjava332 orgspringframeworkxddirtserverdeploymentlisteneronchildaddeddeploymentlistenerjava179 orgspringframeworkxddirtserverdeploymentlistenerchildeventdeploymentlistenerjava147 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 caused by javalangclassnotfoundexception orgapachevelocityappvelocityengine javaneturlclassloader1runurlclassloaderjava366 javaneturlclassloader1runurlclassloaderjava355 javasecurityaccesscontrollerdoprivilegednative method javaneturlclassloaderfindclassurlclassloaderjava354 javalangclassloaderloadclassclassloaderjava425 sunmisclauncherappclassloaderloadclasslauncherjava308 javalangclassloaderloadclassclassloaderjava358 39 more code attached is module source code executing commands in xd-shell-commandscmd file is enough to trigger the exception everything works when velocity jar is placed in xdhomelib and excluded from the processor module,0
messagechannelitemwriter h2 narrative as a user of xd i want to be able to use a job as a source to do so we need the output of a job to be written to a message channel h2 acceptance criteria create a new itemwriter in the spring batch project to write to a spring integration message channel,0
update docs for separate control and data transport,0
if a job is created that uses a trigger that has not been created and deployed it throws a 500 error instead of a 400,0
as a xd developer id like to refactor and replace codec code from xd with si library so i dont have to maintain duplicate code,3
singlenode fails to start from external module singlenode fails to start using spring-xd-dirt-100releasejar see httpsgithubcomdturanskixd-test the root cause of the error javalangnosuchmethoderror javaxservletservletcontextaddservletljavalangstringljavaxservletservletljavaxservletservletregistrationdynamic indicating an incompatible servlet version is being pulled in by default,0
as a result of fixing xd-2015 we still cannot execute code grunt teste2e code basically running the tests and the server together in one process fails we see the following error fatal error socket hang up if we separate the protractor execution into 2 separate steps the tests pass code grunt serve one console window grunt protractorrun second console window code in the grunt serve window you can still observe fatal error socket hang up being printed out but the tests execute successfully,5
enable job deployment properties for job deploy support the ability to provide deployment properties for job deploy,0
document processor modules fill in httpsgithubcomspringsourcespring-xdwikiprocessors,0
retrytemplate props in rabbit binder are not used the configurationproperties class for rabbit binder has some props related to retrytemplate but those are not used,0
make transport configuration extensible change message-busxml to read import resourceclasspathmeta-infspring-xdtransportsxdtransport-busxml so new transports may be configured in external jars,0
support bus producer properties for dynamic producers pass module properties from stream plugin to messagebusawarechannelresolver disallow partitioning properties,0
move binder to scs project move project out of httpsgithubcompperaltageode-scdf into httpsgithubcomspring-cloudspring-cloud-stream,0
update docker versions update the current docker images to 110 release,0
create composed job module h2 narrative as an xd developer i need to be able to create a composed job module as xml from the dsl an store it in the module file repository while the user uses the composed job as if it is a normal job including seeing only the dsl in the background the jobfactory will deploy the composed job module when the user destroys the job the module will be deleted from the file module repository when the user creates the job a module will be created in the file module repository h2 back story for the composed job story we need to create a real job module to be expressed in xml so that we can take advantage of the job execution tasklet in xd-3556 so that each job can be executed as a step in the composed job,0
fix startup messages started container adminserverapplication documentation httpsgithubcomspringsourcespring-xdwiki,0
write out initial stream deployment state currently when a stream is deployed by deploymentsupervisor the event thread blocks until all deployment requests have been answered or timed out if there were any deployment errors we log a stack trace instead or in addition to we need to write out the results of the deployment request my initial thought is that it would go under panel xddeploymentsstreamsnamestate panel the data for state will be a json map with fields state and an optional errordescription,0
push xdstreamname into pojo defaults see xd-1283 weve been waiting for 1283 to change constructs like noformat attrnamexdstreamname to just noformat attrname noformat turns out we can simply push down the xdstreamname bit in the default value most likely initialization of a field in a pojo metadata class and it will work just fine we can also consider - providing a fake value for those placeholders to use when doing module info ie user will see name of the stream instead of xdstreamname,0
custom user configuration file for jobs allow users to submit a configuration file as part of the job definition the configuration file should contain all job definition parameters as well as customer parameters that can be reference during runtime thanks buelent,0
update groovy to 244 there is a vulnerability in groovy that is fixed in 244 cve-2015-3253 remote execution of untrusted code see httpgroovy-langorgsecurityhtml httpmail-archivesapacheorgmodmboxincubator-groovy-users201507mbox3ccadqzvmmyc7rbznsq8o63xn4hcmyh9rgrdmiuwupvtupjh8gmailgmailcom3e,0
close parent contexts when shutting down,0
as a user id like to consume multiple topic-partitions so i can have the option to consume from multiple data endpoints and still be able to serve the data via single queue,3
as a developer id like to create persistent repository for streams so i could leverage the persisted metadata and reestablish the streaming pipe under failure conditions,4
upgrade to spring boot 11 snapshot,0
jdbc sink doesnt deserialize json types correctly expected 1 create mytable table with date or timestamp column mytime 2 create a stream ending with code object-to-json jdbc --tablenamemytable code 3 send a message with payload being a java object that has a property mytime of type javautildate 4 message payload is inserted into mytable table date is correctly stored in mytime column actual 4 exception is thrown from jdbc sink which attempts to bind a long into mytime column root cause jdbc sink uses orgspringframeworkxdjdbcjdbcmessagepayloadtransformer class to deserialize json payload into map which will later be used to bind parameters into javasqlpreparedstatement unfortunately jdbcmessagepayloadtransformer and messagetransforminghandler which is calling it doesnt respect jsontypeid message header so information about java types is lost other spring xd components serialize javautildate as unix timestamp eg object-to-json transformer jdbc sink will deserialize the date as javalanglong and later attempt to bind incorrect type to query parameter in case of gemfire xd following exception will be thrown during query parameter binding phase code compivotalgemfirexdinternalsharedcommonsanityassertfailure assert failed number of parameters expected for message id 22005 3 does not match number of arguments received 2 compivotalgemfirexdinternalsharedcommonsanitysanitymanagerassertsanitymanagerjava239 compivotalgemfirexdinternalsharedcommoni18nmessageutilformatmessagemessageutiljava245 compivotalgemfirexdinternalsharedcommoni18nmessageutilgetcompletemessagemessageutiljava151 compivotalgemfirexdinternalsharedcommoni18nmessageutilgetcompletemessagemessageutiljava191 compivotalgemfirexdinternalsharedcommoni18nmessageutilgetcompletemessagemessageutiljava107 compivotalgemfirexdinternalclientamsqlexceptioninitsqlexceptionjava184 compivotalgemfirexdinternalclientampreparedstatementpossibletypesthrow22005exceptionpreparedstatementjava4007 compivotalgemfirexdinternalclientampreparedstatementsetlongpreparedstatementjava843 compivotalgemfirexdinternalclientampreparedstatementsetobjectpreparedstatementjava1688 orgspringframeworkjdbccorestatementcreatorutilssetvaluestatementcreatorutilsjava402 orgspringframeworkjdbccorestatementcreatorutilssetparametervalueinternalstatementcreatorutilsjava235 orgspringframeworkjdbccorestatementcreatorutilssetparametervaluestatementcreatorutilsjava150 orgspringframeworkjdbccorepreparedstatementcreatorfactorypreparedstatementcreatorimplsetvaluespreparedstatementcreatorfactoryjava300 orgspringframeworkjdbccorepreparedstatementcreatorfactorypreparedstatementcreatorimplcreatepreparedstatementpreparedstatementcreatorfactoryjava252 orgspringframeworkjdbccorejdbctemplateexecutejdbctemplatejava638 orgspringframeworkjdbccorejdbctemplateupdatejdbctemplatejava909 orgspringframeworkjdbccorejdbctemplateupdatejdbctemplatejava933 orgspringframeworkjdbccorenamedparamnamedparameterjdbctemplateupdatenamedparameterjdbctemplatejava313 orgspringframeworkintegrationjdbcjdbcmessagehandlerexecuteupdatequeryjdbcmessagehandlerjava130 orgspringframeworkintegrationjdbcjdbcmessagehandlerhandlemessageinternaljdbcmessagehandlerjava112 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 372 more code,0
user wants to restart failed job from scd user wants to restart a failed job via the cli ie task relaunch job-instance id,0
release 10 ga,0
harmonize common deployer runtime properties applied to modules most if not all of the deployers have some concept of customization of the deployed modules be it memory or cpu disk etc this ticket is about harmonizing the handling of such properties with the assumption that we want a per-deployer set of defaults and overridability at deployment time,0
filejdbc job throws exception during acceptance tests currently the testfilejdbcjobmultipleinvocations fails on line 156 stating data is different in table that what is expected currently this is failing on the single admincontainer deployment using redis as a transport also seeing the following exception in the attached log noformat 200snap error xdbusjobec2job30requests-1 stepabstractstep - encountered an error executing step step1 in job ec2job3 orgspringframeworkbatchitemitemstreamexception failed to initialize the reader caused by javalangillegalstateexception input resource must exist reader is in strict mode url filetmpxdoutputfilejdbctestfilejdbctest1out noformat the file is should be present and data present for the test at least according to the checker on ec2 and local deployments,0
add test cases for defaultcontainermatcher,0
test scripts on windows that use xdmoduleconfiglocationname,0
scs - replace binder xml config with configuration create confguration and configurationproperties configuration must support replacing the default kryo codec implementation with something else,0
ui analytics tab - ensure that graphs are responsive even for relatively large resolutions eg 1024px the graph breaks the browser window we should ensure that the graphs work on smaller screens,0
user wants the ability to persist the final state of a job success or failure,0
move jmx endpoints from jolokia to managementjolokia update code to use the managementjolokia endpoint,0
aggregatecounter display command options with lasthours and lastdays it would be nice to have lasthours and lastdays options for aggregatecounter display command,0
add comprehensive tests for aggregatecounterrepository the aggregatecountertests were created to satisfy xd-1462 but currently they only have a couple tests to validate the time field processing more comprehensive tests need to be added including the testing of the redis-based implementation in addition to in-memory for more info see the comment here httpsgithubcomspring-projectsspring-xdpull1087issuecomment-49638189,0
as a user id like to parameterize all import options so i can eliminate the need for args option since it gets confusing,2
bump spring integration to 412 spring amqp to 142,0
avoid false negative test failures related to hsqldb when executing tests and failures occur should be easy to simulate with a forced failure several other side-effect failures occur with the following error code caused by javalangillegalargumentexception hsqldb could not be started maybe another instance is already running on 000013583 code it seems that the failing tests are not properly cleaning up so the hsqldb instance they started is still running thereby causing the other failures in the case i last witnessed this on a dev branch i had a valid failure in localcontrolredisdatainitializationtests the environmentmatchestransport method specifically and typeconvertingstreamtests so perhaps a good way to start exploring this issue is to simulate a failure in one or both of those classes the false negatives im seeing are in the following code localsinglenodeinitializationtestsenvironmentmatchestransport rabbitsinglenodeinitializationtestsenvironmentmatchestransport redissinglenodeinitializationtestsenvironmentmatchestransport filesourcemoduletestsclassmethod localsinglenodestreamdeploymentintegrationtestsclassmethod rabbitsinglenodestreamdeploymentintegrationtestsclassmethod rabbitsinglenodestreamdeploymentintegrationtestsclassmethod code they all seem to be tests that start the singlenodeapplication,0
comm protocol for appmaster we need to be able to talk to appmaster which will control the whole xd yarn app 1 choose the implementation thrift spring int something else,0
create a trigger h2 narrative as the xd system i need to be able to execute a job or potentially a stream based on a given condition time data existence etc this story is intended is for a local trigger implementation but remote triggers will also need to exist h2 acceptance criteria implement the ability to register a time based trigger trigger cronstring for example implement the ability to register a file existence based trigger trigger path for example implement the ability to execute a job via an anonymous trigger jobname cronstring or path implement the ability to execute a job via a job via the previously registered trigger jobname triggername,0
as a developer id like to add load receiving sink module so that i can measure received throughput,3
module info for a composite should display original definition,0
output modules cannot use minpartitioncount when sending to named channels if the output module is connected to a named channel cannot be set up the property minpartitioncount it is giving an exception streams stream create f --definition queuefoo transform --expressionpayload-foo log stream create b --definition queuebar transform --expressionpayload-bar log stream deploy --name f --properties moduletransformcount2 stream deploy --name b --properties moduletransformcount2 stream create r --definition time router --expressionpayloadcontains10queuefooqueuebar stream deploy --name r --properties modulerouterproducerminpartitioncount20 the error is caused by javalangillegalargumentexception kafkamessagebus does not support producer property minpartitioncount for queuebar at orgspringframeworkxddirtintegrationbusmessagebussupportvalidatepropertiesmessagebussupportjava781 spring-xd-messagebus-spi-121releasejar121release,0
add redis sink as an user id like to have the ability to ingest data into redis sink,0
ability to tap spark streaming processor output we need to support adding a tap stream that connects to spark streaming processor modules output channel,0
yarn environment for xd acceptance tests create an 26 yarn environment on ec2 for which xd can be deployed for acceptance tests,0
provide a property on twittersearch to enable the object-to-json transformer twitter search source should produce json or pojo the pojo requires a custom wrapper class that is json friendly eg zero arg constructor the twittersearch module should have a parameter --json truefalse default true to control the output type,0
fail fast on kryo registration conflicts currently kryo class registration is hard coded in spring-xd-codec users may register their own classes using an extension mechanism but it is possible to conflict with internal xd class registration eg tuple exposing this using the same extension mechanism will make it more transparent,0
add counter delete shell command add counter delete shell command this also requires implementation of delete rest end point at counterscontroller,0
restrict job launcher with more than one batch job configured in job module currently the job launcher launches all the batch jobs configured in the job module please refer modulejoblaunchers executebatchjob this makes the jobregistry registers with multiple batch jobs under the same spring xd job name group name also it is understood that having multiple jobs configuration under the same config xml is uncommon,0
create design document for implementation strategy to support message conversion in channelregistry the conversion should be based on content-type headers similar to the way springs httpmessageconverters work with mime types also the map of available converters should be extensible while including the most common defaults for json xml etc we most likely want to add a few of our own content types also eg for tuples most likely this logic and the configuration methods for extending the converter map belong in abstractchannelregistry since it should be common across all implementations ie the logic should be the same regardless of the transport used after-serializationbefore-deserialization,0
stream documentation review,0
as a user i need to use xd sqoop module to support the merge command currently the sqooprunner createfinalarguments method forces the requirement for connect username and password options which are not valid for the merge option a check of the module type to not force these options being assigned to sqoop arg list would be preferred,4
add documentation for jdbc to hdfs batch job add docs to section httpsgithubcomspring-projectsspring-xdwikibatch-jobspre-packaged-batch-jobs,0
add aliases concept to module options and use in composed modules following merge of httpsgithubcomspring-projectsspring-xdpull601 allow a module option to be known by several names and elect a short name in composed module options when there is no ambiguity,0
create unit tests for countersinkproperties in s-c-s-m,0
modularize xd ui from httpsjiraspringsourceorgbrowsexd-1231 we understand the importance of modularizing client side javascript code this story tracks modularization of xd ui,0
as a user im trying to compose a job just with one definition however im getting the following error message which could be misinterpreted code xdjob create salsa --definition timestampfile successfully created job salsa xdjob create foo --definition salsa salsa successfully created job foo xdjob create foo222 --definition salsa command failed orgspringframeworkxdrestclientimplspringxdexception could not find module with name salsa and type job code,1
encrypt secret information in xd configuration files spring xd keeps passwords in text files such sas serversyml properties files and module configuration files some users have requested a way to store encrypted values rather than clear text xd should provide a hook for users to provide a custom component to detect encrypted property values and decrypt them during container admin and module initialization,0
move redis rule to a separate repo as an s-c-d developer id like to move redis rule to a separate repo so i can consume the test fixtures in different projects,0
documentation for file source httpstaticspringsourceorgspring-xddocs100build-snapshotreferencehtmlsources should have file added to the list and also the corresponding section that shows some basic usage,0
a a boot configurationpropertiesmoduleoptionsresolver this allows incremental adoption of boot configurationproperties as a way of being recognized as xd options,0
configuration conflict when using --transport local --store redis --disablejmx true --analytics redis results in both in-memory and redis based definitions of richgaugeservice - cant satisfy autowiring because there are two candidates had to change --analyticsmemory to get the application context to load,0
redis backed containers redisqueueinboundchanneladapter is not performant currently the redisqueueinboundchanneladapter has blocking operation when pulling the messages out of redis queue and this is not performant there are few ideas from the discussion to make it better 1 get more items from the redis queue per connection 2 we will also have compression of messagesat the channel registry before being sent to the redis queue we also need to investigate what redis connection strategy makes the redisqueueinboundadapter better,0
add simple batch sample to spring xd samples repo this example should require no code just the basic xml,0
update spring-data-hadoop version to 210m3,0
as a user id like to add the hadoop namenode specifics in a config file so that i dont have to incur the hassle of pointing to the namenode location every time i open a new dsl session but it is automatically configured,3
spike research zookeeper-based mechanism for partitioned job management the current implementation of partitioned job management is entirely based on message exchange over the message bus in a request reply scenario this creates challenges when it comes to using certain types of transports as well as acknowledging crashes to that effect the option of using a different partitioned job coordination strategy that relies on a distributed computing coordination mechanism such as zookeeper should be investigated,0
enhance container domain object currently orgspringframeworkxddirtclustercontainer has name and attributes container attributes this can be enhanced to include all the deployed modules number of deployed modules and any more useful info and can subsequently be used to get a detailed runtime container info,0
create aggregator module create a processing module based on sis aggregator component the completion criteria for the aggregator should be a simple count of messages eg received 50 messages and a timeout so that messages dont stay in the aggregator module for more than 30 seconds implementation suggestions create an xml based processing module definition using the si aggregator namespace only the options to support the features in the description should be exposed as property placeholders how to know it works a shell style integration test that has a source that sends a known amount of messages a ticktock like module would perhaps be a good example 10 messages sent every 100ms with an aggregator set to a aggregate count of 10 should have 1 message output perhaps to file sink whose name is based on time as well is that possible a ticktock example with a 1 second delay and with the aggregator module set to have a timeout of 05 seconds will have only one message in the file again assumign the file name has a timestampcounter in the filename,0
add support for offline module resolution h2 narrarive as a developer i need to be able to test modules without pushing them to a remote maven repository i should be able to do mvn install in my module project locally which will install the artifact into my local repository and have it resolvable by spring-cloud-streams,0
support for gemxd as a target database in a batch job getting caused by quote orgspringframeworktransactioncannotcreatetransactionexception could not open jdbc connection for transaction nested exception is javasqlsqlexception s qlstatexj045severity-1 serverlocalhost1529threaddrdaconnthread245gemfirexddaemons invalid or currently unsupported isolation level 8 passed to conn ectionsettransactionisolation the currently supported values are javasqlconnectiontransactionnone javasqlconnectiontransactionreaduncommitted javasqlcon nectiontransactionreadcommitted and javasqlconnectiontransactionrepeatableread orgspringframeworkjdbcdatasourcedatasourcetransactionmanagerdobegindatasourcetransactionmanagerjava242 orgspringframeworktransactionsupportabstractplatformtransactionmanagergettransactionabstractplatformtransactionmanagerjava373 orgspringframeworktransactioninterceptortransactionaspectsupportcreatetransactionifnecessarytransactionaspectsupportjava420 orgspringframeworktransactioninterceptortransactionaspectsupportinvokewithintransactiontransactionaspectsupportjava257 orgspringframeworktransactioninterceptortransactioninterceptorinvoketransactioninterceptorjava95 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy95getlastjobexecutionunknown source orgspringframeworkbatchcorelaunchsupportsimplejoblauncherrunsimplejoblauncherjava98 quote when launching a simple batch job with gemxd configured as the database quote job create --name myjob --definition filejdbc --resourcesfilehomempollackcsvcsv --driverclassnamecompivotalgemfirexdjdbcclientdriver --namesidnametest --tablenameappmytable job deploy --name myjob job launch --name myjob quote quote spring datasource url jdbcgemfirexdlocalhost1527 username admin password admin driverclassname compivotalgemfirexdjdbcclientdriver quote,0
as a user id like to enable ha on namenode without having to enable custom configuration more details herehttpsgithubcomspring-projectsspring-xd-ambariissues6,3
remove dynamically created producers when producers are createdbound dynamically eg from the router sink they are not unbound when the module is undeployed there is currently no metadata in the binding to provide that functionality it is not critical because the producers are just sitting there and may be reused if the module is redeployed but it is a leak and should be addressed at some time,0
as a s-c-d user id like to add rest support for stream commands so i can maneuver streaming pipeline backed by streamcontroller,4
set sourcecompatibility to jdk 17 min jdk version for xd 11 is 7 change the sourcecompatibility to 17 but leave targetcompatibility at 16 changes are also needed in the mdule parent pom and gradle plugins,0
add acceptance tests for stream with sources of tcp http and time and sinks of file and log need to be able to test the following sources tcp http time,0
add support for deploying a batch job with partitioning across multiple xd nodes this is a very big story needs some planningdiscussion before starting work should be able to be implemented as a plugin,0
add search box to the admin ui for deployments page if there is a large number of deployments it would be helpful to have a quick search filter in place to enable users to find deployments faster as can be done in the definitions page,0
container and grid control 1 well need a system which give better control of what yarnxd containers are out there and what is a status of those containers 2 we also need grouping of containers order to choose prioritize and scale tasks 3 we need heartbeating of the grid nodes hadoop yarn itself doesnt give enough tools to know if container is alive,0
spark streaming plugin shouldnt need tap listener cache since spark streaming doesnt use zk to keep track taps being created we dont need the tap listener cache setup at the container startup,0
icla website is missing spring xd project option the readmemd at httpsgithubcomspring-projectsspring-xdblobmasterreadmemd says before we accept a non-trivial patch or pull request we will need you to sign the contributors agreement navigating to the contributors agreement link takes the user to the icla web page at httpssupportspringsourcecomspringcommittersignup exp the project fields dropdown should have an option for spring xd act theres no spring xd option,0
support pagination in list command for triggers see xd-477,0
provide a http source stream should be able to ingest data from http,0
use new table classes provided by spring shell the classes orgspringframeworkxdshellutiltable orgspringframeworkxdshellutiltableheader orgspringframeworkxdshellutiltablerow are now provided by orgspringframeworkshellsupporttable objectives we should use those but wait for shl-142 to be complete improve all tests that use the table classes - avoid accessing table data using numeric keys rowcolumn numbers - instead use business keys such as table header names etc,0
the user needs the ability to set up a end-time where the trigger should no longer be in effect,0
upgrade groovy version to 222 currently xd hast testcompile dependency to use orgcodehausgroovygroovy-all221 the spring-integration-groovy uses 222 and it is what spring io platform uses as well to keep it all same we can change this testcompile dependency to use 222,0
provide a conventional way to extend xd container configuration provide an easy way for users to add beans eg gemfire cache configuration or modify default xd configuration such as serializers and message converters a simple approach is to add a well known resource selector such as classpathmeta-infspringxdextensions or include this path in an extensible configuration base class in addition we should adopt conventional names for beans that are meant to be extended eg use an xd prefix,0
set default hadoop name node for shell currently you have to set the default name node every time your start the shell we should do 2 things - provide a default name node set default hadoop name node for shell hdfslocalhost8020 - should we provide some form of persistence it kind of sucks that you have to re-specify the name node every time the shell starts up code xdhadoop fs ls you must set fs url before run fs commands code,0
running xd as service it is useful to configure operating system so that it will start spring xd automatically on boot for example in linux it would be great if spring xd distro contains initd script to run it as service a typical initd script gets executed with arguments such as start stop restart pause etc in order for an initd script to be started or stopped by init during startup and shutdown the script needs to handle at least start and stop arguments,0
nonodeexception after bouncing admin server steps to reproduce h6 1 clear out zk code zk localhost2181connected 0 rmr xd code h6 2 start admin h6 3 deploy stream code xdstream create --name tt --definition timelog --deploy code admin log code 163810537 info deployer serverstreamdeploymentlistener - deploying stream streamnamett 163810545 warn deployer serverstreamdeploymentlistener - no containers available for deployment of module log for stream tt 163810547 warn deployer serverstreamdeploymentlistener - no containers available for deployment of module time for stream tt 163810547 info deployer serverstreamdeploymentlistener - deployment status for stream tt deploymentstatusstatefailed 163810550 info deployer serverstreamdeploymentlistener - stream streamnamett deployment attempt complete code h6 4 shut down and restart admin the following is logged code orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsstreamsttmodules orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava111 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 orgapachezookeeperzookeepergetchildrenzookeeperjava1590 orgapachecuratorframeworkimpsgetchildrenbuilderimpl3callgetchildrenbuilderimpljava214 orgapachecuratorframeworkimpsgetchildrenbuilderimpl3callgetchildrenbuilderimpljava203 orgapachecuratorretryloopcallwithretryretryloopjava107 orgapachecuratorframeworkimpsgetchildrenbuilderimplpathinforegroundgetchildrenbuilderimpljava199 orgapachecuratorframeworkimpsgetchildrenbuilderimplforpathgetchildrenbuilderimpljava191 orgapachecuratorframeworkimpsgetchildrenbuilderimplforpathgetchildrenbuilderimpljava38 orgspringframeworkxddirtserverstreamdeploymentlistenerrecalculatestreamstatesstreamdeploymentlistenerjava207 orgspringframeworkxddirtserverdeploymentsupervisorleaderlistenertakeleadershipdeploymentsupervisorjava352 orgapachecuratorframeworkrecipesleaderleaderselectorwrappedlistenertakeleadershipleaderselectorjava536 orgapachecuratorframeworkrecipesleaderleaderselectordoworkleaderselectorjava398 orgapachecuratorframeworkrecipesleaderleaderselectordoworkloopleaderselectorjava443 orgapachecuratorframeworkrecipesleaderleaderselectoraccess100leaderselectorjava63 orgapachecuratorframeworkrecipesleaderleaderselector2callleaderselectorjava244 orgapachecuratorframeworkrecipesleaderleaderselector2callleaderselectorjava238 javautilconcurrentfuturetaskrunfuturetaskjava266 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 javautilconcurrentfuturetaskrunfuturetaskjava266 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 javalangthreadrunthreadjava744 code,0
as a s-c-d developer id like to upgrade receptor-client to comply with latest receptor api changes so i can sync-up and take advantage of the recent improvements,3
rollover support in hdfs-datasink hdfs-datasink should support rollover option just like hdfs sink this might be mutually exclusive with batchsize option which also performs rollover,0
add a access-control-allow-origin header to responses in order to support cross-origin requests if we want spring-xd to support interactions through a ui then it would make sense that we should support the ui coming from a separate origin this way the ui could remain a separate project and be served from wherever we want so we would need to add the header to all outgoing rest responses we may also need to add a access-control-allow-methods header as well in the short term the access-control-allow-origin header could be hard coded to a specific url im using httplocalhost9889 for now but in the long term we would need this configurable,0
remove all javadoc warnings,0
add config file fragment support configuration in xd windows bat scripts the external configuration fragment file support by setting springconfiglocation in the xd startup scripts are not updated in xd-admin xd-container and xd-singlenode bat scripts please refer httpsgithubcomspring-projectsspring-xdissues582,0
vary producers size db-5 use the number of consumers gave a maximum throughput in the previous test say 10 consumers message size 100 bytes prefetch 100 send 1m messages vary the number of producers measure the msgsec rate and calculate the data transfer rate in mbsec number of producers 2 4 6 10 50 during the measurements look at the rabbitmq admin ui and see if the queue is backing up,0
remove json parameter from twittersearch source json parameter is no longer required use --outputtypeapplicationjson instead,0
clean up mismatches and bugs in how mdoule options and server configuration is handled,0
improve automated documentation generation process for modules to handle array arguments for example the generated value for the cassandra sink results in -entitybasepackages the base packages to scan for entities annotated with table annotations string default ljavalangstring2638011 where the default value changes each time the build is run,0
make redisrabbit rules conditional dependent servers should be required on the ci server but optional on developer systems,0
rename bridge to binding and add direction orgspringframeworkintegrationxbusbridge should now be called binding we can also move the inboundoutbound direction or possibly the consumerproducer role into this class that should simplify its usage in conditional code within the messagebus code and also reduce the use of in and out as strings in that same code,0
status on shell command prompt is inconsistent deployment xd-shell local xd-singlenode ec2 sha 942c7868e3e0d0cf7730b536170438a0291f5cab description case 1 once successfully connected to a server if you connect to a server that is not present the prompt still shows xd when it should show server-unknown can be reproduced consistently conversely case 2 attempted to connect to a xd-singlenode on ec2 using a local xd-shell the xd-singlenode was not running after bringing up the xd-singlenode i was able to connect however the status did not change from server-unknown this behavior can not be consistently reproduced but have seen it happen on multiple accounts steps to reproduce case 1 1 bring up shell while xd-singlenode is not running 2 bring up xd-singlenode 3 connect to xd-singlenode xdadmin config server httplocalhost9393 4 connect to a fake address xdadmin config server httpfoobar9393 case 2 1 attempt to connect to remote server that is not available xdadmin config server httpec2-54-237-186-186compute-1amazonawscom9393 unable to contact xd admin server at httpec2-54-237-186-186compute-1amazonawscom9393 2 bring up xd-singlenode on remote server-unknownadmin config server httpec2-54-237-186-186compute-1amazonawscom9393 successfully targeted httpec2-54-237-186-186compute-1amazonawscom9393 3 still see the incorrect prompt server-unknown server-unknown,0
deploying with twittersearch source throws jackson classdefnotfound exception the upgrade to jackson 22 included the following change to the build script code projectspring-xd-dirt description spring xd dirt configurations runtimetestruntimeexclude group orgcodehausjackson code spring social twitter template depends on these classes,0
as a user id like to run the sqoop jobs against secured hdfs cluster so i can restrict access to only authorized users,3
small method name refactorings and add javadoc in batch controllers batchjobscontrollerlistforjob should be executionsforjob batchjobscontrollerjobinstances should be instancesforjob the javadoc for the class and each method should be more descriptive about their functionality,0
as a s-c-s user id like to investigate the possibility of s-c-s modules self-registering themselves to service discovery so i could use spring xd runtime running on cf to discover and orchestrate such modules through streams,5
as a developer id like to build isolated boot-based modulerunner for use in container-managed environments so i can run xd without the hard requirement for running xd-containers,5
handle xd admin server shutdown cleanly there are couple of issues here 1 the admin server destroy - close events onapplicationeventcontextclosedevent listener has stop to stop the admin servers tomcat instance the stop also calls the applicationcontexts destroy which loops again to stop 2 with hsqlserver or any batch db serverin future the admin server stop also needs to handle the batch db server shutdown,0
as a s-c-d developer id like to complete documentation and test-cases on resolving and adding jars to boot loader so we could use this as a reference while porting modules with external dependencies,3
as a developer id like to review the current sonar violations so that i can fix the relevant and update the irrelevant ones as invalid,3
ui add support for stoppable notifications update angular growl to v2 allowing for stoppable notifications in case you want to see it for longer than 5 secs,0
command to create a tap to store its definition and optionally deploy with --autostart flag,0
clean up dead entries in zookeeper xddeploymentsmodules when starting and stopping xd containers there are entries left in the xddeploymentsmodules directory that will cause runtime modules command to fail xdruntime modules command failed orgspringframeworkxdrestclientimplspringxdexception javalangruntimeexception orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsmodules5201ac3f-e952-48a2-a807-4f0bb2dab82btestsinkhdfs-1metadata here the xddeploymentsmodules5201ac3f-e952-48a2-a807-4f0bb2dab82b container is no longer running but there is some data left over,0
create microbenchmark performance test of reactor syslog adapter vs standard syslog adapter we need to verify that we are seeing improved throughput when using the reactor based syslog adapter a suggestion on a basic stream to perform a microbenchmark this would be using in-memory counters singlenode with the stream definition syslog counter based on the results of this microbenchmark other stories may need to be created,0
fix clustercontainers rest endpoint with security enabled once the containers management server is secured the admin server needs to know which rest template to use to get the message rates from the deployed modules inside the containers,0
as a xd build master id like to fix local gradlew dist and distzip targets the outstanding build issues so i can evaluate that publish builds works as expected,3
remove substream from the documentation this will come back in m3 once we iron out the issues,0
add support for creating fixed delay fixed rate triggers,0
create sample module in spring-xd-modules for a reactor stream processor a sample perhaps taken from pivotal labs use-case in denver that would calculate some time window averages for a many individual senor values,0
update sources gemfire cq section to use shell commands instead of curl see httpstaticspringsourceorgspring-xddocs100m1referencehtmlgemfire-cq,0
partitioned job throws javalangruntimeexception could not serialize lambda running a partitioned jdbchdfs job with 12 partitions and 3 xd-containers some steps fail with the jdbc connection pool exception xd-2720 i also sometimes see a serialization exception this results in the partitioner never getting the status for some of the steps so it keeps running until it times out even though all steps are either complete of failed code 2015-02-13 131836294 110release error inboundfiles40-redisqueue-inbound-channel-adapter1 redisredismessagebus1 - failed to deliver message retries exhausted message sent to queue errorsname orgspringframeworkmessagingmessagehandlingexception error occurred in message handler files40bridgehandler nested exception is comesotericsoftwarekryokryoexception javalangruntimeexception could not serialize lambda serialization trace stepexecutions orgspringframeworkbatchcorejobexecution jobexecution orgspringframeworkbatchcorestepexecution orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava84 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 orgspringframeworkxddirtintegrationredisredismessagebus11dowithretryredismessagebusjava267 orgspringframeworkxddirtintegrationredisredismessagebus11dowithretryredismessagebusjava263 orgspringframeworkretrysupportretrytemplatedoexecuteretrytemplatejava263 orgspringframeworkretrysupportretrytemplateexecuteretrytemplatejava168 orgspringframeworkxddirtintegrationredisredismessagebus1dosendredismessagebusjava263 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava239 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava101 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointpopmessageandsendredisqueuemessagedrivenendpointjava220 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointaccess300redisqueuemessagedrivenendpointjava50 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointlistenertaskrunredisqueuemessagedrivenendpointjava314 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 javalangthreadrunthreadjava745 caused by comesotericsoftwarekryokryoexception javalangruntimeexception could not serialize lambda serialization trace stepexecutions orgspringframeworkbatchcorejobexecution jobexecution orgspringframeworkbatchcorestepexecution comesotericsoftwarekryoserializersobjectfieldreadobjectfieldjava125 comesotericsoftwarekryoserializersfieldserializerreadfieldserializerjava528 comesotericsoftwarekryokryoreadobjectkryojava704 comesotericsoftwarekryoserializersobjectfieldreadobjectfieldjava106 comesotericsoftwarekryoserializersfieldserializerreadfieldserializerjava528 comesotericsoftwarekryokryoreadobjectkryojava682 orgspringframeworkxddirtintegrationbusserializerkryopojocodecdodeserializepojocodecjava41 orgspringframeworkxddirtintegrationbusserializerkryoabstractkryomultitypecodec1executeabstractkryomultitypecodecjava63 comesotericsoftwarekryopoolkryopoolqueueimplrunkryopoolqueueimpljava43 orgspringframeworkxddirtintegrationbusserializerkryoabstractkryomultitypecodecdeserializeabstractkryomultitypecodecjava60 orgspringframeworkxddirtintegrationbusserializerkryopojocodecdeserializepojocodecjava30 orgspringframeworkxddirtintegrationbusserializercompositecodecdeserializecompositecodecjava72 orgspringframeworkxddirtintegrationbusserializercompositecodecdeserializecompositecodecjava78 orgspringframeworkxddirtintegrationbusmessagebussupportdeserializepayloadmessagebussupportjava588 orgspringframeworkxddirtintegrationbusmessagebussupportdeserializepayloadmessagebussupportjava573 orgspringframeworkxddirtintegrationbusmessagebussupportdeserializepayloadifnecessarymessagebussupportjava556 orgspringframeworkxddirtintegrationredisredismessagebusaccess1000redismessagebusjava68 orgspringframeworkxddirtintegrationredisredismessagebusreceivinghandlerhandlerequestmessageredismessagebusjava465 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava99 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 21 more caused by javalangruntimeexception could not serialize lambda comesotericsoftwarekryoserializersclosureserializerreadclosureserializerjava52 comesotericsoftwarekryokryoreadclassandobjectkryojava786 comesotericsoftwarekryoserializerscollectionserializerreadcollectionserializerjava116 comesotericsoftwarekryoserializerscollectionserializerreadcollectionserializerjava22 comesotericsoftwarekryokryoreadobjectkryojava704 comesotericsoftwarekryoserializersobjectfieldreadobjectfieldjava106 40 more caused by javalangarrayindexoutofboundsexception -2 javautilarraylistelementdataarraylistjava418 javautilarraylistgetarraylistjava431 comesotericsoftwarekryoutilmapreferenceresolvergetreadobjectmapreferenceresolverjava42 comesotericsoftwarekryokryoreadreferenceornullkryojava830 comesotericsoftwarekryokryoreadobjectkryojava680 comesotericsoftwarekryoserializersclosureserializerreadclosureserializerjava49 45 more code,0
change xd-configyml and xd-modules-configyml to serversyml and modulesyml,0
add dependencies needed for running a pig job,0
avoid all modules deploying to the first container instance upon system restart a possible approach is to set a configurable wait period when the first container arrives if another container arrives during the wait period reset the clock when the wait period expires start deploying modules,0
upgrade to 311 of the gradle artifactory plugin this addresses the plugin issue httpswwwjfrogcomjirabrowsegap-172 to disable spring-xdpomxml,0
package tangle introduced by xd-790 httpssonarspringsourceorgdrilldownmeasures7173metricpackagetangleindexrids5b5d7717,0
create a scriptprocessor module that allows the execution of a groovy potentially jrubyjython based si service activator this will enable arbitrary processing logic to be used in a processing step see httpblogspringsourceorg20111208spring-integration-scripting-support-part-1 intservice-activator scriptscript langgroovy locationfilescriptsgroovymyscriptgroovy intservice-activator would be the essence of the module probably lang gets detected from the file extension,0
xd requires long duration tests in order to identify potential problems that may occur if xd is running for multiple hours we need to create a long duration test regime create an environment from which we can run both singlenode and a simple cluster 1 admin 2 container for 24 hours create 2 simple streams httpfile filelog send data to http source 2 times a second for 24 hours this test should execute checkprocs every 5 minutes to capture and record the status of the xd record memory usage and system load,0
as a qa id like to include acceptance test coverage for splitter processor module so that i can validate the functionality as part of every ci build,3
gradle launch needs to use singlenodemain vs admin main,0
support hourly resolution in redis aggregate counter,0
as a s-c-d developer id like to have module list shell command so i can query and list all the modules supported within the moduleregistry,2
fix undeploy of stream with a composed module create a composed module create a stream that uses that module try to undeploy the stream kaboom the dispatch is not correctly implemented in moduledeployer,0
as a user id like to parameterize codegen options so i can generate code on the fly as needed,4
streams created without a substreams are being typed by the parser as a job,0
update performance ami to include kafka create an ami that will contain the kafka executable as well as the kafka performance test tools,0
resolve runtime module option properties using module metadata since the module metadata properties are resolved at runtime when the module gets deployed we can resolve the module options values that are already resolved in there for example currently the runtime modules command for log module would show this runtime modules 7m2732m module container id options ---------------- ------------------------------------ -------------------------------------------------------- s1sourcehttp-0 633f0fb1-5396-4bc0-8f1e-c9d5104e0ea7 port9000 s1sinklog-1 633f0fb1-5396-4bc0-8f1e-c9d5104e0ea7 namexdstreamname expressionpayload levelinfo in this case we can resolve the module option name from the module metadata,0
as a developer id like to move serialization codec from spring xd repo into si so i can update spring xd to inherit the featuresfunctionalities via maven dependency,2
as a user im trying to connect to xd-admin server with basic security enabled however im unable to successfully connect to the server and i get the following error message codejava server-unknownadmin config server --uri httplocalhost9393 --username bob --password bobspwd unable to contact xd admin server at httplocalhost9393 code,4
implement a spark streaming receiver that binds to the messagebus,0
as a developer id like a job module to be bootstrapped when the job is launched and shut down once it is complete instead of the current behavior of bootstrapping the context when the module is deployed regardless of if its being used so that i can achieve better resource utilization,5
jobdeployer hides root exceptions on failure when deploying jobs the following code line 103 hides the root cause of deployment failure if exceptionclassnameequalsbeancreationexception exceptionclassnameequalsbeandefinitionexeption throw new missingrequireddefinitionexceptiondefinitiongetname causegetmessage for example orgspringframeworkxddirtstreammissingrequireddefinitionexception error creating bean with name datasourceinitializer defined in file userslukeworkspring-xdbuilddistspring-xdxdmodulesjobhdfsjdbcconfighdfsjdbcxml cannot resolve reference to bean databasepopulator while setting bean property databasepopulator nested exception is orgspringframeworkbeansfactorybeancreationexception error creating bean with name databasepopulator defined in file userslukeworkspring-xdbuilddistspring-xdxdmodulesjobhdfsjdbcconfighdfsjdbcxml initialization of bean failed nested exception is javalangnullpointerexception orgspringframeworkxddirtstreamjobdeployerdeployjobdeployerjava103 orgspringframeworkxddirtstreamjobdeployerdeployjobdeployerjava67 orgspringframeworkxddirtrestxdcontrollersavexdcontrollerjava242,0
refactor job deploy to go through xdcontrollerdeployname job deployment currently goes through an overloaded version of deploy that takes 4 parameters this prohibits job handling code from benefiting from common behavior and eg currently breaks deployall given that the 3 additional parameters are in fine handled as module parameters lets push them to the job definition known at creation time rather than at deployment time as it does not really make sense to change those between deploys,0
spike determine how to integrate job events into spring-cloud-streams h2 narrative as a developer when running a batch job on diegolattice as a task i want to be able to receive events based on the job lifecycle h2 back story xd 1x provides exposure to all of the main listeners spring batch supports via streams so they can be listened to this needs to be supported in the new spring-cloud-streams model note we may want this to depend on xd-2841,0
xd integration pauses should be configurable while the current setting work while running from your laptop to local deployments or running from your laptop to ec2 they are not long enough for ci to ec2 this should have good defaults and have ci set them to what it needs,0
the ability to import beans referenced in the main context into a module this should be a core feature of any spring based module the plugin should be able to import explicitly referenced beans this minimizes potential side effects of making the module a child context and is simpler than declaring a shared context parent of the application and the module provide namespace support for flow,0
update data partitioning functionality to use murmur hash function httpsgithubcomaddthisstream-libblobmastersrcmainjavacomclearspringanalyticshashmurmurhashjava,0
hdfs sink should default to hdfslocalhost8020 the current default is hdfslocalhost9000 but most new distributionsinstalls use 8020,0
upgrade zk installation on ec2 to 346 environment admincontainer on separate ec2 instances with rabbit transport redis rabbit zookeeper deployed on admin instance admincontainer on separate ec2 instances with redis transport redis rabbit zookeeper deployed on admin instance xd deployment type xd-singlenode commit httpsgithubcomspring-projectsspring-xdcommit8fba31d21e96a371dacf26b40eeb542c3564b2e3 both redis and rabbit clusters failed acceptance tests ive attached the portion of the admin log that was available,0
create the base implementation for xdcommands for the shell this is the basic setup of the commands file - no specific command implementations,0
rest representation of an aggregate-counter can lead to mixed up output the current representation of rest resources of time-series data eg aggregate counter can lead to problems in consuming applications despite the time series data provided by the counts data structure is logically ordered by key timestamps it doesnt guarantee an ordering since many consuming applications interpret json data as an unordered map like data structure because of this consuming applications have to apply special ordering transformation logic to get the data in an chronologically ordered fashion it would be helpful if one could configure the rendering of the time series data eg as a list of json object like codejson tssun oct 12 231023 cest 2014 value 42 code where ts denotes the timestamp and value denotes the value it would also be helpful if one could adjust the date format either with a pattern or a well known date format like cf iso 8601 i attached a python example for this that demonstrates the problem steps to reproduce create stream code xdstream create test --definition http filter --expressionpayloadcontainspivotal log code create tap on stream with aggregate-counter code xdstream create testtap --definition tapstreamtestfilter aggregate-counter code post some http data code xdhttp post --data hello pivotal data labs some more data code display aggregate counter code xdaggregate-counter display testtap --resolution minute aggregatecountertesttap ----------------------------- - ----- time - count sun oct 12 231023 cest 2014 0 sun oct 12 231123 cest 2014 0 sun oct 12 231223 cest 2014 0 sun oct 12 231323 cest 2014 0 mon oct 13 000223 cest 2014 0 mon oct 13 000323 cest 2014 0 mon oct 13 000423 cest 2014 0 mon oct 13 000523 cest 2014 0 mon oct 13 000623 cest 2014 0 mon oct 13 000723 cest 2014 0 mon oct 13 000823 cest 2014 3 mon oct 13 000923 cest 2014 1 code install python requests library rest support code pip install requests code start a python console or ipythonnotebook and run the following program codepython import requests import json res requestsgethttplocalhost9393metricsaggregate-counterstesttapresolutionminute statusobject jsonloadsrescontent printjsondumpsstatusobject indent4 code the above program should result in a similar output but as one can see due to pythons interpretation of the json object as a dict the order of the keys in the output got mixed up instead of showing the counts 3 and then 1 as in the example above this is just one example of how the current representation of the rest resource could lead to problems in consuming applications codejson counts 2014-10-12t212628553z 0 2014-10-12t221528553z 0 2014-10-12t222228553z 0 2014-10-12t214928553z 0 2014-10-12t213528553z 0 2014-10-12t214728553z 0 2014-10-12t221828553z 0 2014-10-12t221228553z 0 2014-10-12t221628553z 0 2014-10-12t215728553z 0 2014-10-12t212828553z 0 2014-10-12t220828553z 3 2014-10-12t214028553z 0 2014-10-12t220628553z 0 2014-10-12t212728553z 0 2014-10-12t215228553z 0 2014-10-12t221128553z 0 2014-10-12t220528553z 0 2014-10-12t212928553z 0 2014-10-12t212428553z 0 2014-10-12t215628553z 0 2014-10-12t214328553z 0 2014-10-12t220028553z 0 2014-10-12t221028553z 0 2014-10-12t215828553z 0 2014-10-12t222128553z 0 2014-10-12t213228553z 0 2014-10-12t214628553z 0 2014-10-12t220428553z 0 2014-10-12t220228553z 0 2014-10-12t215128553z 0 2014-10-12t213828553z 0 2014-10-12t213128553z 0 2014-10-12t222028553z 0 2014-10-12t215428553z 0 2014-10-12t220728553z 0 2014-10-12t220328553z 0 2014-10-12t213428553z 0 2014-10-12t220928553z 1 2014-10-12t214428553z 0 2014-10-12t221728553z 0 2014-10-12t215328553z 0 2014-10-12t221928553z 0 2014-10-12t213028553z 0 2014-10-12t222328553z 0 2014-10-12t213628553z 0 2014-10-12t214128553z 0 2014-10-12t221328553z 0 2014-10-12t215928553z 0 2014-10-12t220128553z 0 2014-10-12t213328553z 0 2014-10-12t214528553z 0 2014-10-12t213928553z 0 2014-10-12t215028553z 0 2014-10-12t213728553z 0 2014-10-12t221428553z 0 2014-10-12t212528553z 0 2014-10-12t215528553z 0 2014-10-12t214228553z 0 2014-10-12t214828553z 0 name testtap links href httplocalhost9393metricsaggregate-counterstesttap rel self code,0
add spring-integration-groovy to container dependencies this will enable the use of groovy scripts within modules,0
expose bean settings as configuration options to the kafka source and bus,0
force and validate information on ootb modules in line with the checks we do for options documentation currently made more complicated than it should because of rogue folders such as scripts and analytics-pmml in the registry,0
update hdfs sink documentation to reflect new functionality introduced in xd-990 and xd-991,0
as a spring xd developer id like to move shell module from xd to s-c-s repo so i can use it as sink to build streaming pipeline,2
do not allow the use of named channels in composed modules this needs closer inspection but here are some things that currently do not work either at the parser level or at actual deployment time noformat xdmodule compose foo --definition queuebar filter command failed orgspringframeworkxdrestclientimplspringxdexception could not find module with name filter and type sink xdmodule compose foolog --definition queuefoo log successfully created module foolog with type sink should fail not a module but a full stream xdmodule compose foo --definition queuebar filter transform successfully created module foo with type processor should be source noformat,0
switch to use jedis driver for redis the spring data team recommends using the jedis driver since the lettuce driver hasnt had any update activity for several months jedis is actively maintained we might also want to investigate redisson which is a fork of lettuce - httpsgithubcommrnikoredisson,0
documentation for http file processing put on the guide as a section in an input sources wiki page httpsgithubcomspringsourcespring-xdwikiguidegettingstarted,0
twitterstream test must use unique name to prevent test collision xd developer does not want the the twitter stream acceptance tests to interfere with other tests,0
as a build manager id like to schedule ci builds for windows so that i can verify xd runtime featuresfunctionality the scope is to isolate the remaining test failures perhaps experiment with new ami images until we have a solid infrastructure to fix the failing tests,1
rabbit source should expose more container options acknowlege-more tx-size prefetch-count concurrency etc,0
as a user id like to have the ability to configure acls so that i can restrict access to resources accessed via admin ui examples who can create streams who can destroy the streams who can view the streams defaults to all,5
user wants the ability to check the status of a job or task from the cli,0
allow to install new xd modules from maven coordinates currently new modules can be installed via the module upload command but for this to work one needs to build the artifacts beforehand it would be great to have support for installing new xd modules from maven coordinates eg from a public or controlled maven repository with this one would make it easy to consume community modules without much hassle this could also serve as some kind of starting ground for some special solution packages that provides support for cf natural language processing via a bunch of jars that contain the modules for language detection entity detection sentiment analysis topic clustering etc that could be consumed via some kind of bom bill of materials dependency like module install pivotaltoolkitsnlp,0
user wants ability to test sinks handled by 1245,0
xd admin ui log out does not function properly i am using xd 121release i have following environment variables xdconfigname mycompany and springprofileactive prod admin i have xd configuration file mycompany-prodyml with following security configuration config to enable security on administration endpoints consider adding ssl spring profiles prod security basic enabled true false to disable security settings default realm springxd xd security authentication file enabled true users xdadmin pwd roleadminroleviewrolecreate i get a login screen login works alright when i logout - i still see all the tabs and contents in all the tabs see the attached screenshot,0
a hateoas designed rest api using spring hateoas library,0
review existing reactor syslog codec implementation,0
update spring integration version to 400release,0
flatten out ephemeral nodes flatten out ephemeral nodes written by containers when deploying modules for instance instead of streamsmoduletypemodulelabelcontainer use streamsmoduletypemodulelabelcontainer this change allows us to derive state for a streamjob without having to traverse multiple layers of znodes this is a big deal because each level of children requires a network call curator can only cache one level of children,0
configure jackson objectmappers to allow single quotes allow json payloads from external sources eg http post to contain single quoted field names and values this is required where xd uses jackson to convert payloads from json to object or tuples,0
implement a dirt plugin for spark streaming support,0
spring batch jobs should be able to be deployed to the dirt runtime and managed,0
batch jobs add the ability to provide jobparameters,0
user wants ability to cancel a running task from scd cli user should be able to execute a task cancel task name which will terminate a running task and set the state of the task to cancelled,0
provide a way to debug the http source the http source does not provide debug logging to see information such as http headers and requests in particular if a non ok response is returned i updated the log4j config for orgjbossnetty but it had no effect i suspect this is due to the need to configure the netty logging system via internalloggerfactorysetdefaultfactorynew log4jloggerfactory,0
fix hdfsjdbc batch job hdfsjdbc throws an exception code orgspringframeworkbeansfactorybeandefinitionstoreexception invalid bean definition with name itemreader defined in url fileuserstrisbergprojectsspring-xdbuilddistspring-xdxdmodulesjobhdfsjdbcconfighdfsjdbcxml could not resolve placeholder columns in string value columns code the hdfsjdbc job uses columns instead of names as the parameter for the column-names should we make this usage consistent between jobs there is a comment in the docs - there is also a limitation in that the database table must be created manually this is due to a bug in spring hadoop and will be fixed in the future think this is this solved in spring hadoop now initializedatabase should default to false now to be consistent with jdbc sink rename batch-jdbcmongo-importproperties to batch-jdbcmongoproperties since these arent just for import,0
as a user i cannot use admin-ui on the master build it wont come up,2
spark tap tests do not clean up rabbitmq 2 exchanges left behind,0
modules do not redeploy properly when zookeeper node is lost sha baddfc24b08286a78392d5f565742c9bab5adfea ec2 environment look at zookeeper ec2 deployment test topologypng for a view of the topology h2 the test scenario bring up a up a 5 container 2 admin xd cluster up using 3 zk server ensemble create ticktock stream timelog deploy with --properties modulelogcount5 kill one of the zk servers in the ensemble h2 observed behavior in this particular scenario 3 containers were affected by killing sudo kill pid zookeeper 2 2 containers did not come back online even though they did show up in the runtime containers h2 timeline 140821 deployed stream 140910 kill server in zk ensemble after waiting a few seconds ran runtime modules note log2 is undeployed and log5 is then deployed xdruntime modules module container id options deployment properties ----------------- ------------------------------------ ------------------------------------------ --------------------- foosinklog1 98a32c62-302a-484b-af9c-d670f2a3cfc2 namefoo expressionpayload levelinfo count5 sequence1 foosinklog2 9a3a1846-bac4-4504-81fd-151665d851dc namefoo expressionpayload levelinfo count5 sequence2 foosourcetime1 9a3a1846-bac4-4504-81fd-151665d851dc fixeddelay1 formatyyyy-mm-dd hhmmss count1 sequence1 xdruntime modules module container id options deployment properties ----------------- ------------------------------------ ------------------------------------------ --------------------- foosinklog1 98a32c62-302a-484b-af9c-d670f2a3cfc2 namefoo expressionpayload levelinfo count5 sequence1 foosinklog5 5c454a39-fc4c-4bd3-b828-08cd837dc4ba namefoo expressionpayload levelinfo count5 sequence5 foosourcetime1 9a3a1846-bac4-4504-81fd-151665d851dc fixeddelay1 formatyyyy-mm-dd hhmmss count1 sequence1 xdruntime modules module container id options deployment properties ----------------- ------------------------------------ ------------------------------------------ --------------------- foosinklog1 98a32c62-302a-484b-af9c-d670f2a3cfc2 namefoo expressionpayload levelinfo count5 sequence1 foosinklog5 5c454a39-fc4c-4bd3-b828-08cd837dc4ba namefoo expressionpayload levelinfo count5 sequence5 foosourcetime1 9a3a1846-bac4-4504-81fd-151665d851dc fixeddelay1 formatyyyy-mm-dd hhmmss count1 sequence1 xdruntime containers container id host ip address pid groups custom attributes ------------------------------------ ---------------- ------------- ---- ------ ----------------- 0ba5e6ce-aedf-429c-b846-1cd4e32836c7 ip-10-2-209-174 102209174 1045 5c454a39-fc4c-4bd3-b828-08cd837dc4ba ip-10-70-9-57 1070957 1099 707a968b-15a5-451f-9034-1e7f05cdcf97 ip-10-70-11-185 107011185 1055 98a32c62-302a-484b-af9c-d670f2a3cfc2 ip-10-110-186-48 1011018648 1056 groupa 9a3a1846-bac4-4504-81fd-151665d851dc ip-10-70-9-153 10709153 1020 group0 h2 undeploy and redeploy stream 141642 undeploy and redploy with modulelogcount5 xdruntime modules module container id options deployment properties ----------------- ------------------------------------ ------------------------------------------ --------------------- foosinklog1 98a32c62-302a-484b-af9c-d670f2a3cfc2 namefoo expressionpayload levelinfo count5 sequence1 foosinklog2 5c454a39-fc4c-4bd3-b828-08cd837dc4ba namefoo expressionpayload levelinfo count5 sequence2 foosinklog5 9a3a1846-bac4-4504-81fd-151665d851dc namefoo expressionpayload levelinfo count5 sequence5 foosourcetime1 98a32c62-302a-484b-af9c-d670f2a3cfc2 fixeddelay1 formatyyyy-mm-dd hhmmss count1 sequence1 xdruntime containers container id host ip address pid groups custom attributes ------------------------------------ ---------------- ------------- ---- ------ ----------------- 0ba5e6ce-aedf-429c-b846-1cd4e32836c7 ip-10-2-209-174 102209174 1045 5c454a39-fc4c-4bd3-b828-08cd837dc4ba ip-10-70-9-57 1070957 1099 707a968b-15a5-451f-9034-1e7f05cdcf97 ip-10-70-11-185 107011185 1055 98a32c62-302a-484b-af9c-d670f2a3cfc2 ip-10-110-186-48 1011018648 1056 groupa 9a3a1846-bac4-4504-81fd-151665d851dc ip-10-70-9-153 10709153 1020 group0 142106 undeploy foo,0
in ec2 deployment allow users to set download jars into the libxd directory in cases where the deployment requires jars that can not be included with the distribution the user should be able to pull a jar from a http site and place it in libxd the use case is that when we removed the mysql jar from the distribution the ci tests could not start the xd instances on ec2 without it it was suggested that we use the postgresql instead but decided to continue the use of mysql for acceptance tests,0
document the rabbitmq bus cleanup rest api,0
create xd module for tail file adapter,0
spike for job that imports data from csv file to hdfs tbd,0
update to spring integration 425 when available fix metrics see int-3956,0
add validation on tap definitions that checks for module names that are part of the stream definition try code stream create --name aa --definition time log tap create --name t1 --definition tap aalog log code results in code command failed orgspringframeworkxdrestclientimplspringxdexception javalangnullpointerexception code,0
allow mixins of moduleoptionsmetadata a lot of modules have similar options moreover job modules often have options that belong to at least two domains eg jdbc hdfs i think that by using flattenedcompositemoduleoptionsmetadata we could come up with a way to combine several options pojos into one something like public class jdbchdfsoptionsmetadata optionsmixin private jdbcoptionsmetadata jdbc optionsmixin private hdfsoptionsmetadata hdfs this would expose eg driverclass as well as rolloversize as top level options values could be actually injected into the fields so that eg custom validation could occur default validation for the mixin class would occur by default,0
as a spring xd user im trying to use a custom mongodb batch job however im getting an error running it against 120121 release while the same works with older releases of spring xd more details in this so threadhttpstackoverflowcomquestions31838720mongodb-batch-job-broken-in-spring-xd-1-2-0,3
as a s-c-d user id like to have the option of gemfire as module registry so i can build data pipelines that are entirely orchestrated within gemfire,5
job definitions page fails to display definitions if page in this scenario we created 30 jobs that can be used for a composed job if the composed job uses jobs in its composition that are not present on the first page of the of the result set the following exception is thrown noformat 2015-11-02t144717-0500 130snap error qtp1587928736-26 restrestcontrolleradvice - caught exception while handling a request javalangillegalstateexception not all instances were looked at fff orgspringframeworkxddirtrestxdcontrollerenhancewithdeploymentsxdcontrollerjava244 spring-xd-dirt-130build-snapshotjar130build-snapshot orgspringframeworkxddirtrestxdcontrollerlistvaluesxdcontrollerjava209 spring-xd-dirt-130build-snapshotjar130build-snapshot orgspringframeworkxddirtrestjobscontrollerlistjobscontrollerjava128 spring-xd-dirt-130build-snapshotjar130build-snapshot sunreflectgeneratedmethodaccessor133invokeunknown source nana sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 na17067 javalangreflectmethodinvokemethodjava606 na17067 orgspringframeworkwebmethodsupportinvocablehandlermethoddoinvokeinvocablehandlermethodjava221 spring-web-422releasejar422release orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava137 spring-web-422releasejar422release orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava110 spring-webmvc-422releasejar422release orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlermethodrequestmappinghandleradapterjava806 spring-webmvc-422releasejar422release orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava729 spring-webmvc-422releasejar422release orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava85 spring-webmvc-422releasejar422release orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava959 spring-webmvc-422releasejar422release orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava893 spring-webmvc-422releasejar422release orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava970 spring-webmvc-422releasejar422release orgspringframeworkwebservletframeworkservletdogetframeworkservletjava861 spring-webmvc-422releasejar422release javaxservlethttphttpservletservicehttpservletjava735 javaxservlet-300v201112011016jarna orgspringframeworkwebservletframeworkservletserviceframeworkservletjava846 spring-webmvc-422releasejar422release javaxservlethttphttpservletservicehttpservletjava848 javaxservlet-300v201112011016jarna orgeclipsejettyservletservletholderhandleservletholderjava684 jetty-servlet-8114v20131031jar8114v20131031 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1496 jetty-servlet-8114v20131031jar8114v20131031 orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconfigurationapplicationcontextheaderfilterdofilterinternalendpointwebmvcautoconfigurationjava291 spring-boot-actuator-123releasejar123release orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 spring-web-422releasejar422release orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 jetty-servlet-8114v20131031jar8114v20131031 orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinternalhiddenhttpmethodfilterjava77 spring-web-422releasejar422release orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 spring-web-422releasejar422release orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 jetty-servlet-8114v20131031jar8114v20131031 orgspringframeworkwebfilterhttpputformcontentfilterdofilterinternalhttpputformcontentfilterjava87 spring-web-422releasejar422release orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 spring-web-422releasejar422release orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 jetty-servlet-8114v20131031jar8114v20131031 orgspringframeworkbootactuatetracewebrequesttracefilterdofilterinternalwebrequesttracefilterjava102 spring-boot-actuator-123releasejar123release orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 spring-web-422releasejar422release orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 jetty-servlet-8114v20131031jar8114v20131031 orgspringframeworksecuritywebfilterchainproxydofilterinternalfilterchainproxyjava207 spring-security-web-402releasejar402release orgspringframeworksecuritywebfilterchainproxydofilterfilterchainproxyjava176 spring-security-web-402releasejar402release orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 jetty-servlet-8114v20131031jar8114v20131031 orgspringframeworkbootactuateautoconfiguremetricfilterautoconfigurationmetricsfilterdofilterinternalmetricfilterautoconfigurationjava90 spring-boot-actuator-123releasejar123release orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 spring-web-422releasejar422release orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 jetty-servlet-8114v20131031jar8114v20131031 orgeclipsejettyservletservlethandlerdohandleservlethandlerjava499 jetty-servlet-8114v20131031jar8114v20131031 orgeclipsejettyserverhandlerscopedhandlerhandlescopedhandlerjava137 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettysecuritysecurityhandlerhandlesecurityhandlerjava557 jetty-security-8114v20131031jar8114v20131031 orgeclipsejettyserversessionsessionhandlerdohandlesessionhandlerjava231 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverhandlercontexthandlerdohandlecontexthandlerjava1086 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyservletservlethandlerdoscopeservlethandlerjava428 jetty-servlet-8114v20131031jar8114v20131031 orgeclipsejettyserversessionsessionhandlerdoscopesessionhandlerjava193 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverhandlercontexthandlerdoscopecontexthandlerjava1020 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverhandlerscopedhandlerhandlescopedhandlerjava135 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverhandlerhandlerwrapperhandlehandlerwrapperjava116 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverserverhandleserverjava370 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverabstracthttpconnectionhandlerequestabstracthttpconnectionjava494 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverabstracthttpconnectionheadercompleteabstracthttpconnectionjava971 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyserverabstracthttpconnectionrequesthandlerheadercompleteabstracthttpconnectionjava1033 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyhttphttpparserparsenexthttpparserjava644 jetty-http-8114v20131031jar8114v20131031 orgeclipsejettyhttphttpparserparseavailablehttpparserjava235 jetty-http-8114v20131031jar8114v20131031 orgeclipsejettyserverasynchttpconnectionhandleasynchttpconnectionjava82 jetty-server-8114v20131031jar8114v20131031 orgeclipsejettyionioselectchannelendpointhandleselectchannelendpointjava667 jetty-io-8114v20131031jar8114v20131031 orgeclipsejettyionioselectchannelendpoint1runselectchannelendpointjava52 jetty-io-8114v20131031jar8114v20131031 orgeclipsejettyutilthreadqueuedthreadpoolrunjobqueuedthreadpooljava608 jetty-util-8114v20131031jar8114v20131031 orgeclipsejettyutilthreadqueuedthreadpool3runqueuedthreadpooljava543 jetty-util-8114v20131031jar8114v20131031 javalangthreadrunthreadjava745 na17067 noformat,0
tail file channel adapters,0
kafka sink support async producer the kafka sink supports properties for an async producer eg queuebufferingmaxms but you cannot enable such a producer only sync async producers batch messages at the risk of message loss add a new property async default false and add the corresponding attribute to the int-kafkaproducer-configuration element asyncasync,0
list runtime modules by wrong containerid should throw exception with pr340 listing of runtime modules with a non-existent containerid will display empty table instead we can throw exception saying container doesnt exist,0
composite modules should inherit xd properties currently when modules are composed to a single application context properties are not inherited httpsgithubcomspring-projectsspring-xdwikimodulesplaceholders-available-to-all-modules,0
failing tcp to file in script tests build22-may-2014 084504creating stream tcptofile with definition tcp--port3d21234--sockettimeout3d20007cfile--dir3d2ftmp2fxdtest2fbasic build22-may-2014 084504nametcptofiledeployednulldefinitiontcp --port21234 --sockettimeout2000 file --dirtmpxdtestbasiclinksrelselfhrefhttp1270019393streamstcptofile build22-may-2014 084504 build22-may-2014 084511destroying stream tcptofile build22-may-2014 084511 build22-may-2014 084511 build22-may-2014 084511expected blahblah does not match actual value 98108971049810897104 simple22-may-2014 084511failing task since return code of binsh tmpxd-scripts-rs-513-scriptbuildtask-7280766559152712153sh was 1 while expected 0 simple22-may-2014 084511finished task run basicstreamtests see httpsbuildspringiodownloadxd-scripts-rsbuildlogsxd-scripts-rs-513log,0
set up a project for xd rest client library,0
improve resilience of route creationremoval the cf implementation requires that a route be created for each new app this works fine on the happy path but is brittle for example it will fail if the route required already exists,0
update spring integration version to 40m2,0
as a developer id like to create separate repo for cf spi so i dont have to bundle all spi variants under one admin project,3
temporary race condition between deployment and runtime modules command the runtime modules command can show a failure between the deployment command and the actual deployment on the container node especially if there is a network hop this clears up once the module is fully deployed code xdstream create --name trois3 --definition time jdbc --deploy created and deployed new stream trois3 xdruntime modules command failed orgspringframeworkxdrestclientimplspringxdexception javalangruntimeexception orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsmodulesbc95653e-9da5-4738-beb2-f215e4003318trois3sourcetime-0metadata xdruntime modules module container id options -------------------- ------------------------------------ ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- trois3sourcetime-0 bc95653e-9da5-4738-beb2-f215e4003318 formatyyyy-mm-dd hhmmss fixeddelay1 wintusinkjdbc-1 bc95653e-9da5-4738-beb2-f215e4003318 tablenamexdstreamname urljdbchsqldbhsqlcarbon9102xdjob columnspayload driverclassnameorghsqldbjdbcjdbcdriver initializedatabasefalse initializerscriptinitdbsql usernamesa trois3sinkjdbc-1 d0ad8eda-be27-46ac-86be-e43b5d9921af tablenamexdstreamname urljdbchsqldbhsqlcarbon9102xdjob columnspayload driverclassnameorghsqldbjdbcjdbcdriver initializedatabasefalse initializerscriptinitdbsql usernamesa wintusourcetime-0 befa5f27-aac3-4d94-9171-77c07036ec75 formatyyyy-mm-dd hhmmss fixeddelay1 code,0
rename spring-xd-shell to xd-shell,0
filejdbc acceptance test,0
improve acceptance testing coverage the scope is to address the sub-tasks linked with this story,0
graphlab - enhance machine learning and computations we would like to experiment with graphlab a graph based high performance distributed computation framework written in c features hdfs integration maching learning toolkits website - httpgraphlaborgprojectsindexhtml github - httpsgithubcomgraphlab-codegraphlab note could be part of unified offering of phd,0
easier customization of headers passed by redismessagebus httpstackoverflowcomquestions25072967spring-xd-redis-message-bus-removing-headers-from-the-message2508153825081538 currently you have to modify redis-busxml in the dirt jar,0
package up the ui code when building the distribution so that it can be shown by xd-admin the ui code will be sitting in one or more top level directories in the repository this story will address the need to 1 copy over the ui code into a location so that it can be picked up by the embedded servlet container when the distribution zip is unzipped after running xd-admin or xd-singlenode one should be able to hit the ui at httplocalhost8999xd just an example,0
add jars for avro and snappy compression to sqoop job submission we need to have some jars as part of the sqoop job submission to yarn for avro we need avro-176jar avro-mapred-176jar for snappy we need snappy-java-105jar note the 1101 version from xdlib doesnt work commons-compress-141jar we can either have these included using the --libjars option or automatically include them,0
rabbit source and sink mappedrequestheaders should include all headers by default currently it is necessary to specify mappedrequestheaders on the rabbit sink otherwise no headers are mapped to amqp this should be the default behavior,0
convert remaing filesink assertions to eventually constructs see discussion at httpsgithubcomspring-projectsspring-xdpull362,0
have counters use double arithmetic instead of long now that we have --incrementexpression we often want to increment by some domain specific value that may not be integral eg watts in smartgrid demo,0
refactor exception handling and update javadocs for acceptance test add javadocs to streamutils httptest mqtttest jmssource exception handling streamutils stream method should throw illegalstateexception instead of a checked exception xdec2validation assertreceived assertvalid should throw illegalstateexception instead of a checked exception,0
update spring batch to 303release,0
remove --transport option except for single node since transport is now shared by admin and container a command line arg is not appropriate since it allows the user to set them to different values which would break xd the recommend way to configure transport is in serversyml the command line arg is still valid for single node,0
no validation for module packaging during module upload one can upload a module which doesnt contain config package with module configuration artifacts eg xml groovy properties etc using the module upload command in spring xd shell during stream deployment this will result in a cryptic exception codemar 02 2015 104548 pm orgspringframeworkshellcoresimpleexecutionstrategy invoke severe command failed orgspringframeworkxdrestclientimplspringxdexception multiple top level module resources found file optspring-xdspring-xd-110releasexdconfigjms-activemqpropertiesfile optspring-xdspring-xd-110releasexdconfigxd-container-loggerpropertiesfile optspring-xdspring-xd-110releasexdconfigjms-hornetqpropertiesfile optspring-xdspring-xd-110releasexdconfigxd-singlenode-loggerpropertiesfile optspring-xdspring-xd-110releasexdconfigxd-admin-loggerpropertiesfile optspring-xdspring-xd-110releasexdconfighttpsslpropertiesfile optspring-xdspring-xd-110releasexdconfighadooppropertiescode root cause is most likely the module classloader setup which delegates to parent classloader which in turn scans xdhomeconfig directory and discovers a number of properties files it would nice if spring xd would validate the module during module upload command and prevent uploading of invalid modules,0
add config dir to classpath to support custom properties-locations the transform filter and script processor modules support passing in a properties-location for script variables we need a default location on the classpath for users to provide custom properties files,0
parser should only allow one label instance per module,0
remove xd uuidgenerator in favor of the new si provided one remove bean ididgenerator classorgspringframeworkxddirtcontaineruuidgenerator containerxml delete orgspringframeworkxddirtcontaineruuidgenerator remove compile dependency on eaio from buildgradle,0
display a field value counter,0
processor modules should support scripts in languages other than groovy filter transform and script modules all assume the provided script is written in groovy this is partly due to the fact that the lang attribute of int-scriptscript cant be set to a property value ie langlanggroovy which would allow users to pass in the expected language or perhaps we could use a spel expression or script to pick the language based on the file extension,0
as a user id like to type the username and password to gain access to admin server so that i dont have to add it in some file hence i dont have to worry about having the password getting logged somewhere,4
rest - listing of fieldvaluecounter not working httplocalhost8080metricsfield-value-counters code errors xmlnsatomhttpwwww3org2005atom error logrefhttpmessagenotwritableexception message could not marshal pagedresource content links httplocalhost8080metricsfield-value-countershashtagsrelself metadata metadata number 0 total pages 1 total elements 1 size 0 links null nested exception is javaxxmlbindmarshalexception - with linked exception comsunistacksaxexception2 unable to marshal type orgspringframeworkxdrestclientdomainmetricsmetricresource as an element because it is not known to this context message error errors code,0
add support for specifying an undeploy-condition for stream definitions in some scenarios like when performing exploratory data-analysis on streaming data one often create a stream keep it running for some time or until some condition is met and then stop the stream and start to investigate the collected data it would be cool to be able to specify some undeploy condition like eg a timeout after x minutes no of events collected a specific counter past a given threshold file-size greater then x etc,0
create jdbc sink we need a jdbc sink for writing to hawq using int-jdbcoutbound-channel-adapter and postgresql jdbc driver,0
remove unused parser code related to substreams co the xd parser had initial support for substreams which have been subsumed by composed modules that legacy code is unused and not needed,0
packaging of lib directory for shell contains many jars that are not used between m5 and m6 the size of the shelllib directory went up 50 mb investigate and remove jars from being packaged that are not used,0
as a spring xd user i want to have the ability to customize the encoders and decoders used by the kafka source sink and bus so that i can customize data formats and choose the most appropriate strategy,4
spike for writing to hdfs see epic httpsjiraspringsourceorgbrowsexd-234,0
create json to tab-delimited text transformer script we need a generic script that can do json to tab-delimited text transformation for data written to hdfshawq external tables users should be able to specify columnsfields to be included,0
user requests that xd team members are issued ec2 accounts setup groups for xd user setup privileges so users can only see their instances setup user accounts send created access key to users send username and passwords to user,0
implement list method on tapdeployer,0
syslog-tcp throws exception when receiving syslog data xd deployment descriptionxd cluster 1 container environmentec2 type of testmanual test via shell test failed onsyslog-tcp only test that was run build usedbuilt may 7 1029 utc setting up the environment used the wiki instructions to setup the syslog on the ec2 instance deploy the stream below stream create mystream --definition syslog-tcp file --binarytrue --modereplace --deploy on the ec2 instance execute the line below logger -p local3info -t testing test syslog message what occurred stream fails to process inbound syslog information and throws the exception below exception in thread inboundmystream0-redisqueue-inbound-channel-adapter17 orgspringframeworkmessagingcoredestinationresolutionexception failed to look up messagechannel with name errorchannel in the beanfactory and there is no headerchannelregistry present orgspringframeworkintegrationsupportchannelbeanfactorychannelresolverresolvedestinationbeanfactorychannelresolverjava108 orgspringframeworkintegrationsupportchannelbeanfactorychannelresolverresolvedestinationbeanfactorychannelresolverjava44 orgspringframeworkintegrationchannelmessagepublishingerrorhandlerresolveerrorchannelmessagepublishingerrorhandlerjava111 orgspringframeworkintegrationchannelmessagepublishingerrorhandlerhandleerrormessagepublishingerrorhandlerjava78 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava55 javalangthreadrunthreadjava724 caused by orgspringframeworkbeansfactorynosuchbeandefinitionexception no bean named errorchannel is defined orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorygetbeandefinitiondefaultlistablebeanfactoryjava641 orgspringframeworkbeansfactorysupportabstractbeanfactorygetmergedlocalbeandefinitionabstractbeanfactoryjava1159 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava282 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava200 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava273 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava200 orgspringframeworkintegrationsupportchannelbeanfactorychannelresolverresolvedestinationbeanfactorychannelresolverjava99 5 more,0
as a s-c-d user id like to have the option to support passing definition parameters into yarn container so i can effectively use those params within the module running inside the container,3
unable to destroy stream when using http source when destroying a stream that contains an http source an exception is thrown thus even though the stream is destroyed all resources are not released ie port 9000 is still in use nettyhttpinboundchanneladapter is currently setup with childtcpnodelay set to true and when running on my system and on ec2 the http needs more time to release the port my recommendation is to set bootstrapsetoptionchildtcpnodelay false instead of true,0
moduleconfigurationexception should not report http 500 see discussion at httpsgithubcomspring-projectsspring-xdpull1537issuecomment-99583179 this is likely a client error so should be in the 4xx family this requires customization of restcontrolleradvice,0
add more sophisticated retry configuration to the rabbit messagebus xd-1019 added simple stateless retry to the message bus use stateful retry and an amqprejectanddontrequeuerecoverer enabling failed messages to be requeued on the broker until successful perhaps because another instance can handle the message also provides a mechanism to route failed messages to a dead-letter exchange requires setting the message id header in bus-generated messages also add profiles and properties for common retrybackoff policies,0
decide on location to host http reference documentation and automate upload in build scripts,0
create jdk6 ci build maybe only have it run after the publish build instead of triggering builds directly from jdk6-7-8,0
create documentation for composed modules,0
provide dsl completion after a somechannel prefix,0
new sink for rest resources a new sink that would post the message payload to a rest service over http could be created with code something like this except without hardcoded user and password for basic auth rest-storexml code xml version10 encodingutf-8 beans xmlnshttpwwwspringframeworkorgschemabeans xmlnsxsihttpwwww3org2001xmlschema-instance xmlnsinthttpwwwspringframeworkorgschemaintegration xmlnshttphttpwwwspringframeworkorgschemaintegrationhttp xsischemalocationhttpwwwspringframeworkorgschemabeans httpwwwspringframeworkorgschemabeansspring-beansxsd httpwwwspringframeworkorgschemaintegration httpwwwspringframeworkorgschemaintegrationspring-integrationxsd httpwwwspringframeworkorgschemaintegrationhttp httpwwwspringframeworkorgschemaintegrationhttpspring-integration-httpxsd intchannel idinput intchannel idrestout intheader-enricher input-channelinput output-channelrestout intheader namecontent-type valuecontenttypeapplicationjson intheader-enricher httpoutbound-channel-adapter urlurl request-factoryclienthttprequestfactory channelrestout http-methodmethodpost header-mapper bean idhttpcomponentsmessagesender classorgspringframeworkwstransporthttphttpcomponentsmessagesender property namecredentials bean classorgapachehttpauthusernamepasswordcredentials constructor-arg valuemyuser constructor-arg valuemypassword bean property bean bean idclienthttprequestfactory classorgspringframeworkhttpclienthttpcomponentsclienthttprequestfactory property namehttpclient valuehttpcomponentsmessagesenderhttpclient bean beans code rest-storeproperties code optionsurldescription the url to send data to optionsurltype string optionsmethoddescription http method default post optionsmethodtype string optionscontenttypedescription content-type header to set default applicationjson optionscontenttypetype string code,0
as a developer id like to upgrade to si 421 release so i can take advantage of the latest improvements,1
validator interface doesnt contains any job details like id name etc orgapachesqoopvalidationvalidator interface doesnt contain any job information and it has only validationcontext object reference i am trying to write custom class that implements validator class and trying to store the source count and destination count into data base but i need some reference about job like job id name start time end time etc i think we can have orgapachehadoopmapreducejob instance or any other reference to the job would help,0
as a user i would like to be able disable snappy compression when using hdfs-dataset sink with avro files id also like to be able to provide a different codec,1
support xdjmxenabled configuration xd-ec2 needs to allow user to set the xdjmxenabled flag in the environment prior to admin or container startups,0
add http get command to shell this will allow for some easy demonstration of how hateos works via links in our rest api there are probably some quite useful commands here that could be used from the spring data rest shell longer term but a good place to take a look at now goal is to show how metrics such as counters are accessible wo having to switch tabs to use wget the pretty printing of the returned json is an important feature to help understand the response this functionality can be taken fromreused from the spring data rest shell,0
update sources section to use shell commands instead of curl see httpstaticspringsourceorgspring-xddocs100m1referencehtmlhttp,0
implement undeploy operation for cc spi currently undeploy is a no-op,0
streamdeployer to implement resourcedeployer streamcontroller to not access the repository instance directly all access to go through streamdeployer,0
integrate code coverage reports into the ci process not sure if this is best done via sonar our sonar build plan the nightly one or the frequent one off master open question is if we want to fail a build do to code coverage levels,0
need to support the ability to test gemfire locators need to be able to setup a gemfire server that has locators enabled such that we can enable the gemfire modules locator features run tests for the useserver default and tests for locator they are enabled by activating the use-locator profile for the containers for example if you are running singlenode the profile would be export springprofilesactivesinglenodeuse-locator,0
refactor modulefactory to remove direct spark dependency on xd dirt currently the modulefactory needs to know about sparkstreamingdrivermodule to create the spark streaming module it is for this reason the spring-xd-module has direct dependency on spark streaming we need to refactor this code so that there is no direct dependency on spark streaming for spring-xd-module and subsequently spring-xd-dirt,0
as a developer i want to have to run kafka tests on an external broker so that i reduce the footprint of the build process,2
create shell command for getting information on a given job instance,0
file sink should support replace as an option currently the file sink only supports append user should support an overwrite feature,0
allow deletion of all metrics of a kind to be added in abstractmetricscontroller as well as the various shell commands counter all delete etc,0
admin ui login page failing to load due to requirejs timeout - fe when i use the admin-ui web portal which runs on port 9393 there is a load timeout issue by requirejs failing to load the login screen could the team please look into this issue asap or give me some other alternative sping-ui-issuepngthumbnail,0
automatic support for --fooexpression style options it would be nice if either one of the two options would come for free when youre authoring a module currently it has been a pain including handling exclusivity of options at the module options level also it would be nice if xds-c-s provided ease of creation of xxexpression style options ie not having the author have to deal with expressionparser etc,0
add spring-xd-exec directory to git repo without the directory spring xd cannot be imported into sts using its own gradle support,0
access to localmessagebus internal state a localmessagebus in singlenode mode has several internal properties that would be useful to monitor at runtime for example via jmx queuesize current size of executors queue and others all fields are currently write-only so its hard to access them from custom code too public getters would be useful as well as an mbean exposed to jmx,0
as a spring xd user id like to use the latest releases of hdpphd distros so i can leverage the latest features to create pipelines involving hdfs,5
get notified when created named channel is ready for testing purposes it would be super-helpful if there be a hook to get notified when a named channel is up and running in current tests one may have to resort to threadsleep,0
as a user id like to refer to job orchestration documentation so i can use it as guideline for building batch workflows,3
build scripts can refer hadoop distro sub projects in a unique place based on this change httpsgithubcomspring-projectsspring-xdcommit87b97a0b4651f862e8a639697745ad232bb42e6a the gradle build scripts now refer to two different places to check for the list of hadoop distro sub projects we can simplify this to make it available in one place so that maintenance will be easier,0
as a user id like to have a separate yml file to list the deployment manifest properties so that i dont have to include as part of the stream definition,5
upgrade spring data redis to 11 rc1,0
xd-singlenode --verbose prints configuration information twice if you start xd-singlenode with the --verbose flag the configuration information is printed twice steps to reproduce 1 run xd-singlenode --verbose example output code - -- v -- 110build-snapshot extreme data started singlenodeapplication documentation httpsgithubcomspring-projectsspring-xdwiki 204043098 110snap info main serversinglenodeapplication - starting singlenodeapplication v110build-snapshot on gauss with pid 79926 userstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-xd-dirt-110build-snapshotjar started by tom in userstomdocumentsdevreposspringspring-xdbuilddistspring-xd 204043512 110snap info main serversinglenodeapplication - started singlenodeapplication in 0993 seconds jvm running for 1374 204056218 110snap info main utilxdconfiglogginginitializer - xd home userstomdocumentsdevreposspringspring-xdbuilddistspring-xdxd 204056218 110snap info main utilxdconfiglogginginitializer - transport local 204056218 110snap info main utilxdconfiglogginginitializer - xd config location fileuserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdconfig 204056218 110snap info main utilxdconfiglogginginitializer - xd config names serversapplication 204056218 110snap info main utilxdconfiglogginginitializer - xd module config location fileuserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdconfigmodules 204056218 110snap info main utilxdconfiglogginginitializer - xd module config name modules 204056219 110snap info main utilxdconfiglogginginitializer - admin web ui httpgauss9393admin-ui 204056219 110snap info main utilxdconfiglogginginitializer - zookeeper at localhost38225 204056219 110snap info main utilxdconfiglogginginitializer - zookeeper namespace xd 204056219 110snap info main utilxdconfiglogginginitializer - analytics memory 204056226 110snap info main utilxdconfiglogginginitializer - applepubsubsocketrendertmplaunch-k1iymyrender browseropen crashhomeuserstomgvmcrashcurrent displaytmplaunch-16fqxeorgmacosforgexquartz0 editorvim gaidenhomeuserstomgvmgaidencurrent gemhomeuserstomrvmgemsruby-193-p484 gempathuserstomrvmgemsruby-193-p484userstomrvmgemsruby-193-p484global glidehomeuserstomgvmglidecurrent gradlehomeuserstomgvmgradlecurrent grailshomeuserstomgvmgrailscurrent grepcolor133 grepoptions--colorauto griffonhomeuserstomgvmgriffoncurrent groovyservhomeuserstomgvmgroovyservcurrent groovyhomeuserstomgvmgroovycurrent gvmbroadcastservicehttpcastgvmio gvmbrokerservicehttpreleasegvmio gvmdiruserstomgvm gvminittrue gvmplatformdarwin gvmservicehttpapigvmtoolnet gvmversion220 hadoopdistrohadoop25 homeuserstom irbrcuserstomrvmrubiesruby-193-p484irbrc javahomelibraryjavajavavirtualmachinesjdk18025jdkcontentshome javamainclass79926orgspringframeworkxddirtserversinglenodeapplication jbakehomeuserstomgvmjbakecurrent langenusutf-8 lazyboneshomeuserstomgvmlazybonescurrent lcallenusutf-8 lcctypeutf-8 less-f -g -i -m -r -s -w -x -z-4 lesstermcapmb0131m lesstermcapmd0131m lesstermcapme0m lesstermcapse0m lesstermcapso004730m lesstermcapue0m lesstermcapus0132m lognametom lscolorsexfxcxdxbxgxdxabagacad lscolorsdi34ln35so32pi33ex31bd3601cd3301su314007sg364007tw324007ow334007 mavenhomeapplicationsdevtoolsapache-maven-321 myrubyhomeuserstomrvmrubiesruby-193-p484 oldpwduserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxd pagerless pathuserstomgvmvertxcurrentbinuserstomgvmspringbootcurrentbinuserstomgvmlazybonescurrentbinuserstomgvmjbakecurrentbinuserstomgvmgroovyservcurrentbinuserstomgvmgroovycurrentbinuserstomgvmgriffoncurrentbinuserstomgvmgrailscurrentbinuserstomgvmgradlecurrentbinuserstomgvmglidecurrentbinuserstomgvmgaidencurrentbinuserstomgvmcrashcurrentbinuserstomrvmgemsruby-193-p484binuserstomrvmgemsruby-193-p484globalbinuserstomrvmrubiesruby-193-p484binlibraryframeworkspythonframeworkversions27binusrlocalbinusrlocalsbinusrbinbinusrsbinsbinoptx11binusrlocalgobinusrtexbinuserstomrvmbinuserstomyadrbinuserstomyadrbinyadrapplicationsdevtoolsapache-maven-321binapplicationsdevtoolsapache-ant-192binuserstomrvmbin pid79926 ps4 fredxi fgreennifwhite pwduserstomdocumentsdevreposspringspring-xdbuilddistspring-xd screenno securitysessionid186a4 shellbinzsh shlvl1 springboothomeuserstomgvmspringbootcurrent sshauthsocktmplaunch-kxqpmplisteners termxterm-256color termprogramappleterminal termprogramversion326 termsessionclassidd65d4c24-b8f2-4b53-9179-ec38f2dcd1ae termsessionid3fa5b432-b6c3-4f62-a7fb-00eb6b0f18c7 tmpdirvarfolders6bqk0vj57j3dd579vd8z0fjr0000gnt usertom vertxhomeuserstomgvmvertxcurrent visualvim xdanalyticsmemory xdconfiglocationfileuserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdconfig xdconfignameserversapplication xdhomeuserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxd xdjmxenabledtrue xdmoduleconfiglocationfileuserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdconfigmodules xdmoduleconfignamemodules xdtransportlocal cfusertextencoding0x1f500 checkfix14369341 systemarchx8664 systemnameosx systemtypedarwin systemversion109 analyticsmemory awttoolkitsunlwawtmacosxlwctoolkit catalinabasevarfolders6bqk0vj57j3dd579vd8z0fjr0000gnttomcat70649452825156489829393 catalinahomevarfolders6bqk0vj57j3dd579vd8z0fjr0000gnttomcat70649452825156489829393 catalinausenamingfalse document-- embeddedhsqltrue endpointsjmxenabledtrue endpointsjmxuniquenamestrue endpointsjolokiaenabledtrue fileencodingutf-8 fileencodingpkgsunio fileseparator ftpnonproxyhostslocallocal1692541616925416 gopherproxysetfalse httpnonproxyhostslocallocal1692541616925416 javaawtgraphicsenvsunawtcgraphicsenvironment javaawtheadlesstrue javaawtprinterjobsunlwawtmacosxcprinterjob javaclasspathuserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdmodulesprocessorscriptsuserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdconfiguserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxduserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibactivation-111jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibamqp-client-341jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibaopalliance-10jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibargs4j-2016jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibasm-31jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibaspectjrt-181jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibaspectjweaver-181jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibavro-176jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibavro-compiler-176jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcglib-221-v20090111jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibclassmate-100jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcomibmjbatch-tck-spi-10jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-beanutils-192jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-cli-12jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-codec-17jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-collections-321jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-compress-141jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-configuration-16jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-daemon-1013jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-dbcp-14jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-digester-21jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-el-10jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-fileupload-131jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-httpclient-31jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-io-24jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-jexl-211jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-lang-26jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-math-21jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-net-33jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-pool-16jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcommons-pool2-22jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcurator-client-260jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcurator-framework-260jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibcurator-recipes-260jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibdisruptor-321jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibgroovy-all-233jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibgs-collections-500jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibgs-collections-api-500jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibguava-1601jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibguice-30jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibguice-servlet-30jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibhibernate-validator-503finaljaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibhsqldb-232jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjackson-annotations-233jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjackson-core-233jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjackson-core-asl-1913jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjackson-databind-233jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjackson-mapper-asl-1913jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjavassist-3181-gajaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjavaxbatch-api-10jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjavaxinject-1jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjavaxmail-147jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjboss-logging-311gajaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjcl-over-slf4j-177jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjedis-252jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjersey-guice-19jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjettison-12jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjline-211jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjoda-time-23jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjolokia-core-122jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjopt-simple-46jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjson-path-091jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjson-simple-111jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjson-smart-12jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjsr305-200jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibjul-to-slf4j-177jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibkafka210-0811jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibkite-data-core-0170jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibkite-hadoop-compatibility-0170jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibkryo-222jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdliblog4j-1217jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdliblog4j-over-slf4j-177jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibmetrics-annotation-220jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibmetrics-core-220jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibmongo-java-driver-2122jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibnetty-370finaljaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibobjenesis-21jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibognl-306jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibopencsv-23jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparanamer-23jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-avro-141jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-column-141jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-common-141jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-encoding-141jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-format-200jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-generator-141jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-hadoop-141jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibparquet-jackson-141jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibpostgresql-92-1002-jdbc4jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibreactor-core-112releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibscala-library-2101jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibslf4j-api-177jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibslf4j-log4j12-177jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibsnakeyaml-114jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibsnappy-java-1101jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-amqp-140releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-aop-412releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-batch-admin-manager-130releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-batch-admin-resources-130releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-batch-core-301releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-batch-infrastructure-301releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-batch-integration-301releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-beans-412releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-120rc1jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-actuator-120rc1jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-autoconfigure-120rc1jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-loader-120rc1jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-starter-120rc1jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-starter-logging-120rc1jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-starter-security-120rc1jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-starter-thymeleaf-120rc1jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-starter-tomcat-120rc1jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-boot-starter-web-120rc1jaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-cloud-cloudfoundry-connector-100releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-cloud-core-100releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-cloud-spring-service-connector-100releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-context-412releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-context-support-412releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-core-412releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-data-commons-191releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-data-mongodb-151releasejaruserstomdocumentsdevreposspringspring-xdbuilddistspring-xdxdlibspring-data-redis-141releasejaruserstomdocumentsdevreposspring,0
create documentation for how module properties are resolved the ordering of the lookup should be described in particular detail on how environment variables can overrride properties some details will necessarily change based on outcome of current discussion but the overall ordering is going to remain,0
basic implementation of a reactor based tcp server,0
new job that executes a job on yarn create ootb batch job that executes a job on yarn could be job create yarnjob --definition yarnjob --containercount4 --applicationdirappsmystuff --archivefileyarn-job-010jar --argumentspayloadvalue,0
add additional options to file source seems like the current file source results from an initial poc very few things can be parameterized including the polled directory that needs to be in tmpxxx to be useful in production we might want to revisit,0
as a user id like to have an option to specify timeout so i can expect the job to not run forever if it is in hung state,3
update to spring hadoop 202 a bug in the hdfs store was discovered that should be fixed,0
parameterize syslog source add support for tcp the syslog source currently is hard-coded to use udp on port 11111 need to parameterize the port and provide an option to use tcp,0
add smartlifecycle to channelbindingadapter make channelbindingadapter implement smartlifecycle so that it gets started with the highest precedence and before any other message producing bean,0
xd does not reconnect to jobstore if connection is lost leaving jobs in inconsistent state xd deployment descriptionxd cluster 1 container environmentec2 type of testshell command line test failed onhdfs only test that was run build usedbuilt may 7 1029 pst overall issue xd admin and container lost connectivity to the the jobstore mysql on rds and did not reconnect exception displayed in log caused by commysqljdbcexceptionsjdbc4communicationsexception the last packet successfully received from the server was 54321927 milliseconds ago the last packet sent successfully to the server was 54321928 milliseconds ago is longer than the server configured value of waittimeout you should consider either expiring andor testing connection validity before use in your application increasing the server configured values for client timeouts or using the connectorj connection property autoreconnecttrue to avoid this problem sunreflectnativeconstructoraccessorimplnewinstance0native method sunreflectnativeconstructoraccessorimplnewinstancenativeconstructoraccessorimpljava57 sunreflectdelegatingconstructoraccessorimplnewinstancedelegatingconstructoraccessorimpljava45 javalangreflectconstructornewinstanceconstructorjava526 commysqljdbcutilhandlenewinstanceutiljava411 commysqljdbcsqlerrorcreatecommunicationsexceptionsqlerrorjava1117 commysqljdbcmysqliosendmysqliojava3871 commysqljdbcmysqliosendcommandmysqliojava2484 commysqljdbcmysqliosqlquerydirectmysqliojava2664 commysqljdbcconnectionimplexecsqlconnectionimpljava2788 commysqljdbcconnectionimplexecsqlconnectionimpljava2738 commysqljdbcstatementimplexecutequerystatementimpljava1617 orgspringframeworkjdbccorejdbctemplate1querystatementcallbackdoinstatementjdbctemplatejava452 orgspringframeworkjdbccorejdbctemplateexecutejdbctemplatejava402 57 more side effects unable to create new job with same name user executed a job list and then removed the jobs in the list when the user tried to create new jobs using the same names the application reported command failed orgspringframeworkxdrestclientimplspringxdexception statementcallback sql select jobname from jobregistrynames no operations allowed after connection closed nested exception is commysqljdbcexceptionsjdbc4mysqlnontransientconnectionexception no operations allowed after connection closed the only way to resolve it completely was to 1 shutdown the admin and the containers 2 clear the jobs from the batch job tables by hand 3 restart xd admin and containers,0
consider usage of jackson afterburner see httpsgithubcomfasterxmljackson-module-afterburner,0
links in asciidoctor generated htmldocbook documentation are broken the issue arises because the linkdocumentlabel asciidoc macro is meant for external documents and creates ulink in docbook a hrefdocument in html whereas we want link linkendanchor a hrefdocanchor resp we also want it to continue working in github live view i guess what could work is to have the macro either override the link macro or create our own if github supports that that looks like linkdocumentanchorlabel the anchor works out of the box in asciidoc and should work in github but override it for the html and docbook backends to render to the correct form the thing is there are several ways to createoverride macros and templates they render to some of which make sense to our setup - having asciidocconf in the directory of the processed document httpasciidocorguserguidehtmlx27 - having docbookconfhtmlconf in the directory of the processed document httpasciidocorguserguidehtmlx27 - defining macros using attributes httpasciidocorguserguidehtmlsettingconfigurationentries i tried all of those but to no avail these do work with plain asciidoc but not with our toolchain dont know if the problem is with asciidoctor or with the gradle wrapper though,0
as a developer id like to research and identify the ec2 infrastructure required so that i can run performance tests on kafka,3
ui improve the filtering capabilities of jobs that are executinghave executed show only the jobs that you have created vs those of others requires security - eg xd-1616 - probably a separate issue show only jobs that are in a specific statusstate running vs other states show only jobs for the past x number of days show only jobs whose name matches a simple string eg useranalysis,0
handling tap operations on a tap that has reference to a deleted stream when trying to undeploydestroy a tap that has reference to an already deleted stream fails with the following exception command failed orgspringframeworkxdrestclientimplspringxdexception xd116epos 4 unrecognized stream reference streamname at the tap defintion as expected the streamconfigparsers lookupstream fails to find the stream name as the stream doesnt exist in the repository in this scenario what is a better way to handle the tap operations should we undeploy the tap when the stream is destroyed though i dont see an easy way to find the taps that use a specific stream,0
as a spring xd developer id like to port transform module from xd to s-c-s repo so i can use it as processor module to build streaming pipeline,2
investigate running xd on cloud foundry,0
module info for jdbc sink and jobs are unreadable the module info command renders text that is pretty much unreadable on a reasonably sized screen see attached screen shot also all the jdbc pool settings are mixed in with module settings making for a confusing list of options what the heck does fairqueue have to do with filejdbc jobs,0
module count not respected when label is used code xd stream create test --definition http t1transform --expressionpayload log xdstream deploy test --properties modulet1count2 deployed stream test xdruntime modules module id container id options deployment properties unit status ------------------- ------------------------------------ ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ------------------------------------------------------------------------------------------ ----------- testprocessort11 393d3af0-68e8-49b2-8601-da063cfbf98a validtrue expressionpayload consumersequence1 producernextmodulecount1 count1 consumercount1 sequence1 deployed testsinklog1 f6bb3189-9c0e-44e8-962b-025e2288ffe3 nametest expressionpayload levelinfo consumersequence1 count1 consumercount1 sequence1 deployed testsourcehttp1 f6bb3189-9c0e-44e8-962b-025e2288ffe3 sslpropertieslocationclasspathhttpsslproperties maxcontentlength1048576 port9000 messageconverterclassorgspringframeworkintegrationxhttpnettyinboundmessageconverter httpsfalse producernextmodulecount1 count1 sequence1 deployed code works fine without the label code xdstream destroy test destroyed stream test xdstream create test --definition http transform --expressionpayload log created new stream test xdstream deploy test --properties moduletransformcount2 deployed stream test xdruntime modules module id container id options deployment properties unit status -------------------------- ------------------------------------ ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ------------------------------------------------------------------------------------------ ----------- testprocessortransform1 f6bb3189-9c0e-44e8-962b-025e2288ffe3 validtrue expressionpayload consumersequence1 producernextmodulecount1 count2 consumercount2 sequence1 deployed testprocessortransform2 393d3af0-68e8-49b2-8601-da063cfbf98a validtrue expressionpayload consumersequence2 producernextmodulecount1 count2 consumercount2 sequence2 deployed testsinklog1 393d3af0-68e8-49b2-8601-da063cfbf98a nametest expressionpayload levelinfo consumersequence1 count1 consumercount1 sequence1 deployed testsourcehttp1 f6bb3189-9c0e-44e8-962b-025e2288ffe3 sslpropertieslocationclasspathhttpsslproperties maxcontentlength1048576 port9000 messageconverterclassorgspringframeworkintegrationxhttpnettyinboundmessageconverter httpsfalse producernextmodulecount2 count1 sequence1 deployed code,0
document kafka message bus properties for example how to specify the partition count for topics that are created by the message bus,0
add paging and sorting to field value counter api see discussion at httpsgithubcomspring-projectsspring-xdcommit2f0e80b5e337b71c9c70de510a44d2f050d10fa7,0
fix mqtt module properties use of dot in property name prevents the user from specifying a value in stream definition also defaults are repeated at xml and properties level,0
as a developer id like to upgrade to si kafka release so i can synchronize with latest improvements and bug fixes,1
change accepted-media-types to accpted-content-types,0
as a developer id like to create separate repo for lattice spi so i dont have to bundle all spi variants under one admin project,3
as a user i need to know the spark streaming features like adding tap at the spark module output and the examples need to be updated the documentation also needs some more information on reliable receiver,1
create asciidoc toolchain script to create a toc2 style html output publishing an html version of the guide that uses the toc2 style format table of contents on the left looks like a stylesheet factory httpasciidoctororgdocsproduce-custom-themes-using-asciidoctor-stylesheet-factory needs to be installed from the theme showcase httpthemesasciidoctororgpreview the golo theme has a toc2 style in the root of the git repo for the wiki is a buildgradle file that uses the asciidoctor gradle plugin but it doesnt support using a single file with import as input see see httpsgithubcomasciidoctorasciidoctor-gradle-pluginissues15 the mvn plugin does support this so maybe using mvn is an option or just a bash script,0
container server does not log a message that it has started or stopped successfully xd-container processing module module namefile typesink from group tailtest with index 1 processing module module nametail typesource from group tailtest with index 0 logging of processing module should have log level time,0
add eclipse target to ec2 buildgradle so that the code format matches that of the xd project,0
investigate long running tests and create refactoring issues httpssonarspringsourceorgdashboardindex7173did3 shows which of our current tests take the most time to execute xddirtstream and xdshellcommand are where the most time is spent in xddirtstream it seems likely that time can be reduced by not restarting a new single node server per test but sharing it across tests eg rabbitsinglenodestreamdeploymentintegrationtests localsinglenodestreamdeploymentintegrationtests redissinglenodestreamdeploymentintegrationtests as a first pass the test that take longer than 15 seconds in that report should be investigated,0
as a user id like to override the default commit-interval so that i can configure commit interval depending on data volume note this would apply for all ootb jobs that has partition support the property could be part of serversyml file,3
support having multiple property placeholders defined in different modules right now the ppc for jolokia mgmt is conflicting with the ppc used to resolve redis properties need to determine a strategy such that multiple ppcs can be used,0
upgrade to the latest gradle 2x release gradle 2x is required for the latest sonar version sonarspringio we may need to wait for a fix in groovy itself 241 - please see the following links for details httpforumsgradleorggradletopicsafterupgradegradleto20versionthemavenpomnotsupportbuildproperty httpjiracodehausorgbrowsegroovy-7023,0
as a s-c-d developer id like to establish the foundation to expose rest-apis to interact with the xd-admin and likewise perform crud operations to maneuver streaming and batch pipelines,4
as a developer id like to move inputoutput type conversion from spring xd repo into spring-bus so i can update spring xd to inherit the featuresfunctionalities via maven dependency,5
update hdfs sink to use unique id guid as part of file name hdfs sink needs to have unique identifier for container id added as part of file name part of the file name in the directory will be the container id guid - like base-pathlogfile-guid-1txt,0
return full moduleinstancestatus information currently there is no moduleinstancestatus returned this issue will fill in the details,0
implement kafkamessagebus kafka lends itself well as a message bus and kafka partitioning maps to mb partitioning implement kafkamessagebus and supporting classes and utit,0
add support to start apps in yarn automatically by type as an s-c-d developer id like to add support to negotiate with the resourcemanager rest-apis to deploy modules by groups so i can build instrumentation to start the app instances automatically perhaps also take into account of the app specifics such as apptypeclouddata and appnamespring-cloud-data-yarn-app,0
redis sink should default to using springredis configuration in serversyml the configuration for the redis sink must be provided for explicitly instead of falling back to values defined in serversyml the default behavior configuration should be address in a manner consistent with the default behavior of module config for rabbit sourcesink jdbc sink,0
show stream tap relationship in admin ui it would be nice if the admin ui would sort the streams in such a way that the taps that are created for a particular stream are somehow placed under the tapped stream code stream a -tap afoo -tap abar code same goes for the list command in the xd-shell,0
add hdfsmongodb acceptance test create acceptance test add mongo to ec2 acceptance test environment,0
add unit tests for cc spi infrastructure test converter configuration definition and status objects,0
spike destroy composed job as an xd developer id like to explore options to remove composed job so i can clean-up unused resources and memory footprints,0
update to spring batch 224,0
ootb batch jobs for common cases,0
build needs to override xd environment variables export xdhomefoo gradle clean test build fails need to detected environment variables and override for the build,0
ensure that when batch jobs are created they are created with the job bean definition id equal to the stream name unlike in spring-batch-admin in springxd all the jobs the modulesjobs directory is not visible to query when the server starts jobs only become visible to xds jobs list command once they have been created creating a job in xd is an opportunity to specify additional values to any property placeholders in the job bean definition this isnt part of spring-batch-admin we will not worry about the creation of job definition in this story assume that they have been created already and that the get for jobs works as it does now for spring xd we should however make sure that there is always a replacement of the job name in the job bean definition to match the --name specified in the command line that is job create --name myjob --description thisfunkyjob will use myjob to replace job idxdstreamname in the file thisfunkyjobxml implementation suggestions this should hopefully just be a matter of changing job definition files to follow the naming pattern job idxdstreamname how to verify it works 1 create a junit integration style test that has job create --name myjob --defintion testjob and then deploy the job the name myjob should appear in the job execution table,0
mbeans are not destroyed if stream is created and destroyed with no delay problem the container that the stream was deployed to will not allow new streams to be deployed once the error occurs the only solution is to terminate the xd container and restart it to reproduce create a stream foo and destroy the stream then create the stream foo again this best done programmatically taking the same steps using the shell may not reproduce the problem ie if you put a sleep of 1-2 seconds between the destroy and the next create it works fine,0
fix random configuration in securedshelltests since the securedshelltests initialize singlenode app in a static way the random configuration needs to be setup statically as well,0
reduce amount of logging at server startup info main zookeeperzookeeper100 - client environmentjavaclasspath produces a huge amount of output and is rather distracting if that specific entry could be at a log level of debug it would make the startup of the server look cleaner,0
custom modules cant be found wen using xdcustommodulehome on windows xd can not find the custom modules directory after setting the xdcustommodulehome in the windows environment deployment xd-singlenode embedded zookeeper java 8 windows 8 or windows server 2012 r2 steps to reproduce 1 start xd-singlenode 2 start shell 3 build either the payload-conversion or rss-feed-source from the spring-xd-samples 4 use the shell to execute a module upload for the custom module rss-feed-source payload-conversion 5 verify it uploaded xdmodule info processormytupleprocessor 6 stop xd single node 7 from the command line execute set xdcustommodulehomepath to your custom modules ie cprojectspring-xd-110releasexdcustom-modules 8 restart xd-singlenode 9 execute module info processormytupleprocessor 10 you will get the following error noformat command failed orgspringframeworkxdrestclientimplspringxdexception could not find module with name mytupleprocessor and type processor noformat,0
type conversion should set content-type header see httpstackoverflowcomquestions30714828spring-xd-http-client-processor-sends-text-plain-instead-of-application-json,0
add to acceptance test ec2 ci build plan a stage that stops any existing ci ec2 deployments add a stage to the plan that will stop any instances that the ci process may have started before and relaunch a 2 node install based on rabbit httpsbuildspringsourceorgbrowsexd-atec2 was created as an empty shell the running of across different transports will be handled in a separate story along with adding a stage to run a hello world acceptance test,0
create syslog - tuple reactor codec change udp syslog adapter to emit a tuple udp and legacy syslog sources emit a map reactor emits a pojo make them consistent and emit tuples,0
could not override rabbit sink modules rabbit connection factory properties currently rabbitmq sink modules connection properties could not be overridden by xdconfighomeconfigpropertiesrabbitproperties even if local-override is set to true it looks like the amqptemplate used by the amqp outbound channel adapter doesnt use the connection factory defined in the sink module,0
add jdbc sink to acceptance tests,0
library support changes at shell level following merge of httpsgithubcomspring-cloudspring-cloud-dataflowcommit5cb81c49a240304be14bcf5d724cfd36df403d39 the following changes need to happen at shellrest level module list should not show libraries library list should be added to show libs module register should not accept typelibrary library register should be added module info should not accept libs library infoshould be added,0
add support for custom headers with the kafka bus currently the kafka message bus does not have the ability to configure a set of custom headers to persist in the embeddedheaders mode only the message-bus specific message headers are persisted,0
si serviceactivator for an xd metrics backed field value counter a spring integration based serviceactivator that counts the occurrence of field names from either a tuple data structure or a pojo using the spring xd metrics support,0
as a spring xd developer id like to port file module from xd to s-c-s repo so i can use it as sink module to build streaming pipeline,2
as a spring xd developer id like to port tcp module from xd to s-c-s repo so i can use it as source module to build streaming pipeline,2
jdbdhdfs job definition parameter partitionresultstimeout issues the partitionresultstimeout parameter for jdbchdfs job definition cannot be set for the master step if the job has a partition definition the partitionresultstimeout is set for the individual partition steps only the master steps fails after the default timeout,0
correct hadoop classpath versions for the distros when using hdp13 the xdconfiglogginginitializer throws this info 120206064 info main utilxdconfiglogginginitializer77 - hadoop distro hdp13 120206068 warn main utilxdconfiglogginginitializer84 - hadoop version detected from classpath 120 but you provided --hadoopdistro hdp13 did you mean --hadoopdistro hdp20 120206069 warn main utilxdconfiglogginginitializer84 - hadoop version detected from classpath 120 but you provided --hadoopdistro hdp13 did you mean --hadoopdistro hadoop12 since hdp13 uses hadoop 120 we need to fix that in the versions map containeroptionsgethadoopdistroversions,0
research spark integration options spike scope brainstorm identify options document,0
properly render defaults for module info that use n t etc characters line t n etc should be either escaped or rendered as human readable variants in module info eg newline,0
broken deployment link in docs please see deployment link on httpdocsspringioautorepodocsspring-xd110releasereferencehtmlmoduledeployment page broken-link-deploymentpng the link is broken and redirects to httpdocsspringioautorepodocsspring-xd110releasereferencehtmldeployment which is a 404,0
create a rabbitkafka available rule in s-c-s-m can take from previous implementation in xdsiboot should have a way to enforce not skipping tests based on an environment variable consider moving this coverage to si commons or equivalent,0
add jms acceptance tests,0
replace anonymous node in xd module bean names enhance bean naming strategy or provide a value for the property that binds to this,0
as a spring developer i can specify the default value for the module configs at the module config xml file and if no specific overriding options given the default value should get preferred currently i see that by design we want to rely on the default option values from the moduleoption metadata but the cases where some module configurations cant have the default say customerkey for twitterstream module and would be tempting to just try deploying after changing the twitterstreamxml with the default value expecting it to work,3
remove jersey test framework for xdlib distribution the jars jersey-test-framework-core-19jar jersey-test-framework-grizzly2-19jar are incorrectly classified as compile time deps in hadoop vs testcompile,0
support a dependencies-manifest aware module registry it would be nice to be able to have modules that are simply made of - their context xml file - some kind of manifest that expresses dependencies and have the runtime take care of the deps,0
as a user id like to have the ability to visually explore xds cluster view so that im aware where the components are deployed and how they are connected within the topology,2
shell standardize counter name parameter the parameters are not optimal for the counter name between aggregate counter field value counter --countername versus --name,0
accessing xd-admin urls in the browser return xml and not json here is an example the following request for streams httpec2-23-20-25-30compute-1amazonawscom9393streams returns this xml file does not appear to have any style information associated with it the document tree is shown below errors xmlnsatomhttpwwww3org2005atom error logrefhttpmessagenotwritableexception message could not marshal pagedresource content links httpec2-23-20-25-30compute-1amazonawscom9393streamsticktockrelself metadata metadata number 0 total pages 1 total elements 1 size 20 links null nested exception is javaxxmlbindmarshalexception - with linked exception comsunistacksaxexception2 unable to marshal type orgspringframeworkxdrestclientdomainstreamdefinitionresource as an element because it is not known to this context message error errors,0
conversion enhancements content-type during transport transit is not the same as the content-type within modules real transports always use byte which may contain raw byte from a source a byte converted from a string which may or may not already contain json or a byte containing json converted by the transport on the outbound side the transport needs to convey which of these was applied on the outbound side so it can properly reconstruct the message retain any content-type header that already exists in the message and restore it for rabbit use normal sirabbit headers to convey this information for redis add the information to the byte,0
allow support for authentication to maven repos aethermoduleresolver see discussion at httpsgithubcomspring-cloudspring-cloud-streamissues159,0
as a field engineer id like to have reference architectures built on spring xd so that i can use that as reference building pocs the scope is to get the raw domain specific ideas captured as first step,5
encapsulate retrieval of module deployment metadata see comment here httpsgithubcomspring-projectsspring-xdpull912filesr13331190,0
as a user im trying to list streams 20 in admin-ui to use the pagination however i ended up with blank page and the server-side errored with javalangillegalstateexception version 110 snapshot master build distributed 1 admin and 2 containers steps to reproduce 1 deploy the following streams stream create foo1 --definition time log --deploy stream create foo2 --definition time log --deploy stream create foo3 --definition time log --deploy stream create foo4 --definition time log --deploy stream create foo5 --definition time log --deploy stream create foo6 --definition time log --deploy stream create foo7 --definition time log --deploy stream create foo8 --definition time log --deploy stream create foo9 --definition time log --deploy stream create foo10 --definition time log --deploy stream create foo11 --definition time log --deploy stream create foo12 --definition time log --deploy stream create foo13 --definition time log --deploy stream create foo14 --definition time log --deploy stream create foo15 --definition time log --deploy stream create foo16 --definition time log --deploy stream create foo17 --definition time log --deploy stream create foo18 --definition time log --deploy stream create foo19 --definition time log --deploy stream create foo20 --definition time log --deploy stream create foo21 --definition time log --deploy stream create foo22 --definition time log --deploy 2 go to streams tab in admin-ui to get a blank page and the following exception in admin logs error 165519107 110snap error http-nio-9393-exec-2 restrestcontrolleradvice - caught exception while handling a request javalangillegalstateexception not all instances were looked at orgspringframeworkutilassertstateassertjava385 orgspringframeworkxddirtrestxdcontrollerenhancewithdeploymentsxdcontrollerjava207 orgspringframeworkxddirtrestxdcontrollerlistvaluesxdcontrollerjava178 orgspringframeworkxddirtreststreamscontrollerliststreamscontrollerjava63,1
enhance jdbc sink test to include more options to enrich acceptance test id like to add coverage to jdbc sink by including -- driverclass and -- url options,0
localmessagebus pubsub needs a bounded task exectutor since 11 pubsub channels in the localmessagebus run on a cachedthreadpoolexecutor for high volume environments where back-pressure might occur on a topic thread we could overwhelm the system with threads add a local bus configuration to limit the thread pool used for pubsubs and queue tasks where there are no threads available it would be a bus-wide setting,0
create infrastructure for spring cloud task modules create parent pom file for build create settings file migrate timestamp task from scsm to sctm,0
fix images alignment in reference pdf doc the reference pdf doc has some of the images not aligned well within the document for the latest doc from snapshot build please refer here httprepospringiolibs-snapshot-localorgspringframeworkxdspring-xd100build-snapshot,0
as a spring xd developer id like to move mqtt module from xd to s-c-s repo so i can use it as source to build streaming pipeline,2
ui suport mandatory module parameters spring xd should support mandatory module properties in the ui when creating a definition from an existing module mandatory definition properties should be visually highlighted and enforced i dont think the xd backend supports this though,0
dont swallow unexpected exceptions in stacktracefingerprintingcompletionrecoverystrategy,0
make job names unique across tests that use the same jobrepository the job names used by the tests should be unique across the tests when use the same jobrepository,0
as a user id like to have a redis based aggregation over field-value counters so that i can continuously write the aggregation in redis as we ingest more data scope port specs from previous implementationhttpsgithubcomspring-projectsspring-xdwikiold---aggregate-field-value-counters identify gaps update reference documentation,3
create benchmarking application to demonstrate high performance message processing the application should live in in spring-xd-samples repository the stream created in httpsjiraspringiobrowsexd-1402 should be documented how to run a benchmark and made easy to execute can use rubybash-awk-sed to generate traffic via sendfile in order to saturate the stream,0
remove hard-coded app name from config file,0
generate asciidoc doc from module options generate asciidoc fragments for each modules options this way it is always up to date,0
vary producers size ecb-5 use the number of consumers gave a maximum throughput in the previous test say 10 consumers message size 100 bytes prefetch 100 send 1m messages vary the number of producers measure the msgsec rate and calculate the data transfer rate in mbsec number of producers 2 4 6 10 50 during the measurements look at the rabbitmq admin ui and see if the queue is backing up,0
admin leader should watch container nodes in zookeeper this will require a zookeeperconnection in adminserverapplication based on singlenode vs distributed via profiles see containerserverapplication for an example then a pathchildrencache should be established for the xdcontainers node,0
add twitter oauth properties file to config dir those property keys should then be provided as defaults for the placeholders in sourcetwittersearchxml,0
update getting started chapter to use shell commands instead of curl see httpstaticspringsourceorgspring-xddocs100m1referencehtmlgetting-started,0
add tap support for rabbit binder as an s-c-d user id like to tap the primary pipeline so i can fork the same data and do some ad-hoc analysis without impacting the original stream,0
as a developer id like to add undeployed status for k8s spi so i can represent the correct status instead of the current unknown state,1
spring xd very poor performance when using redis as transport when using redis as transport bus there is a problem when using many streams and taps basically the maxtotal parameter of orgapachecommonspool2genericobjectpool default is 8 after some streams are deployed it starts to occur concurrency problems hence the number of inbound redis channel adapters is larger than that number a more detailed explanation is in stackoverflow httpstackoverflowcomquestions25851660spring-xd-very-poor-performance-when-using-redis-as-transport,0
add command for deleting a stream,0
add counter module,0
support pagination in list command for taps see xd-477,0
support partitioning properties using these as a starting point support the standard binder partitioning properties httpsgithubcomspring-cloudspring-cloud-streamblobmasterspring-cloud-stream-bindersspring-cloud-stream-binder-spisrcmainjavaorgspringframeworkcloudstreambinderbinderpropertiesjaval69 httpsgithubcomspring-cloudspring-cloud-streamblobmasterspring-cloud-stream-bindersspring-cloud-stream-binder-spisrcmainjavaorgspringframeworkcloudstreambindermessagechannelbindersupportjaval663,0
update analytics counter section to use shell commands instead of curl,0
as a spring xd developer id like to create a section on migration strategy from 12 to 13 releases so i can document new improvements and backward incompatibility specifics,3
add an mqtt sink,0
design and budget perf env for xd on rackspace provide design for how we are going to run xd and kafka on rackspace this includes the base design for the kafka perf tests environment this will be used to provide a budget for the cloud resources for the performance environment,0
unable to call sqoop job commands other than --create from within spring-xd job running a sqoop job --create from within spring-xd job create statement runs successfullyunable to run the sqoop job --exec from within spring-xd job create definition job create sqooplookupdjobv1 --definition sqoop --commandjob --args--create lookupdjob --meta-connect jdbcpostgresqlxxxxxxxxx5433bdluserxxxxxpasswordxxxxxx -- import --connect jdbcoraclethinxxxxxxcomxxxxgdwp --username xxxxx --password xxxxx --query select rowwid lkupid trimtranslatelkupcd chr10chr13 - as lkupcd trimtranslatelkupdesc chr10chr13 - as lkupdesc trimtranslatelkuptype chr10chr13 - as lkuptype trimtranslatelkupval chr10chr13 - as lkupval srcstrtdt srcenddt winsertdt wupdatedt from masterdatawlookupd where 11 and conditions --incremental append --check-column rowwid --last-value 10150 --target-dir usermonasj1bdldatasqoopjobtest --num-mappers 1 --fields-terminated-by --append validated job definition details stored in postgresql repository trying to run execute in same fashion execution definition job create sqooplookupdexecv1 --definition sqoop --commandjob --args--exec lookupdjob --meta-connect jdbcpostgresqlxxxxxxxxx5433bdluserxxxxxpasswordxxxxx stack trace batchsteptypeorgspringframeworkbatchcoresteptasklettaskletstep batchtasklettypeorgspringframeworkxdsqoopsqooptasklet sqoopcommandjob --exec lookupdjob --meta-connect jdbcpostgresqlxxxxxxxxx5433bdluserxxxxxxpasswordxxxxxxx -- exec sqooperrorsno job operation specified try --help for usage instructions exception in thread main javalangruntimeexception sqoop failed - return code 1 at orgspringframeworkxdsqoopsqooprunnermainsqooprunnerjava81 sqooplog160145668 info main sqoopsqooprunner - sqoop command job 160145668 info main sqoopsqooprunner - using args --exec lookupdjob --meta-connect jdbcpostgresqlxxxxxxxxx5433bdluserxxxxxxxpasswordxxxxx 160145668 info main sqoopsqooprunner - mapreduce home optpivotalspring-xd-111releasexdlibphd21 160145679 info main sqoopsqooprunner - setting configuration property fsdefaultfshdfsxxxxxxxxxxxxxcom8020 160145759 info main sqoopsqooprunner - setting configuration property yarnresourcemanageraddressxxxxxxxxxxxxcom8032 160145759 info main sqoopsqooprunner - setting configuration property yarnapplicationclasspathhadoopconfdirhadoopcommonhomehadoopcommonhomelibhadoophdfshomehadoophdfshomelibhadoopmapredhomehadoopmapredhomelibhadoopyarnhomehadoopyarnhomelibusshomeussconf 160145759 info main sqoopsqooprunner - setting configuration property mapreduceframeworknameyarn 160145817 warn main toolsqooptool - sqoopconfdir has not been set in the environment cannot check for additional configuration 160145863 info main sqoopsqoop - running sqoop version 145 i have tested --list --exec--delete they are all erroring same way looking at sqooprunner not sure what makes --create any different from other saved-job functionality please let me know how i can call or execute save job definitions through spring-xd sqoop tasklet,0
investigate intermittent failure of redisstreamdefinitionrepositorytests the test for findall often fails for me when running inside gradle could not reproduce inside eclipse i already tried fixing it by using a different redis key space but to no avail one explanation would be if gradle runs tests concurrently but my understanding is that it does not,0
as a developer id like to move serialization codec from spring xd repo into spring-bus so i can update spring xd to inherit the featuresfunctionalities via maven dependency,5
fix in-memory analytics most of the infrastructure and code cleanup has been done for in-memory analytics the only remaining issue is that by including memory-analyticsxml from commonxml were actually creating eg a new inmemorycounterrepository that is different from the one present in the admin process space this story involves fixing that it may actually be done as part of xd-353 handling the local transport as a special case context inheritance rather than import based on xdtransport,0
as a user id like to be able to understand the root cause of an error on the http shell command when an exception occurs on an http shell command the user gets failed to access http endpoint s target no information from the exception is conveyed to the user nor is it logged by the admin,1
as a user id like to use the java receptor client so i can interact with diego runtime using the java receptor rest apis,5
integrate grunt based ui build into the xds gradle build blog post httpnaleidcomblog20130124calling-gruntjs-tasks-from-gradle seems to be the definitive reference,0
fix guava dependency for hadoop20 and phd1 spring xd currently ships with guava 120 while hadoop 205 and pivotal hd 10 depends on 1102 - this could lead to classpath problems if we include both,0
reactor based http ingestion when there is support for boostrapping a http server in the reactor project and inbound si adapter and associated xd source module should be created,0
delete post module and cf profile this would get rid of the cf specific post module keeping the general abstraction of http source across cf and non-cf environments,0
as a developer id like to migrate the wiki to project repo so that it can be tagged with the code and versioned etc,5
add documentation for connecting to hdfs with ha namenode,0
update the ec2 deployer ec2 deployer needs to change its configuration behavior to use environment variables vs the property files remove configuresystem class since we will use environment variables instead allow users to set environment variables via the xd-ec2 properties if properties are not present use those that are available in the applicationyml utilize jclouds environment variable setup features to implement this behavior,0
ssl support for rabbitmq bus and modules,0
streams section of doc should explicitly mention that labels are required for ambiguous modules currently i believe we only mention labels in this section of the doc httpsgithubcomspring-projectsspring-xdwikidsl-referencelabels and it is not even clear there that they are required when 2 or more module names would otherwise be ambiguous it was probably written before we made that a mandatory part of the definition we should mention this somewhere in the streams section of the manual even if none of the examples there currently have more than one occurrence of the same module we should add one to illustrate this point,0
add new source modules as an user id like to have ootb source modules to integrate with various data sources to ingest data using spring xd note the ootb support however is limited to currently available spring integration adapters acceptance criteria - user should be able to list the new source through dsl commands - user should be able to optionally choose the new source adapters for stream creation using xd shell - user should see appropriate error messages if the required attributes are missing while creating a stream with the new source module - after successful stream creation with the new source module the definition should be included in stream listing - rest endpoints should include new source definitions - data ingested using the new source should be validated for accurateness - appropriate errorexception message needs logged if theres any problem ingesting data using new source module,0
documentation for counter taps put on the guide as a section in an input-stream wiki page,0
job creation fails saying it exists there isnt any job with that jobname running spring-xd in singlenode using pivotal hd 21 as the hadoop distribution xd-singlenode --hadoopdistro phd21 i was testing jdbchdfs job definitions i am seeing this error that the job exists when in reality there is no job with that jobname xdjob create testemployeejobagain1 --definition jdbchdfs --sqlselect employeeid employeename employer from employee --urljdbcoraclethinlocalhost1521orcl --driverclassnameoraclejdbcoracledriver --usernamespringxd --passwordxdpwd --testonborrowfalse --directoryusrswatest1 command failed orgspringframeworkxdrestclientimplspringxdexception batch job with the name testemployeejobagain1 already exists xdjob list job name job definition status -------- -------------- ------,0
container nodes should write attributes to zookeeper the xdcontainers node is the parent where each container will write an ephemeral child node the node name should be the containers id and the node data should be the containers attributes host pid and much more to be added later when a container shuts down cleanly it should eagerly delete the ephemeral node so that watchers are notified immediately for any other case including a network partition the ephemeral node will disappear after the timeout elapses,0
taps do not work when jmx is enabled when jmx is enabled the modules output channel processed by streamplugin is a proxy thus it fails the instanceof test used to apply the wiretap to the output channel,0
add functionality to download xd distribution zip to each ec2 instance as specified by user user specifies download distribution zip file from properties file see xd-969 for key-value pairs copy the distribution from the shared ebss3 the ebs volume assigned to the each nodeadmin instance if not on shared ebss3 pull from http site specified by user and put on the shared ebs volume unzip the distribution from on the ebs volume for the instance to the homeubuntu directory make sure privileges are set to ubuntu not root how to verify it works create a junit style integration test that deletes a known zip distribution from ebss3 invoke the application functionality should be a 1 liner that will start up the instance and download the zip distribution from the uri provided in xd-ec2properties verify the file is now in ebss3 and also on the instance tear down created instance create new instance passing in the same uri of the zip distribution verify as before,0
xd-ec2 needs to support xdcontainergroups for created containers xd-ec2 applies the environment variables to all container instances that are created this behavior has to be altered such that a environment variable can be applied to to a specific container instance for example if we create a 3 node cluster admin container1 container2 container3 for example xd1xdcontainergroupsgroup1 xd2xdcontainergroupsgroup2 in this example xd1xdcontainergroupsgroup1 would apply xdcontainergroupsgroup1 to container1s environment xd2xdcontainergroupsgroup2 would apply xdcontainergroupsgroup2 to container2s environment while container3 would not receive a specific environment setting for xdcontainergroups,0
clean up publishing to maven repositories of empty module projects see the various modulexyz directories here httpsrepospringiolibs-snapshotorgspringframeworkxd,0
as a user id like to leverage propertieis-location parameter while using filter or transform modules so that i can load the user-defined properties included in the external properties file attempting to include the propertieis-location attribute errors out - refer to the attachment it could also be beneficial to load user-defined properties through stream definition similar to deployment properties example --scriptmyscriptgroovy --variablesfoobargoogaz,4
support oracle jdbc configuration for xd batch job repository currently hsqldb postgres and mysql job repositories are supported we need to add configurable oracle jdbc settings,0
cant use webhdfs with hdfs sink when using springhadoopfsuri set to webhdfslocalhost im getting an error javalangnoclassdeffounderror javaxwsrscoremediatype including the following in xdlib seems to fix this - jersey-core-19jar - jersey-server-19jar,0
move rabbit rule to a separate repo as an s-c-d developer id like to move rabbit rule to a separate repo so i can consume the test fixtures in different projects,0
ugly error messages in shell when not connected should go thru the list of all commands available and make sure that a simple not connected message is returned instead of something like this code orgspringframeworkwebclientresourceaccessexception io error on get request for httplocalhost8080unexpected end of file from server nested exception is javanetsocketexception unexpected end of file from server at orgspringframeworkwebclientresttemplatedoexecuteresttemplatejava498 code,0
investigate skipped tests in build enable or remove we have 13 skipped tests now,0
as a user i should be able to leverage native elasticsearch sink so that i can aggregate search and analyze data insights in real-time,5
module delete command should only provide completions with composed modules there is no point in providing completion with something that will fail when the user tries it the information about a module being a composed is now available at the rest layer so should be used,0
issue with pagination in web ui in jobs tab quick-filter search box paging functionality is not working as expected items stay in the page they were first loaded after filtering ex if there were 500 pages of jobs and you are filtering for a job which was in 345 page after the filtering you have to navigate to that page in order to see the job it needs to be rendered on the first page,0
job launch doesnt do tab completion of --name in the shell job launch doesnt do completion of --name this is different behavior compared to job destroy typing job destroy and hitting tab completes with --name typing job launch and hitting tab does nothing,0
create and document a syslog aggregation example 2-3 containers separate processes that the stream syslog tcp 1 container separate process that aggregates the data sent from those conainers tcp severityfilter hdfs,0
support in-memory transport for co-located modules we are looking to speed up the message passing from source to sink and wondering if we could use a in-memory transport whenever we know that source and sink modules are co-located on the same container currently we do not see a straight forward way of doing it option 1 create a composite module and let users deploy a composite module by itself or in other words deploy a stream with one module option 2 let users define a transport as in-memory when defining a stream this could be used along with the deployment manifest feature enforcing co-location of a source and sink module with in-memory transport cc adenissov,0
resolve compile warnings for example noformat spring-xd-dirtcompiletestjava warning options bootstrap class path not set in conjunction with -source 17 dspringiospring-xdspring-xd-dirtsrctestjavaorgspringframeworkxddirtintegrationbuslocalmessagebustestsjava95 warning overrides class foo overrides equals but neither it nor any superclass overrides hashcode method static class foo dspringiospring-xdspring-xd-dirtsrctestjavaorgspringframeworkxddirtintegrationbusserializerkryocompositecodectestsjava77 warning overrides class someclasswithnodefaultconstructors overrides equals but neither it nor any superclass override s hashcode method static class someclasswithnodefaultconstructors dspringiospring-xdspring-xd-dirtsrctestjavaorgspringframeworkxddirtintegrationbusserializerkryokryocodectestsjava77 warning overrides class someclasswithnodefaultconstructors overrides equals but neither it nor any superclass overrides has hcode method static class someclasswithnodefaultconstructors dspringiospring-xdspring-xd-dirtsrctestjavaorgspringframeworkxddirtintegrationrediskryomessageserializertestsjava64 warning overrides class foo overrides equals but neither it nor any superclass overrides hashcode method public static class foo dspringiospring-xdspring-xd-dirtsrctestjavaorgspringframeworkxddirtstreamtypeconvertingstreamtestsjava181 warning rawtypes found raw type map map map map messagegetpayload missing type arguments for generic class mapkv where kv are type-variables k extends object declared in interface map v extends object declared in interface map 6 warnings noformat,0
creating multiple streamjob definitions from command file is broken i have a file that has the dsls stream create a1 --definition http log stream deploy a1 xd-shell --cmdfile testcmd may 19 2015 14929 pm orgspringframeworkshellcoreabstractshell handleexecutionresult info created new stream a1 may 19 2015 14929 pm orgspringframeworkshellcoresimpleexecutionstrategy invoke severe command failed orgspringframeworkxdrestclientimplspringxdexception there is no stream definition named a1,0
serversyamls xd - transport rabbit overrides xd-singlenodes default of local transport when working w sxd xd-singlenode out of the box it defaults to using all embedded components transport analytics hsqldb zookeeper which is easy and a great way to get going this is also great for development when i then started trying out the m6 distributed mode i set my transport to rabbit in serversyaml now that the --transport option is gone rabbit is my preferred transport here i then went back to running the singlenode for simplicity and then got an exception saying that the singlenode couldnt contact rabbitmqamqp i was no longer running rabbit i then had to add the --transport local flag back to xd-singlenode having the --transport option on xd-singlenode but not on xd-container is confusing also i would expect xd-singlenode to default to local transport unless i specify another option in --transport -derek,0
add moduleoptions support for rabbit sink we need to add moduleoptions support for rabbit sink,0
enable --refresh-dependencies into be present when executing gradlew this could be inside gradlew or a settings file,0
add kafka native metadata store,0
fix cannot find messagebuilderfactory warning 52747887 warn deploymentspathchildrencache-0 orgspringframeworkintegrationcontextintegrationcontextutils195 - no beanfactory supplied cannot find messagebuilderfactory using default a lot of those,0
in-memory implementation of aggregate counter,0
readme has conflicting cf information in httpsgithubcomspring-cloudspring-cloud-dataflowblobmasterreadmemdrunning-on-cloud-foundry the section starting now we can configure the app needs to be revised - the information is both out of date and even if up-to-date misleading it includes some values as if they are universal when they are really just examples,0
as a developer id like to remove hadoop dependencies from root classpath so we dont have to incur the penalty of classloading unnecessary libraries at the startup time the goal is to at least try and decouple for situations when hdfs is not used for module registry,5
create shell command for getting information on all steps of a given job execution,0
documentation for tail hdfs processing put on the guide as a section in an input-stream wiki page,0
as a s-c-s user id like to search the modules by its name aside from the default springapplicationname offered by boot so i can also fetch modules by its name,2
hdfs sink module,0
remove trigger module code triggers will be a source and no longer as a unique module the following have to be removed spring-xd-dirt -- package orgspringframeworkxddirtpluginstrigger -- meta-inf spring-xdpluginstriggersxml -- orgspringframeworkxddirtstreamtriggerplugin the following beans will require updates to remove the trigger code spring-xd-dirt --meta-inf spring-xdinternaldeployersxml - remove triggerdeployer --orgspringframeworkxddirtpluginsjobjobplugin - remove the registrars for fixeddelay fixedrate cron as well as the component selection only need the job-modules-bean --update the tests to use the trigger as a source instead of the trigger module spring-xd-shell remove trigger commands and associated tests xd controllers remove trigger controllers and their associated tests this list cover most but not all the components affected --success criteria-- successful unit and integration tests,0
as a s-c-d developer id like to enhance unit test coverage for yarn spi so i can continuously evaluate functionalities via ci pipeline,3
as a user id like to have the flexibility to specify config options for ip and hostname so that i can list the correct configuration for xd admin and xd container servers in the admin-ui and shell,1
deployed streams should be restarted on container start when using redis store stored deployed streams should be deployed on container restart,0
documentation for jms source httpstaticspringsourceorgspring-xddocs100build-snapshotreferencehtmlsources should have jms added to the list and also the corresponding section that shows some basic usage,0
better printing of array default valuesin documentation when a default value is an array the current behavior using tostring not only produces useless results like ljavalangstring2638011 but also constantly changing results,0
document dynamic classpath feature,0
prevent classloader leakage thru javabeans infrastructure,0
jline 1 is brought up and shows in ide through zkcurator we dont want jline1 anymore this shows in ide only either run shell integration tests or run the shell as gunnar mentioned,0
come up with a consistent link consumption scheme on the rest client side see discussion at httpsgithubcomspring-cloudspring-cloud-datapull37discussionr36849117 also relevant httpdocsspringiospring-hateoasdocscurrentreferencehtmlclient,0
add service activator processor would be nice to have a serviceactivator processor available so that if one had an existing spring bean they could simply describe the bean id and method name - without going through the full complexity of creating a processing module,0
build failure on ubuntu build fails gradle clean build spring-xd-dirttest orgspringframeworkxddirtstreamfilesourcemoduletests classmethod failed javaioioexception at filesourcemoduletestsjava53 orgspringframeworkxddirtstreamfilesourcemoduletests classmethod failed javalangillegalargumentexception at filesourcemoduletestsjava130 328 tests completed 2 failed 11 skipped spring-xd-dirttest failed failure build failed with an exception looks like it is trying to create a directory under the local filesystem javaioioexception unable to create directory tmpfilesourcetests orgapachecommonsiofileutilsforcemkdirfileutilsjava2024 orgspringframeworkxddirtstreamfilesourcemoduletestscreatetempdirfilesourcemoduletestsjava53 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgjunitrunnersmodelframeworkmethod1runreflectivecallframeworkmethodjava47 orgjunitinternalrunnersmodelreflectivecallablerunreflectivecallablejava12 orgjunitrunnersmodelframeworkmethodinvokeexplosivelyframeworkmethodjava44 orgjunitinternalrunnersstatementsrunbeforesevaluaterunbeforesjava24 orgjunitinternalrunnersstatementsrunaftersevaluaterunaftersjava27 orgjunitrunnersparentrunnerrunparentrunnerjava309 orggradleapiinternaltaskstestingjunitjunittestclassexecuterruntestclassjunittestclassexecuterjava80 orggradleapiinternaltaskstestingjunitjunittestclassexecuterexecutejunittestclassexecuterjava47 orggradleapiinternaltaskstestingjunitjunittestclassprocessorprocesstestclassjunittestclassprocessorjava69 orggradleapiinternaltaskstestingsuitetestclassprocessorprocesstestclasssuitetestclassprocessorjava49 sunreflectgeneratedmethodaccessor23invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava35 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava24 orggradlemessagingdispatchcontextclassloaderdispatchdispatchcontextclassloaderdispatchjava32 orggradlemessagingdispatchproxydispatchadapterdispatchinginvocationhandlerinvokeproxydispatchadapterjava93 comsunproxyproxy2processtestclassunknown source orggradleapiinternaltaskstestingworkertestworkerprocesstestclasstestworkerjava103 sunreflectgeneratedmethodaccessor22invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava35 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava24 orggradlemessagingremoteinternalhubmessagehubhandlerrunmessagehubjava355 orggradleinternalconcurrentdefaultexecutorfactorystoppableexecutorimpl1rundefaultexecutorfactoryjava66 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava724,0
as a user id like to incremental-data-load so that i can retrieve only rows newer than some previously-imported,4
as a user id like to have a gradle build option so that i can support module projects that will declare the spring xd dependencies as provided configure the boot plugin for module layout and other boilerplate build configuration this is dependent on boots module layout scoping issue httpsgithubcomspring-projectsspring-bootissues2187,3
as a user id like to have an ootb jdbcgpfdist batch job so i can read from jdbc and write to hawqgpdb using gpfdist protocol the scope is to reuse the existing gpfdist sink code and adapt it to fit the batch model gpfdist writer,5
as a continuation we would like to further investigate spark develop poc and identify the best appropriate design and implementation for xd,5
rebase ui on top of new batch admin api now that the new batch admin api is taking shape we need to rebase the xd web ui to use this its more than just changing the http urls sent to the xd server since the new api is not identical to the old one,0
as a user id like to have an option to have the hdfs sink use syncable writes to provide better resiliency in the case of sinkcontainer failures im willing to accept the performance penalty if i choose this option,3
improve the enforcement of meta-properties being set in buildgradle last sync errors invalid pom orgspringframeworkxdspring-xd-module-parent111releasespring-xd-module-parent-111releasepom developer information missing invalid pom orgspringframeworkxdspring-xd-module-plugin111releasespring-xd-module-plugin-111releasepom project name missing project description missing project url missing license information missing scm url missing developer information missing missing no javadoc jar found in folder orgspringframeworkxdspring-xd-module-plugin111release missing no sources jar found in folder orgspringframeworkxdspring-xd-module-plugin111release dropping existing partial staging repository,0
zookeeper admin server node data to have admin server host address it would be useful to store admin server ip address in zookeeper leadership group node xdadmins to identify admin server and its admin port,0
0xdata - investigate embedding 0xdata is a rich jvm based machine learning and scoring engine,0
change default date formats to be yyyy-mm-dd we have some places where we us a default data format specified as yyyymmdd in spring for apache hadoop we use yyyy-mm-dd for partitioning path expressions this seems more in line with iso standard date format for consistency we should have both shdp and xd use the same default format,0
fix package tangles sonar build is currently failing,0
update router sink logic to match new channel syntax for example the following should work code xdstream create a1 --definition queuea transform --expressionpayload-a log created new stream a1 xdstream create b1 --definition queueb transform --expressionpayload-b log created new stream b1 xdstream create s1 --definition http router --expressionpayloadcontainsaqueueaqueueb created new stream s1 xdhttp post --data ha post textplaincharsetutf-8 httplocalhost9000 ha 200 ok log shows ha-a xdhttp post --data hi post textplaincharsetutf-8 httplocalhost9000 hi 200 ok log shows ha-b code this needs to be tested against all transports local redis and rabbit,0
add ability to copy job from http site to containers download zipped job modules from a http site and deploy them to modules on the admin containers before container is started,0
as a developer id like to add support for undeployed status consistently across all the deployers so i can present the correct status instead of the current unknown this is applicable for existing streams without any deployment context associated with it,1
the use of labelled modules and taps needs more explanation httpsgithubcomspring-projectsspring-xdwikitaps mentions this but the explanation needs more elaboration and example eg mystream - http flibble transform --expressionpayloadtouppercase file tapstreammystreamflibble transform --expressionpayloadreplacealla log,0
the state of a task or job should be recorded such that it can be monitored by a user the state of a task or job should be recorded such that it can be monitored by a user,0
user wants a list of currently executing jobs,0
enabling security breaks xd-shell after enabling security in xdhomeconfigserversyml code spring profiles admin security basic enabled true false to disable security settings default realm springxd user valid only if securitybasicenabledtrue name johndoe password johndoe role admin view create code its no longer possible to connect to admin server through xd-shell code server-unknownadmin config server --username johndoe --password johndoe unable to contact xd admin server at httplocalhost9393 server-unknownadmin config info ------------- -------------------------------------------------------------- credentials usernamejohndoe password result unable to contact xd admin server at httplocalhost9393 target httplocalhost9393 timezone used greenwich mean time utc 000 ------------- -------------------------------------------------------------- ------------------------------------------------------------------------------- an exception ocurred during targeting orgspringframeworkwebclienthttpclienterrorexception 403 forbidden at orgspringframeworkwebclientdefaultresponseerrorhandlerhandleerrordefaultresponseerrorhandlerjava91 at orgspringframeworkxdrestclientimplvnderrorresponseerrorhandlerhandleerrorvnderrorresponseerrorhandlerjava50 at orgspringframeworkwebclientresttemplatehandleresponseresttemplatejava614 at orgspringframeworkwebclientresttemplatedoexecuteresttemplatejava570 at orgspringframeworkwebclientresttemplateexecuteresttemplatejava545 at orgspringframeworkwebclientresttemplategetforobjectresttemplatejava253 at orgspringframeworkxdrestclientimplspringxdtemplateinitspringxdtemplatejava114 at orgspringframeworkxdrestclientimplspringxdtemplateinitspringxdtemplatejava102 at orgspringframeworkxdshellcommandconfigcommandstargetconfigcommandsjava112 at sunreflectnativemethodaccessorimplinvoke0native method at sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 at sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 at javalangreflectmethodinvokemethodjava606 at orgspringframeworkutilreflectionutilsinvokemethodreflectionutilsjava202 at orgspringframeworkshellcoresimpleexecutionstrategyinvokesimpleexecutionstrategyjava64 at orgspringframeworkshellcoresimpleexecutionstrategyexecutesimpleexecutionstrategyjava57 at orgspringframeworkshellcoreabstractshellexecutecommandabstractshelljava127 at orgspringframeworkshellcorejlineshellpromptloopjlineshelljava533 at orgspringframeworkshellcorejlineshellrunjlineshelljava179 at javalangthreadrunthreadjava745 code it looks like admin base url httplocalhost9393 is not defined in security section of applicationyml so springxdtemplate cant be initialized,0
as a s-c-d developer id like to create a new project to contain all the rules associated redisrule contract so it is isolated from core functionalities and reusable by test coverage as needed consider moving this coverage to si commons or equivalent,4
as a stream definer when defining a stream ending with a file sink i would like to have more flexibility for naming the file add an alternative --nameexpression option allowing complete control over the finename-generator-expression attribute see httpstackoverflowcomquestions28466477issue-with-file-sink-and-filename-expression2846706928467069,1
investigate and create moduleid class for modulemetadata the id field in modulemetadata is using module id that is derived from module parameters which varies between stream and job modules we can come up with moduleid class that applies for both streamjob modules and can be used in modulemetadata,0
as a spring xd developer id like to port http module from xd to s-c-s repo so i can use it as source module in streaming pipeline,2
create shell command for stopping a specific job,0
remove duplicate code in resourcedeployer implementations create abstract base class only create in tapdeployer has some additional code to check if the stream exists could take place in another location,0
enhance tuplecodec performance profile tuplecodec and implement performance optimizations,0
define developer facing interfaces for reactor stream processors what is the core interface contract users will be exposed to when creating a processor module that uses reactors stream api some consideration for error handling should be considered as it maybe outside normal exception throwing signatures,0
support default values for options derived out of placeholders the logic can be found in defaultmoduleoptionsmetadatacollector but caused problems in the initial pr revisit if needed,0
allow for late-binding of module options defaults this is about computing the value to support expressions such as xdstreamname as a default initial discussion suggested to leverage the work done in xd-1175 by having a custom latevalue or deploytimevalue etc be resolved at deployment time,0
the hdfs sink should support a number of rollover options a strategy to roll over files that allows the user to choose between 1 the size of the file 2 the number of eventsitems in the file 3 an idle timeout value that if exceeded will close the file,0
rename tuple class in spring-xd-tuple the tuple classes in reactor follow the more traditional data structure concept of tuples an immutable fixed length sequence of values where each value can have different types they are ordered and can often be access by index an example in a static language is the tuple class found in net httpmsdnmicrosoftcomen-uslibrarysystemtupleaspx or in scala httpwwwtutorialspointcomscalascalatupleshtm using this standard definition of a tuple they do not support named values there is also a different tuple class instance for each length eg tuplet1t2 tuplet1t2t3 the tuple class in xd is more like a record or named tuple python has a named tuple concept - httpdocspythonorg2librarycollectionshtmlcollectionsnamedtuple and httpstackoverflowcomquestions1490413languages-that-allow-named-tuples shows that other languages use the term record for a named tuple - haskell standard ml ocaml and f httpenwikibooksorgwikifsharpprogrammingtuplesandrecordsdefiningrecords so boiling it all down to avoid conflicts of names and also to open up the possibility of using reactor tuples as keys instead of strings for names we should change the name to either namedtuple or record atm there is no direct relationship between reactors tuple and namedtuple such as inheritance and so probably record is the way to go,0
spring xd processor module classloader issue classnotfoundexception see httpstackoverflowcomquestions32525290spring-xd-processor-module-classloader-issue-classnotfoundexception,0
investigate using profiler when doing the performance testing investigate how efficiently we can integrate profiler into the performance test,0
support shell completions for module names see completionproviderteststestunfinishedmodulenameshouldreturncompletions ideally would require a change in the parser so that it knows which kind of module was expected when it failed,0
as a developer id like to upgrade to 221 ga release so i can leverage the latest improvements without breaking backwards compatibility shdp 230 uses boot 13 and hdp and cdh versions that drop older hive support to avoid breaking changes we should instead use shdp 221 that has backported any improvements that we need as well as move spring and hadoop versions to more recent ones,1
hsql always started even when using other database i set the configxd-configyml properties to use mysql including this profiles active defaultmysql when xd admin starts i still see hsql server started and localhost9393env shows profiles adminserver hsqldb default,0
fix compilation errors after moving singlenodeapplication package samples including singlenode tests need to update for package changes,0
as a user i would like to specify the default output channel when the channel name resolution doesnt occur in cases where i wont prefer to lose the data and like to investigate the messages from errorchannel or that sort,2
hdfs core writing helper classes simple file writer that has existed in the spring hadoop samples,0
increase performance of query to determine job restartability in batchjobexecutionscontrollers list all job executions for each given job execution it needs to be evaluated against all the job executions of a given job instance to see if the job execution is restarted the rule is for a given jobinstance there could be only one job execution that can be in completed state if the job itself is restartable and if any of the job executions for this job instance are failed or stopped then that job execution can be restarted based on the client request hence if the job execution is complete then it will set the restartable flag to false for all the job executions on a given job instance,0
upgrade hsqldb version on xd batch admin to the latest we also would like to upgrade the hsqldb version on spring batch admin so that both are compatible,0
add integration tests to run jobcommands tests against all transports similar to channelregistry - abstractchannelregistrytests that has the real tests - subclasses for each impl provide the registry to be tested thus one test can run against multiple transports,0
detailed module list performance improvement the call to modulesdetailedtrue that was introduced for flo proves to be a performance hog most certainly because of all the metadata resolution that has to occur there and no caching takes place,0
add a kafka source this would use the kafka spring integration extension we have a version of this working but had to modify the adapter code as its not currently compatible with spring integration 4 see intext-97,0
apply javadoc hotfix,0
add a test suite to the admin-ui the admin-ui currently has no unit tests need to add a test suite and hook it up to the build so that tests are run on every build,0
add docs for deleting a simple stream curl -x delete httplocalhost8080streamsticktock,0
as a user id like to have the option to setup batching so that i can ingest data in batches as opposed to payload-at-a-time,5
avoid use of module name twice in location when using a custom modules see httpsgithubcomspringsourcespring-xdpull240discussionr6045724,0
user wants ability to test multiple processors in a chain,0
as a xd user im trying to access uri - get jobsexecutionsstepsprogress hasroleroleview but it fails with 403 forbidden error for the role with view access more details herehttpsissuetrackerspringsourcecombrowsevesc-475 another url with the same error httphost9393streamsdefinitionsjsonpage0size10,1
rest-client should not force usage of joda time the rest-client project should not impose joda to the user,0
use hateoas link templates hateoas 09 introduced some support for templated links this should be leveraged to properly handle eg streamsid instead of using string concatenation,0
as a s-c-s developer id like to bootify modulelauncher so i can use spring boots support for property setting as well as adding options and new functionality in the future such as cp augmentation,4
batch wordcount sample returns zero counts if user already has countin on their hdfs the input file will not copy the sample file to hdfs need to make sure that a file is already present if the hdfs documents have to be updated to mention that hadoopdistro needs to be added both xd-singlenode and xd-shell,0
ui - do not hard-code server url specify the default url as code urlroot locationprotocollocationhostnamelocationport locationport code,0
make doc generation part of the standard build following the recent move of the doco to the main repo it makes sense to have the doc generation be part of the main build at an early stage as an incentive for developers to push doc changes as soon as they change the code,0
as a developer id like to certify spring xd against phd 30 so i can synchronize with the latest odp based bits,3
log hadoop distro and zk client connect info on container startup it would be nice to display container config logging with the hadoop distro and zookeeper client connect being used when the container starts up,0
as a developer id like to use spring-cloud-config server for spring-bus modules so i can centrally manage external properties,5
as a user id like to have the ability to configure acls so that i can restrict access to resources accessed via dsl shell examples who can create streams who can destroy the streams who can view the streams defaults to all,5
cryptic gradle error running tests when xd singlenode is running singlenodemainlaunchsinglenodeserveroptions calls systemexit causing a gradle buffer underflow this is called from singlenodemainintegrationtests systemexit should be called from the main method instead,0
sometimes getting npe when master step runs for ftphdfs job depending in the ftp server used there seems to be an error condition that generates an nullpointerexception these are the steps to reproduce this code job create --name myftphdfs --definition ftphdfs --hostftpsunetse --port21 job launch --name myftphdfs --params remotedirectorypubmusicabbahdfsdirectoryxdftp code exception code 163138385 error redisinboundadapter-redisqueue-inbound-channel-adapter1 stepabstractstep225 - encountered an error executing the step javalangnullpointerexception orgspringframeworkbatchintegrationpartitionmessagechannelpartitionhandlerhandlemessagechannelpartitionhandlerjava140 orgspringframeworkbatchcorepartitionsupportpartitionstepdoexecutepartitionstepjava105 orgspringframeworkbatchcorestepabstractstepexecuteabstractstepjava198 orgspringframeworkbatchcorejobsimplestephandlerhandlestepsimplestephandlerjava144 orgspringframeworkbatchcorejobflowjobflowexecutorexecutestepjobflowexecutorjava64 orgspringframeworkbatchcorejobflowsupportstatestepstatehandlestepstatejava67 orgspringframeworkbatchcorejobflowsupportsimpleflowresumesimpleflowjava163 orgspringframeworkbatchcorejobflowsupportsimpleflowstartsimpleflowjava142 orgspringframeworkbatchcorejobflowflowjobdoexecuteflowjobjava134 orgspringframeworkbatchcorejobabstractjobexecuteabstractjobjava304 orgspringframeworkbatchcorelaunchsupportsimplejoblauncher1runsimplejoblauncherjava135 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava50 orgspringframeworkbatchcorelaunchsupportsimplejoblauncherrunsimplejoblauncherjava128 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkbatchcoreconfigurationannotationsimplebatchconfigurationpassthruadviceinvokesimplebatchconfigurationjava117 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy40rununknown source orgspringframeworkbatchintegrationlaunchjoblaunchingmessagehandlerlaunchjoblaunchingmessagehandlerjava50 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkexpressionspelsupportreflectivemethodexecutorexecutereflectivemethodexecutorjava63 orgspringframeworkexpressionspelastmethodreferencegetvalueinternalmethodreferencejava122 orgspringframeworkexpressionspelastmethodreferenceaccess100methodreferencejava44 orgspringframeworkexpressionspelastmethodreferencemethodvaluerefgetvaluemethodreferencejava258 orgspringframeworkexpressionspelastcompoundexpressiongetvalueinternalcompoundexpressionjava85 orgspringframeworkexpressionspelastspelnodeimplgettypedvaluespelnodeimpljava113 orgspringframeworkexpressionspelstandardspelexpressiongetvaluespelexpressionjava111 orgspringframeworkintegrationutilabstractexpressionevaluatorevaluateexpressionabstractexpressionevaluatorjava163 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessinternalmessagingmethodinvokerhelperjava268 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessmessagingmethodinvokerhelperjava142 orgspringframeworkintegrationhandlermethodinvokingmessageprocessorprocessmessagemethodinvokingmessageprocessorjava75 orgspringframeworkintegrationhandlerserviceactivatinghandlerhandlerequestmessageserviceactivatinghandlerjava71 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava170 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava128 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava114 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava92 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava260 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava241 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava205 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava199 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava177 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava128 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 orgspringframeworkxddirtpluginsjobjobpluginlaunchjobpluginjava176 orgspringframeworkxddirtmodulemoduledeployerlaunchmodulemoduledeployerjava380 orgspringframeworkxddirtmodulemoduledeployerprocesslaunchrequestmoduledeployerjava330 orgspringframeworkxddirtmodulemoduledeployerhandlelaunchmoduledeployerjava316 orgspringframeworkxddirtmodulemoduledeployerhandlemessageinternalmoduledeployerjava169 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationconfigserviceactivatorfactorybean1handlerequestmessageserviceactivatorfactorybeanjava83 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava170 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava128 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava114 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava92 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava98 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointpopmessageandsendredisqueuemessagedrivenendpointjava211 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointaccess300redisqueuemessagedrivenendpointjava50 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointlistenertaskrunredisqueuemessagedrivenendpointjava290 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 javalangthreadrunthreadjava724 code,0
deploying custom code when a module is deployed it should run in its own isolated classpath the current code has all dependencies in a single classpath taken from the lib directory at startup this has a number of drawbacks one of the most important is the batch jobs can not be contributed to the system at runtime the work for this epic is decoupled from any module deployment story the assumption is that there will be a directory layout as shown below current layout modules -- common -- job -- processor -- sink -- source -- trigger and inside source -- source -- filexml -- gemfire-cqxml -- gemfirexml -- httpxml -- jmsxml -- mqttxml -- rabbitxml -- syslog-tcpxml -- syslog-udpxml -- tailxml -- tapxml -- tcpxml -- timexml -- twittersearchxml -- twitterstreamxml using an example of the source directory from the current layouteg modulessourcefile the new layout would be modulessourcefilelibspring-integration-filejar modulessourcefileconfigfilexml we should support both the new and old layout styles simultaneously there what is under file directory is the package no zip war is required,0
remove the constraint on job module batch job id to be job currently the job modules batch jobs bean id should be job this also causes the job name to be actual-job-name job and the batch job controllers require to search for job with suffix job removing this constraint would help us avoiding these,0
as a user i need to have the ability to create docker images via ci build so that i can build all the componentsconfigurations i need into a docker image test it and deploy the image to various environments,5
set up a project for xd shell set up a basic spring shell project for xd shell,0
turn off resttemplate logging in shell example noformat xdmodule delete --name sinkfile 123119495 warn spring shell clientresttemplate566 - delete request for httplocalhost9393modulessinkfile resulted in 500 internal server error invoking error handler command failed orgspringframeworkxdrestclientimplspringxdexception cannot delete non-composed module sinkfile noformat the warn log is redundant with the command result and should be silenced,0
backport metadata retrieval stability improvements backport stability improvements added as part of xd-2958 to the 11x branch,0
remove unnecessary usage of modulegetindex following the merge of httpsgithubcomspring-projectsspring-xdcommit03cf962845499610ad021d9e6689bccbf5e13cef investigate calling sites of modulegetindex or any similar api and remove it if needed,0
enhancements to gemfire cq source the gemfire cq source needs some enhancements enable locator configuration consider decoupling from json currently designed to work with gemfire-json-server to avoid dependence on specific domain objects on the client and server side so produces json strings from pdxinstances stored in the cache,0
fix clustercontainers rest endpoint with security enabled once the containers management server is secured the admin server needs to know which rest template to use to get the message rates from the deployed modules inside the containers,0
rest - do not redirect after logout in the following pr we removed the restlogoutsuccesshandler httpsgithubcomspring-projectsspring-xdpull1562 this is necessary though for rest calls and the admin ui otherwise some weird ui behavior might occur due to the http redirect,0
installer needs to launch a single node xd instance create a deployer class has methods runninginstance deploysinglenode takes into account machine size as specified in properties file void destroyallinstances or whatever jclouds returns from the destroy call ctor gets passed in the root boostrapping credentials install script steps setup xdhome variable make sure privileges are set to ubuntu not root start up redis and rabbit using ports as specified in xd-ec2properties use port watch to make sure they started start singlenode after configuration display hostname of singlenode server report successful and failed startup hit root of xd-admin to see if there is a response on 9393 integration testing verify that config files have been setup verify xd has been started verify xd can process a basic http post,0
documentation for gemfirecq file processing put on the guide as a section in an input-stream wiki page,0
xd ec2 needs to bootstrap zookeeper at installation time startup zookeeper on ec2 cluster instances,0
make asciidoc documentation compatible with asciidoctor 15x the meaning of the backtick has changed the backtick now only does monospaced formatting it does not escape the content the migration guide walks you through the options httpasciidoctororgdocsmigrationmigration-scenarios for more details see httpsgithubcomasciidoctorasciidoctor-gradle-pluginissues134,0
add http delete stream operation,0
spelparseexception is thrown when using empty string inside of an expression i can only reproduce this when using single quotes around the expression code stream create test --definition http transform --expressionpayloadreplaceabc log --deploy true code the following two alternatives work fine though code using trim on a single space stream create test --definition http transform --expressionpayloadreplaceabc trim log --deploy true not using single quotes or spaces in the expression stream create test --definition http transform --expressionpayloadreplaceabc log --deploy true code,0
remove usage of dummy md in spring-xd-module this creates a dependency cycle that eclipse cant handle doesnt discern between scope like idea does i believe we can get rid of dummy in tests that are in spring-xd-module,0
as a developer id like to separate mocks vs real repository coupling from the test infrastructure so it is easy to test against thin layer of dependencies,5
kafkamessagebusteststestcompression failing intermittent reported on ubuntu and osx,0
as a developer id like to use an efficient approach to read files so i dont have to read line-by-line and keep it in-memory in order to consumewrite the file content would the tasklet approach be better as opposed to transmitting data via message bus as streams,4
update spring framework dependency to 403 ga,0
when using transform --scriptfoogroovy shell displays error when trying to create the stream for the gemfire example stream create hashtags --definition tapstreamtweets transform --scripttweetsummarygroovy gemfire-server --keyexpressionpayloadid --deploy the shell displays command failed orgspringframeworkxdrestclientimplspringxdexception error with options for module transform of type processor valid the script and expression options are mutually exclusive i get the following error,0
xd-ec2 needs to provide ability to use a preinstalled zip vs downloading from s3 current behavior currently xd-ec2 downloads an xd zip file from the location specified by the xd-dist-url after verifying that the file is accessible,0
spike for ec2 deployments,0
add ui screen shots to docs for new features in alpha stepexecutioncontext stepexecutionprogress jobscheduler stream page job definition xd1615,0
fix clustercontainers rest endpoint with security enabled once the containers management server is secured the admin server needs to know which rest template to use to get the message rates from the deployed modules inside the containers,0
as a s-c-d developer id like to document the use of bom templates so the general audience can use it as a reference to include external libraries dynamically,1
job repo in container needs access to admins hsqldb the hsqldb that stores the jobrepository needs to have its content exposed via tcp network service so that container has access to update the status of a job run -needs to have property that enumerates the host and port for the admin that is accessible by the user -if one is not specified it should default to localhost9500 testing - unit tests - bring up module and admin verify that default host and port work verify that container on different machine has access to admin,0
in xd shell an incomplete command will be executed as the full command when using the xd shell a user can enter the first character of a command and it will be accepted as the full command for example e return will exit the shell the following commands below show how a user can target a new cluster and then get a job execution list by using the first character of the command server-unknowna c s httpec2-54-90-166-140compute-1amazonawscom9393 successfully targeted httpec2-54-90-166-140compute-1amazonawscom9393 xdj e l id job name start time step execution count execution status deployment status definition status -- ----------------------------------------- ----------------------- -------------------- ---------------- ----------------- ----------------- 28 tsle2145f21d-5b0b-49df-b9cc-a3fe65c49ecc 2014-12-18 110847000 2 completed undeployed destroyed 27 ec2job3 2014-12-18 110713000 2 completed undeployed destroyed 26 ec2job3,0
misleading error message when trying to restart a job exec disregard the missing date that is caused by another problem here is the setup noformat xdjob execution list id job name start time step execution count status -- -------- -------------------------------- -------------------- --------- 13 foo europeparis 0 starting 12 foo 2014-02-12 153946 europeparis 1 failed 11 foo 2014-02-12 153929 europeparis 1 completed 10 foo 2014-02-12 153836 europeparis 1 completed 9 foo 2014-02-12 153821 europeparis 1 completed 8 foo europeparis 0 starting 7 foo 2014-02-12 152541 europeparis 1 completed 6 foo 2014-02-12 152504 europeparis 1 failed 5 foo 2014-02-12 151432 europeparis 1 failed 4 foo 2014-02-12 151413 europeparis 1 failed 3 foo 2014-02-12 151354 europeparis 1 failed 2 foo 2014-02-12 151318 europeparis 1 failed 1 foo 2014-02-12 151258 europeparis 1 failed 0 foo 2014-02-12 151144 europeparis 1 failed xdjob execution restart --id 12 command failed orgspringframeworkxdrestclientimplspringxdexception job execution 12 is already running noformat while the server exception is a bit better noformat caused by orgspringframeworkbatchcorerepositoryjobexecutionalreadyrunningexception a job execution for this job is already running jobinstance id11 version0 jobfoo orgspringframeworkbatchcorerepositorysupportsimplejobrepositorycreatejobexecutionsimplejobrepositoryjava120 noformat id argue we should not speak in terms of execution ids if possible but rather in terms of job names,0
ui should poll server for latest on job info the admin ui should be polling the server to automatically pick up any new jobs executions and instances,0
final review of rest api structure document for streams taps and jobs get closure on open discussion points for rest api wrt to streams taps and jobs,0
http source should emit raw payload current implementation converts to a string see if we can emit raw payload given that we also emit content-type header setting to 8 points as this may have lots of implications down the line though,0
use kryo instance pooling to reduce instantiation overhead httpsgithubcomesotericsoftwarekryopooling-kryo-instances,0
the time source should emit string by default when running in local mode no redis time tcp no longer works change the time source to emit the date as a string while allowing an option to emit a date object,0
update sinks hdfs section to use shell commands instead of curl see httpstaticspringsourceorgspring-xddocs100m1referencehtmlhdfs,0
module failed to deploy because zk said it already exists identified in a stream of commits ending with0f4d4ea6b2f16c73c0048e32d8a8753aa25a48fd transport redis admin 1 container 1 stream deployed timefile attachments admin and container logs description admin reports that file sink module failed to deploy at 001932 because zk stated it already exists container shows no deployment of the file sink this could be an artifact in that the old acceptance tests use the same stream name hence a previous undeploy failed to remove the file this is not seen in the log per se the filejdbc fail above is a legitimate test verifying that a job cant be deployed twice,0
as a spring xd developer id like to port object-to-json module from xd to s-c-s repo so i can use it as processor module to build streaming pipeline,2
as a devops i would prefer having my module registry located in centralized github repository this would allow all the admins and containers in the cluster pointing to the same module registry any new module upload would be pushed to the same github repo which will make the cluster always be in sync on the module registry,4
batch jobs should use applicationyml provided connection as default batch jobs should use applicationyml provided connection as default they now have their own configuration in batch-jdbcproperties this config needs to account for any changes made to applicationyml settings so the data is written to the batch metadata database by default,0
user wants a task status command to retrieve all task job info for the running or completed job,0
sqooptasklet doesnt use keytab configuration from hadoopproperties file hey guys i have been using the sqooptasklet for a while but i found an unexpected problem basically im not able to configure kerberos authentication from hadoopproperties file as follow utilproperties idhadoopproperties locationxdconfighomehadoopproperties bean idsqooptasklet classorgspringframeworkxdsqoopsqooptasklet property namearguments list valueimportvalue value--connect otheroptionsvalue list property property namehadoopproperties refhadoopproperties bean hadoopproperties file fsdefaultfshdfshdfshost8020 yarnresourcemanagerhostnamehost001 yarnresourcemanageraddresshost0018032 yarnresourcemanagerscheduleraddresshost0018030 mapreducejobhistoryaddresshost00310020 yarnapplicationclasspathhadoopclientconfdirhadoopconfdirhadoopcommonhomehadoopcommonhomelibhadoophdfshomehadoophdfshomelibhadoopyarnhomehadoopyarnhomelibhadoopmapredhomehadoopmapredhomelib mapreduceframeworknameyarn springhadoopsecurityauthmethodkerberos springhadoopsecurityuserprincipaluser1companycom springhadoopsecurityuserkeytabhomeuser1user1keytab springhadoopsecuritynamenodeprincipalhdfshostcompanycom springhadoopsecurityrmmanagerprincipalyarnhostcompanycom springhadoopsecurityjobhistoryprincipalmapredhostcompanycom or fsdefaultfshdfshdfshost8020 yarnresourcemanagerhostnamehost001 yarnresourcemanageraddresshost0018032 yarnresourcemanagerscheduleraddresshost0018030 mapreducejobhistoryaddresshost00310020 yarnapplicationclasspathhadoopclientconfdirhadoopconfdirhadoopcommonhomehadoopcommonhomelibhadoophdfshomehadoophdfshomelibhadoopyarnhomehadoopyarnhomelibhadoopmapredhomehadoopmapredhomelib mapreduceframeworknameyarn securityauthmethodkerberos securityuserprincipaluser1companycom securityuserkeytabhomeuser1user1keytab securitynamenodeprincipalhdfshostcompanycom securityrmmanagerprincipalyarnhostcompanycom securityjobhistoryprincipalmapredhostcompanycom running the job im getting the following error encountered ioexception running import job orgapachehadoopsecurityaccesscontrolexception simple authentication is not enabled availabletoken kerberos so it means the sqooptasklet isnt setting the kerberos authentication this basically because in the sqooptasklet class is adding some prefix to the configurations springhadoopconfigprefix httpsgithubcomspring-projectsspring-xdblobmasterextensionsspring-xd-extension-sqoopsrcmainjavaorgspringframeworkxdsqoopsqooptaskletjava really doesnt make sense for me add those prefix and remove it later in the next call in the sqooprunner class httpsgithubcomspring-projectsspring-xdblobmasterextensionsspring-xd-extension-sqoopsrcmainjavaorgspringframeworkxdsqoopsqooprunnerjava if i inject the security configurations directly to the list arguments it works im sure you guys have a good reason to add the prefix but i dont see why unfortunately is annoying when you are developing in a local vm where you can test the simple authentication and after move the job to devprod environments with kerberos auth the above because you must change your sqooptasklet configuration injecting the new parameters if the sqooptasklet allows inject those parameters directly from the hadoopproperties file you dont need change tasklet configurations to run your jobs with different authentication methods thanks in advance hctor,0
upgrade to spring data redis 110release,0
as a user id like to have a landing page with higher-order links for sources processors sinks and jobs so i can jump to right section from one place,1
the ability to override default module path for the plugin or an individual flow currently modules are assumed to be in classpathmeta-infspringintegrationmoduleflowxml to reuse modules defined with dirt may require more flexibility eg int-flowflow root-pathfiledirtmodule,0
fix package tangle between orgspringframeworkxddirtpluginsjob and orgspringframeworkxddirtjob,0
spring-xd services randomly report failure after correct shutdown on multiple occasions we have seen that spring-xd-container and spring-xd-admin services can exit reporting failed state however most of the times the java process is correctly terminated code sudo service spring-xd-container stop stopping xd-container failed ps uax grep xd-container code and in the container logs code info 20150428 094215167 edt distributed system shutdown hook tid0x88 vm is exiting - shutting down distributed system info 20150428 094215168 edt distributed system shutdown hook tid0x88 gemfirecacheid 2029162775 isclosing true isshutdownall false closinggatewayhubsbyshutdownall false created mon apr 27 105934 edt 2015 se info 20150428 094215171 edt distributed system shutdown hook tid0x53 vm is exiting - shutting down distributed system info 20150428 094215171 edt distributed system shutdown hook tid0x53 gemfirecacheid 389249684 isclosing true isshutdownall false closinggatewayhubsbyshutdownall false created mon apr 27 105914 edt 2015 ser info 20150428 094215177 edt distributed system shutdown hook tid0x77 vm is exiting - shutting down distributed system info 20150428 094215179 edt distributed system shutdown hook tid0x77 gemfirecacheid 1768828050 isclosing true isshutdownall false closinggatewayhubsbyshutdownall false created mon apr 27 105927 edt 2015 se info 20150428 094215181 edt distributed system shutdown hook tid0x63 vm is exiting - shutting down distributed system info 20150428 094215199 edt distributed system shutdown hook tid0x63 gemfirecacheid 548938309 isclosing true isshutdownall false closinggatewayhubsbyshutdownall false created mon apr 27 105919 edt 2015 serv 2015-04-28 094215410 111release debug xdbusqueueradius-1 transformradiusmsgtransformer - transformed message genericmessage payloadfacility22 severity5 timestamptue apr 28 094215 edt 2015 hosthopisepsnprd01 messa info 20150428 094215626 edt distributed system shutdown hook tid0x53 resetting original memorypoolmxbean heap threshold bytes 0 on pool ps old gen info 20150428 094215630 edt distributed system shutdown hook tid0x77 resetting original memorypoolmxbean heap threshold bytes 0 on pool ps old gen info 20150428 094215621 edt distributed system shutdown hook tid0x88 resetting original memorypoolmxbean heap threshold bytes 0 on pool ps old gen info 20150428 094215662 edt distributed system shutdown hook tid0x63 resetting original memorypoolmxbean heap threshold bytes 0 on pool ps old gen 2015-04-28 094215854 111release warn thread-4 supportdisposablebeanadapter - invocation of destroy method failed on bean with name client-pool javalangillegalstateexception pool could not be destroyed because it is still config 20150428 094215857 edt thread-4 tid0x12 destroying connection pool client-pool config 20150428 094215897 edt thread-4 tid0x12 destroying connection pool client-pool config 20150428 094215898 edt distributed system shutdown hook tid0x53 destroying connection pool client-pool config 20150428 094215908 edt distributed system shutdown hook tid0x88 destroying connection pool client-pool code,0
remove retry from tcp sink now that the bus supports retry it is no longer necessary to have the retry advice in the tcp sink,0
payload conversion sample throws exception after updating the dependency to use the snapshot even with m5 the conversion throws an exception stacktrace attached,0
illegalstateexception when deploying orphaned stream modules upon a matching container arrival upon a matching container arrival if there are orphaned stream modules to be deployed then following exception is thrown javalangillegalstateexception container missing at orgspringframeworkutilassertstateassertjava385 at orgspringframeworkxddirtcorestreamdeploymentspathhasdeploymentinfostreamdeploymentspathjava275 at orgspringframeworkxddirtcorestreamdeploymentspathbuildstreamdeploymentspathjava233 at orgspringframeworkxddirtservercontainerlistenergetcontainersforstreammodulecontainerlistenerjava337 at orgspringframeworkxddirtservercontainerlistenerredeploystreamscontainerlistenerjava278 at orgspringframeworkxddirtservercontainerlisteneronchildaddedcontainerlistenerjava186 at orgspringframeworkxddirtservercontainerlistenerchildeventcontainerlistenerjava155,0
shell command stream list fails run the shell command stream list and you get the following error code xdstream list command failed orgspringframeworkhttpconverterhttpmessagenotreadableexception could not read json unrecognized field metadata class orgspringframeworkxdrestclientdomainstreamdefinitionresourcepage not marked as ignorable 3 known properties links content page at source sunnetwwwprotocolhttphttpurlconnectionhttpinputstream30721965 line 1 column 148 through reference chain orgspringframeworkxdrestclientdomainpagemetadata nested exception is comfasterxmljacksondatabindexcunrecognizedpropertyexception unrecognized field metadata class orgspringframeworkxdrestclientdomainstreamdefinitionresourcepage not marked as ignorable 3 known properties links content page at source sunnetwwwprotocolhttphttpurlconnectionhttpinputstream30721965 line 1 column 148 through reference chain orgspringframeworkxdrestclientdomainpagemetadata code you get a similar error when running any of the following code tap list trigger list job list code,0
bump spring amqp to 143 when available,0
job stuck in deploying state when no containers are available a job gets stuck in deploying state when a job is deployed when there are no containers available when a container is started after this event the job doesnt automatically start because of the job is stuck in the deploying state instead of the failed state refer to httpsgithubcomspring-projectsspring-xdblob193088dc164c73e07d7b4509de22241b28bf42b3spring-xd-dirtsrcmainjavaorgspringframeworkxddirtserverjobdeploymentlistenerjava update of the status in zookeeper is inside the nocontainerexception catch block this works correctly for streams,0
documentation that introduces taps put on the guide as a section in an input-stream wiki page,0
xd shell should be configurable for accessing secure cluster there doesnt seem to be a way to configure the xd shell for accessing a kerberos secured cluster tried this hadoop config props set --property hadoopsecurityauthorizationtrue hadoop config props set --property hadoophttpauthenticationtypekerberos still getting hadoop fs ls xd hadoop configuration changed re-initializing shell ls simple authentication is not enabled availabletoken kerberos,0
as a qa id like to include acceptance test coverage for splunk sink module so that i can validate the functionality as part of every ci build,3
create new implementations of existing infrastructure syslog adapters and taskexecutors,0
hdfs storemessagehandlers are not very resilient there are cases where hdfs-outbound-channel-adapter from spring-xd-hadoop module will keep a broken datawriters stream open for example if the underlying hdfs stream throws a remoteexception ie some hadoop error occurred theres no mitigation subsequent writes will always fail the messagehandler could potentially try to close and re-open the stream or trigger a rollover strategy to occur creating a new stream,0
dont perform error-level logging for normal application behavior in batch admin functionality assumption the batch job wordcountjob does not exist executing the rest endpoint httplocalhost9393batchjobswordcountjobexecutions yields the correct response code errors xmlnsatomhttpwwww3org2005atom error logrefnosuchbatchjobexception message batch job with the name wordcountjobjob doesnt exist message error errors code one could argue though that this is technically not an error but a statusapplication message no however the consolelog logs at error level with a full stacktrace i think the full stacktrace should only be available when debugging is allowed in normal mode i think we should log only at info or warn level without the full stacktrace,0
for file based item reader jobs stepjob completion message should have name of file sent on named channel it looks like we dont handle deletion of source files currently we should provide some support for that - maybe there is a way to into spring integrations pseudotransactionmanager support httpdocsspringiospring-integrationapiorgspringframeworkintegrationtransactionpseudotransactionmanagerhtml the file source should possibly also support file archival functionality but that might also be a dedicated processor not sure where we want to set the semantic boundaries for the file source,0
as a user id like to stream ingest audio and video data so that i can apply predictive analytics algorithms for facial detection spike scope research the feasibility of implementing motion-jpeghttpenwikipediaorgwikimotionjpeg design specs on motion-jpeg format note opencvhttpdocsopencvorgtrunkdocpytutorialspyobjdetectpyfacedetectionpyfacedetectionhtml although having ootb support it is not platform compatible,5
return rounded interval values from aggregate counter queries the aggregate counter query result currently returns the interval that is passed in whether it is aligned with the bucket resolution requested or not it would be more intuitive if the time values returned are rounded down to the resolution of the query ie whole minutes hours days or whatever,0
servers not finding logging file 123043930 warn main loggingloggingapplicationlistener - logging environment value filedataprojectsspring-xdbuilddistspring-xdxdconfigxd-container-loggerproperties cannot be opened and will be ignored there are extra slashes in there probably due to some recent changes related to xdconfig location in the scripts,0
rabbit sink acceptance tests,0
provide an xd starter pom for module projects provide a maven pom to support module projects that will declare the spring xd dependencies as provided configure the boot plugin for module layout and other boilerplate build configuration this should include a similar feature for gradle,0
ssl config for rabbitmessagebus connections is ignored,0
get rid of sparkstreamingdrivermodule code that is in there could be moved to the sparkstreamingmodule then as part of a later refactoring that plugin should be made part of the module and loaded by the module classloader,0
mqtt source module does not cleanly undeploy was attempting to test mqtt turns out i dont have the proper rabbitmq thing installed so far so good i get these kinds of exceptions noformat unable to connect to server 32103 - javanetconnectexception connection refused orgeclipsepahoclientmqttv3internaltcpnetworkmodulestarttcpnetworkmodulejava75 orgeclipsepahoclientmqttv3internalclientcommsconnectbgrunclientcommsjava521 javalangthreadrunthreadjava724 caused by javanetconnectexception connection refused javanetplainsocketimplsocketconnectnative method javanetabstractplainsocketimpldoconnectabstractplainsocketimpljava339 javanetabstractplainsocketimplconnecttoaddressabstractplainsocketimpljava200 javanetabstractplainsocketimplconnectabstractplainsocketimpljava182 javanetsockssocketimplconnectsockssocketimpljava392 javanetsocketconnectsocketjava579 orgeclipsepahoclientmqttv3internaltcpnetworkmodulestarttcpnetworkmodulejava66 2 more noformat problem is i still get them after undeploying my mqtt log stream,0
handle deploying state at the admin ui when the job is in deploying state until we decide whether the job is actually deployed or failedincomplete there is no way to know if it is fine to launchschedule though the launching requests are going to go to the job launch request queue we could either disable both deployundeploy until the state changes from deploying,0
complete camera ready debs submission complete and submit debs 2015 paper as described here httpwwwdebs2015orgcamera-ready-instructionshtml,0
allow --path configuration in http channel adapter currently each http stream channel uses its own port which is a limitation if we want to use large numbers of http streams with fine granularity it would be nice to additionally use uri paths to identify http channels allowing to re-use a single http port for multiple channels in xd example usage stream create --name s1 --definition http --port9495 --pathfoo log --deploy for a poc implementation see httpsgithubcomspring-projectsspring-xdpull1538,0
jms source can only connect to localhost cant connect to remote activemq instance setup a jms-activemqproperties file with amqurltcpec2-54-198-157-91compute-1amazonawscom61616 source always refers to defaults of tcplocalhost61616 localhost works,0
better handle the lifecycle of module classloaders the various methods is moduleutils sometimes create module classloaders just for the sake of loading a single file urlclassloader are now closeable which we should try to do but not too early some of the signatures in that class are problematic esp the ones that return a resource because we dont know when the client will be done with that resource so we cant close the underlying cl for them investigate other approaches callback style signatures ie dowithclassloadercl for certain cases global cl caching mechanism per module typename but then issues arise when module bytecode is changed etc,0
creating a tap with same name as existing streams results in infinite loop see httpstackoverflowcomquestions17157068counter-analytics-in-springxd the underlying issue is stream creation with a name already taken though,0
fix intermittent test failures at streamdeploymentintegrationtests there are intermittent test failurs in the streamdeploymentintegrationtests especially rabbit tests we can try using eventuallymatcher and see if that fixes this,0
refactorsimplify jobplugin currently the jobplugin extends abstractplugin and the abstractplugin has got lots of unused code like it doesnt do anything with preprocesssharedcontext in there,0
upgrade to si-kafka extension release we would want to upgrade si kafka extension dependency to inherit the refactoring work with kafka simple consumer api,0
ui user should be able to see step execution info in a table below job detail on clicking the job detail page we should display all the step executions associated with the specific job execution in a table view,0
provide missing jars to enable xpath spel spring xd should package spring-integration-xml jar within distribution so we can invoke xpath spel from processors eg using transformer code transform --expressionxpathpayload namedatasourcenamerowtext code,0
as a developer id like to get rid off xdruntimeexception from xd,1
enforce consistent naming across cli options and commandtemplateoperations method names eg see comment on pr 390 httpsgithubcomspring-projectsspring-xdpull390filesr7563787 in that case its delete in one place and destroy in another there are other cases as well,0
cant build and run singlenode spring-cloud-data-rest app on ubuntu building and then running spring-cloud-data-rest app on ubuntu fails when trying to create the first stream the configuration ends up with a cloudfoundryconfig instead of localconfig for the moduledeployer env ubuntu 1504 java version 18051 javatm se runtime environment build 18051-b16 java hotspottm 64-bit server vm build 2551-b03 mixed mode error code 2015-08-10 114347199 error 11062 --- nio-9393-exec-1 oscdrcrestcontrolleradvice caught exception while handling a request javalangunsupportedoperationexception null orgspringframeworkclouddatamoduledeployercloudfoundrycloudfoundrymoduledeployerdeploycloudfoundrymoduledeployerjava30 spring-cloud-data-module-deployer-cloudfoundry-100build-snapshotjar100build-snapshot orgspringframeworkclouddatarestcontrollerstreamcontrollerdeploystreamstreamcontrollerjava213 spring-cloud-data-rest-100build-snapshotjar100build-snapshot orgspringframeworkclouddatarestcontrollerstreamcontrollersavestreamcontrollerjava140 spring-cloud-data-rest-100build-snapshotjar100build-snapshot sunreflectnativemethodaccessorimplinvoke0native method na18051 sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava62 na18051 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 na18051 javalangreflectmethodinvokemethodjava497 na18051 orgspringframeworkwebmethodsupportinvocablehandlermethoddoinvokeinvocablehandlermethodjava221 spring-web-420releasejar420release orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava137 spring-web-420releasejar420release orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava111 spring-webmvc-420releasejar420release orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlermethodrequestmappinghandleradapterjava806 spring-webmvc-420releasejar420release orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava729 spring-webmvc-420releasejar420release orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava85 spring-webmvc-420releasejar420release orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava959 spring-webmvc-420releasejar420release orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava893 spring-webmvc-420releasejar420release orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava970 spring-webmvc-420releasejar420release orgspringframeworkwebservletframeworkservletdopostframeworkservletjava872 spring-webmvc-420releasejar420release javaxservlethttphttpservletservicehttpservletjava648 tomcat-embed-core-8023jar8023 orgspringframeworkwebservletframeworkservletserviceframeworkservletjava846 spring-webmvc-420releasejar420release javaxservlethttphttpservletservicehttpservletjava729 tomcat-embed-core-8023jar8023 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava291 tomcat-embed-core-8023jar8023 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava206 tomcat-embed-core-8023jar8023 orgapachetomcatwebsocketserverwsfilterdofilterwsfilterjava52 tomcat-embed-websocket-8023jar8023 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava206 tomcat-embed-core-8023jar8023 orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconfigurationapplicationcontextheaderfilterdofilterinternalendpointwebmvcautoconfigurationjava235 spring-boot-actuator-130build-snapshotjar130build-snapshot orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 spring-web-420releasejar420release orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava206 tomcat-embed-core-8023jar8023 orgspringframeworkbootactuatetracewebrequesttracefilterdofilterinternalwebrequesttracefilterjava102 spring-boot-actuator-130build-snapshotjar130build-snapshot orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 spring-web-420releasejar420release orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava206 tomcat-embed-core-8023jar8023 orgspringframeworkwebfilterhttpputformcontentfilterdofilterinternalhttpputformcontentfilterjava87 spring-web-420releasejar420release orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 spring-web-420releasejar420release orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava206 tomcat-embed-core-8023jar8023 orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinternalhiddenhttpmethodfilterjava77 spring-web-420releasejar420release orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 spring-web-420releasejar420release orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava206 tomcat-embed-core-8023jar8023 orgspringframeworkwebfiltercharacterencodingfilterdofilterinternalcharacterencodingfilterjava85 spring-web-420releasejar420release orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 spring-web-420releasejar420release orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava206 tomcat-embed-core-8023jar8023 orgspringframeworkbootactuateautoconfiguremetricsfilterdofilterinternalmetricsfilterjava69 spring-boot-actuator-130build-snapshotjar130build-snapshot orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 spring-web-420releasejar420release orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava239 tomcat-embed-core-8023jar8023 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava206 tomcat-embed-core-8023jar8023 orgapachecatalinacorestandardwrappervalveinvokestandardwrappervalvejava219 tomcat-embed-core-8023jar8023 orgapachecatalinacorestandardcontextvalveinvokestandardcontextvalvejava106 tomcat-embed-core-8023jar8023 orgapachecatalinaauthenticatorauthenticatorbaseinvokeauthenticatorbasejava502 tomcat-embed-core-8023jar8023 orgapachecatalinacorestandardhostvalveinvokestandardhostvalvejava142 tomcat-embed-core-8023jar8023 orgapachecatalinavalveserrorreportvalveinvokeerrorreportvalvejava79 tomcat-embed-core-8023jar8023 orgapachecatalinacorestandardenginevalveinvokestandardenginevalvejava88 tomcat-embed-core-8023jar8023 orgapachecatalinaconnectorcoyoteadapterservicecoyoteadapterjava518 tomcat-embed-core-8023jar8023 orgapachecoyotehttp11abstracthttp11processorprocessabstracthttp11processorjava1091 tomcat-embed-core-8023jar8023 orgapachecoyoteabstractprotocolabstractconnectionhandlerprocessabstractprotocoljava668 tomcat-embed-core-8023jar8023 orgapachetomcatutilnetnioendpointsocketprocessordorunnioendpointjava1521 tomcat-embed-core-8023jar8023 orgapachetomcatutilnetnioendpointsocketprocessorrunnioendpointjava1478 tomcat-embed-core-8023jar8023 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 na18051 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 na18051 orgapachetomcatutilthreadstaskthreadwrappingrunnableruntaskthreadjava61 tomcat-embed-core-8023jar8023 javalangthreadrunthreadjava745 na18051 2015-08-10 114347284 warn 11062 --- nio-9393-exec-1 mmaexceptionhandlerexceptionresolver handler execution resulted in exception null code,0
as a s-c-d developer id like to add support to expose counter metrics endpoints so i can consume to feed the dashboards to demonstrate firehose counter pipe,3
stream deployment race condition when a container is started the leader admin will scan the deployed streams to determine if any have modules that need to be deployed on the new container when a stream is deployed the leader admin will select containers to deploy modules to if a new container and stream are deployed at the same time there is the window for a race condition where both attempt to deploy a module to a container this can be solved by at least one of the following consider using a single thread in the admin leader to handle all zookeeper updates this means that the handling of new containers and stream deployment requests will not happen concurrently trap the nodeexists exception when creating the xddeploymentsmodules node in zookeeper,0
create a common exception framework for xd need to capture exceptions from the various projects that make up xd and wrap them in xd specific exceptions an example of this is when leaving out the channels in the module definitions we see nosuchbeanexceptions and illegalargumentexceptions thrown based on which module and what channel is missing,0
full build with tests fail on ubuntu on ubuntu 1404 lts using openjdk version 17065 openjdk runtime environment icedtea 253 7u71-253-0ubuntu014041 openjdk 64-bit server vm build 2465-b04 mixed mode i see the following failures spring-xd-dirttest orgspringframeworkxddirtsecuritysinglenodeapplicationwithuserbasedsecuritytest classmethod failed orgspringframeworkbeansfactorybeancreationexception caused by javalangillegalstateexception caused by javanetbindexception orgspringframeworkxddirtsecuritysinglenodeapplicationwithldapsimplebindtest classmethod failed orgspringframeworkbeansfactorybeancreationexception caused by javalangillegalstateexception caused by javanetbindexception orgspringframeworkxddirtsecuritysinglenodeapplicationwithdefaultsecuritytest classmethod failed orgspringframeworkbeansfactorybeancreationexception caused by javalangillegalstateexception caused by javanetbindexception orgspringframeworkxddirtsecuritysinglenodeapplicationwithssltest classmethod failed orgspringframeworkbeansfactorybeancreationexception caused by javalangillegalstateexception caused by javanetbindexception orgspringframeworkxddirtsecuritysinglenodeapplicationwithusersfiletest classmethod failed orgspringframeworkbeansfactorybeancreationexception caused by javalangillegalstateexception caused by javanetbindexception orgspringframeworkxddirtsecuritysinglenodeapplicationwithldapsearchandbindtest classmethod failed orgspringframeworkbeansfactorybeancreationexception caused by javalangillegalstateexception caused by javanetbindexception 595 tests completed 6 failed 2 skipped spring-xd-dirttest failed the test reports has this caused by javalangillegalstateexception hsqldb could not be started on 00007714 state shutdown orgspringframeworkxdbatchhsqldbserverhsqlserverbeanstartserverhsqlserverbeanjava162 orgspringframeworkxdbatchhsqldbserverhsqlserverbeanafterpropertiessethsqlserverbeanjava82 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinvokeinitmethodsabstractautowirecapablebeanfactoryjava1625 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1562 42 more caused by javanetbindexception address already in use javanetplainsocketimplsocketbindnative method javanetabstractplainsocketimplbindabstractplainsocketimpljava376 javanetserversocketbindserversocketjava376 javanetserversocketinitserversocketjava237 javanetserversocketinitserversocketjava128 orghsqldbserverhsqlsocketfactorycreateserversocketunknown source orghsqldbserverserveropenserversocketunknown source orghsqldbserverserverrununknown source orghsqldbserverserveraccess000unknown source orghsqldbserverserverserverthreadrununknown source so i assume i see this due hsql running from another test,0
create a packaging model for custom modules like just discussed after the spring one session it would be nice to have a packaging model for custom modules instead of putting all libs in one directory and an xml in another it could be a fat jar including some metadata file pointing to either an xml or to a javaconfig configuration class inside the jar some more words why i think its important to have something like that spring xd can be very well used in the enterprise and at least for job modules its likely to have some dependencies so what do you have to do now to deploy such a module build a jar with your build process then get it from your repository unpack it and somehow find the relevant xml to copy it into the appropriate folder then inspect the pom to find out what all the dependencies are direct and transient and get them from your repository to copy them into the appropriate folder and of course copy the jar and when using spring xd in distributed mode you have to do it several times with the approach mentioned above you just build your fat jar with your build process and distribute it to all your nodes nothing complicated and if you implement it like that its easy to have a javaconfig support thats almost the same,0
failure to get message rates for modules with labels start xd distributed xd with specified management port and xd messageratemonitoring enabled true in serversyml to gather stats create stream file log deploy it navigate to containers tab in admin ui rates are shown correctly create stream myfile file log deploy it navigate to containers tab in admin ui - none of the message rates are shown open browser dev tools console and note 500 error response spring-xd-dirt - containerscontroller lines 109-112 creates request to get message rates for modules typical request http1921680109292managementjolokiareadxdstr4modulelogcomponentnameinputmeansendrate typical response codejson requestmbeanxdstr4componentmodulelog1nameinputattributemeansendratetypereadvaluexdstr4componentmessagechannelmodulelog1nameinputmeansendrate00timestamp1428675070status200 code for file module with label myfile the request is http1921680109292managementjolokiareadxdstr4modulemyfilecomponentnameoutputmeansendrate response codejson mbeanxdstr4componentmodulemyfile1nameoutputattributemeansendratetypereadstacktracejavaxmanagementinstancenotfoundexception no mbean with pattern xdstr4modulemyfile1componentnameoutput found for reading attributesntat orgjolokiahandlerreadhandlersearchmbeansreadhandlerjava160ntat orgjolokiahandlerreadhandlerfetchattributesformbeanpatternreadhandlerjava126ntat orgjolokiahandlerreadhandlerdohandlerequestreadhandlerjava116ntat orgjolokiahandlerreadhandlerdohandlerequestreadhandlerjava37ntat orgjolokiahandlerjsonrequesthandlerhandlerequestjsonrequesthandlerjava160ntat orgjolokiabackendmbeanserverhandlerdispatchrequestmbeanserverhandlerjava97ntat orgjolokiabackendlocalrequestdispatcherdispatchrequestlocalrequestdispatcherjava98ntat orgjolokiabackendbackendmanagercallrequestdispatcherbackendmanagerjava411ntat orgjolokiabackendbackendmanagerhandlerequestbackendmanagerjava158ntat orgjolokiahttphttprequesthandlerexecuterequesthttprequesthandlerjava197ntat orgjolokiahttphttprequesthandlerhandlegetrequesthttprequesthandlerjava86ntat orgjolokiahttpagentservlet4handlerequestagentservletjava435ntat orgjolokiahttpagentservlethandlesecurelyagentservletjava320ntat orgjolokiahttpagentservlethandleagentservletjava291ntat orgjolokiahttpagentservletdogetagentservletjava252ntat javaxservlethttphttpservletservicehttpservletjava735ntat javaxservlethttphttpservletservicehttpservletjava848ntat orgspringframeworkwebservletmvcservletwrappingcontrollerhandlerequestinternalservletwrappingcontrollerjava158ntat orgspringframeworkwebservletmvcabstractcontrollerhandlerequestabstractcontrollerjava146ntat orgspringframeworkbootactuateendpointmvcjolokiamvcendpointhandlejolokiamvcendpointjava130ntat sunreflectgeneratedmethodaccessor82invokeunknown sourcentat sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43ntat javalangreflectmethodinvokemethodjava483ntat orgspringframeworkwebmethodsupportinvocablehandlermethoddoinvokeinvocablehandlermethodjava221ntat orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava137ntat orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava110ntat orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlemethodrequestmappinghandleradapterjava777ntat orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava706ntat orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava85ntat orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava943ntat orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava877ntat orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava966ntat orgspringframeworkwebservletframeworkservletdogetframeworkservletjava857ntat javaxservlethttphttpservletservicehttpservletjava735ntat orgspringframeworkwebservletframeworkservletserviceframeworkservletjava842ntat javaxservlethttphttpservletservicehttpservletjava848ntat orgeclipsejettyservletservletholderhandleservletholderjava684ntat orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1496ntat orgspringframeworksecuritywebfilterchainproxydofilterinternalfilterchainproxyjava186ntat orgspringframeworksecuritywebfilterchainproxydofilterfilterchainproxyjava160ntat orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467ntat orgeclipsejettyservletservlethandlerdohandleservlethandlerjava499ntat orgeclipsejettyserverhandlerscopedhandlerhandlescopedhandlerjava137ntat orgeclipsejettysecuritysecurityhandlerhandlesecurityhandlerjava557ntat orgeclipsejettyserversessionsessionhandlerdohandlesessionhandlerjava231ntat orgeclipsejettyserverhandlercontexthandlerdohandlecontexthandlerjava1086ntat orgeclipsejettyservletservlethandlerdoscopeservlethandlerjava428ntat orgeclipsejettyserversessionsessionhandlerdoscopesessionhandlerjava193ntat orgeclipsejettyserverhandlercontexthandlerdoscopecontexthandlerjava1020ntat orgeclipsejettyserverhandlerscopedhandlerhandlescopedhandlerjava135ntat orgeclipsejettyserverhandlerhandlerwrapperhandlehandlerwrapperjava116ntat orgeclipsejettyserverserverhandleserverjava370ntat orgeclipsejettyserverabstracthttpconnectionhandlerequestabstracthttpconnectionjava494ntat orgeclipsejettyserverabstracthttpconnectionheadercompleteabstracthttpconnectionjava971ntat orgeclipsejettyserverabstracthttpconnectionrequesthandlerheadercompleteabstracthttpconnectionjava1033ntat orgeclipsejettyhttphttpparserparsenexthttpparserjava644ntat orgeclipsejettyhttphttpparserparseavailablehttpparserjava235ntat orgeclipsejettyserverasynchttpconnectionhandleasynchttpconnectionjava82ntat orgeclipsejettyionioselectchannelendpointhandleselectchannelendpointjava667ntat orgeclipsejettyionioselectchannelendpoint1runselectchannelendpointjava52ntat orgeclipsejettyutilthreadqueuedthreadpoolrunjobqueuedthreadpooljava608ntat orgeclipsejettyutilthreadqueuedthreadpool3runqueuedthreadpooljava543ntat javalangthreadrunthreadjava744nerrortypejavaxmanagementinstancenotfoundexceptionerrorjavaxmanagementinstancenotfoundexception no mbean with pattern xdstr4modulemyfile1componentnameoutput found for reading attributesstatus404 code this reponse results in jsonexception in the containerscontroller because its missing value property the module id is somewhat problematic in the request xdstr4modulelog index is but should be index within the stream also node type sourcesinkprocessor is missing therefore stream mail mail is suffering from the same problem would be nice to have some sort of a bulk request to query more than one module for inputoutput message rates such that i could get all message rates for modules in the stream,0
create documentation for the core analytical model abstractions and use of jpmml processor,0
documentation for data partitioning and all rabbit bus properties,0
parentlasturlclassloader should set itself as context classloader i am converting a spring xd sample batch notifications from copying jars to old way code xdhomelib code to rather copy the module jar to new preferred way code xdhomemodulesjobpayment-importlib code by doing so i hit a classloader issue custom classes and resources are loaded in spring xd using orgspringframeworkxdmodulesupportparentlasturlclassloader however the sample is initializing custom bean definitions and one of those creates a new datasource using the embeddeddatabasebuilder this class however under the hood uses the default class loader to load sql scripts code public defaultresourceloader thisclassloader classutilsgetdefaultclassloader code therefore the sql scripts are not found possible solution a possible solution seems to be for parentlasturlclassloader to set itself as the context classloader for the current thread code public parentlasturlclassloaderurl classpath classloader parent threadcurrentthreadsetcontextclassloaderthis code,0
proactively handle failed deployments when a deployment fails on a container due to a misconfiguration the container does not notify the admin instead the admin waits for the container to write out an ephemeral node to the definition path xdstreams or xdjobs to indicate a successful deployment and if the path isnt written in 10 seconds the deployment is considered failed this timeout should be considered a heuristic failure meaning that the container was not able to write out a response of success or failure if the deployment fails the container needs to indicate this by writing a node to zk,0
move batchjobexecutionsbyjobname to batchjobscontroller from batchjobexecutionscontroller we need to move the batchjobexecutionsbyjobname method to batchjobscontroller as that seems appropriate,0
batch jobs step execution count is always 0 the batch jobs step execution count is retrieved from orgspringframeworkbatchadminwebjobexecutioninfo in batch job repository but the jobexecutioninfo always have the stepexecutioncount set to 0,0
login page is missing style info when secured if the admin ui is secured the login page is displayed without any styles,0
incorrect directory option described in hdfs-dataset docs please see hdfs-dataset 102release docshttpdocsspringioautorepodocsspring-xd102releasereferencehtmlhdfs-dataset-avroparquet according to docs there should be directory option in this sink but in code basepath is used,0
use a different default jolokia port for admin vs container avoid the need for --jmxportxxxx when running both a container and admin on the same server,0
as a developer id like to move message-bus from spring xd repo into spring-bus so i can update spring xd to inherit the featuresfunctionalities via maven dependency,5
as a s-c-d developer id like to implement undeploy operation for singlenode single jvm so i can use this target to undeploy a running stream more details in this prhttpsgithubcomspring-cloudspring-cloud-datapull19 note its a prerequisite to determine consistent undeploy strategy for both jobs and streams,5
make enum conversions for moduleoptions more lenient if you have a an option --modetextline presently the enum must be named textline i think it would improve the user-experience if we allowed users to pass in values such as --modetextline --modetextline --modetextline,0
upgrade to spring hadoop 20 rc2,0
add support for timesequence-size windowed offset updates,0
add initialdelay to sourcetrigger currently the sourcetrigger module is based on 3 profiles date cron or fixeddelay where the latter has precedence over the former in triggersourceoptionsmetadata codejava override public string profilestoactivate if cron null return new string use-cron else if fixeddelay null return new string use-delay else return new string use-date code therefore it is not possible to combine date and fixeddelay to start off at a specific point in time and then repeat every x seconds this is a request to provide another parameter to sourcetrigger such as initialdelay to be able to achieve the desired behaviour,0
prevent accidental pickup of env var as module option typical case is with a module that contains noformat userusername noformat say as part of a jdbc connection configuration and no value has been given at deployment time the module may pickup a value from the environment by mistake typically from an environment variable of the same name this was even more problematic when ordering of property sources was unclear but should be prevented entirely anyway,0
as a s-c-s user id like to have the option to use more than one binder connection factory so i can mix and match where i consume and publish data more details herehttpsgithubcomspring-cloudspring-cloud-streamissues140,4
fix mapreduce job submission on cloudera cdh5 submitting jobs that submit yarn mr tasks on cloudera 530 - job fails when submitting the yarn app javalangnoclassdeffounderror comgooglecommoniolimitinputstream - this is from guava and that class was removed starting with v 150 - i can get around this by including guava-1401jar in libcdh5 not sure if this breaks something else,0
as a developer id like to create a java clienthttpsgithubcommarkfisherreceptor-client for receptor so i can interact with diego runtime via receptor api calls from xd,5
as a s-c-d developer id like to move the external library to its own project so we have a clear separation of functionalities in s-c-d repo,3
as a developer id like to replace all references of spring xd with spring cloud data flow,2
as a qa id like to include acceptance test coverage for aggregator processor module so that i can validate the functionality as part of every ci build,3
consider a shared project for pojos that are shareable betweed model and rest layer,0
change request mapping for removing a stream deployment in xdcontroller currently deployments - with an understore in xdcontroller should be something else need to segment up the url space better for streamjobs to avoid a clash,0
add accepted type logic to module a module can declare one ore more payload types it will accept this will inform the runtime re automatic payload conversion this can be done in the module xml configuration and processed by streamplugin,0
module configuration exception should not block admin leader election when the admin leader is elected the leader recalculates the deployed streamjob states if for some reason the streamjob couldnt be loaded with moduleconfigurationexception then the leader fails and subsequently all the deployment requests are being queued we need to discuss how to handle this situation a possible fix could be something like this httpsgithubcomilayaperumalgspring-xdcommitfa6a48072197e8c350eaebe841191e4b6310f437 the issue is that if the stream was already successfully deployed into a container then the stream status would still be set to undeployed by the admin leader during the recalculation also this issue is very minor as the moduleconfigexception would be thrown only if someone upgrades admin that uses different module options config than the existing stream definitions,0
as a user id like to parameterize merge options so i can incrementally consume the delta with the help of megastore,4
redis install-redis script fails on ubuntu64 the installation script for redis fails on ubuntu64 when trying to untar the redis distribution the script uses rediszipname instead of rediszippath this bug will be seen on any linux 64 bits platform and looking at the code even linux 32 bits platform,0
do not allow a stream definition to contain ambiguous module references a stream definition such as http transform transform file will limit functionality such as taps since you cant reference which specific module to apply the tap should be proactive in parsing the dsl and force the use of a label to disambiguate,0
as a developer i want to be able to override kafka bus defaults for module consumers and producers so that i can finely tune performance and behaviour such properties should include - autocommitenabledqueuesizemaxwaitfetchsize for consumers - batchsizebatchtimeout for producers,3
as a spring xd on cf user id like to use cloudcontroller implementation of admin spi every time i deploy spring xd modules so i can leverage the spi to query for module status and health metrics possible apis code modulestatus getstatusmoduledescriptor descriptor collectionmoduledescriptor listmodules mapmoduledescriptorkey modulestatus code,5
investigate throwing of exception in batchjobregistrybeanpostprocessor the condition that leads to this exception does not seem like it would ever occur namely the bpp processing a job deployment for a job that was already deployed to the same container,0
create final distribution zip across multiple projects the final directory structure should look like install-dirxd install-dirredis install-dirgemfire inside the xd directory xdbin - which has xd-container and xd-admin scripts xdlib inside the gemfire directory gemfirebin - has the gemfire-server script gemfirelib inside the redis directory is redisredis-latest-vxyztar redisreadme readisinstall-redis - script that does the basic 4 commands to install redis there should be a gradle task that runs after the distzip task that will take the contents of different project directories script diretories and redis-binary directories and creates the final layout for the distribution,0
get rid of custom asciidoctor link transformations remove noformat filter line - todo refine regex to only match local documents def match line link if match matchreplaceallxref23 else line noformat and replace linkfoobar by xreffoobar,0
as a developer id like to complete the remaining kryo optimization changes so i can polish and get the guidelines documented appropriately,1
as a user i would like to connect the sqoop batch job to teradata for import jobs i have tried the teradata jdbc driver directly using codejob create tdtest --definition sqoop --commandimport --args--table frequentflyers --connect jdbcteradatatdexpressdatabasetransportation --driver comteradatajdbcteradriver --username dbc --password dbc --target-dirxdteradata --num-mappers 1 code but that results in an npe the only way so far is to use the hortonworks connector for teradata - httppublic-repo-1hortonworkscomhdptools2242hdp-connector-for-teradata-1342242-2-distrotargz that one allows me to use the following codejob create tdtest --definition sqoop --commandimport --args--table frequentflyers --connect jdbcteradatatdexpressdatabasetransportation --connection-manager orgapachesqoopteradatateradataconnmanager --username dbc --password dbc --target-dirxdteradata --num-mappers 1 code,3
zip created by publish 11 only contains the shell xd gemfire directories in the zip file are missing,0
add yarnresourcemanagerscheduleraddress to mapreduce samples the mapreduce samples should have yarnresourcemanagerscheduleraddress since it might be needed in a multi node production cluster,0
add tests and refactor zookeeperstreamrepository looks like there is a bit of technical debt in zookeeperstreamrepository additionally there is not a single test for this class yet however testability looks tricky,0
integration tests for dsl reference examples,0
fix xd config initializer for zk connection string spring boot 111 has the following change httpsgithubcomspring-projectsspring-bootcommitb75578d99c8d435e1f8bf18d0dbb3a2ddf56fdc4 where an external property source precedence would get re-ordered after the application configuration properties this change affects spring xd config initializer which expects an external zk-properties property source always preceding over the application configuration properties,0
gauge and counter hash and equals should not depend on values the value is mutable so this causes problems if storing metrics in a hashset for example,0
as a module developer i would like the jsonstringtotupleconverter in the spring cloud streams project to maintain the types provided in the json string and not convert everything to a string representation,1
acceptance test for kafka source and sink,0
update sources tail section to use shell commands instead of curl httpstaticspringsourceorgspring-xddocs100m1referencehtmltail,0
as a developer id like to document the kryo optimization guidelines so the end-users can refer to it while tuning to improve performance,3
remove un-necessary libs from shell shell currently adds all jars from xdlib to its classpath remove jars that are not needed to run shell,0
as a user id like to start multiple instances of xd-containers through the rpm scripts so i can easily spin-up instances on the same nodevm,2
provide support for xd runtime on vagrant,0
cannot undeploy stream that was created and deployed with a in the name eserrano-mbpspring-xd-100m5 eserrano shellbinxd-shell - -- v -- extreme data 100m5 admin server target httplocalhost9393 welcome to the spring xd shell for assistance hit tab or type help xdstream list stream name stream definition status ------------- --------------------------------------------------------- -------- eesstreamlog http transform --expressionpayloadtouppercase log deployed httptest http file tictac time log xdstream stream all stream create stream deploy stream destroy stream list stream undeploy xdstream undeploy --name stream undeploy --name required --name the name of the stream to un-deploy no default value xdstream undeploy --name eesstreamlog command failed orgspringframeworkxdrestclientimplspringxdexception the stream named eesstream is not currently deployed xd,0
ec2 integration tests fail after boot 12 upgrade many of the tests fail with code javalangillegalstateexception cannot find template location class path resource templates please add some templates check your groovy configuration or set springgroovytemplatecheck-template-locationfalse code somehow we need to disable this check using the property suggested,0
add global http interceptor in order to centralize error logging theoretically i would have liked to centralize logging of httpresource calls global more substantially - but see this limitation httpsgithubcomangularangularjsissues4013,0
as a spring xd developer id like to move stdout module from xd to s-c-s repo so i can use it as source to build streaming pipeline,2
as a user id like to have the option to extend the default message handling behavior for http source-module so that i can override the settings via serversyml to control the default message size notes the adapter currently has that hard-coded 1mb limit in the httpchunkaggregator we will have to expose this property for overrides related prhttpsgithubcomspring-projectsspring-xdpull1367,3
as a s-c-d developer id like to explore options to bootstrap and setup lattice based infrastructure for s-c-ds bare metal deployment,4
as a s-c-s developer id like to move spring-cloud-stream-modules from s-c-s to s-c repo so i can cleanup s-c-s project and at the same time make these modules visible outside of s-c-s,3
as a developer id like to investigate channel performance issues in si 42 so i can determine the bottlenecks and take corrective actions to improve overall channel performance,5
the command line for xd-admin and xd-container to support an additional option pipeprotocol that is used to determine the middleware for sending admin requests and data between processing steps the name pipeprotocol is tentative 1 the command line scripts for xd-admin and xd-container would support a --pipeprotocol option with the default being to use redis otherwise use xd-singlenode 2 the xd-admin and xd-container scripts will use the value of pipeprotocol to set the java system property xdpipeprotocol when launching the app,0
dirt runtime that deploys an application context across multiple nodes using redis,0
factor out duplicated spel script logic see discussion at httpsgithubcomspringsourcespring-xdpull250filesr6034885,0
regression test on file source as we overwrote changes to file source by mistake lets add some regression tests esp to the file location plan on extending the utility source and sink functionality,0
change default admin port from 8080 this conflicts with and out of the box hadoop installation that uses 8080 as the map reduce shuffle port 8088 sound ok,0
npe on stream destroy xdstream create ticktock --definition time log --deploy true 184513310 warn spring shell clientresttemplate524 - post request for httplocalhost8080streams resulted in 400 bad request invoking error handler command failed orgspringframeworkxdrestclientimplspringxdexception there is already a stream named ticktock xdstream destroy ticktock 184516505 warn spring shell clientresttemplate524 - delete request for httplocalhost8080streamsticktock resulted in 500 internal server error invoking error handler command failed orgspringframeworkxdrestclientimplspringxdexception javalangnullpointerexception caused by javalangnullpointerexception orgspringframeworkxddirtmodulemoduledeployerundeploymoduledeployerjava143 orgspringframeworkxddirtmodulemoduledeployerhandlemessageinternalmoduledeployerjava97,0
as a developer id like to update ambari installed spring xd cluster to spin-up multiple instances of xd-admin servers so it is setup for ha,4
create reactor module in spring-xd-modules project,0
filepollhdfstest needs to write to a unique directory vs the default occasionally 2 acceptance tests are running simultaneously and the filepollhdfs tests writes their data to the same hdfs directory this will cause the test to fail sporadically by creating a unique directory each time we can share the hadoop instance and not have a conflict,0
adminserver fails on hdp 23 submitting xd on yarn for hdp 23 fails due to some solr issue in boot - httpsgithubcomspring-projectsspring-bootissues2795 the xd-admin sysout is code started adminserverapplication documentation httpsgithubcomspring-projectsspring-xdwiki 025136624 error main bootspringapplication - application startup failed javalangillegalstateexception error processing condition on orgspringframeworkbootautoconfiguresolrsolrautoconfigurationsolrserver orgspringframeworkbootautoconfigureconditionspringbootconditionmatchesspringbootconditionjava58 orgspringframeworkcontextannotationconditionevaluatorshouldskipconditionevaluatorjava102 orgspringframeworkcontextannotationconfigurationclassbeandefinitionreaderloadbeandefinitionsforbeanmethodconfigurationclassbeandefinitionreaderjava178 orgspringframeworkcontextannotationconfigurationclassbeandefinitionreaderloadbeandefinitionsforconfigurationclassconfigurationclassbeandefinitionreaderjava140 orgspringframeworkcontextannotationconfigurationclassbeandefinitionreaderloadbeandefinitionsconfigurationclassbeandefinitionreaderjava116 orgspringframeworkcontextannotationconfigurationclasspostprocessorprocessconfigbeandefinitionsconfigurationclasspostprocessorjava333 orgspringframeworkcontextannotationconfigurationclasspostprocessorpostprocessbeandefinitionregistryconfigurationclasspostprocessorjava243 orgspringframeworkcontextsupportpostprocessorregistrationdelegateinvokebeandefinitionregistrypostprocessorspostprocessorregistrationdelegatejava273 orgspringframeworkcontextsupportpostprocessorregistrationdelegateinvokebeanfactorypostprocessorspostprocessorregistrationdelegatejava98 orgspringframeworkcontextsupportabstractapplicationcontextinvokebeanfactorypostprocessorsabstractapplicationcontextjava673 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava519 orgspringframeworkbootspringapplicationrefreshspringapplicationjava686 orgspringframeworkbootspringapplicationrunspringapplicationjava320 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava129 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava129 orgspringframeworkxddirtserveradminadminserverapplicationrunadminserverapplicationjava95 orgspringframeworkxddirtserveradminadminserverapplicationmainadminserverapplicationjava79 caused by javalangillegalargumentexception conditionalonmissingbean annotations must specify at least one bean type name or annotation orgspringframeworkutilassertistrueassertjava68 orgspringframeworkbootautoconfigureconditiononbeanconditionbeansearchspecinitonbeanconditionjava223 orgspringframeworkbootautoconfigureconditiononbeanconditiongetmatchoutcomeonbeanconditionjava92 orgspringframeworkbootautoconfigureconditionspringbootconditionmatchesspringbootconditionjava45 17 more 025136628 warn main annotationannotationconfigapplicationcontext - exception thrown from lifecycleprocessor on context close javalangillegalstateexception lifecycleprocessor not initialized - call refresh before invoking lifecycle methods via the context orgspringframeworkcontextannotationannotationconfigapplicationcontext1cf1df22 startup date fri oct 02 025131 utc 2015 root of context hierarchy orgspringframeworkcontextsupportabstractapplicationcontextgetlifecycleprocessorabstractapplicationcontextjava414 orgspringframeworkcontextsupportabstractapplicationcontextdocloseabstractapplicationcontextjava966 orgspringframeworkcontextsupportabstractapplicationcontextcloseabstractapplicationcontextjava925 orgspringframeworkbootspringapplicationrunspringapplicationjava342 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava129 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava129 orgspringframeworkxddirtserveradminadminserverapplicationrunadminserverapplicationjava95 orgspringframeworkxddirtserveradminadminserverapplicationmainadminserverapplicationjava79 025136642 error main adminadminserverapplication - error processing condition on orgspringframeworkbootautoconfiguresolrsolrautoconfigurationsolrserver code,0
add xmlrootelement to all rest resources some rest resources lack an xmlrootelement annotation this causes a jaxb marshalling error when trying to access the api with an accept header of xml which is the default in most browsers this is a preliminary to xd-1800 which is much more involved only to fix ugly exception,0
create integration tests for batch notifications,0
implement common set of controller methods save save a xyzdefinition - method used to be create delete delete a xyzdefinition - method used to be called destroy deploy deploy a xyzdefinition undeploy undeploy a xyzdefinition list list a xyzdefinition returns pagedresourcesxyzdefinitionresource display get specific information about a xyzdefinition create other stories for each controller and include in this weeks sprint,0
add documentation chapter on executing batch jobs,0
fix tail source to use native adapter by default support all available options,0
the shell processor module cannot be stopped while blocked in receive both lifecycle and sendreceive methods are synchronized so if the shell command processor is blocked reading from the scripts input - eg when no proper terminator is sent by the script the stop method cant acquire the object lock and proceed stopping the instance and therefore the module,0
ui shell remove any usage of rest endpoints using the json notation accessing rest endpoint using the json file extension causes maintenance issues for the authorization rules and is not necessary remove any usage for the admin ui and the shell at the same time the json endpoint shall be deprecated or removed ultimately,0
distributed test should verify container shutdown after each test execution the containers are shut down via code after public void after distributedtestsupportshutdowncontainers distributedtestsupportensuretemplatestreamoperationsdestroyall public void shutdowncontainers for iteratormapentrylong javaapplicationsimplejavaapplication iterator mappidcontainersentrysetiterator iteratorhasnext iteratornextgetvalueclose iteratorremove code the problem is that close guarantees that the process is shut down but it does not guarantee that the container is no longer registered in zookeeper the cleanup procedure should verify that no containers appear in the output of the runtime containers shell command this will prevent the next test from deploying to a non-existent container,0
as a spring xd developer id like to move tcp-client module from xd to s-c-s repo so i can use it as source to build streaming pipeline,2
xd on yarn broken due to missing messagebus libs admin on yarn simply fails because messagebus libs are not copied in place during a build already tried and simple fix is for gradlebuild-distgradle code task copyyarnmessagebuslibstype copy from rootdirlibmessagebus into builddirdistspring-xd-yarnxd-yarnlibmessagebus code and execute it together with copymessagebuslibs task,0
update doc about modules and spring the doc at httpdocsspringiospring-xddocs100m3referencehtmlmodulesandspring refers to an old version of the counter sink when it was still hardwired to use redis the text next to it that explains placeholders is out of date with respect to the redis placeholders,0
register only known classes with kryo in pojocodec currently pojocodec calls kryoregisterclass type on every serdeser invocation this fails with 11 because instances are pooled and a different instance may be used to serialize and deserialize see httpsgithubcomesotericsoftwarekryoregistration the fix is to not register classes on the fly classes serialized by pojocodec will not be registered by default this will work but is less efficient xd should provide an easy way to register types known to be serialized on the messagebus passed between modules,0
streamcommandtests - asserting sink contents sometimes failing there are some asserts in streamcommandtests that are commented out see the todos in there these asserts are verifying the contents of the various sinks employed in the tests i am finding that if the tests are run all together with the asserts enabled run all streamcommandtests some of the assertions fail with something like code orgjunitcomparisonfailure expecteddracarys but was orgjunitassertassertequalsassertjava115 orgjunitassertassertequalsassertjava144 code when run individually the tests succeed not sure if it is timing checking sinks before theyve been written to or something else,0
spike determine options for configuring shared module dependencies h2 narrative as a developer id like to be able to configure common dependencies for the entire environment an example could be that i use mysql for my databases i want to be able to configure the mysql driver once and have all modules use it h2 back story spring batch uses a database to store job state the job repository this is a shared resource across all jobs both custom developed and ootb in order to support ootb jobs well need to have a way for users to provide the db driver to each module ideally this would be possible without requiring that each of our ootb modules be repackaged,0
fix text-table rendering,0
xd-shell tab completion missing for http postget xd-shell tab completion missing for http post and http get cli commands typing xdhttp post tab tab gives no suggestions event though --file or --data are required,0
make hadoop22 the default for the build,0
add xd-container requirements and rank expressions just as a stream or a job may state its needs and preferences for container assignment using the criteria or rank expressions the xd-containers themselves can specify needs and preferences using the same critera and rank expressions these would be sent to the xd-admin server and used in the containermatcher but is evaluated using the stream or job as the evaluation context examples requirements require that this container only runs streams never run jobs belonging to groupa rank prefer to run groupbs job,0
add twitter stream tests acceptance tests,0
as a s-c-s developer id like to setup a ci workflow to build bundle and upload the module-launcher image to dockerhub so i dont have to worry about having a local-private docker registry for developmenttesting it could be nice to have the image uploaded to existing spring-cloudhttpsregistryhubdockercomreposspringcloud dockerhub location,4
update to spring shell 11 rc1,0
as a developer id like to setup a performance testing infrastructure rackspace so i can start benching kafka baselines and continue with xd use-cases,5
ui the user can stop a specific job execution,0
replace testsource with time and testsink with log this should facilitate testing while avoiding any class dependencies also log is a generally useful sink by itself and time is a more interesting source for testing should accept --interval for the seconds between time messages,0
add test for filejdbc to test scripts the filejdbc jobs isnt included in the test scripts,0
detect module properties for non-existent modules stream create foo --definitionbar baz stream deploy foo --propertiesmodulequxfiz,0
xd-shell doesnt work with ssl proxy after connecting to admin endpoint over https xd-shell will use plain http for all further calls which fails if https is mandatory code server-unknownadmin config server httpsmy-host successfully targeted httpsmy-host xdjob list command failed orgspringframeworkwebclientresourceaccessexception io error on get request for httpmy-hostjobsdefinitionssize10000deploymentstrueconnection refused nested exception is javanetconnectexception connection refused code in above example my-host is a proxy that provides load balancing and enforces https for users it forwards the traffic to to spring-xd-admin service rest api over regular http and port 9393 admin service is returning links with plain http because its unaware of the network proxy can this be solved without employing server side http-https url rewrite is enabling ssl in spring-xd-admin the only way,0
message rate collection throws warning level exception when the container doesnt have any modules deployed the jolokia response returns stacktrace with noinstancefoundexception this exception is thrown at the admin log as 2015-04-28 130935952 120snap warn qtp1648225666-27 restcontainerscontroller - error getting message rate metrics for 713255e5-49b2-4158-b69c-2d203cfe50d3 orgcodehausjettisonjsonjsonexception jsonobjectvalue not found orgcodehausjettisonjsonjsonobjectgetjsonobjectjava360 orgcodehausjettisonjsonjsonobjectgetjsonobjectjsonobjectjava454 orgspringframeworkxddirtrestcontainerscontrollersetmessageratescontainerscontrollerjava134 orgspringframeworkxddirtrestcontainerscontrollerlistcontainerscontrollerjava114 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava62 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava483 orgspringframeworkwebmethodsupportinvocablehandlermethoddoinvokeinvocablehandlermethodjava221 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava137 orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava110 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlemethodrequestmappinghandleradapterjava777 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava706 orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava85 orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava943 orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava877 orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava966 orgspringframeworkwebservletframeworkservletdogetframeworkservletjava857 javaxservlethttphttpservletservicehttpservletjava735 orgspringframeworkwebservletframeworkservletserviceframeworkservletjava842 javaxservlethttphttpservletservicehttpservletjava848 orgeclipsejettyservletservletholderhandleservletholderjava684 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1496 orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconfigurationapplicationcontextheaderfilterdofilterinternalendpointwebmvcautoconfigurationjava291 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinternalhiddenhttpmethodfilterjava77 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 orgspringframeworkwebfilterhttpputformcontentfilterdofilterinternalhttpputformcontentfilterjava87 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 orgspringframeworkbootactuatetracewebrequesttracefilterdofilterinternalwebrequesttracefilterjava100 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 orgspringframeworksecuritywebfilterchainproxydofilterinternalfilterchainproxyjava186 orgspringframeworksecuritywebfilterchainproxydofilterfilterchainproxyjava160 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 orgspringframeworkbootactuateautoconfiguremetricfilterautoconfigurationmetricsfilterdofilterinternalmetricfilterautoconfigurationjava90 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 orgeclipsejettyservletservlethandlerdohandleservlethandlerjava499 orgeclipsejettyserverhandlerscopedhandlerhandlescopedhandlerjava137 orgeclipsejettysecuritysecurityhandlerhandlesecurityhandlerjava557 orgeclipsejettyserversessionsessionhandlerdohandlesessionhandlerjava231 orgeclipsejettyserverhandlercontexthandlerdohandlecontexthandlerjava1086 orgeclipsejettyservletservlethandlerdoscopeservlethandlerjava428 orgeclipsejettyserversessionsessionhandlerdoscopesessionhandlerjava193 orgeclipsejettyserverhandlercontexthandlerdoscopecontexthandlerjava1020 orgeclipsejettyserverhandlerscopedhandlerhandlescopedhandlerjava135 orgeclipsejettyserverhandlerhandlerwrapperhandlehandlerwrapperjava116 orgeclipsejettyserverserverhandleserverjava370 orgeclipsejettyserverabstracthttpconnectionhandlerequestabstracthttpconnectionjava494 orgeclipsejettyserverabstracthttpconnectionheadercompleteabstracthttpconnectionjava971 orgeclipsejettyserverabstracthttpconnectionrequesthandlerheadercompleteabstracthttpconnectionjava1033 orgeclipsejettyhttphttpparserparsenexthttpparserjava644 orgeclipsejettyhttphttpparserparseavailablehttpparserjava235 orgeclipsejettyserverasynchttpconnectionhandleasynchttpconnectionjava82 orgeclipsejettyionioselectchannelendpointhandleselectchannelendpointjava667 orgeclipsejettyionioselectchannelendpoint1runselectchannelendpointjava52 orgeclipsejettyutilthreadqueuedthreadpoolrunjobqueuedthreadpooljava608 orgeclipsejettyutilthreadqueuedthreadpool3runqueuedthreadpooljava543 javalangthreadrunthreadjava745,0
provide module configuration templates for twitter sources provide module templates including required property keys but not values for xdmoduleconfigsourcetwittertwitterproperties also look for any other packaged modules that have required properties that should be statically configured and we cannot provide defaults the source modules document should be more clear regarding the configuration of these properties,0
change internal tapping namings to use labels currently the tapping infrastructure uses modulenameindex as part of the internal name of the channel now that module labels are uniques per stream we may change to just modulelabel the strategy used to derive the channel name should also be extracted so that a change to a single piece of code is necessary in the future currently there is likely duplication in channelnoderesolve and -i assume- the bus,0
support for hadoop name node ha configuration hadoop supports namenode ha with two name nodes running one being active and other in standby if the active name node fails the standby name node has all the data readily available and can start serving requests in this configuration name node url is no longer a hostport url but a logical name that translates to any active name node at runtime this is to ensure spring xd stream can handle a name node failure for instance when writing a hdfs sink seamlessly,0
upgrade to reactor 201,0
user to send a message directly to module and receive a message from a module,0
cannot start xd-container with the --hadoopdistro option trying to use xd-container with phd and therefore need to start with --hadoopdistro i get the following error binxd-container --hadoopdistro phd1 171120305 error main servercontainermain59 - --hadoopdistro is not a valid option,0
spring xd to configure the stream drag and graphic spring xd can drag way to configure flow in the form of figure similar to configure a workflow graphical interface looking forward to reply,0
merge container and containermetadata as well as their repositories the two classes in question are orgspringframeworkxddirtclustercontainer orgspringframeworkxddirtcontainercontainermetadata the former is currently used by the admin when making decisions about module deployment that latter was a replacement for runtimecontainerinforentity as we migrated the various redisinmemory repositories to use the data that is now available in zookeeper instead the containerrepository is currently used by the admin leader and the containermetadatarepository is used by the rest endpoint that supports the xd-shells runtime containers command perhaps those can also be merged in any case if not addressed by a larger refactoring the containerrepository should probably support an iterable return rather than an iterator having finders eg for attribute keyvalues such as groupfoo might be convenient for various module deployment strategies,0
change the default deploy option to false for streamjob deploy commands with the introduction of the deployment manifest setting this to false makes it easier to use the deployment manifest which is the main use-case scenario,0
document jmx features document jmx command line options and refer to jolokia,0
add rest endpoint for launching job we need a rest endpoint to launch a job given the constraint on jobregistry being not persistent and not available outside the container jvm we can not use the batch job admin controllerservice to launch the job one possible way is to use the trigger source to launch the job at xd,0
copy spring-xd-messagebus- to scs as spring-cloud-binding-,0
as a user id like to clean up message bus resources associated with the stream so that when the stream is destroyed so does the coupled queuestopics,3
as a user id like to use the mail source to connect to secured imap andor smtp mail servers mail source config file requires a utilproperties bean with ssltls properties provided to the adapter via the java-mail-properties attribute ref examplehttpdocsspringiospring-integrationdocslatest-gareferencehtmlmailhtml codexml beansbeans profiledefault utilproperties idjavamailproperties beansprop keymailimapsocketfactoryclassjavaxnetsslsslsocketfactorybeansprop beansprop keymailimapsocketfactoryfallbackfalsebeansprop beansprop keymailstoreprotocolimapsbeansprop beansprop keymaildebugfalsebeansprop utilproperties beansbeans code list of all java-mail propertieshttpsjavamailjavanetnonavdocsapicomsunmailsmtppackage-summaryhtml,1
composing transformer and gemfire-json-server leads to filenotfoundexception during deployment composing transform and gemfire-json-server modules leads to filenotfoundexception during stream deployment when - xd-admin and xd-container are started as system services after installing from rpm - xd-singelonde is started outside of xdhomebin directory eg code cd xdhome binxd-singelonde code but its fully working and exception is not thrown when - xd-singlenode script is started from within xdhomebin directory code cd xdhomebin xd-singelonde code then using the xd shell code xd-shell module compose --name cm-gem-sink --definition transform --outputtypeapplicationjson gemfire-json-server --regionnametimeregion --keyexpressionpayloadgetfieldlocation stream create --name cm-test-gem --definition tail --nametmptimejson cm-gem-sink stream deploy --name cm-test-gem code stream deployment will result in following exception code 2015-03-11 163810918 boot - 17402 info deploymentspathchildrencache-0 --- deploymentlistener deploying module moduledescriptor2095e9f9 modulename tail modulelabel tail group cm-test-gem sourcechannelname null sinkchannelname null index 0 type source parameters mapname - tmptimejson children listempty 2015-03-11 163811263 110release info deploymentsupervisor-0 serverstreamdeploymentlistener - deployment status for stream cm-test-gem deploymentstatusstatefailederrorsorgspringframeworkbeansfactoryparsingbeandefinitionparsingexception configuration problem error evaluating groovy script configuration problem error evaluating groovy script modulescommongemfire-sinkgroovy no such file or directory offending resource url filemodulescommongemfire-sinkgroovy nested exception is javaiofilenotfoundexception modulescommongemfire-sinkgroovy no such file or directory offending resource file optspring-xdspring-xd-110releasexdmodulessinkgemfire-json-serverconfiggemfire-json-servergroovy nested exception is orgspringframeworkbeansfactoryparsingbeandefinitionparsingexception configuration problem error evaluating groovy script modulescommongemfire-sinkgroovy no such file or directory offending resource url filemodulescommongemfire-sinkgroovy nested exception is javaiofilenotfoundexception modulescommongemfire-sinkgroovy no such file or directory orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderloadbeandefinitionsgroovybeandefinitionreaderjava247 orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderloadbeandefinitionsgroovybeandefinitionreaderjava202 orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava178 orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava138 orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava127 orgspringframeworkbootspringapplicationloadspringapplicationjava620 orgspringframeworkbootspringapplicationrunspringapplicationjava315 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava214 orgspringframeworkxdmodulecorecompositemoduleinitializecompositemodulejava105 orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava217 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 orgspringframeworkxddirtserverdeploymentlistenerdeploymoduledeploymentlistenerjava363 orgspringframeworkxddirtserverdeploymentlistenerdeploystreammoduledeploymentlistenerjava332 orgspringframeworkxddirtserverdeploymentlisteneronchildaddeddeploymentlistenerjava179 orgspringframeworkxddirtserverdeploymentlistenerchildeventdeploymentlistenerjava147 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 caused by orgspringframeworkbeansfactoryparsingbeandefinitionparsingexception configuration problem error evaluating groovy script modulescommongemfire-sinkgroovy no such file or directory offending resource url filemodulescommongemfire-sinkgroovy nested exception is javaiofilenotfoundexception modulescommongemfire-sinkgroovy no such file or directory orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderloadbeandefinitionsgroovybeandefinitionreaderjava247 orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderloadbeandefinitionsgroovybeandefinitionreaderjava202 orgspringframeworkbeansfactorysupportabstractbeandefinitionreaderloadbeandefinitionsabstractbeandefinitionreaderjava181 orgspringframeworkbeansfactorysupportabstractbeandefinitionreaderloadbeandefinitionsabstractbeandefinitionreaderjava217 orgspringframeworkbeansfactorysupportabstractbeandefinitionreaderloadbeandefinitionsabstractbeandefinitionreaderjava188 orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderimportbeansgroovybeandefinitionreaderjava337 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgcodehausgroovyreflectioncachedmethodinvokecachedmethodjava90 groovylangmetamethoddomethodinvokemetamethodjava324 orgcodehausgroovyruntimemetaclassclosuremetaclassinvokemethodclosuremetaclassjava368 groovylangmetaclassimplinvokemethodmetaclassimpljava1016 orgcodehausgroovyruntimecallsitepogometaclasssitecallcurrentpogometaclasssitejava66 orgcodehausgroovyruntimecallsitecallsitearraydefaultcallcurrentcallsitearrayjava49 orgcodehausgroovyruntimecallsiteabstractcallsitecallcurrentabstractcallsitejava133 orgcodehausgroovyruntimecallsiteabstractcallsitecallcurrentabstractcallsitejava141 beansrunclosure1docallbeans4 beansrunclosure1docallbeans sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgcodehausgroovyreflectioncachedmethodinvokecachedmethodjava90 groovylangmetamethoddomethodinvokemetamethodjava324 orgcodehausgroovyruntimemetaclassclosuremetaclassinvokemethodclosuremetaclassjava278 groovylangmetaclassimplinvokemethodmetaclassimpljava1016 groovylangclosurecallclosurejava423 groovylangclosurecallclosurejava417 orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderinvokebeandefiningclosuregroovybeandefinitionreaderjava426 orgspringframeworkbeansfactorygroovygroovybeandefinitionreader1callgroovybeandefinitionreaderjava223 groovylangclosurecallclosurejava439 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgcodehausgroovyreflectioncachedmethodinvokecachedmethodjava90 groovylangmetamethoddomethodinvokemetamethodjava324 groovylangmetaclassimplinvokemethodmetaclassimpljava1207 groovylangmetaclassimplinvokemethodmetaclassimpljava1016 groovylangmetaclassimplinvokepropertyormissingmetaclassimpljava1253 groovylangmetaclassimplinvokemethodmetaclassimpljava1209 groovylangmetaclassimplinvokemethodmetaclassimpljava1016 orgcodehausgroovyruntimecallsitepogometaclasssitecallcurrentpogometaclasssitejava66 orgcodehausgroovyruntimecallsitecallsitearraydefaultcallcurrentcallsitearrayjava49 orgcodehausgroovyruntimecallsiteabstractcallsitecallcurrentabstractcallsitejava133 orgcodehausgroovyruntimecallsiteabstractcallsitecallcurrentabstractcallsitejava141 beansrunbeans1 groovylanggroovyshellevaluategroovyshelljava649 orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderloadbeandefinitionsgroovybeandefinitionreaderjava243 30 more caused by javaiofilenotfoundexception modulescommongemfire-sinkgroovy no such file or directory javaiofileinputstreamopennative method javaiofileinputstreaminitfileinputstreamjava146 javaiofileinputstreaminitfileinputstreamjava101 sunnetwwwprotocolfilefileurlconnectionconnectfileurlconnectionjava90 sunnetwwwprotocolfilefileurlconnectiongetinputstreamfileurlconnectionjava188 orgspringframeworkcoreiourlresourcegetinputstreamurlresourcejava168 orgspringframeworkcoreiosupportencodedresourcegetreaderencodedresourcejava132 orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderloadbeandefinitionsgroovybeandefinitionreaderjava243 80 more code exporting xdhome as a global variable seems to have no effect on this behavior,0
design the foundation to port xd modules to s-c-s as an s-c-s developer id like to brainstorm and design the foundation to port xd modules as s-c-s modules so i can use it as the base and start migrating the modules,0
make local message bus properties configurable currently the local message bus has couple of properties queuesize and polling but these properties can not be configurable via serversyml also the property prefix needs to align with other message bus properties,0
support daily query resolution in redis aggregate counter,0
command to deploy a job deploy an existing job must exist in the jobsrepository,0
create ec2 ami for single-node install of pivotal hd 11,0
fix package tangle between osxddirtevent and osxddirtcontainer httpssonarspringsourceorgdrilldownmeasures7173metricpackagecyclesrids5b5d7717,0
use descriptive texts for some module options defaults need a way to tell the user that this option will be determined at runtimelate bindings in the module info command references to xdstreamname could read use stream name for example,0
jdbc property settings need to be made externally configurable we need to have a properties section documented as well so that users can setup their jdbc connections for the various components,0
xd distributed tests are broken there are test failures running xd distributed tests it looks like all the test failures are related to npe on deploymentproperties format javalangnullpointerexception orgspringframeworkxdrestdomainsupportdeploymentpropertiesformatformatdeploymentpropertiesdeploymentpropertiesformatjava72 orgspringframeworkxdrestclientimpljobtemplatedeployjobtemplatejava71 orgspringframeworkxddistributedtestjobstateteststestjobstatetransitionjobstatetestsjava83,0
add json conversion to tuple support tostring to emit json by default should be backed by a simple strategy to allow the possibility of other representations also provide totuplestring json this supports seamless mapping json-tuple in xd,0
upgrade gruntnode plugins upgrade in 10x branch what was done in this commit on master httpsgithubcomspring-projectsspring-xdcommit16062d771e23187a1d9e8d549abc646ff44e435b,0
ootb source modules with poller should use fixed-delay pollers should standardize on fixed-delay vs fixed-rate the value should accept a property with a standard name like interval,0
ui visual representation of streamjob with deployed modules for a given streamjob we need a visual representation of the streamjob with any deployed modules,0
jdbchdfstests sporadically fail acceptance tests sporadically fail after httpsgithubcomspring-projectsspring-xdpull1623 was merged xd-2309 additional tests were added but used fixed timeouts will replace them with waitforjob,0
as a user i need the ability to configure docker xd containers so that i can link to external services such as rabbit redis zookeeper hadoop mongo etc includes pointers to linkingbinding attributes environment variables,5
refactor filemoduleregistry as resourcemoduleregistry apart from sanity checks there is not much that ties filemoduleregistry to actual javaiofiles using the resource abstraction would work just the same and would allow loading modules from the classpath in constrained environments or other file systemslocations hdfs http,0
install xd admin instance on ec2 update the deployer class to add the following methods runninginstance deployadminserver the install script steps using xd-977 install distribution setup xdhome variable start up redis and rabbit using ports as specified in xd-ec2properties on admin server create configurator directory copy the configurator to containers use port watch to make sure they started start admin server use port watch to make sure the admin started on 9393 report if admin server started if it didnt start abort install report public dns name of admin-server integration testing verify xd admin has been started create a basic stream triggerlogand make sure we get a success code from xd admin was received query the redis to see if the stream was created,0
documentation for tail file processing put on the guide as a section in an input-stream wiki page,0
fix xd modules parameters with - to use camel case xd-482 addresses the use of camel case in fixed-delay job module parameter name and we need to fix the same for other module parameters wherever - is being used,0
as a user id like to refer to the wiki so that i can create a job with partitions that in turn expects tablename and columns be explicitly included in the job definition it is also beneficial to call-out sql and tablename metadata options are mutually exclusive following logic in jdbchdfsoptionsmetadata needs documented codejava asserttruemessage use tablename and columns when using partition column boolean ispartitionedwithtablename if stringutilshastextpartitioncolumn return stringutilshastexttablename stringutilshastextsql else return true code,1
add support to restart job composition h2 narrative as a xd user id like to restart the composed job workflow from shellui,0
add support to upload custom modules as an s-c-d user id like to upload custom modules using shellrest-api so i can contribute modules and create streamingbatch pipelines,0
not able to connect a pubsub channel to spark streaming module if a spark streaming module is setup to connect to a pubsub channel a topic or a tap channel then it doesnt bind to it for instance if i have a stream ingest with a definition http log and want to create another stream as tapstreamingest spark-processor count then this stream doesnt work,0
users should be able to package custom modules as a single zip file see xd-194 for additional considerations zip support should be similar to uber-jar or possibly replace uber-jar support,0
allow conditional validation for module options using jsr303 groups which should be derived from injected values,0
investigate travis issues we are currently facing issues with travis determine the root cause isolate the bottleneck and resolve the issues,0
support various output format eg avro sequencefile more advanced rollover options,0
release 100m5,0
deleting a job and then re-adding a new definition with the same name fails using single-node deployment of spring xd 10 ga we needed to redefine several batch jobs we deleted the jobs job destroy all when attempting to re-add we received an error that a job with the name already exists performing job list confirms the jobs were gone to workaround i needed to terminate the instance server of spring xd and restart it since this was the single-node deployment without a live stream of data coming in this was okay but would have been a major problem if bouncing the spring xd server was not acceptable ie live data being actively received,0
rationalize inclusion of json jars in xdlib and in modules to avoid cl conflicts a short term solution to this problem is to make sure that there is only one copy of jackson related classes and have them live in xdlib using jackson-core-232jar jackson-databind-232jar jackson-core-asl-1913jar jackson-mapper-asl-1913jar are the latest versions and the ones to use there maybe other libraries that we duplicate in the same manner we will need to investigate as well as part of another issue typical error is javalanglinkageerror loader constraint violation when resolving method orgspringframeworkhttpconverterjsonmappingjackson2httpmessageconvertersetobjectmapperlcomfasterxmljacksondatabindobjectmapperv the class loader instance of orgspringframeworkxdmodulesupportparentlasturlclassloader of the current class orgspringframeworksocialtwitterapiimpltwittertemplate and the class loader instance of sunmisclauncherappclassloader for resolved class orgspringframeworkhttpconverterjsonmappingjackson2httpmessageconverter have different class objects for the type comfasterxmljacksondatabindobjectmapper used in the signature,0
investigate link checking tool for user guide asciidocdoctor might have one as part of it toolchain,0
add aggregate counter query by number of points it should be possible to supply a start or end date or none for the present plus a count value for the number of points required ie after or prior to the given time,0
move redis queue channel adapters into spring-integration-redis currently these implementations are in the spring-xd-dirt module but they should be moved into spring-integration-redis we are already depending upon spring integration 30 snapshots since the channelregistry implementation is not yet at a milestone so this should be okay for the redis channel adapters also - until spring integration m2 is released,0
create tasklauncher h2 narrative as spring xd i will be able to launch spring boot jar files as diego tasks h2 back story the tasklauncher will be responsible for listening for launch requests looking up the definition in the taskdescriptorrepository and launching it the first implementation of this would be a receptor based implementation see httpsdocsgooglecomdocumentd1q964adrca-kjkei0gbtojhlxjjtv7tatpqt0ymsbcedit,0
as a developer id like to upgrade to kafka 082 so i can leverage the latest features in order to test the performance characteristics,5
add functionality to provision ec2 instance and mount ebs the application should create a spring application context should take a command line parameter --config that will point to a property file with keyvalue pairs specified below by default the file xd-ec2properties will be looked for on the classpath associate ebs shared volume for each machine instance packaging use gradle application plugin to generate a bin directory with a script to start the application seehttpwwwgradleorgdocscurrentuserguideapplicationpluginhtml the config file xd-ec2properties should be in a directory ideally a config directory parallel to bin and will be loaded by the application by default - loading via the cp is probably the easiest way create a pojo to easily reference these properties vs using a raw java properties object how to verify it works integration testing create junit based tests jclouds itself has extensive testing can look at those for structure verify what you created has been installed verify ports are open instance information ebs of 50gb base for each instance report successful and failed instances key-value pairs in configuration file properties may include cluster-name a name describing the cluster you are creating aws-access-keys the access key assigned to you by admin aws-secret-key the secret key assigned to you by admin private-key-file the private key file assigned to you by admin used for ssh-ing into multi-nodetruefalse if true then installer will run the number of nodes as enumerated in the number-nodes property value if false the installer will start a single node server number-nodesthe number of nodescontainers to deploy for this cluster value is an integer 0 machine-sizethe size of machines to be assigned for admin and nodes small medium large redis-port6379 rabbit-port5279 xd-dist-urlthe url to download the xd to install for example httpblahblahblahzip ami the ami image to use for your cluster for example ami-dfadsfdadf,0
as a developer id like to upgrade to reactor 204 release so i could leverage the latest improvements and bug-fixes,1
add command for listing of taps,0
module loading error handling improvement modules are loaded in the container as such in deploymentlistener code try module moduletypejobtostringequalsmoduletype deployjobmoduleclient unitname modulelabel properties deploystreammoduleclient unitname moduletype modulelabel properties if module null status new moduledeploymentstatuscontainer modulesequence key moduledeploymentstatusstatefailed module deployment returned null else status new moduledeploymentstatuscontainer modulesequence key moduledeploymentstatusstatedeployed null catch exception e status new moduledeploymentstatuscontainer modulesequence key moduledeploymentstatusstatefailed zookeeperutilsgetstacktracee loggererrorexception deploying module e try writemodulemetadataclient module path clientsetdataforpathstatusbuildpath zookeeperutilsmaptobytesstatustomap catch keeperexceptionnonodeexception e loggerwarnduring deployment of module of type for with sequence number an undeployment request was detected this module will be undeployed modulelabel moduletype unitname modulesequence if loggeristraceenabled loggertracepath path was removed e code the problem is if an error is thrown such as noclassdeffounderror or nosuchmethoderror we need to make a best effort when writing the deployment status to prevent the supervisor from timing out waiting for a status,0
as a developer id like to build spark streaming as data processors in xd so that we can demonstrate some of the capabilities implement using java java lambdas scala,5
as a user id like to have the option to define access control list acls so that i can define access controls to the resource by each user and what the privileges are for that resource spike scope review customer use cases and come up with design specs identify the best approach that fits xd runtime identify scope for dsl and ui document next steps and phases,5
build script that creates an executable server as an artifact gradle application plugin is a good starting point this should be the main server that would host si based modules to do syslog-file ingestion as an example,0
job display command handling null date value for execution endtime if the job display command is executed for jobexecution and stepexecution list it may be possible that the jobstep executions endtime still null because the status is still unknown and not completed in this case the display command throws assertion failure here caused by javalangillegalargumentexception the provided date must not be null orgspringframeworkutilassertnotnullassertjava112 orgspringframeworkxdshellutilcommonutilsgetutctimecommonutilsjava144 orgspringframeworkxdshellcommandjobcommandsdisplayjobcommandsjava249,0
springxd sqoop module is hanging the springxd sqoop module is in execution status until it times out it is hanging the container logs show 2015-05-04 151545365 120m1 info deploymentspathchildrencache-0 containerdeploymentlistener - deploying job sqooplookup 2015-05-04 151545536 120m1 info deploymentspathchildrencache-0 containerdeploymentlistener - deploying module moduledescriptor239b037a modulename sqoop modulelabel sqoop group sqooplookup sourcechannelname null sinkchannelname null index 0 type job parameters mapargs - --connectjdbcoraclethin username --password-fileuserzeybebworkspacesecure-filesgdwpassword --tablemasterdatawlookupd --target-diruserzeybebworkspaceentmasterdatasrclookupd -m 1 command - import children listempty 2015-05-04 151617061 120m1 info inboundjobsqooplookup-redisqueue-inbound-channel-adapter1 sqoopsqooptasklet - sqoop systemout tmpsqoop-948322291323951735out the tmpsqoop-948322291323951735out file content is 151617612 info main sqoopsqooprunner - sqoop command import 151617613 info main sqoopsqooprunner - using args --connectjdbcoraclethin username --password-fileuserzeybebworkspacesecure-filesgdwpassword --tablemasterdatawlookupd --target-diruserzeybebworkspaceentmasterdatasrclookupd -m 1 151617613 info main sqoopsqooprunner - mapreduce home optpivotalspring-xd-120m1xdlibphd21 151617631 info main sqoopsqooprunner - setting configuration property fsdefaultfshdfsilabphd07isusemccom8020 151617753 info main sqoopsqooprunner - setting configuration property yarnresourcemanageraddressilabphd08isusemccom8050 151617753 info main sqoopsqooprunner - setting configuration property yarnapplicationclasspathusrhdp2200-2041etchadoopconfemptyusrhdp2200-2041hadoopusrhdp2200-2041hadooplibusrhdp2200-2041hadoop-hdfsusrhdp2200-2041hadoop-hdfslibusrhdp2200-2041hadoop-yarnusrhdp2200-2041hadoop-yarnlibusrhdp2200-2041hadoop-mapreduceusrhdp2200-2041hadoop-mapreducelibusrhdp2200-2041sqoopusrhdp2200-2041sqooplibusrhdp2200-2041flumeusrhdp2200-2041flumelibusrhdp2200-2041stormusrhdp2200-2041stormlib 151617754 info main sqoopsqooprunner - setting configuration property mapreduceframeworknameyarn 151617837 warn main toolsqooptool - sqoopconfdir has not been set in the environment cannot check for additional configuration 151617907 info main sqoopsqoop - running sqoop version 145 151618282 warn main utilnativecodeloader - unable to load native-hadoop library for your platform using builtin-java classes where applicable 151619552 warn main sqoopconnfactory - sqoopconfdir has not been set in the environment cannot check for additional configuration 151619657 info main oracleoraoopmanagerfactory - data connector for oracle and hadoop is disabled 151619673 info main managersqlmanager - using default fetchsize of 1000 151619673 info main toolcodegentool - beginning code generation 151620639 info main manageroraclemanager - time zone has been set to gmt 151620853 info main managersqlmanager - executing sql statement select t from masterdatawlookupd t where 10 151621018 info main ormcompilationmanager - hadoopmapredhome is optpivotalspring-xd-120m1xdlibphd21 151623171 info main ormcompilationmanager - writing jar file tmpsqoop-spring-xdcompile4e11123a52fa36d6677efdb47bcdc43bmasterdatawlookupdjar 151623191 info main manageroraclemanager - time zone has been set to gmt 151624109 info main manageroraclemanager - time zone has been set to gmt 151624825 info main mapreduceimportjobbase - beginning import of masterdatawlookupd 151624848 info main manageroraclemanager - time zone has been set to gmt 151624876 warn main mapreducejobbase - sqoophome is unset may not be able to find all job dependencies 151625083 info main clientrmproxy - connecting to resourcemanager at ilabphd08isusemccom10152321918050 151625977 info main dbdbinputformat - using read commited transaction isolation 151626117 info main mapreducejobsubmitter - number of splits1 151626361 info main mapreducejobsubmitter - submitting tokens for job job14292809926480019 151626717 info main implyarnclientimpl - submitted application application14292809926480019 to resourcemanager at ilabphd08isusemccom10152321918050 151626782 info main mapreducejob - the url to track the job httphttpilabphd08isusemccom8088proxyapplication14292809926480019 151626783 info main mapreducejob - running job job14292809926480019 the logs on the hadoop side are showing 4096 bytes click here for full log mumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153604026 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 3 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153605033 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 4 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153606042 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 5 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153607049 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 6 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153608056 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 7 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153609062 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 8 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153610069 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 9 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153641093 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 0 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153642100 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 1 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153643107 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 2 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153644113 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 3 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153645120 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 4 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153646129 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 5 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153647136 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 6 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153648143 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 7 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153649150 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 8 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds 2015-05-04 153650156 info main orgapachehadoopipcclient retrying connect to server 000000008030 already tried 9 times retry policy is retryuptomaximumcountwithfixedsleepmaxretries10 sleeptime1000 milliseconds even though the maxretries is set to 10 the process is going into several sets of retrials,0
jdbchdfs acceptance test,0
spike introduce xolpoc-admin to xd admin the poc for xd on lattice uses the following interface for module deployment httpsgithubcommarkfisherxolpoc-adminblobmastersrcmainjavaxolpocspimoduledeployerjava code public interface moduledeployer void deploymoduledescriptor descriptor void undeploymoduledescriptor descriptor modulestatus getstatusmoduledescriptor descriptor code this spike is to introduce this interface and the lattice implementation in the xd admin the goals are to demo a poc showing simple stream deployment with the existing shelladmin to lattice learn from the experience to help guide the re-architecturesplitting of streamjob repositories especially in regard to abstractdeployer and related classes note that this work will not necessarily be merged into xd itself although some of the concepts may be included in a future pr,0
rest api for job listing should provide details on last execution a user should be able to view some important details of the last execution of a job from a job list the batchjobs rest endpoint should provide extra fields not currently available in the jobinfo class at a minimum i would like to see starttime startdate last job parameters duration last job status,0
add kafka-based implementation for abstractsinglenodestreamdeploymentintegrationtests,0
as a s-c-d developer id like to setup ci infrastructure for s-c-d repohttpsgithubcomspring-cloudspring-cloud-data so i can build the project continuously on every commits,4
upgrade to spring boot 125 spring boot 124 and earlier does not allow for the retrieval of boolean values from the vcap environment this means that when xd admin tries to retrieve the value of for example vcapservicesrabbitmqcredentialsprotocolsamqpssl it will fail as that value returns a boolean spring boot 125 as yet unreleased contains a fix for this issue httpsgithubcomspring-projectsspring-bootpull3237,0
fix sonar build caused by that weird annotation dependency problem that i worked around for compile but sonar complains one solution would be to add jackson 2 to the sonar classpath but i did not manage to do that,0
as a user id like to have the option of aws sink so that i can write data into s3 directly reference spring integration aws extensionhttpsgithubcomspring-projectsspring-integration-extensionstreemasterspring-integration-aws,4
redo hadoop distribution dependency management the way we now include various hadoop distributions is cumbersome to maintain need a better way of managing and isolating these dependencies on a module level rather than container level,0
create separate doc sections for reactor-ips tcp and udp functionality it isnt obvious from looking through the table of contents on the left hand side that reactor-ip does both tcp and udp breaking up the section into two would make it more clear - even though they would still use the same module,0
add initial support for deploymentmanifest the rest api for deploy should accept parameters which provide manifest keyvalue pairs eg httpinstances5 ultimately we will want to support passing a named manifest which had been stored previously the stream deploy shell command should support passing these as --options initially we should support modulenameinstances and modulenamegroup,0
baseline tcp measurements db-1 using the iperf toolhttpsiperffr find out the transfer rate in mbsec between three machines in a four machine configuration,0
as a user id like to have an option to disable db requirement so that i can setup to use dirt runtime when stream processing is the only requirement,5
create documentation section on best practices this should include some guidance on setting rabbit message bus paramters relating to prefetch and concurrency it should also discuss the bypass functionality - or reference another section that covers it we should probably include how to scale out http sources eg the need to use a load balancer,0
messagebus should see custom spel property accessors currently custom si property accessors are registered by a plugin orgspringframeworkxddirtpluginsspelpropertyaccessorplugin and are not visible by the bus i believe they should be this may just be a matter of moving them around,0
as a follow-up from xd-3613httpsjiraspringiobrowsexd-3629 we would want to fix this experience for kafka message bus,4
as a spring-cloud-data developer id like to use an in-memory stream definition repository so i dont have to spin up a store obviously this will not persist between application executions but it will be useful for a simplified development experience,4
make transport serialization configurable the refactoring done for m6 prevents overriding codec bean configured for messagebus since mb is now in sharedservercontext that context can only be altered by a custom orderedcontextinitializer for example there is currently no mechanism provided by the bootstrapcontext for dynamically loading a users orderedcontextinitializer,0
as a developer id like to benchmark rabbit performance so that i can use the results as reference to setup xd cluster,5
add list command for aggregatecounter,0
refactor containerregistrar decouple from deploymentlistener make dl a public class to handle deployment related events remove createsimplemodule and createcomposedmodule from dl this will be delegated to moduledeployer which will eventually be further refactored to use the proposed modulefactory,0
deployed modules mbeans are not accessible via jolokia when a module is deployed it doesnt use jolokia auto configuration which requires an embedded servlet container configuration but the module context isnt using a servlet context from simplemodule application new springapplicationbuildersourcespropertyplaceholderautoconfigurationclasswebfalse and hence the mbeans that are exposed by the deployed modules arent accessible via jolokia we definitely dont want simplemodule to use web application context but we need to figure out if we can use the containers management port to expose the deployed modules mbeans via jolokia,0
investigate inconsistent spark streaming test failure these tests fail inconsistently orgspringframeworkxdsparkstreaminglocaltransportsparkstreamingtests testtapsparkprocessor failed javalangassertionerror orgspringframeworkxdsparkstreamingredistransportsparkstreamingtests testtapsparkprocessor failed javalangassertionerror javalangassertionerror expected an existing metric trying at most 20 times but failed after 201002000ms counter named random5656 did not exist,0
as a spring xd user id like to have ipython notebook integration so i can perform interactive data computations in real-time,5
deployment manifest to support partitioning a stream we need a methodology for providing partitioning hints a current proposal uses message headers to provide partitionkey the item to partition on destinationregion what to target in the proposal the developer used partitionkey to route the stream message to the node where data was stored in process this was done so downstream stream operations could work on the data with out suffering any network io the destinationregion was used to target the type of data the downstream streams were going to use in their stream processing,0
gemfire source throws classnotfound steps to reproduce start admin container follow the instructions from httpsgithubcomspring-projectsspring-xdwikisourcesgemfire-source when you post the message is when the stacktrace shows up in the container copying the gemfire-702jar to the lib directory will resolve the error the stacktrace is attached,0
as a developer id like to add support to flush state intelligently so i can reliably process streams based on successful message acknowledgements from the module-producer,5
as a spring xd user id like to have ipython notebookhttpipythonorgnotebookhtml integration so i can perform interactive data computations in real-time,5
as a developer id like to port gauge module from xd to s-c-s repo so i can use it as sink module to build streaming pipeline,2
update to snapshot builds of spring shell,0
compute progress information for job composition as an xd user id like to see an aggregated progress bar for a job that is embeds multiple jobs within itself,0
documentation for gauge taps put on the guide as a section in an input-stream wiki page,0
add configuration files for hornetmq jms provider see httpsjiraspringiobrowsexd-1684 requires update to gradle 21,0
step execution count is zero for the job execution list result for the job execution list the step execution count for each job execution is always set to zero for a single job execution display command the step execution count is set correctly,0
need to be able to specify password for redis running on cloud foundry and other managed environments we need to be able to specify a redis password in addition to host and port,0
the stream definition is not deleted in redis container when the stream is destroyed this only happened with distributed mode that uses redis as store the single mode which uses in memory store works fine step to reproduce create stream curl -x post -d namehttptest -d definitionhttplog httplocalhost8080streams redis 1270016379 keys httptest 1 moduleshttptest 2 streamshttptest 3 streamdefinitionshttptest delete stream curl -x delete httplocalhost8080streamshttptest redis 1270016379 keys httptest 1 streamshttptest 2 streamdefinitionshttptest stream still there not deleted recreate the stream curl -x post -d namehttptest -d definitionhttplog httplocalhost8080streams got xml version10 encodingutf-8 standaloneyeserrors xmlnsns2httpwwww3org2005atomerror logrefstreamalreadyexistsexceptionmessagethere is already a stream with name httptestmessageerror,0
assess xd fails to connect to remote redis instance deployment admincontainer redis as data transport sha 45e1beb description in the case that the redis is not running locally xd cannot connect to the redis instance even though the environment variable springredishost has been set steps to reproduce shutdown local instance of redis for both the admin and container execute the command prior to running the instances export springredishostyourredishost start admin and container instances deploy a simple stream you will see the following error 135659647 error task-scheduler-9 handlerlogginghandler145 - orgspringframeworkmessagingmessagehandlingexception error occurred in message handler orgspringframeworkintegrationredisoutboundredisqueueoutboundchanneladapter6a1f1d12 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava84 orgspringframeworkxddirtintegrationredisredismessagebussendinghandlerhandlemessageinternalredismessagebusjava235 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava113 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava97 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava91 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy57sendunknown source orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava114 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava93 orgspringframeworkintegrationendpointsourcepollingchanneladapterhandlemessagesourcepollingchanneladapterjava110 orgspringframeworkintegrationendpointabstractpollingendpointdopollabstractpollingendpointjava205 orgspringframeworkintegrationendpointabstractpollingendpointaccess000abstractpollingendpointjava55 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava149 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava146 orgspringframeworkintegrationendpointabstractpollingendpointpoller1runabstractpollingendpointjava284 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava50 orgspringframeworkintegrationutilerrorhandlingtaskexecutorexecuteerrorhandlingtaskexecutorjava49 orgspringframeworkintegrationendpointabstractpollingendpointpollerrunabstractpollingendpointjava278 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava54 orgspringframeworkschedulingconcurrentreschedulingrunnablerunreschedulingrunnablejava81 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava178 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava292 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 caused by orgspringframeworkdataredisredisconnectionfailureexception cannot get jedis connection nested exception is redisclientsjedisexceptionsjedisconnectionexception could not get a resource from the pool orgspringframeworkdataredisconnectionjedisjedisconnectionfactoryfetchjedisconnectorjedisconnectionfactoryjava97 orgspringframeworkdataredisconnectionjedisjedisconnectionfactorygetconnectionjedisconnectionfactoryjava143 orgspringframeworkdataredisconnectionjedisjedisconnectionfactorygetconnectionjedisconnectionfactoryjava41 orgspringframeworkdatarediscoreredisconnectionutilsdogetconnectionredisconnectionutilsjava85 orgspringframeworkdatarediscoreredisconnectionutilsgetconnectionredisconnectionutilsjava55 orgspringframeworkdatarediscoreredistemplateexecuteredistemplatejava169 orgspringframeworkdatarediscoreredistemplateexecuteredistemplatejava149 orgspringframeworkdatarediscoreabstractoperationsexecuteabstractoperationsjava84 orgspringframeworkdatarediscoredefaultlistoperationsleftpushdefaultlistoperationsjava68 orgspringframeworkdatarediscoredefaultboundlistoperationsleftpushdefaultboundlistoperationsjava60 orgspringframeworkintegrationredisoutboundredisqueueoutboundchanneladapterhandlemessageinternalredisqueueoutboundchanneladapterjava109 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 43 more caused by redisclientsjedisexceptionsjedisconnectionexception could not get a resource from the pool redisclientsutilpoolgetresourcepooljava42 orgspringframeworkdataredisconnectionjedisjedisconnectionfactoryfetchjedisconnectorjedisconnectionfactoryjava90 54 more caused by redisclientsjedisexceptionsjedisconnectionexception javanetconnectexception connection refused redisclientsjedisconnectionconnectconnectionjava142 redisclientsjedisbinaryclientconnectbinaryclientjava75 redisclientsjedisbinaryjedisconnectbinaryjedisjava1724 redisclientsjedisjedisfactorymakeobjectjedisfactoryjava65 orgapachecommonspool2implgenericobjectpoolcreategenericobjectpooljava819 orgapachecommonspool2implgenericobjectpoolborrowobjectgenericobjectpooljava429 orgapachecommonspool2implgenericobjectpoolborrowobjectgenericobjectpooljava360 redisclientsutilpoolgetresourcepooljava40 55 more caused by javanetconnectexception connection refused javanetplainsocketimplsocketconnectnative method javanetabstractplainsocketimpldoconnectabstractplainsocketimpljava339 javanetabstractplainsocketimplconnecttoaddressabstractplainsocketimpljava200 javanetabstractplainsocketimplconnectabstractplainsocketimpljava182 javanetsockssocketimplconnectsockssocketimpljava392 javanetsocketconnectsocketjava579 redisclientsjedisconnectionconnectconnectionjava137 62 more,0
spring data bytecodegeneratingentityinstantiator throws classnotfoundexception when mapping custom classes spring-data-commons 1100release introduced an improved instantiation strategy based on byte code generation its now the default instantiation strategy however it cant be used in custom spring xd modules due to class loader issues please see attached custom module source code which can be build with maven you might want to change mongodb connection parameters in custom-mongo-processorxml execute following xd-shell commands code module upload --name custom-mongo-processor --type processor --file location stream create --name k2 --definition time --fixeddelay10 custom-mongo-processor log --deploy code the stream will output following message when the mongodb collection is empty code 2015-07-17t1109380100 120release info task-scheduler-3 sinkk2 - contentcount0 2015-07-17t1109480100 120release info task-scheduler-3 sinkk2 - contentcount0 code after documents are inserted into collection by executing dbkarolwidgetsinsert name bulbator color red following exception will be thrown code 2015-07-17t1109590100 120release error task-scheduler-3 handlerlogginghandler - orgspringframeworkmessagingmessagehandlingexception nested exception is javalangillegalstateexception cannot process message orgspringframeworkintegrationhandlermethodinvokingmessageprocessorprocessmessagemethodinvokingmessageprocessorjava78 orgspringframeworkintegrationhandlerserviceactivatinghandlerhandlerequestmessageserviceactivatinghandlerjava71 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava99 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava287 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava245 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputabstractmessageproducinghandlerjava231 orgspringframeworkintegrationhandlerabstractmessageproducinghandlerproduceoutputabstractmessageproducinghandlerjava154 orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputsabstractmessageproducinghandlerjava102 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava105 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava287 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava245 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputabstractmessageproducinghandlerjava231 orgspringframeworkintegrationhandlerabstractmessageproducinghandlerproduceoutputabstractmessageproducinghandlerjava154 orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputsabstractmessageproducinghandlerjava102 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava105 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava287 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava245 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 orgspringframeworkintegrationendpointsourcepollingchanneladapterhandlemessagesourcepollingchanneladapterjava130 orgspringframeworkintegrationendpointabstractpollingendpointdopollabstractpollingendpointjava219 orgspringframeworkintegrationendpointabstractpollingendpointaccess000abstractpollingendpointjava55 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava149 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava146 orgspringframeworkintegrationendpointabstractpollingendpointpoller1runabstractpollingendpointjava298 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava50 orgspringframeworkintegrationutilerrorhandlingtaskexecutorexecuteerrorhandlingtaskexecutorjava49 orgspringframeworkintegrationendpointabstractpollingendpointpollerrunabstractpollingendpointjava292 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava54 orgspringframeworkschedulingconcurrentreschedulingrunnablerunreschedulingrunnablejava81 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava178 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava292 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 caused by javalangillegalstateexception cannot process message orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessinternalmessagingmethodinvokerhelperjava292 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessmessagingmethodinvokerhelperjava142 orgspringframeworkintegrationhandlermethodinvokingmessageprocessorprocessmessagemethodinvokingmessageprocessorjava75 59 more caused by javalangnoclassdeffounderror comtestmongodbmongowidget comtestmongodbmongowidgetinstantiatormonxdtnewinstanceunknown source orgspringframeworkdataconvertbytecodegeneratingentityinstantiatorentityinstantiatoradaptercreateinstancebytecodegeneratingentityinstantiatorjava193 orgspringframeworkdataconvertbytecodegeneratingentityinstantiatorcreateinstancebytecodegeneratingentityinstantiatorjava76 orgspringframeworkdatamongodbcoreconvertmappingmongoconverterreadmappingmongoconverterjava250 orgspringframeworkdatamongodbcoreconvertmappingmongoconverterreadmappingmongoconverterjava231 orgspringframeworkdatamongodbcoreconvertmappingmongoconverterreadmappingmongoconverterjava191 orgspringframeworkdatamongodbcoreconvertmappingmongoconverterreadmappingmongoconverterjava187 orgspringframeworkdatamongodbcoreconvertmappingmongoconverterreadmappingmongoconverterjava78 orgspringframeworkdatamongodbcoremongotemplatereaddbobjectcallbackdowithmongotemplatejava2191 orgspringframeworkdatamongodbcoremongotemplateexecutefindmultiinternalmongotemplatejava1873 orgspringframeworkdatamongodbcoremongotemplatefindallmongotemplatejava1286 comtestmongodbmongoserviceprocesswidgetsmongoservicejava21 sunreflectgeneratedmethodaccessor83invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkexpressionspelsupportreflectivemethodexecutorexecutereflectivemethodexecutorjava112 orgspringframeworkexpressionspelastmethodreferencegetvalueinternalmethodreferencejava102 orgspringframeworkexpressionspelastmethodreferenceaccess000methodreferencejava49 orgspringframeworkexpressionspelastmethodreferencemethodvaluerefgetvaluemethodreferencejava342 orgspringframeworkexpressionspelastcompoundexpressiongetvalueinternalcompoundexpressionjava88 orgspringframeworkexpressionspelastspelnodeimplgettypedvaluespelnodeimpljava131 orgspringframeworkexpressionspelstandardspelexpressiongetvaluespelexpressionjava330 orgspringframeworkintegrationutilabstractexpressionevaluatorevaluateexpressionabstractexpressionevaluatorjava164 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessinternalmessagingmethodinvokerhelperjava276 61 more caused by javalangclassnotfoundexception comtestmongodbmongowidget javalangclassloaderfindclassclassloaderjava531 javalangclassloaderloadclassclassloaderjava425 javalangclassloaderloadclassclassloaderjava358 85 more code this exception affects both custom stream and job modules one workaround is to force reflectionentityinstantiator in mappingmongoconverter however this has to be done in every custom module perhaps thats an issue with spring xd custom module classloaders or datacmns-710,0
scala processor module executor trims messages how to reproduce 1 run xd-singlenode for which setting the spark master url to local is a requirement use more than 1 worker thread eg local4 2 deploy the word-count example 3 create a stream stream create spark-streaming-word-count --definition http word-count log --deploy 4 send data xdhttp post --data a b c d e f g xdhttp post --data a b c 5observe the result 2015-02-24 151246018 120snap info executor task launch worker-3 sinkspark-streaming-word-count - e1 2015-02-24 151246018 120snap info executor task launch worker-1 sinkspark-streaming-word-count - d1 2015-02-24 151246019 120snap info executor task launch worker-2 sinkspark-streaming-word-count - b1 2015-02-24 151246020 120snap info executor task launch worker-1 sinkspark-streaming-word-count - g1 2015-02-24 151340020 120snap info executor task launch worker-1 sinkspark-streaming-word-count - a1 2015-02-24 151340020 120snap info executor task launch worker-2 sinkspark-streaming-word-count - b1 2015-02-24 151340021 120snap info executor task launch worker-3 sinkspark-streaming-word-count - c1 the last three results are coming from the second invocation note there seems to be a correlation between the number of values emitted and the number of workers as in all the attempts there arent more values emitted than the number of workers,0
sourcefile module read file line by line i have a stream that watch output of multi file in a directory process data and put it to hdfs here is my stream creat command stream create --name filehdfs --definition file --dirvarlogsupervisor --patterntrackerout-log --outputtypetextplain loghdfstransformer hdfs --fsurihdfs19216811158020 --directorydatalogappsync --filenamelog --partitionpathpathdateformatyyyymmdd --deploy problem is sourcefile module send all data read from file to log processing module instead of one line each turn becase of that payload string have millions of char i cant process it ex --- payload length---- 9511284 please tell me how to read line by line when use sourcefile module thanks,0
split richgauge in 2 support of the alpha parameter is awkward and can confuse people who are expecting a simple average mean consider splitting richgauge in two flavors arithmetic and exponential involves quite some work at the repository handler and rest level though,0
sqooptasklet not using hadoop configuration hey guys im trying to use a sqooptasklet but for some reason it is not getting the hadoop configuration in the attached sqoop job configuration using the sqooprunner class directly works without problems but the sqooptasklet is not getting the correct configuration throwing kerberos authentication problems see singlenodelog could please you guys help me to solve this problem thanks in advance regards,0
fix jobrepotests to use different batch job repo currently the jobrepotests use the same batch job repository that the xd runtime uses since the batch job repo doesnt delete the job instances there would be stale data from this test,0
support named taps or similar provide some syntax allowing multiple tap points to be directed to a named channel eg tap foo4 namedtap tap bar2 namedtap or tapfoo counter,0
create a spring cloud stream timestamp task module create a timestamp job that will be used a a sample for users to create their own spring boot based jobs,0
as a build manager id like to have spring xd rpms published in springio repository so that users can directly download the bits without having to go through appsuite repo or the eula location for 110 release httprepospringiolibs-release-localorgspringframeworkxdspring-xd110release,2
expose restful services that allow users to view job statuses this story utilizes batchadmin and its restful interfaces to show the state of jobs in spring xd steps - create a branch in the batchadmin we dont want to lose history - update the restful apis to xd standards - create bamboo task to push jars to artifactory - update gradlebuild to pull in the batchadmin jars - expose the restful calls,0
http module leaks threads attempts to createuseundeploy a stream involving the http module will result in an oome stating that vm could not create native thread other modules should be checked as well noformat javalangthreadrunthreadjava724 caused by orgspringframeworkcontextapplicationcontextexception failed to start bean orgspringframeworkintegrationxhttpnettyhttpinboundchanneladapter0 nested exception is javalangoutofmemoryerror unable to create new native thread orgspringframeworkcontextsupportdefaultlifecycleprocessordostartdefaultlifecycleprocessorjava176 orgspringframeworkcontextsupportdefaultlifecycleprocessoraccess200defaultlifecycleprocessorjava51 orgspringframeworkcontextsupportdefaultlifecycleprocessorlifecyclegroupstartdefaultlifecycleprocessorjava346 orgspringframeworkcontextsupportdefaultlifecycleprocessorstartbeansdefaultlifecycleprocessorjava149 orgspringframeworkcontextsupportdefaultlifecycleprocessorstartdefaultlifecycleprocessorjava91 orgspringframeworkcontextsupportabstractapplicationcontextstartabstractapplicationcontextjava1180 orgspringframeworkxdmodulecoresimplemodulestartsimplemodulejava273 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava251 orgspringframeworkxddirtmodulemoduledeployerdeployandstoremoduledeployerjava239 orgspringframeworkxddirtmodulemoduledeployerhandledeploymoduledeployerjava179 orgspringframeworkxddirtmodulemoduledeployerhandlemessageinternalmoduledeployerjava150 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 80 more caused by javalangoutofmemoryerror unable to create new native thread javalangthreadyjpstart0native method javalangthreadstart0threadjava javalangthreadstartthreadjava693 javautilconcurrentthreadpoolexecutoraddworkerthreadpoolexecutorjava949 javautilconcurrentthreadpoolexecutorexecutethreadpoolexecutorjava1371 orgjbossnettyutilinternaldeadlockproofworkerstartdeadlockproofworkerjava38 orgjbossnettychannelsocketnioabstractnioselectoropenselectorabstractnioselectorjava343 orgjbossnettychannelsocketnioabstractnioselectorinitabstractnioselectorjava95 orgjbossnettychannelsocketnioabstractnioworkerinitabstractnioworkerjava53 orgjbossnettychannelsocketnionioworkerinitnioworkerjava45 orgjbossnettychannelsocketnionioworkerpoolcreateworkernioworkerpooljava45 orgjbossnettychannelsocketnionioworkerpoolcreateworkernioworkerpooljava28 orgjbossnettychannelsocketnioabstractnioworkerpoolnewworkerabstractnioworkerpooljava99 orgjbossnettychannelsocketnioabstractnioworkerpoolinitabstractnioworkerpooljava69 orgjbossnettychannelsocketnionioworkerpoolinitnioworkerpooljava39 orgjbossnettychannelsocketnionioworkerpoolinitnioworkerpooljava33 orgjbossnettychannelsocketnionioserversocketchannelfactoryinitnioserversocketchannelfactoryjava149 orgjbossnettychannelsocketnionioserversocketchannelfactoryinitnioserversocketchannelfactoryjava131 orgjbossnettychannelsocketnionioserversocketchannelfactoryinitnioserversocketchannelfactoryjava115 orgspringframeworkintegrationxhttpnettyhttpinboundchanneladapterdostartnettyhttpinboundchanneladapterjava114 orgspringframeworkintegrationendpointabstractendpointstartabstractendpointjava84 orgspringframeworkcontextsupportdefaultlifecycleprocessordostartdefaultlifecycleprocessorjava173 91 more noformat,0
create spike of web app that maps ui design docs to mvc components in angluar,0
spike for deployment spi spi for deployment on to yarn local dirt cluster,0
xd-admin silently fails if serversyml is invalid for example code xd transport rabbit messagebus local queuesize 2147483647 polling 1000 executor corepoolsize 0 maxpoolsize 200 queuesize 2147483647 keepaliveseconds 60 rabbit compressionlevel 1 bus-level property applies only when compresstrue for a stream module see javautilzipdeflater 1bestspeed 9bestcompression default ackmode auto valid auto container acks none broker acks manual consumer acks upper case only note manual requires specialized code in the consuming module and is unlikely to be used in an xd application for more information see httpdocsspringiospring-integrationreferencehtmlamqphtmlamqp-inbound-ack autobinddlq false backoffinitialinterval 1000 backoffmaxinterval 10000 backoffmultiplier 20 batchbufferlimit 10000 batchingenabled true batchsize 100 batchtimeout 5000 compress false concurrency 1 deliverymode persistent maxattempts 3 maxconcurrency 1 prefix xdbus prefix for queueexchange names so policies ha dle etc can be applied prefetch 1 replyheaderpatterns standardreplyheaders requestheaderpatterns standardrequestheaders requeue true transacted false txsize 1 redis headers comman-delimited list of additional string-valued header names to transport default default bus properties if not specified at the module level backoffinitialinterval 1000 backoffmaxinterval 10000 backoffmultiplier 20 concurrency 1 maxattempts 3 kafka brokers localhost9092 zkaddress localhost2181 numofkafkapartitionsforcountequalszero 10 socketbuffersize 2097152 offsetstoretopic springxdoffsets offsetstoresegmentsize 25000000 offsetstoreretentiontime 60000 offsetstorerequiredacks 1 offsetstoremaxfetchsize 1048576 offsetstorebatchsize 200 offsetstorebatchenabled false offsetstorebatchtime 1000 offsetupdatetimewindow 10000 offsetupdatecount 0 offsetupdateshutdowntimeout 2000 default batchingenabled true code,0
misc cleanup in ui 0 remove home page with sign in and upper right hand corner with user login info 1 change the word template to modules in the tab 2 different text for each of the tabs modules definition deployments scheduled 3 definitions tab to have text along the lines allows you to deploy and undeploy batch job definitions add links to help on how to do that in the cli 4 deployments tab a creating new definitions - parameters needs to be space on parameters job parameters for job xyz after clicking launch b comment out scheduler button c add quick filter 5 scheduler tab a comment out tab,0
tcp source requires a rn to suffix all inbound data when sending data to the tcp source if the data is not terminated with a rn when the socket is closed by the client xd throws an exception,0
create shell command for restarting a specific job instance,0
add spring cloud config to spi module parent enable spring cloud config for all modules add spring cloud config client to pom dependencies add bootstrapyml to scs project,0
add support for named channels as an s-c-d user id like to have the option to use named channels so i can create streaming pipelines without source or sink modules,0
provide cmdline options validation wherever they come from cmd line args or envvars options such as transport analytics etc should be validated and issues should be reported to users,0
refactor container to remove shared module context as a separate context the main container context becomes the shared context for modules,0
configuration for rabbitmq message bus concurrent consumers by having the configuration option for concurrent consumers would help improve the performance of message consumption by the consumer modules when the ordering of the incoming messages dont matter,0
vary consumers size db-4 using a single producer message size of 1000 bytes pretch of 100 send 1m messages and increase or decrease so that a given test iteration takes about 2 minutes vary the number of consumers measure the msgsec rate and calculate the data transfer rate in mbsec number of consumers 1 2 4 6 10 50 during the measurements look at the rabbitmq admin ui and see if the queue is backing up,0
document time source time source is used in some examples but it isnt documented explicitly eg --interval option in seconds,0
enhance module upload to support exploded dirs on the shell side would be nice to have the shell zip the contents of a directory if not already in zipped form this way the development cycle if one decided to use upload is quicker and edits can be done in place,0
documentation for twittersearch file processing put on the guide as a section in an input-stream wiki page,0
create microbenchmark for performace of redis and jdbc based aggregators would be good to have a general feel for the general performance of these two options redis can run on the same node as the benchmark,0
as a user im trying to delete the custom module using the module delete command via shell though the command is successfully im still seeing the associated artifact jar file present in the custommodules folder refer to so threadhttpstackoverflowcomquestions30984922springxd-module-delete-command-does-not-delete-the-uploaded-jar-file for more details,4
improve type handling for jdbc sink the jdbc sink is currently limited to handling the entire payload as a string and converting a single json object to row data we should improve that and support the following input types - linkedcaseinsensitivemap single row - listlinkedcaseinsensitivemap multiple rows as a batch insert - json string id74488namefooyear2014 single row - json array id74488namefooyear2014id74489namebaryear2014 multiple rows as a batch insert - none of the above use payloadtostring the above matches what the new jdbc source puts out depending on outputtype used,0
as a s-c-d developer id like to enhance integration test coverage for yarn spi so i can continuously evaluate functionalities via ci pipeline,4
refactor tests with filesinkfilesource to use eventually matcher some tests esp moduleclasspathteststestmodulewithclasspathafterserverstarted seem to fail because of a race condition add a hamcrest matcher that knows how to read the content of a filesinksource and refactor those to read like eg assertthatfilesink eventuallyhascontentfoo,0
increase exit description text field on job execution process step page the step execution process httplocalhost9393admin-uijobsexecutions3852 page should list more lines of text for exit description field to make sense of error messages scope investigate how much information can be collected directly from the executioncontext it may be dependent on the error types lets have the observation documented to decide next steps,0
tapcommandtests hangs when using a lazily instantiated lettuce connection a change was made in spring-data-redis to instantiate the shared lettuce connection lazily instead of when the context is initialized this caused tapcommandtests to hang due to a netty worker thread trying to initialize the lettuce connection lettuce uses netty the change was temporarily backed out of sdr but we need to consider using a nettyexecutionhandler in nettyhttpinboundchanneladapter or making the http modules input channel an executorchannel to avoid potentially long operations like from happening in an io thread also we need to address why this failure simply hangs the shell shell was hung waiting on io here orgspringframeworkhttpclientsimpleclienthttpresponsegetrawstatuscodesimpleclienthttpresponsejava47 orgspringframeworkhttpclientabstractclienthttpresponsegetstatuscodeabstractclienthttpresponsejava32 orgspringframeworkxdshellcommandhttpcommands1haserrorhttpcommandsjava93 orgspringframeworkwebclientresttemplatedoexecuteresttemplatejava484 orgspringframeworkwebclientresttemplateexecuteresttemplatejava460 orgspringframeworkwebclientresttemplatepostforentityresttemplatejava335 orgspringframeworkxdshellcommandhttpcommandsposthttphttpcommandsjava103 sunreflectgeneratedmethodaccessor135invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava25 javalangreflectmethodinvokemethodjava597 orgspringframeworkutilreflectionutilsinvokemethodreflectionutilsjava191 orgspringframeworkshellcoresimpleexecutionstrategyinvokesimpleexecutionstrategyjava64 ringframeworkshellcoresimpleexecutionstrategyexecutesimpleexecutionstrategyjava57 - locked 7fd3c7d40 a javalangclass for orgspringframeworkshellcoresimpleexecutionstrategy orgspringframeworkshellcoreabstractshellexecutecommandabstractshelljava127 orgspringframeworkxdshellabstractshellintegrationtestexecutecommandabstractshellintegrationtestjava99 orgspringframeworkxdshellabstractshellintegrationtesthttppostdataabstractshellintegrationtestjava112 orgspringframeworkxdshellcommandtapcommandteststestcreateanddeploytaptapcommandtestsjava56 full stack trace of server exception aug 19 2013 95900 am orgjbossnettychannelsimplechannelupstreamhandler warning exception please implement orgspringframeworkintegrationxhttpnettyhttpinboundchanneladapterhandlerexceptioncaught for proper handling orgspringframeworkintegrationmessagehandlingexception orgspringframeworkdataredisredisconnectionfailureexception unable to connect to redis on localhost6379 nested exception is comlambdaworksredisredisexception unable to connect orgspringframeworkintegrationhandlermethodinvokingmessageprocessorprocessmessagemethodinvokingmessageprocessorjava76 orgspringframeworkintegrationhandlerserviceactivatinghandlerhandlerequestmessageserviceactivatinghandlerjava67 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava137 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava115 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkintegrationcoremessagingtemplatedosendmessagingtemplatejava304 orgspringframeworkintegrationcoremessagingtemplatesendmessagingtemplatejava165 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava223 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava207 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava172 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava166 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava144 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava115 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkintegrationcoremessagingtemplatedosendmessagingtemplatejava304 orgspringframeworkintegrationcoremessagingtemplatesendmessagingtemplatejava165 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava223 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava207 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava172 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava166 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava144 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava115 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkintegrationcoremessagingtemplatedosendmessagingtemplatejava304 orgspringframeworkintegrationcoremessagingtemplatesendmessagingtemplatejava165 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava223 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava207 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava172 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava166 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava144 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 orgspringframeworkintegrationdispatcherbroadcastingdispatcherinvokehandlerbroadcastingdispatcherjava121 orgspringframeworkintegrationdispatcherbroadcastingdispatcherdispatchbroadcastingdispatcherjava112 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelinterceptorwiretappresendwiretapjava121 orgspringframeworkintegrationchannelabstractmessagechannelchannelinterceptorlistpresendabstractmessagechanneljava248 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava173 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkintegrationcoremessagingtemplatedosendmessagingtemplatejava304 orgspringframeworkintegrationcoremessagingtemplatesendmessagingtemplatejava165 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava223 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava207 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava172 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava166 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava144 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava115 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkintegrationcoremessagingtemplatedosendmessagingtemplatejava304 orgspringframeworkintegrationcoremessagingtemplatesendmessagingtemplatejava165 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava92 orgspringframeworkintegrationxhttpnettyhttpinboundchanneladapteraccess200nettyhttpinboundchanneladapterjava59 orgspringframeworkintegrationxhttpnettyhttpinboundchanneladapterhandlermessagereceivednettyhttpinboundchanneladapterjava122 orgjbossnettyhandlercodechttphttpcontentencodermessagereceivedhttpcontentencoderjava81 orgjbossnettyhandlercodechttphttpchunkaggregatormessagereceivedhttpchunkaggregatorjava148 orgjbossnettychannelchannelsfiremessagereceivedchannelsjava296 orgjbossnettyhandlercodecframeframedecoderunfoldandfiremessagereceivedframedecoderjava459 orgjbossnettyhandlercodecreplayreplayingdecodercalldecodereplayingdecoderjava536 orgjbossnettyhandlercodecreplayreplayingdecodermessagereceivedreplayingdecoderjava485 orgjbossnettychannelchannelsfiremessagereceivedchannelsjava268 orgjbossnettychannelchannelsfiremessagereceivedchannelsjava255 orgjbossnettychannelsocketnionioworkerreadnioworkerjava88 orgjbossnettychannelsocketnioabstractnioworkerprocessabstractnioworkerjava107 orgjbossnettychannelsocketnioabstractnioselectorrunabstractnioselectorjava312 orgjbossnettychannelsocketnioabstractnioworkerrunabstractnioworkerjava88 orgjbossnettychannelsocketnionioworkerrunnioworkerjava178 javautilconcurrentthreadpoolexecutorworkerruntaskthreadpoolexecutorjava895 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava918 javalangthreadrunthreadjava680 caused by orgspringframeworkdataredisredisconnectionfailureexception unable to connect to redis on localhost6379 nested exception is comlambdaworksredisredisexception unable to connect orgspringframeworkdataredisconnectionlettucelettuceconnectionfactorycreatelettuceconnectorlettuceconnectionfactoryjava345 orgspringframeworkdataredisconnectionlettucelettuceconnectionfactoryinitconnectionlettuceconnectionfactoryjava116 orgspringframeworkdataredisconnectionlettucelettuceconnectionfactorygetsharedconnectionlettuceconnectionfactoryjava325 orgspringframeworkdataredisconnectionlettucelettuceconnectionfactorygetconnectionlettuceconnectionfactoryjava106 orgspringframeworkdatarediscoreredisconnectionutilsdogetconnectionredisconnectionutilsjava81 orgspringframeworkdatarediscoreredisconnectionutilsgetconnectionredisconnectionutilsjava53 orgspringframeworkdatarediscoreredistemplateexecuteredistemplatejava173 orgspringframeworkdatarediscoreredistemplateexecuteredistemplatejava153 orgspringframeworkdatarediscoreabstractoperationsexecuteabstractoperationsjava86 orgspringframeworkdatarediscoredefaultzsetoperationsadddefaultzsetoperationsjava41 orgspringframeworkdatarediscoredefaultboundzsetoperationsadddefaultboundzsetoperationsjava47 orgspringframeworkxdstoreabstractredisrepositorytrackmembershipabstractredisrepositoryjava202 orgspringframeworkxdanalyticsmetricsredisrediscounterrepositoryincrementrediscounterrepositoryjava88 orgspringframeworkxdanalyticsmetricsredisrediscounterrepositoryincrementrediscounterrepositoryjava82 orgspringframeworkxdanalyticsmetricsintegrationmessagecounterhandlerprocessmessagecounterhandlerjava28 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava39 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava25 javalangreflectmethodinvokemethodjava597 orgspringframeworkexpressionspelsupportreflectivemethodexecutorexecutereflectivemethodexecutorjava69 orgspringframeworkexpressionspelastmethodreferencemethodvaluerefgetvaluemethodreferencejava97 orgspringframeworkexpressionspelastcompoundexpressiongetvalueinternalcompoundexpressionjava82 orgspringframeworkexpressionspelastspelnodeimplgettypedvaluespelnodeimpljava102 orgspringframeworkexpressionspelstandardspelexpressiongetvaluespelexpressionjava103 orgspringframeworkintegrationutilabstractexpressionevaluatorevaluateexpressionabstractexpressionevaluatorjava126 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessinternalmessagingmethodinvokerhelperjava230 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessmessagingmethodinvokerhelperjava129 orgspringframeworkintegrationhandlermethodinvokingmessageprocessorprocessmessagemethodinvokingmessageprocessorjava73 84 more caused by comlambdaworksredisredisexception unable to connect comlambdaworksredisredisclientconnectredisclientjava176 comlambdaworksredisredisclientconnectasyncredisclientjava139 orgspringframeworkdataredisconnectionlettucelettuceconnectionfactorycreatelettuceconnectorlettuceconnectionfactoryjava339 111 more caused by javalangillegalstateexception await in io thread causes a dead lock or sudden performance drop use addlistener instead or call await from a different thread orgjbossnettychanneldefaultchannelfuturecheckdeadlockdefaultchannelfuturejava342 orgjbossnettychanneldefaultchannelfutureawaitdefaultchannelfuturejava231 comlambdaworksredisredisclientconnectredisclientjava166 113 more,0
source that produces json string as byte with --outputtype applicationjson should produce json string,0
as a user id like to refer to a pig scriptjob sample so that i can use that as a reference to integrate pig jobs in xd,4
as a spring xd developer id like to move twittersearch module from xd to s-c-s repo so i can use it as source modules to build streaming pipeline,2
streamline command-line arg management command line arguments and especially their default values are currently scattered around different places the aim is to regroup those in a common place options classes make sense also not very happy with how system properties are used as a vehicle for optionstransport optionshome,0
update spring integration splunk extension to 11 ga,0
create system tests for partitioning,0
as a qa id like to include acceptance test coverage for sftp source module so that i can validate the functionality as part of every ci build,3
as a user id like to have the option to specify system properties that will be passed in to the sqoop job which runs in its own java process this is needed for defining memory usage and also for defining some options for various connector implementations,4
define developer-facing interfaces for spark streaming modules,0
correctly report state of module instances currently only the started application and application instance status is recognised this issue will look at the other possible states and report them as module instance states this would be trivial if we knew what the possible states might be and how we should interpret them for module instance state,0
acceptance tests for labels and taps,0
filedeletionlistener resolves resources once in the filejdbc job there is the option to delete the imported files this functionality is created using a listener called the filedeletionstepexecutionlistener when you run the job the first time with the --deletefilestrue everything works as expected the second time you run the job the files are not deleted i believe the issue here is that since the filedeletionstepexecutionlistener is a singleton the resources are resolved only once the first time the job runs and so it works the first time but if the job is run again later and new files match the expression they are not picked up i believe the fix is to make the filedeletionstepexecutionlistener used in this job step scoped,0
ux enhancements for trigger source add early validation for cron expression ease validation of maxoneatleastone mutually exclusive options,0
add directory to classpath in server startup scripts so groovy based processors can be easily referenced by name without a resource uri prefix a stream such as time filter --scriptoddminutefiltergroovy file would load the groovy script oddminutefiltergroovy that is located in the directory modulesprocessor or perhaps in modulesprocessorscripts not sure the benefit of having a subdirectory below processor just for scripts,0
exception during moduleredeployer causes additional modules to not deploy if an exception occurs during the deployment of a module within the moduleredeployerredeploymodule the exception will cause the process to break out of the for loops in departingcontainermoduleredeployer and containermatchingmoduleredeployer leaving other failedundeployed modules still undeployed this is particularly bad for containermatchingmoduleredeployer as a module with an issue deploying will be retried next time a container starts breaking all modules after it,0
as a user id like to be notified when a exception is thrown in a module so that i can tap into an error channel to receive the failures for each streammodule,5
update jclouds to 18 for xd-ec2 update to replace deprecated code,0
add jetty-util-6126jar and jsr311-api-111jar as required jars so they will be on the xd classpath this is needed for the use of the webhdfs scheme to talk to hdfs over http,0
as a module author i would like to apply rxjava processor module with spring cloud stream,3
admin leader election issue when using different management port when the admin is started with the different management port default is the same as that of admin http port then the leadership is requested when the management context is setup the leadership election should happen only using the admin server application context with this the following exception is thrown when deployment requests are handled 2015-03-24 214826340 120snap error deploymentsupervisor-0 queuedistributedqueue - exception processing queue item queue-0000000004 orgspringframeworkxddirtserveradmindeploymentdeploymentexception teststream orgspringframeworkxddirtstreamabstractinstancepersistingdeployerundeployresourceabstractinstancepersistingdeployerjava164 orgspringframeworkxddirtstreamabstractinstancepersistingdeployerundeployabstractinstancepersistingdeployerjava83 orgspringframeworkxddirtstreamabstractinstancepersistingdeployerundeployallabstractinstancepersistingdeployerjava109 orgspringframeworkxddirtstreamabstractinstancepersistingdeployerdeleteallabstractinstancepersistingdeployerjava117 orgspringframeworkxddirtserveradmindeploymentzkdeploymentmessageconsumerprocessdeploymentmessagedeploymentmessageconsumerjava115 orgspringframeworkxddirtserveradmindeploymentzkdeploymentmessageconsumerconsumemessagedeploymentmessageconsumerjava73 orgspringframeworkxddirtserveradmindeploymentzkdeploymentmessageconsumerconsumemessagedeploymentmessageconsumerjava43 orgapachecuratorframeworkrecipesqueuedistributedqueueprocessmessagebytesdistributedqueuejava678 orgapachecuratorframeworkrecipesqueuedistributedqueueprocessnormallydistributedqueuejava712 orgapachecuratorframeworkrecipesqueuedistributedqueueaccess300distributedqueuejava65 orgapachecuratorframeworkrecipesqueuedistributedqueue5rundistributedqueuejava629 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava178 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava292 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 caused by javalangillegalargumentexception module deployment request path cache shouldnt be null orgspringframeworkutilassertnotnullassertjava112 orgspringframeworkxddirtserveradmindeploymentzkzkdeploymenthandlerundeployzkdeploymenthandlerjava81 orgspringframeworkxddirtstreamabstractinstancepersistingdeployerundeployresourceabstractinstancepersistingdeployerjava161 17 more,0
replace xd mongoitemwriter in hdfsmongodb with spring batch mongoitemwriter when hdfsmongodb was written spring batch did not have a mongoitemwriter available so mark wrote one for xd the hdfsmongodb module now needs to be use spring batches mongoitemwriter,0
remove connectionfactorysettings after move to boot 13 now that boot 13 supports ssl and other settings we can remove the connectionfactorysettings configuration,0
controllers - disallow negative pagesize values currently you can specify negative pagesize values - the controllers should validatate that right now an internal exception is being return leaking internal details to the caller - eg httplocalhost9393batchexecutionspagesize-1 results in code errors error logrefbadsqlgrammarexception message statementcallback bad sql grammar select top -1 ejobexecutionid estarttime eendtime estatus eexitcode eexitmessage ecreatetime elastupdated eversion ijobinstanceid ijobname from batchjobexecution e batchjobinstance i where ejobinstanceidijobinstanceid order by ejobexecutionid desc nested exception is javasqlsqlsyntaxerrorexception user lacks privilege or object not found top message error errors code,0
fix existing karma unit tests migrate e2e tests to protractor the grunt build for karma unit tests is currently broken with requirejs support on the xd admin app,0
change http command to post data by putting http as the main command option the current http command is of the form httplocalhost8080post httpsource --target httplocalhost9090 --data 10 it isnt intuitive to think post rather the command can be http post --target httplocalhost9090 --data 10 which will allow us to have support for other http verbs and cleanly separate the namespace from hadoop etc the restshell from which this came was only concerned with http actions so the leading command classification probably seemed superfluous,0
as a user id like to have the ability to mass-ingest data from various database systems so that im not restricted with the current approach jdbchdfs that is dependent on jdbc drivers spike scope identify integration options collaborate to determine the design document outcome design specs,4
modules need to validate their parameters at create time we need to fail fast,0
create a spark standalone cluster on ci to run spark streaming tests we need to setup spark standalone cluster on the ci environment so that the spark streaming tests can be run on the standalone cluster along with the local mode that we run now,0
provisioning of custom inputoutput converters is broken custom conversion is broken if the custom mimetype does not match any of those in messageconverterutilsgetjavatypeforcontenttype then the channel configuration fails with code throw new moduleconfigurationexceptioncontent type is not supported for channelgetcomponentname type contenttype code the code needs to consult custom converters to see what mimetype s they support - and the output java type see httpstackoverflowcomquestions35639975adding-a-custom-type-converter-to-spring-xd,0
as a flo developer id like to add improvements to existing flo parser endpoints so i can streamline the error reporting strategy,3
as a developer id like to decouple execution context from job launch lifecycle so that we can avoid cl and serialization errors this fix needs to be formally applied in spring batch itself xd will upgrade to batch release in order to inherit this functionality hence the current workaround with xd-2486 needs reafctored,4
update processors transform section to use shell commands instead of curl see httpstaticspringsourceorgspring-xddocs100m1referencehtmltransform,0
jolokia endpoints returning 404 httplocalhost9393managementjolokiasearchxdtype for singlenode in m7 returned a value on master it returns 404 error,0
create better ui instead of boots default whitelabel error page create a better ui instead of boots default whitelabel error page,0
update management context path to rootmanagement,0
update ci server to run tests that depend on rabbitredis and hadoop,0
user wants the ability to exclude certain days like holidays for a trigger to fire commonly called calendar support,0
retrieve information for a gauge todo as part of this see xd-537 get rid of so-called service layer in analytics project doesnt do much right now and logic would better live in the handler imo have rest controllers depend on xrepository in all cases,0
surpress tap warning message in local mode,0
add defaultyarnclasspath entry for phd20 cdh5 and hdp21 each hadoop distro uses different settings for yarnapplicationclasspath and we should provide some starting points for the distros we support running xd on yarn for we should add a commented out stub defaultyarnclasspath entry for phd20 cdh5 and hdp21 to replace the one for hadoop22 when someone deploys on these distros,0
upgrade to spring for apache hadoop 102release and pivotal hd 11 make sure the sinks and jobs work against pivotal hd 11,0
user should be able to specify rabbit virtual host need to support rabbit virtual host property in properties file and as args to rabbit source and sink,0
refactor out trigger docs from the batch job chapter,0
creating a base class for plugins it might be worth creating a base class for plugins that combines common concerns across plugins eg that would allow us to hide the commonapplicationcontext and beandefinitionaddingpostprocessor for common cases instead exposing a simple addbeandefinition method to sub-classes,0
large number of required options in jdbc sink definition id like to use the following command to define a stream in our spring xd for pivotalcf test environment code stream create --name test --definition http --port9999 jdbc --usernamespring-xd --passwordspring-xd --driverclassnameorgpostgresqldriver --urljdbcpostgresql12345432spring-xd code i have to add the following options to the definition to make it work otherwise i get exceptions and a failed deploy code -validationquery --validatorclassnamenull --connectionproperties --initsql --jdbcinterceptors --initializerscript code given that theyre empty anyway it seems like some or all of these should not be necessary notes the validatorclassname cannot be like the others it needs the null without initsql stream creation fails because it cant find initdbsql a file i dont have in my environment even though it wont be run anyway,0
as a user id like to have the option of hdfs source module so that i can ingest data directly from hdfs file system,3
provide python module to handle io for implementing a python shell processor,0
tap naming consistency for stream taps currently when creating the taps for streams the name of the pubsub channel inside the message bus would be tapname-of-the-streammodule-namemodule-index for instance the following stream with name test http transform --expressionpayloadtolowercase file will have the exchanges as topictaptesthttp0 topictaptesttransform1 when using rabbit message bus though the stream config parser takes care of translating what user would provide in the dsl for example tapstreamtesttransform1 to use the message bus exchange topictaptesttransform1 it would be better we have the consistency inside the message bus channel name as well also this would be in sync with how we name taps for jobs tapjob,0
remove aliashint flag usage when binding producerconsumer to messagebus the messagebus interface uses the aliashint flag when binding consumerproducer on a point-to-point channel actually the aliashint is only needed when computing sourcesink channel names in case named channel names otherwise indexed channel names will be used for the inputoutput channel name the only place where aliashint is used in the message bus is on the localmessagebus where it provides a way to choose the channel provider directqueue channel based on the alias hint otherwise it is not needed in message bus bindproducerconsumer we need to simplify this,0
as a spring xd developer id like to create initial version of the new module registry abstraction so we could leverage the foundation to make progress and test the respective spi receptor or cloudcontroller implementations,4
support partitioningbus properties in the redismessagebus pr httpsgithubcomspring-projectsspring-xdpull926,0
as a s-c-d developer id like to invoke rest apis via shell so i can validate streamcontroller operations,5
update reactor stream processor to use latest snapshots the code base is changing a bit so using 20 m1 for development is stable up until all major jira issues have bee completed then we should track snapshots in preparation to move to 20 m2 when it gets released,0
stream definition calls times-out often we are using the springxd rest endpoints for creating and managing streams with version 100 and 101 the stream definition api call times-out at times here is the log from the admin node look at the 30000 ms in the logs i have also left a few other lines around for context api call httphostname9393jobsdefinitions we need to come up with a fix for this 14 oct 2014 174028062 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event deploymentsstreamssample type childadded 14 oct 2014 174028198 info deployer serverstreamdeploymentlistener - deploying stream streamnamesample 14 oct 2014 174038847 info deployer serverjobdeploymentlistener - deployment status for job filetsjob-sample002 deploymentstatusstatefailederrorsdeployment of module moduledeploymentkeystreamfiletsjob-sample002 typejob labelfilepollsomething to container c77bc83e-bcba-4e4d-9753-e71f603566b1 timed out after 30000 ms 14 oct 2014 174128225 info deployer serverstreamdeploymentlistener - deployment status for stream sample deploymentstatusstatefailederrorsdeployment of module moduledeploymentkeystreamsample typesink labelsomething to container f877a8e8-08b3-44f9-8f73-bf163acb0cef timed out after 30000 ms deployment of module moduledeploymentkeystreamsample typesource labelhttp to container c77bc83e-bcba-4e4d-9753-e71f603566b1 timed out after 30000 ms 14 oct 2014 174128227 info deployer serverstreamdeploymentlistener - stream streamnamesample deployment attempt complete,0
create pipes and filters dsl for ingestion initial simple handcoded implementation for straight through pipe and filter model eg a b c,0
jdbc connection pool errors we are seeing jdbc connection pool errors when running jdbchdfs jobs and jdbc streams the exception is code caused by javasqlsqlexception failed to validate a newly established connection at orgapachetomcatjdbcpoolconnectionpoolborrowconnectionconnectionpooljava802 at orgapachetomcatjdbcpoolconnectionpoolborrowconnectionconnectionpooljava617 at orgapachetomcatjdbcpoolconnectionpoolgetconnectionconnectionpooljava186 at orgapachetomcatjdbcpooldatasourceproxygetconnectiondatasourceproxyjava127 at orgspringframeworkjdbcdatasourcedatasourcetransactionmanagerdobegindatasourcetransactionmanagerjava204 21 more code a workaround is to specify --testonborrowfalse when creating the job this has also been reported on so httpstackoverflowcomquestions33148929springxd-issue-in-mysql-as-source-failed-to-validate-a-newly-established-connec,0
routing json arrays when i create following stream i am able to route json messages but if i send same message as an array its not working is it possible to do something about it stream create --name reference-data-import --definition rabbit --outputtypetextplain router --expressionjsonpathpayloadrejectedcontainstruequeuerejectedqueueaccepted --deploy,0
gauge rich gauge fail to write results to redis for singlenode steps to reproduce stream create --name test --definition http --port9090 log stream create --name simplegauge --definition tapstreamtest gauge http post --target httplocalhost9090 --data 10 redis-cli get gaugessimplegauge the result redis 1270016379 get gaugessimplegauge nil note it worked with admincontainer but failed only on xd-singlenode,0
tap xd batch job output currently job module only has an input channel that receives the job launching requests if we have an output channel for the job module we get the following benefits 1 the output channel reflects the jobexecution from the job launching message handlers reply channel 2 this can be different from jobexecution listeners notification channel where we would get both the beforejob and afterjob notification 3 we can tap the output channel to send the job results to some other sinks along with this improvement planning to do some more refactoring on the plugins so that some of the common implementation methods are handled in the base class,0
duplicate mbean names with router sink for some reason the integration mbeanexporterhelper is not preventing the standard context mbeanexporter from exporting the abstractmessagerouter this should be suppressed when an imbe is present because its annotated integrationmanagedresource causes instancealreadyexistsexception workaround in the stack overflow answer httpstackoverflowcomquestions33838502error-deploying-more-than-one-stream-with-a-router-1-3-0 could be an si issue but investigation needed however we should probably include the streamjob name in all mbeans for the stream as is done for the integration exporter,0
add partitioned job integration tests using other bus implementations jobcommandtests in xd-shell only uses a localmessagebus so the problem in xd-2323 was not discovered until a manual integration test was executed at a minimum jobcommandteststestlaunchpartitionedjob should be run with all bus implementations,0
replace jps calls to get the pids for the container log with listruntimecontainers replace the execution of jps to retrieve pid for the containers in the acceptance tests with runtimeoperationslistruntimecontainers,0
sqooprunner should use resource manager scheduler option in sqooprunner we manually set rm address fs address and yarn classpath yarnconfigurationrmscheduleraddress is also needed for appmaster to function properly current workaround is to use config values which gets imported automatically code spring hadoop config yarnresourcemanagerscheduleraddress host8030 code,0
enabling of jmx support is broken however this is triggered depending on whether httpsgithubcomspring-projectsspring-xdpull477files is merged yet or not jmx seems to be broken because of duplicate beans mbeans names,0
for time being checkin ui build artifacts,0
example hashtag-count mr job fails when running xd on yarn with phd 30 running xd on yarn on phd 30 ambari install uploading and submitting a custom job fails with the following code 2015-06-02 165415580 info asyncdispatcher event handler orgapachehadoopmapreducev2appjobimpltaskattemptimpl diagnostics report from attempt14332735613450009m0000000 error javalangruntimeexception javalangclassnotfoundexception class orgspringframeworkxdexampleshadoophashtagcounttokenizermapper not found orgapachehadoopconfconfigurationgetclassconfigurationjava2076 orgapachehadoopmapreducetaskjobcontextimplgetmapperclassjobcontextimpljava186 orgapachehadoopmapredmaptaskrunnewmappermaptaskjava742 orgapachehadoopmapredmaptaskrunmaptaskjava341 orgapachehadoopmapredyarnchild2runyarnchildjava163 javasecurityaccesscontrollerdoprivilegednative method javaxsecurityauthsubjectdoassubjectjava415 orgapachehadoopsecurityusergroupinformationdoasusergroupinformationjava1628 orgapachehadoopmapredyarnchildmainyarnchildjava158 caused by javalangclassnotfoundexception class orgspringframeworkxdexampleshadoophashtagcounttokenizermapper not found orgapachehadoopconfconfigurationgetclassbynameconfigurationjava1982 orgapachehadoopconfconfigurationgetclassconfigurationjava2074 8 more code same example jar works fine when submitted from xd cluster,0
modules that depend on httpclient fail when running on yarn on hadoop 24x and later trying to run a twitterstream on yarn on hdp 21 and get the following code 140808 121250 error servercontainerregistrar exception deploying module orgspringframeworkbeansfactorybeancreationexception error creating bean with name orgspringframeworkintegrationxtwittertwitterstreamchanneladapter0 defined in url filespring-xd-yarn-100releasezipmodulessourcetwitterstreamconfigtwitterstreamxml cannot resolve reference to bean twittertemplate while setting constructor argument nested exception is orgspringframeworkbeansfactorybeancreationexception error creating bean with name twittertemplate defined in url filespring-xd-yarn-100releasezipmodulessourcetwitterstreamconfigtwitterstreamxml instantiation of bean failed nested exception is orgspringframeworkbeansbeaninstantiationexception could not instantiate bean class orgspringframeworksocialtwitterapiimpltwittertemplate constructor threw exception nested exception is javalangnoclassdeffounderror orgapachehttpimplclienthttpclients orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvereferencebeandefinitionvalueresolverjava336 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvevalueifnecessarybeandefinitionvalueresolverjava108 orgspringframeworkbeansfactorysupportconstructorresolverresolveconstructorargumentsconstructorresolverjava646 orgspringframeworkbeansfactorysupportconstructorresolverautowireconstructorconstructorresolverjava140 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryautowireconstructorabstractautowirecapablebeanfactoryjava1114 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeaninstanceabstractautowirecapablebeanfactoryjava1017 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava504 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava475 orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava302 orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava228 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava298 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava193 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava703 orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava760 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava482 orgspringframeworkbootspringapplicationrefreshspringapplicationjava691 orgspringframeworkbootspringapplicationrunspringapplicationjava320 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava142 orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava203 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava98 orgspringframeworkxddirtmodulemoduledeployerdeployandstoremoduledeployerjava88 orgspringframeworkxddirtmodulemoduledeployerdeployandstoremoduledeployerjava78 orgspringframeworkxddirtservercontainerregistrardeploymodulecontainerregistrarjava231 orgspringframeworkxddirtservercontainerregistrardeploystreammodulecontainerregistrarjava577 orgspringframeworkxddirtservercontainerregistraronchildaddedcontainerregistrarjava447 orgspringframeworkxddirtservercontainerregistraraccess800containerregistrarjava95 orgspringframeworkxddirtservercontainerregistrardeploymentlistenerchildeventcontainerregistrarjava826 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 caused by orgspringframeworkbeansfactorybeancreationexception error creating bean with name twittertemplate defined in url filespring-xd-yarn-100releasezipmodulessourcetwitterstreamconfigtwitterstreamxml instantiation of bean failed nested exception is orgspringframeworkbeansbeaninstantiationexception could not instantiate bean class orgspringframeworksocialtwitterapiimpltwittertemplate constructor threw exception nested exception is javalangnoclassdeffounderror orgapachehttpimplclienthttpclients orgspringframeworkbeansfactorysupportconstructorresolverautowireconstructorconstructorresolverjava278 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryautowireconstructorabstractautowirecapablebeanfactoryjava1114 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeaninstanceabstractautowirecapablebeanfactoryjava1017 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava504 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava475 orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava302 orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava228 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava298 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava193 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvereferencebeandefinitionvalueresolverjava328 41 more caused by orgspringframeworkbeansbeaninstantiationexception could not instantiate bean class orgspringframeworksocialtwitterapiimpltwittertemplate constructor threw exception nested exception is javalangnoclassdeffounderror orgapachehttpimplclienthttpclients orgspringframeworkbeansbeanutilsinstantiateclassbeanutilsjava164 orgspringframeworkbeansfactorysupportsimpleinstantiationstrategyinstantiatesimpleinstantiationstrategyjava125 orgspringframeworkbeansfactorysupportconstructorresolverautowireconstructorconstructorresolverjava270 50 more caused by javalangnoclassdeffounderror orgapachehttpimplclienthttpclients orgspringframeworkhttpclienthttpcomponentsclienthttprequestfactoryinithttpcomponentsclienthttprequestfactoryjava74 orgspringframeworksocialsupportclienthttprequestfactoryselectorhttpcomponentsclientrequestfactorycreator1initclienthttprequestfactoryselectorjava77 orgspringframeworksocialsupportclienthttprequestfactoryselectorhttpcomponentsclientrequestfactorycreatorcreaterequestfactoryclienthttprequestfactoryselectorjava77 orgspringframeworksocialsupportclienthttprequestfactoryselectorgetrequestfactoryclienthttprequestfactoryselectorjava52 orgspringframeworksocialoauth1abstractoauth1apibindingcreateresttemplatewithculledmessageconvertersabstractoauth1apibindingjava188 orgspringframeworksocialoauth1abstractoauth1apibindingcreateresttemplateabstractoauth1apibindingjava169 orgspringframeworksocialoauth1abstractoauth1apibindinginitabstractoauth1apibindingjava70 orgspringframeworksocialtwitterapiimpltwittertemplateinittwittertemplatejava79 sunreflectnativeconstructoraccessorimplnewinstance0native method sunreflectnativeconstructoraccessorimplnewinstancenativeconstructoraccessorimpljava57 sunreflectdelegatingconstructoraccessorimplnewinstancedelegatingconstructoraccessorimpljava45 javalangreflectconstructornewinstanceconstructorjava526 orgspringframeworkbeansbeanutilsinstantiateclassbeanutilsjava148 52 more code,0
boot updates post 05 m7 some boot classes we compile against have changed or been replaced,0
document the setting of the cors alloworigin property we do set a default value in xdlibspring-xd-dirt-121releasejarapplicationyml code xd data home filexdhomedata config home filexdhomeconfig module home filexdhomemodules custommodule home filexdhomecustom-modules ui home filexdhomespring-xd-uidist alloworigin httplocalhost9889 code we need to document how this property can be used to allow for external services to use the xd rest api and how you can customize it using serversyml,0
improve job launch functionality with distributed nodes when sending a launch request the message is not targeted to the container node that hosts the deployed job with rabbitmq the message is not ackd so it will get picked up eventually by the container that hosts the deployed job this should change to a targeted message ----- original description from thomas below tried deploying some batch jobs and they all seem to fail when running admin and one container using redis as transport xdjob create mongojob --definition hdfsmongodb --resourcesdatalog --namescol1col2col3 --idfieldcol1 --collectionnametest fails with this quote 181901612 warn redisinboundadapter-redisqueue-inbound-channel-adapter6 bootspringapplication635 - error handling failed error creating bean with name integrationrequestmappinghandlermapping initialization of bean failed nested exception is javalangillegalstateexception orgspringframeworkcontextannotationannotationconfigapplicationcontext25e7506f has not been refreshed yet 181901614 error redisinboundadapter-redisqueue-inbound-channel-adapter6 handlerlogginghandler145 - orgspringframeworkmessagingmessagehandlingexception error occurred in message handler moduledeployer orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava84 orgspringframeworkintegrationconfigserviceactivatorfactorybean1handlerequestmessageserviceactivatorfactorybeanjava83 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava170 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava128 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava114 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava92 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava98 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointpopmessageandsendredisqueuemessagedrivenendpointjava211 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointaccess300redisqueuemessagedrivenendpointjava50 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointlistenertaskrunredisqueuemessagedrivenendpointjava290 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 javalangthreadrunthreadjava724 caused by orgspringframeworkbeansfactorybeancreationexception error creating bean with name readresourcesstep cannot create inner bean inner bean of type orgspringframeworkbatchcorelistenersteplistenerfactorybean while setting bean property listeners with key 0 nested exception is orgspringframeworkbeansfactorybeancreationexception error creating bean with name inner bean4 factorybean threw exception on object creation nested exception is javalangillegalargumentexception interface orgspringframeworkbatchcoresteplistener is not visible from class loader orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolveinnerbeanbeandefinitionvalueresolverjava282 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvevalueifnecessarybeandefinitionvalueresolverjava126 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvemanagedlistbeandefinitionvalueresolverjava351 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvevalueifnecessarybeandefinitionvalueresolverjava154 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryapplypropertyvaluesabstractautowirecapablebeanfactoryjava1456 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorypopulatebeanabstractautowirecapablebeanfactoryjava1197 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava537 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava475 orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava304 orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava228 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava300 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava195 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava681 orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava760 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava482 orgspringframeworkbootspringapplicationrefreshspringapplicationjava616 orgspringframeworkbootspringapplicationrunspringapplicationjava306 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava130 orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava225 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava270 orgspringframeworkxddirtmodulemoduledeployerdeployandstoremoduledeployerjava260 orgspringframeworkxddirtmodulemoduledeployerhandledeploymoduledeployerjava201 orgspringframeworkxddirtmodulemoduledeployerhandlemessageinternalmoduledeployerjava172 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 18 more caused by orgspringframeworkbeansfactorybeancreationexception error creating bean with name inner bean4 factorybean threw exception on object creation nested exception is javalangillegalargumentexception interface orgspringframeworkbatchcoresteplistener is not visible from class loader orgspringframeworkbeansfactorysupportfactorybeanregistrysupportdogetobjectfromfactorybeanfactorybeanregistrysupportjava151 orgspringframeworkbeansfactorysupportfactorybeanregistrysupportgetobjectfromfactorybeanfactorybeanregistrysupportjava110 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolveinnerbeanbeandefinitionvalueresolverjava272 41 more caused by javalangillegalargumentexception interface orgspringframeworkbatchcoresteplistener is not visible from class loader javalangreflectproxygetproxyclass0proxyjava487 javalangreflectproxynewproxyinstanceproxyjava722 orgspringframeworkaopframeworkjdkdynamicaopproxygetproxyjdkdynamicaopproxyjava121 orgspringframeworkaopframeworkjdkdynamicaopproxygetproxyjdkdynamicaopproxyjava111 orgspringframeworkaopframeworkproxyfactorygetproxyproxyfactoryjava98 orgspringframeworkbatchcorelistenerabstractlistenerfactorybeangetobjectabstractlistenerfactorybeanjava163 orgspringframeworkbeansfactorysupportfactorybeanregistrysupportdogetobjectfromfactorybeanfactorybeanregistrysupportjava144 43 more quote ill post more errors as i collect them,0
file sink filename should default to having a out suffix,0
parsing issues with kafka-busxml using kafka as a transport option yields 2014-11-04 121830528 boot - 24061 error main --- springapplication application startup failed orgspringframeworkbeansfactoryparsingbeandefinitionparsingexception configuration problem failed to import bean definitions from url location classpathmeta-infspring-xdtransportskafka-busxml offending resource class path resource meta-infspring-xdbusmessage-busxml nested exception is orgspringframeworkbeansfactoryxmlxmlbeandefinitionstoreexception line 9 in xml document from url jarfileusersmbogoevicigradlecachesmodules-2files-21orgspringframeworkxdspring-xd-dirt110build-snapshotcf6a9a013dbde49d2925e2b5177d01a028379758spring-xd-dirt-110build-snapshotjarmeta-infspring-xdtransportskafka-busxml is invalid nested exception is orgxmlsaxsaxparseexception linenumber 9 columnnumber 26 open quote is expected for attribute 1 associated with an element type value orgspringframeworkbeansfactoryparsingfailfastproblemreportererrorfailfastproblemreporterjava70 orgspringframeworkbeansfactoryparsingreadercontexterrorreadercontextjava85 orgspringframeworkbeansfactoryparsingreadercontexterrorreadercontextjava76 orgspringframeworkbeansfactoryxmldefaultbeandefinitiondocumentreaderimportbeandefinitionresourcedefaultbeandefinitiondocumentreaderjava248 orgspringframeworkbeansfactoryxmldefaultbeandefinitiondocumentreaderparsedefaultelementdefaultbeandefinitiondocumentreaderjava199 orgspringframeworkbeansfactoryxmldefaultbeandefinitiondocumentreaderparsebeandefinitionsdefaultbeandefinitiondocumentreaderjava184 orgspringframeworkbeansfactoryxmldefaultbeandefinitiondocumentreaderdoregisterbeandefinitionsdefaultbeandefinitiondocumentreaderjava141 orgspringframeworkbeansfactoryxmldefaultbeandefinitiondocumentreaderregisterbeandefinitionsdefaultbeandefinitiondocumentreaderjava110 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderregisterbeandefinitionsxmlbeandefinitionreaderjava508 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloadbeandefinitionsxmlbeandefinitionreaderjava391 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderloadbeandefinitionsxmlbeandefinitionreaderjava335 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderloadbeandefinitionsxmlbeandefinitionreaderjava303 orgspringframeworkbeansfactorysupportabstractbeandefinitionreaderloadbeandefinitionsabstractbeandefinitionreaderjava180 orgspringframeworkbeansfactorysupportabstractbeandefinitionreaderloadbeandefinitionsabstractbeandefinitionreaderjava216 orgspringframeworkbeansfactorysupportabstractbeandefinitionreaderloadbeandefinitionsabstractbeandefinitionreaderjava187 orgspringframeworkcontextannotationconfigurationclassbeandefinitionreaderloadbeandefinitionsfromimportedresourcesconfigurationclassbeandefinitionreaderjava313 orgspringframeworkcontextannotationconfigurationclassbeandefinitionreaderloadbeandefinitionsforconfigurationclassconfigurationclassbeandefinitionreaderjava138 orgspringframeworkcontextannotationconfigurationclassbeandefinitionreaderloadbeandefinitionsconfigurationclassbeandefinitionreaderjava116 orgspringframeworkcontextannotationconfigurationclasspostprocessorprocessconfigbeandefinitionsconfigurationclasspostprocessorjava330 orgspringframeworkcontextannotationconfigurationclasspostprocessorpostprocessbeandefinitionregistryconfigurationclasspostprocessorjava243 orgspringframeworkcontextsupportpostprocessorregistrationdelegateinvokebeandefinitionregistrypostprocessorspostprocessorregistrationdelegatejava254 orgspringframeworkcontextsupportpostprocessorregistrationdelegateinvokebeanfactorypostprocessorspostprocessorregistrationdelegatejava94 orgspringframeworkcontextsupportabstractapplicationcontextinvokebeanfactorypostprocessorsabstractapplicationcontextjava609 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava464 orgspringframeworkbootspringapplicationrefreshspringapplicationjava691 orgspringframeworkbootspringapplicationrunspringapplicationjava320 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava142 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava129 orgspringframeworkxddirtserversinglenodeapplicationrunsinglenodeapplicationjava63 orgspringframeworkxddemokafkakafkademomainkafkademojava28 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 comintellijrtexecutionapplicationappmainmainappmainjava134 caused by orgspringframeworkbeansfactoryxmlxmlbeandefinitionstoreexception line 9 in xml document from url jarfileusersmbogoevicigradlecachesmodules-2files-21orgspringframeworkxdspring-xd-dirt110build-snapshotcf6a9a013dbde49d2925e2b5177d01a028379758spring-xd-dirt-110build-snapshotjarmeta-infspring-xdtransportskafka-busxml is invalid nested exception is orgxmlsaxsaxparseexception linenumber 9 columnnumber 26 open quote is expected for attribute 1 associated with an element type value orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloadbeandefinitionsxmlbeandefinitionreaderjava398 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderloadbeandefinitionsxmlbeandefinitionreaderjava335 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderloadbeandefinitionsxmlbeandefinitionreaderjava303 orgspringframeworkbeansfactorysupportabstractbeandefinitionreaderloadbeandefinitionsabstractbeandefinitionreaderjava180 orgspringframeworkbeansfactorysupportabstractbeandefinitionreaderloadbeandefinitionsabstractbeandefinitionreaderjava216 orgspringframeworkbeansfactoryxmldefaultbeandefinitiondocumentreaderimportbeandefinitionresourcedefaultbeandefinitiondocumentreaderjava242 31 more caused by orgxmlsaxsaxparseexception linenumber 9 columnnumber 26 open quote is expected for attribute 1 associated with an element type value comsunorgapachexercesinternalutilerrorhandlerwrappercreatesaxparseexceptionerrorhandlerwrapperjava198 comsunorgapachexercesinternalutilerrorhandlerwrapperfatalerrorerrorhandlerwrapperjava177 comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava441 comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava368 comsunorgapachexercesinternalimplxmlscannerreportfatalerrorxmlscannerjava1436 comsunorgapachexercesinternalimplxmlscannerscanattributevaluexmlscannerjava829 comsunorgapachexercesinternalimplxmlnsdocumentscannerimplscanattributexmlnsdocumentscannerimpljava439 comsunorgapachexercesinternalimplxmlnsdocumentscannerimplscanstartelementxmlnsdocumentscannerimpljava255 comsunorgapachexercesinternalimplxmldocumentfragmentscannerimplfragmentcontentdrivernextxmldocumentfragmentscannerimpljava2786 comsunorgapachexercesinternalimplxmldocumentscannerimplnextxmldocumentscannerimpljava606 comsunorgapachexercesinternalimplxmlnsdocumentscannerimplnextxmlnsdocumentscannerimpljava117 comsunorgapachexercesinternalimplxmldocumentfragmentscannerimplscandocumentxmldocumentfragmentscannerimpljava510 comsunorgapachexercesinternalparsersxml11configurationparsexml11configurationjava848 comsunorgapachexercesinternalparsersxml11configurationparsexml11configurationjava777 comsunorgapachexercesinternalparsersxmlparserparsexmlparserjava141 comsunorgapachexercesinternalparsersdomparserparsedomparserjava243 comsunorgapachexercesinternaljaxpdocumentbuilderimplparsedocumentbuilderimpljava347 orgspringframeworkbeansfactoryxmldefaultdocumentloaderloaddocumentdefaultdocumentloaderjava76 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloaddocumentxmlbeandefinitionreaderjava428 orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloadbeandefinitionsxmlbeandefinitionreaderjava390 36 more,0
update to reactor 110 m3,0
create shell integration tests for job lifeycle creating job defs deploying jobs undeploying jobs deleting job defs,0
investigate redis connection timeout issues when running performance test with the performance test run the numbers messages sentreceived per second keep varying as there are redis client connection timeout exceptions caused by orgjbossnettychannelconnecttimeoutexception connection timed out at both redis inboundoutbound channel adapters as i increase the total number of messages being processed max 10ksecond some of the exception messages for the review 1 with connection pool at redis outbound caused by orgspringframeworkdataredisconnectionpoolexception could not get a resource from the pool nested exception is comlambdaworksredisredisexception unable to connect at orgspringframeworkdataredisconnectionlettucedefaultlettucepoolgetresourcedefaultlettucepooljava95 at orgspringframeworkdataredisconnectionlettucedefaultlettucepoolgetresourcedefaultlettucepooljava36 at orgspringframeworkdataredisconnectionlettucelettuceconnectionfactorycreatelettuceconnectorlettuceconnectionfactoryjava318 at orgspringframeworkdataredisconnectionlettucelettuceconnectionfactorygetconnectionlettuceconnectionfactoryjava109 at orgspringframeworkdatarediscoreredisconnectionutilsdogetconnectionredisconnectionutilsjava81 at orgspringframeworkdatarediscoreredisconnectionutilsgetconnectionredisconnectionutilsjava53 at orgspringframeworkdatarediscoreredistemplateexecuteredistemplatejava157 at orgspringframeworkdatarediscoreredistemplateexecuteredistemplatejava137 at orgspringframeworkdatarediscoreabstractoperationsexecuteabstractoperationsjava84 at orgspringframeworkdatarediscoredefaultlistoperationsleftpushdefaultlistoperationsjava71 at orgspringframeworkdatarediscoredefaultboundlistoperationsleftpushdefaultboundlistoperationsjava67 at orgspringframeworkxdperftestredisoutboundredisqoutboundchanneladapterhandlemessageinternalredisqoutboundchanneladapterjava71 at orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 17 more caused by comlambdaworksredisredisexception unable to connect at comlambdaworksredisredisclientconnectredisclientjava176 at comlambdaworksredisredisclientconnectasyncredisclientjava139 at orgspringframeworkdataredisconnectionlettucedefaultlettucepoollettucefactorymakeobjectdefaultlettucepooljava252 at orgapachecommonspoolimplgenericobjectpoolborrowobjectgenericobjectpooljava1181 at orgspringframeworkdataredisconnectionlettucedefaultlettucepoolgetresourcedefaultlettucepooljava93 29 more caused by orgjbossnettychannelconnecttimeoutexception connection timed out localhost1270016379 at orgjbossnettychannelsocketnionioclientbossprocessconnecttimeoutnioclientbossjava137 at orgjbossnettychannelsocketnionioclientbossprocessnioclientbossjava83 at orgjbossnettychannelsocketnioabstractnioselectorrunabstractnioselectorjava312 at orgjbossnettychannelsocketnionioclientbossrunnioclientbossjava42 2 without connection pool at redis inbound caused by comlambdaworksredisredisexception unable to connect at comlambdaworksredisredisclientconnectredisclientjava176 at comlambdaworksredisredisclientconnectasyncredisclientjava139 at orgspringframeworkdataredisconnectionlettucelettuceconnectionfactorycreatelettuceconnectorlettuceconnectionfactoryjava321 12 more caused by orgjbossnettychannelconnecttimeoutexception connection timed out localhost1270016379 at orgjbossnettychannelsocketnionioclientbossprocessconnecttimeoutnioclientbossjava137 at orgjbossnettychannelsocketnionioclientbossprocessnioclientbossjava83 at orgjbossnettychannelsocketnioabstractnioselectorrunabstractnioselectorjava312 at orgjbossnettychannelsocketnionioclientbossrunnioclientbossjava42 3 more,0
ensure that each controllers list returns pagedresources,0
fix failing script integration test see httpsbuildspringiobrowsexd-scripts-723,0
twitter search results are not deserialized data is returned but not human readable ie orgspringframeworksocialtwitterapitweet4b20a104 needs to be readable in log and or file,0
as a developer id like to benchmark a stream with and without jmx enabled so i can test in isolation and document the differences in performance,3
test recent hadoop distro changes test basic functionality hdfs sink jdbchdfs job on hadoop26 hdp22 cdh5 phd21 test xd on yarn on hadoop26 hdp22 cdh5 and phd21,0
environment checkers in acceptance tests should use asserts replace tests and throws in the xdec2validation with asserts in the following methods verifytestcontent verifylogcontent verifysendcounts verifysendcounts should check for the exact number of jmx events instead of 0,0
spring xd docker hub site needs to have images for all xd versions currently admin container only support latest 10x and 110 while singlenode only has tags for 10x and latest we need to have a tags for 110 120 121 for all xd docker images,0
user should be able to specify deploy properties for jobs when clicking deploy from the job definitions page user should be able to specify the deployment manifest module count module criteria etc,0
have resourcemoduleregistry transparently proxy a remote root thru filesystem archivemoduleregistry and the use of boot archives inherently relies on javaiofile have resourcemoduleregistry extendcompose archivemr to transparently download and cache remote jars that may be located in a non-file location the staging area should be customizable but some subdir of javaiotmpdir sounds like a sensible default,0
support short names for types in moduleoptions the moduleoptions pr currently uses fqn for types eg javalangstring would be nice to have support for short names for common types both in the properties files and the annotation,0
add resourcemoduleregistry with custom modules location if someone wants to have a dedicated location module registry for the custom modules and can be accessed from any spring supported resource url location then we need to support currently we use delegating moduleregistry which uses resourcemoduleregistry implementations that look for location xdmodulehome and classpathmodules maybe we can add an additional resourcemoduleregistry with xdcustommodulehome and use it for custom modules,0
investigate deployed module context close upon container shutdown upon the container shutdown the deployed modules contexts get closed before the corresponding streamjobmodulewatcher does the undeployment of the streamjob modules,0
improve build file distribution tasks the current flow of gradle tasks is confusing suggest the following changes to simplify the flow 1 move the current task logic in zipxd to distzip 2 have distzip depend on dist 3 update the how to build docs on the wiki 4 make sure that the distzip task only shows up once in the list of gradle target,0
add documentation on how to deploy xd to yarn,0
as a xd developer id like to move header-enricher from modules repo to xd proper,1
reorganize toc for manual here is a strawman noformat getting started rather meaty compared to other top level sections maybe have a section - running in singlenode running in distributed mode running on yarn application configuration message bus configuration monitoring and management technical documentation architecture distributed runtime remove xd prefix interactive shell batch jobs streams modules tuples sources processors analytics sinks taps type conversion deployment better name best practices new section admin ui dsl reference rest api samples noformat,0
update spring-data-hadoop version to 200rc4 update spring-data-hadoop version to 200rc4 and make necessary changes to the yarn configuration,0
as a developer id like to remove id and timestamp attributes from the tuple class so i can improve performance characteristics by not having them go through serde instead we could leverage message headers to collect such information,3
remove spark and hadoop dependencies from custom module classpath remove spark and hadoop requirements from spring-xd-module-parent and gradle module plugin,0
investigate using redis txs and pipeline for inboundoutbound q adapter perf improvements investigate using transactions and pipelining to improve performance of both the inbound and outbound redisqueue channel adapters involves testing against a pre-release of sdr 11 m2,0
create si components that wrap reactors tcp server,0
more dsl work checking behaviour for non-deployable streams with support for substreamsparameterized streams now in the parser it will be possible to create a stream that cannot be deployed it may not fit the sourceprocessorsink structure or it is a parameterized stream with no default values for parameters need to check how xd is going to handle these - after creating them attempting to deploy them should return appropriate errors they should exist in the stream directory,0
vary producer threads xd-b-2 send 1m messages of 1000 bytes via the generator vary the number of producer threads measure the msgsec rate and calculate the data transfer rate in mbsec number of threads 2 4 8,0
add http port command line option to adminmain currently streamserver has setport but no way for end user to set it,0
as a developer i want to be able to connect to multiple types of transports in an application so that i can receive and send messages to different transport types,4
--type not supported by module delete as shown in documentation examples in the module composition example here httpdocsspringiospring-xddocs100m6referencehtmlcomposing-modules on of the examples is module delete --name foo --type sink which fails as the --type argument is not supported by the cli there are 3 other references to the --type argument in the documentation which may not be supported by the cli anymore,0
upgrade sdr to get rid of temporary no-op serializer spring data redis 11 m2 added the ability to use redistemplate with binary data we should switch to that instead of the no-op serializer we were forced to implement previously,0
add code coverage to gradle build build should be able to generate code coverage reports after a quick tour of the intertubes it seems that jacoco is a well maintained project and has first class support inside gradle httpwwwgradleorgdocscurrentuserguidejacocopluginhtml,0
embed local message bus in dirt as default for singlenode currently all message bus implementations are removed from the runtime classpath and loaded on demand from the file system according to the transport setting custom module projects that include in container testing must install messagebus-local on the local file system this is currently configured as a task for module build scripts this is also a dependency for testing in the ide and developers need to execute the build task or configure the messagebus manually embedding the local mb for the singlenode application local is not a valid transport for distributed eliminates this step,0
syslog acceptance tests,0
update spring-data-hadoop version to 204 for xd 103,0
fix section headers in reference toc see httpdocsspringiospring-xddocscurrent-snapshotreferencehtmlintroduction26 there should be chaptersection title before this,0
modify file sink to avoid dot with empty suffix the expression currently appends suffix where the default suffix is out if the suffix value were an empty string this would lead to the file name ending with a dot we should update the expression so that it only appends the dot if the suffix is not empty this might be possible with a ternary expression,0
as a user id like to either use sql or tablename options so that i can build a partitioned job with where clause and strict table-column combo respectively,4
retrieve information for a rich gauge todo as part of this see xd-537 get rid of so-called service layer in analytics project doesnt do much right now and logic would better live in the handler imo have rest controllers depend on xrepository in all cases,0
remove unused post module references,0
test recommended xd cluster strategy on slowbad network h1 run acceptance tests on the following deployments h2 slow network simulate slow network by deploying a xd cluster where the zk ensemble is only available via wan h2 network packet loss simulate cases where a network packets can be lost,0
remove hardcoded yarn app version jars we currently use fixed paths like spring-cloud-data-yarnspring-cloud-data-yarn-appmastertargetspring-cloud-data-yarn-appmaster-100build-snapshotjar in yml files need to make define version during a build and allow to override location of those files,0
dbpassword not being passed when sqoop job --create called from spring-xd batch job created a single definition sqoop job --create statement when processed through sqoop direct see attach image for props in repos jobname sqoop2 notice job definition set dbrequirepassword false and has a propname called dbpassword that holds the value for password when same definition is created as a batch job via spring-xd see image jobname lookupdjob the dbrequirepassword prop is set to true and the dbpassword is not even created as a row this causes a password prompt when trying to execute the job in sqoop direct that was created via a spring-xd batch job note the job definition for spring-xd job contains meta-connect with username and password defined as well as import jdbc --connect username and password when created via sqoop no spring-xd password is stored and job is able to execute with no prompt please see attachment for repository job values highlighted in yellow is the discrepant property and value attribution please reach out if there are questions or need further details to automate spring-xd batch job using sqoop via spring we can not be prompted for password spring-xd job definition job create sqooplookupdjobv1 --definition sqoop --commandjob --args--create lookupdjob --meta-connect jdbcpostgresqlxxxxxxxxx5433bdluserxxxxxpasswordxxxxxx -- import --connect jdbcoraclethinxxxxxxcomxxxxgdwp --username xxxxx --password xxxxx --query select rowwid lkupid trimtranslatelkupcd chr10chr13 - as lkupcd trimtranslatelkupdesc chr10chr13 - as lkupdesc trimtranslatelkuptype chr10chr13 - as lkuptype trimtranslatelkupval chr10chr13 - as lkupval srcstrtdt srcenddt winsertdt wupdatedt from masterdatawlookupd where 11 and conditions --incremental append --check-column rowwid --last-value 10150 --target-dir usermonasj1bdldatasqoopjobtest --num-mappers 1 --fields-terminated-by --append sqoop direct definition sqoop job --create sqoop2 --meta-connect jdbcpostgresqlxxxxxxxxx5433bdluserxxxxxpasswordxxxxxx -- import --connect jdbcoraclethinxxxxxxcomxxxxgdwp --username xxxxx --password xxxxx --query select rowwid lkupid trimtranslatelkupcd chr10chr13 - as lkupcd trimtranslatelkupdesc chr10chr13 - as lkupdesc trimtranslatelkuptype chr10chr13 - as lkuptype trimtranslatelkupval chr10chr13 - as lkupval srcstrtdt srcenddt winsertdt wupdatedt from masterdatawlookupd where 11 and conditions --incremental append --check-column rowwid --last-value 10150 --target-dir usermonasj1bdldatasqoopjobtest --num-mappers 1 --fields-terminated-by --append,0
streamserver context lifecycle issues the moduledeployer calls getbeansoftype before the context has had its propertysourcesplaceholderconfigurer attached this can cause issues with factorybean s with placeholders in constructor args because the unresolved placeholder is used when the factorybean is pre-instantiated to determine the type of object it will serve up,0
create documentation for zk runtime,0
add profile activation on top of xd-953,0
hdfsmongodb job failing due because of missing id in default tuple looks to have been introduced by httpsgithubcomspring-projectsspring-xdpull1577 deployment single admin 2 container deployment using rabbitmq as the transport below is a partial stacktrace please check log for full stacktrace log is attached noformat 2015-05-15 105015843 120snap error xdbusjobec2job3-1 stepabstractstep - encountered an error executing step readresourcesstep in job ec2job3 orgspringframeworkdaoinvaliddataaccessapiusageexception cannot autogenerate id of type javautiluuid for entity of type orgspringframeworkxdtupledefaulttuple at orgspringframeworkdatamongodbcoremongotemplateassertupdateableidifnotsetmongotemplatejava1153 at orgspringframeworkdatamongodbcoremongotemplatedosavemongotemplatejava882 at orgspringframeworkdatamongodbcoremongotemplatesavemongotemplatejava837 at orgspringframeworkbatchitemdatamongoitemwriterdowritemongoitemwriterjava128 at orgspringframeworkbatchitemdatamongoitemwriter1beforecommitmongoitemwriterjava156 at orgspringframeworktransactionsupporttransactionsynchronizationutilstriggerbeforecommittransactionsynchronizationutilsjava95 at orgspringframeworktransactionsupportabstractplatformtransactionmanagertriggerbeforecommitabstractplatformtransactionmanagerjava928 at orgspringframeworktransactionsupportabstractplatformtransactionmanagerprocesscommitabstractplatformtransactionmanagerjava740 at orgspringframeworktransactionsupportabstractplatformtransactionmanagercommitabstractplatformtransactionmanagerjava726 at sunreflectnativemethodaccessorimplinvoke0native method at sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 at sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 at javalangreflectmethodinvokemethodjava606 noformat,0
remove unused code related to accepted media type in messagebus,0
streamjob deployment state is always incomplete in case of module count zero in case of the deployment property module count for a specific module in a streamjob is zero the streamjob deployment status is calculated as zero even though the modules are deployed to all matching containers currently the defaultstatecalculators calculate method doesnt check if the expected count is zero also we would need all the matching containers to determine the same module is deployed to all the matching containers in case of module count 0,0
list streamsjobs based with deployed modules currently there is a stream listjob list which shows the status of a given streamjob along with the dsl and there is runtime modules which shows all the deployed modules with their container info we need a better rest endpoint that gives all the deployed modules for a given streamjob along with the status,0
hadoop distro log message shows wrong version when set via env var if we export hadoopdistro env var instead of using --hadoopdistro parameter then the logging message is wrong it always says hadoop distro hadoop26 even if we set hadoopdistro to something else the classpath is built correctly maybe we should just remove this logging message since we log the actual version used in the next log message,0
empty parameter sent to job when launched from ui job gets a empty keyvalue pair when launching the job from the admin-ui,0
batch jobs need container admin profiles this is to set the appropriate data source so that the container will use admins batch repository,0
as a developer id like the publish-mavengradle script to use values for dependencies eg spring boot and hadoop-common from our central dependency list in this case dependenciesproperties so that i dont have to update them manually anymore,2
move ftp support from x package to spring-xd-dirt batch package commit httpsgithubcomspring-projectsspring-xdcommit761cd5e8250c055878caf3a789ab5b3254ba48e8 introduced support for ftp and added a bunch of x classes these should not belong to dirt proper though and should be added to an extension style project the jobs module would then depend on them,0
kafka source and sink headers shouldnt interfere with bus functionality the kafka sink should not make use of the message headers sent by the kafka receivers in the kafka bus similarly the headers received from the kafka source should not be propagated when sending to the kakfa bus httpsgithubcomspring-projectsspring-xdissues1804,0
update analytics gauge section to use shell commands instead of curl,0
rabbit source acceptancetest,0
update twittersearch to use spring integration support,0
as a spring xd developer id like to move reactor-ip module from xd to s-c-s repo so i can use it as source to build streaming pipeline,2
create xdcontainer class to start stream server provide optional command line arg to embed the container launcher aka - xd-admin server xdcontainersh --embeddadmin,0
users should be able to package custom modules into a single jar if a user needs to deploy a module containing custom code they have to build a jar for the lib dir and somehow deploy the app context file separately to a modules dir this is a bit inconvenient to build from a project since context files in srcmainresources typically get built into a jar might be better to accept both jar and xml files in the modules dir though that brings up the issue of classpath isolation,0
as a user id like to have the option to explicitly defineconfigure error channel so that i can stage and route the errorsexceptions through the dedicated channel and continue ingestion scenario http source ingest failure at either source processor or sink module regardless of whether it is a custom module or not traverse through the exception to propagate the actual caused by stage the error as payload and route it to the error channel example configuration error channel definition similar to topicerrorsstreammodule configure custom exception similar to catchexception exception hierarchy globalexception defaultexception modulespecificexception,5
create ootb batch job for import and processing multiple files to jdbc create a sample batch job for inclusion in the distribution that will perform the following tasks itemreader read a from a directory with multiple files configurable support for csv assume first line has header values convert to tuple data structure itemprocessor provide groovy based no-op itemprocessor configurable itemwriter write to jdbc provide assume there is an db instance running somewhere specify connection info configurable the sample job should be documented,0
use dedicated modules for code completion fingerprinting see discussion at httpsgithubcomspring-projectsspring-xdpull495discussion-diff-9291037,0
fix module type guessing heuristics commit 96de9fcfaf32719413015a1a6bace1b30b6b9610 strengthened module type inference but some corner cases remain marked as todos and commented out assertions in tests to be effective we need to look at the whole deployed stream or composed module modify parsincontext accordingly,0
command for creating a job optional --autostart switch to also deploy the job,0
update spring-data-hadoop version to 210rc1 update spring-data-hadoop version to 210rc1 this also includes updating the following - adding hadoop26 apache hadoop 260 as distro - adding hdp22 hortonworks hdp 22 as distro - set default distro to hadoop26 - update cdh5 to version 530 - remove older distros - hadoop24 hdp21,0
design for deploying xd on ec2 create enough of a design to develop additional stories,0
user should be able to view the list of all the job definitions create a tab view with tabs job definitions runtime jobs deployed jobs job instances is runtime jobs a better name here and job executions on clicking job definitions tab we can have a table view of job definitions since we bootstrapjs we can have a responsive table layout to list all the available job definitions at the rest layer jobs provides the list of job definitions we can expand the jobscontroller lists queryoptions to add more criteria especially to list jobdefinitions status deployedundeployed also this is the ui implementation for the shell command job list,0
an error message occurs about the shortdescription header-enricher here is an error i got using the header-enricher from spring-xd-modules codejava field error in object info on field shortdescription rejected value a header enricher to set message headers in a stream codes patterninfoshortdescriptionpatternshortdescriptionpatternjavalangstringpattern arguments orgspringframeworkcontextsupportdefaultmessagesourceresolvable codes infoshortdescriptionshortdescription arguments default message shortdescriptionljavaxvalidationconstraintspatternflag11eeec65pisuppercase default message short description must start with a capital letter and end with a dot code and if i look the config properties indeed short description doesnt end with a dot codejava infoshortdescription a header enricher to set message headers in a stream code,0
remove trigger as a source for acceptance tests to remain consistent across all processor sink job tests http should be used as the source,0
as a developer id like to troubleshoot and fix root level access over cf spi rest calls theyre broke at the moment access for following calls fail code href httpss-c-dataflow-admincfappspezpivotalio80streams href httpss-c-dataflow-admincfappspezpivotalio80tasks href httpss-c-dataflow-admincfappspezpivotalio80metricscounters href httpss-c-dataflow-admincfappspezpivotalio80metricscountersname href httpss-c-dataflow-admincfappspezpivotalio80modules href httpss-c-dataflow-admincfappspezpivotalio80completionsstreamstartdetaillevel code,1
update rpm and brew recipes,0
provide proper ordering for all rest endpoints with the implementation of xd-1864 we need to make sure that the paginated data returned from the rest endpoints has proper default ordering up to now we have done client-side ordering in the admin ui but with server-side pagination the server-side should support proper pagination as well eventually we may even decide to provide more flexible ordering options asc vs desc sort on different properties etc which may be a separate jira,0
as a s-c-d developer id like to publish the s-c-d image to dockerhub so i can incrementally push the latest commits to the remote location,1
error when removing hdfs files in shell i get this code xdhadoop fs rm xdtesttime-3log error run hdfs shell failed message is orgapachehadoopfsfilestatusisdirectoryz code so far i have seen this with --hadoopdistro hdp13 and hadoop12 same command works fine using shell from m5 release,0
eliminate package tangle see httpssonarspringsourceorgdrilldownmeasures7173metricpackagetangleindexrids5b5d7717,0
as a spring xd developer id like to move gpfdist module from xd to s-c-s repo so i can use it as sink to build streaming pipeline,2
json information returned by curl does not reflect deployed status correctly the json information returned by curl does not reflect deployed status correctly to recreate 1 start xd-singlenode 2 start xd-shell in the xd-shell i stream create --definition time log --name ticktock ii stream list note the status of the ticktock stream is deployed 3 open a new command prompt type curl httplocalhost9393streamsticktock 4 note the returned json stream nameticktockdeployednulldefinitiontime loglinksrelselfhrefhttplocalhost9393streamsticktock 5 i would expect the json attribute deployed to be true but it is null,0
unitintegration tests need appropriate cleanup of test data during teardown currently there are test dataeg stream name not being cleaned up during teardown especially when there is a test case failure this breaks the test suite when the same test data is used by other tests we need to move the cleanup logic at an appropriate level so that the test data is always cleaned up irrespective of the test result,0
facing issue while running spring xd batch job on hdp version 2320-2950 version spring xd version spring-xd-130release spring-xd-130release-yarn os version linux 2632-431292el6x8664 java version java version 17065 description the simple word count map reduce job using spring xd is failing with inline error message steps to recreate the problem 1 created a jar for simple word count map reduce job 2 created jar using information given in httpdocsspringiospring-hadoopdocs202releasereferencehtmlhadoophtmlhadooptasklet 3 once the final jar was ready uploaded using module upload --name testmrmodule --type job --file homeuserjarsamplemrjobjar 4 after that created and deployed job using job create --name testmrjob --definition testmrmodule --deploy 5 finally launched using job launch testmrjob which failed with inline error describe xd deployment distributed deployment type distributed - yarn on aws ec2 cloud number of xd-admins and xd-containers 1 admin and 3 containers describe other components transport redis 301 zookeeper version 3462320-2950 hadoop deployment data platform hortonworks hdp 2320-2950 rdbms mysql error message 052952673 info deploymentspathchildrencache-0 containerdeploymentlistener - deploying job testmrjob 052953655 info deploymentspathchildrencache-0 containerdeploymentlistener - deploying module moduledescriptor6e5af900 modulename testmrmodule modulelabel testmrmodule group testmrjob sourcechannelname null sinkchannelname null index 0 type job parameters mapempty children listempty 053024351 error inboundjobtestmrjob-redisqueue-inbound-channel-adapter1 stepabstractstep - encountered an error executing step teststep in job testmrjob javalangillegalargumentexception unable to parse hdpappshdpversionmapreducemapreducetargzmr-framework as a uri check the setting for mapreduceapplicationframeworkpath at orgapachehadoopmapreducejobsubmitteraddmrframeworktodistributedcachejobsubmitterjava443 at orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointaccess300redisqueuemessagedrivenendpointjava54 at orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointlistenertaskrunredisqueuemessagedrivenendpointjava323 at orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava55 at javalangthreadrunthreadjava745 caused by javaneturisyntaxexception illegal character in path at index 11 hdpappshdpversionmapreducemapreducetargzmr-framework at javaneturiparserfailurijava2848 at javaneturiparsercheckcharsurijava3021 at javaneturiparserparsehierarchicalurijava3105 at javaneturiparserparseurijava3063 at javaneturiiniturijava588 at orgapachehadoopmapreducejobsubmitteraddmrframeworktodistributedcachejobsubmitterjava441,0
spring-integration-hadoopxsd and reactor imports the si 30 instead of si 40 schema,0
as a developer id like to study the state management requirements so i can brainstorm and identify the design to natively add stateful stream processing support in xd,5
stream-lib - analytics operators we would like to experiment with stream-lib a stream summarizer and cardinality counting distinct elements estimator to further enrich spring xds analytics feature-set github - httpsgithubcomaddthisstream-lib,0
ensure xd samples share common version dependencies currently samples use separate build scripts so the xd versions etc may all be different there should be a top level build script or at least a way to ensure the same version dependencies,0
support use of applicationyml fragments since spring boot by default looks for property sources from fileconfigapplicationyml and fileapplicationyml in xd bundles the classpath of our xd startup scriptsadmin container singlenode startup scripts set to use apphome and apphomeconfig but if we have an applicationyml fragment on apphomeconfig then it is considered as classpath resource and the actual applicationyml from dirt lib classpath is not loaded also we need to separate out the properties files we have inside apphomeconfig as by default boot uses config directory as well,0
update docs to add configs changes for composed jobs need to add the following instructions to setup the configurations for the batch repo to composed job docs to support parallel jobs 1 uncomment and change the following from spring batch configure other spring batch repository values most are typically not needed isolationlevel isolationserialization to spring batch configure other spring batch repository values most are typically not needed isolationlevel isolationreadcommitted and update the hsqldb datasource to spring datasource url jdbchsqldbhsqlhsqlserverhostlocalhosthsqlserverport9101hsqlserverdbnamexdjobsqlenforcestrictsizetruehsqldbtxmvcc,0
job executions without deployed job deleted shall not be restartable,0
refactor s-c-s samples to use configurationproperties the spring-cloud-streams samples have module options classes copied over from xd they should use a pure configurationproperties approach making sure metadata is generatedhand written as appropriate mixins are still referenced there but obviously cant work so provide an equivalent,0
gemfire source acceptance test deploy xd sample gemfire on utility machine deploy stream with gemfire as a source create a stream stream2 with gemfire-server as a sink send data to stream 2 and verify that the data has been received by gemfire source update ci tests to increase heap to support gemfire tests,0
using a newer version of a spring-xd dependency is ignored in packaging when creating a new module with a dependeny which has a newer version than the one spring-xd uses in my example i use jedis 261 and spring-xd uses jedis 252 the packaging ignores the dependency using the solution of spring-boot-maven-plugin doesnt help because it will only include what you explicitly add to the include section transitive dependencies are not included,0
we no longer validate the --hadoopdistro options in the xd scripts we no longer validate the --hadoopdistro options in the xd scripts seem sthe classes doing this validation were removed for boot we do this validation in the xd-shell script,0
classnotfoundexception ossocialtwitterapitweet with rabbit-transport using rabbit as a transport i get the below error when creating the following stream code stream create mytweets --definition twittersearch --queryspring log --deploy true code in local mode the stream executes just fine of course it works with --outputtypeapplicationjson nevertheless i was not expecting that exception see below issue was also verified by grenfro code orgspringframeworkamqprabbitlistenerlistenerexecutionfailedexception listener threw exception orgspringframeworkamqprabbitlistenerabstractmessagelistenercontainerwraptolistenerexecutionfailedexceptionifneededabstractmessagelistenercontainerjava758 orgspringframeworkamqprabbitlistenerabstractmessagelistenercontainerdoinvokelistenerabstractmessagelistenercontainerjava653 orgspringframeworkamqprabbitlistenerabstractmessagelistenercontainerinvokelistenerabstractmessagelistenercontainerjava576 orgspringframeworkamqprabbitlistenersimplemessagelistenercontaineraccess001simplemessagelistenercontainerjava75 orgspringframeworkamqprabbitlistenersimplemessagelistenercontainer1invokelistenersimplemessagelistenercontainerjava154 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkretryinterceptorretryoperationsinterceptor1dowithretryretryoperationsinterceptorjava69 orgspringframeworkretrysupportretrytemplatedoexecuteretrytemplatejava255 orgspringframeworkretrysupportretrytemplateexecuteretrytemplatejava162 orgspringframeworkretryinterceptorretryoperationsinterceptorinvokeretryoperationsinterceptorjava87 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy102invokelistenerunknown source orgspringframeworkamqprabbitlistenersimplemessagelistenercontainerinvokelistenersimplemessagelistenercontainerjava1111 orgspringframeworkamqprabbitlistenerabstractmessagelistenercontainerexecutelistenerabstractmessagelistenercontainerjava559 orgspringframeworkamqprabbitlistenersimplemessagelistenercontainerdoreceiveandexecutesimplemessagelistenercontainerjava904 orgspringframeworkamqprabbitlistenersimplemessagelistenercontainerreceiveandexecutesimplemessagelistenercontainerjava888 orgspringframeworkamqprabbitlistenersimplemessagelistenercontaineraccess500simplemessagelistenercontainerjava75 orgspringframeworkamqprabbitlistenersimplemessagelistenercontainerasyncmessageprocessingconsumerrunsimplemessagelistenercontainerjava989 javalangthreadrunthreadjava745 caused by orgspringframeworkmessagingmessagehandlingexception error occurred in message handler se0convertbridge orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava84 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava114 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava93 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava98 orgspringframeworkintegrationamqpinboundamqpinboundchanneladapteraccess400amqpinboundchanneladapterjava44 orgspringframeworkintegrationamqpinboundamqpinboundchanneladapter1onmessageamqpinboundchanneladapterjava90 orgspringframeworkamqprabbitlistenerabstractmessagelistenercontainerdoinvokelistenerabstractmessagelistenercontainerjava650 24 more caused by orgspringframeworkxddirtintegrationbusserializerserializationexception unable to deserialize null class not found orgspringframeworkxddirtintegrationbusmessagebussupportdeserializepayloadmessagebussupportjava381 orgspringframeworkxddirtintegrationbusmessagebussupportdeserializepayloadmessagebussupportjava363 orgspringframeworkxddirtintegrationbusmessagebussupportdeserializepayloadifnecessarymessagebussupportjava346 orgspringframeworkxddirtintegrationrabbitrabbitmessagebusaccess500rabbitmessagebusjava70 orgspringframeworkxddirtintegrationrabbitrabbitmessagebusreceivinghandlerhandlerequestmessagerabbitmessagebusjava448 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava170 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 37 more caused by javalangclassnotfoundexception orgspringframeworksocialtwitterapitweet javaneturlclassloader1runurlclassloaderjava366 javaneturlclassloader1runurlclassloaderjava355 javasecurityaccesscontrollerdoprivilegednative method javaneturlclassloaderfindclassurlclassloaderjava354 javalangclassloaderloadclassclassloaderjava425 sunmisclauncherappclassloaderloadclasslauncherjava308 javalangclassloaderloadclassclassloaderjava358 javalangclassforname0native method javalangclassfornameclassjava190 orgspringframeworkxddirtintegrationbusmessagebussupportdeserializepayloadmessagebussupportjava375 43 more code,0
create a stubbed out job controller,0
changing externalized module config properties at runtime once the container starts up and the module is deployed the externalized module configuration properties could not be changed for the subsequent modules of same type here is the scenario for a stream http transform log with xdmoduleconfiglocation and xdmoduleconfigname using their default values in xdconfighomemodulesmodulesyml i have processor transform expression inside modulesyml and in xdconfighomemodulesprocessortransformtransformproperties i have expression first module inside transformproperties now i deploy this stream http transform log lets say i have another stream that uses the transform module but this time i want to change the expression in xdconfighomemodulesprocessortransformtransformproperties to expression second module now when the stream containing this transform module gets deployed it uses the same transformproperties that is used by the previously deployed transform module what i understand from this behavior is that the environmentawaremoduleoptionsmetadataresolver caches the module environments for a given module type and name when the same module is deployed from a given stream again it uses the stored module environment and doesnt refreshload the property sources from the module config locations mentioned above though this is good in one way that same module environment is re-used changing the externalized module config properties would have no affect after the first module of same typename is deployed though the environmentawaremoduleoptionsmetadataresolver is used by both admin and container this jira focuses more on the container side there is one valid point with the current behavior where the module environment is cached and wont change but is this by design,0
as a user id like to have the option to change the default sqoop metastore so i can implement a db of my choice and not tied to default specifications refer to this threadhttpstackoverflowcomquestions24078668how-to-change-sqoop-metastore for more details,1
add email sink,0
hadoopdistrooptionhandler fails when xdhome ends with a also the approach may not work as expected on windows,0
add steams page to show job triggers the streams page needs to be added to the ui at least to show the job triggers that are created while scheduling xd jobs,0
as a developer id like to enhance test coverage to capture dsl and xml generation variants,4
as a spring xd developer id like to port splitter module from xd to s-c-s repo so i can use it as processor module to build streaming pipeline,2
as a spring-bus lead id like to review the current spring-bus architecture and the design specs so i can address any foundation level gaps,4
as a flo for spring xd user i would like to be able to create a new stream using the graphicat ui this flow should be shown in a graphical way also in definition tab httpexamplecomimagepng right now it doesnt happen due to a javascript error code typeerror thisnodegettransformtoelement is not a function at objectvelementbbox httplocalhost9393admin-uilibjointsrcvectorizerjs32336 at jointdiaelementviewjointdiacellviewextendpositionrelative httplocalhost9393admin-uilibjointdistjointallcleanjs274051 at nullanonymous httplocalhost9393admin-uilibjointdistjointallcleanjs271018 at httplocalhost9393admin-uiliblodashlodashcompatjs117723 at eval eval at createiterator httplocalhost9393admin-uiliblodashlodashcompatjs10 anonymous109 at functionforeach httplocalhost9393admin-uiliblodashlodashcompatjs36459 at jointdiaelementviewjointdiacellviewextendupdate httplocalhost9393admin-uilibjointdistjointallcleanjs270011 at bound as update httplocalhost9393admin-uiliblodashlodashcompatjs100521 at jointdiaelementviewjointdiacellviewextendrender httplocalhost9393admin-uilibjointdistjointallcleanjs290314 at jointdiapaperbackboneviewextendaddcell httplocalhost9393admin-uilibjointdistjointallcleanjs500414anonymous function 9393admin-uilibangularangularjs11500 9393attachment-namejpgthumbnail code,1
eliminate internal dependencies on system properties remove systemsetproperty or systemgetproperty for internal xd properties use spring environment abstraction instead also replace in property names with xdpropertykeys this is compatible with environment variable names as a result xd should accept system properties or environment variables or command line options command line options should have highest precedence retain standardenvironment order wrt to system properties and environment variable,0
scs - verifyfix abstractkryomultitypecodec implementation this apparently is not tested or used internally but i expect it to fail having tried a similar approach to derive the class of a generic type in a different situation this method does not always work due to type erasure httpstackoverflowcomquestions3403909get-generic-type-of-class-at-runtime we need to verify if this is working if not fix it the api may require it so possibly unsupportedoperationexception code infers the type from this classs generic type argument param kryo param input return protected t dodeserializekryo kryo input input classt type classt parameterizedtype thisgetclassgetgenericsuperclassgetactualtypearguments0 return dodeserializekryo input type code,0
as a developer id like to publish performance benchmarks along with the infrastructure specifics so the users can use it as a reference while setting up spring xd cluster,5
handling jobexecution stop action if the jobexecution is completed currently the flag stoppable on jobexecutioninforesource is used to find if the jobexecution can be stopped since this flag is set to true even if the jobexecution status is completed the jobexecution can still say it can be stopped,0
automate copyright header management some java files are currently missing headers the plugin at httpsgithubcomhierynomuslicense-gradle-plugin can help but initial trial revealed that - skipexistingheaders does not seem to be honored we may then need to use a year construction like 2001-current or force all files to have current year dont know the legal implications of this - default source sets encompass all files in the classpath basically so that means xml as well as properties files for example it would seem logical to add header to those as well but i dont think this is what we do on other projetcs,0
as a user id like to refer to documentation in wiki so that i can setup and configure spark as a batch job as recommended,1
spring xd supported activestandby mode xd spring deployment capabilities are supported by the activestandby example modulelogcriteriagroupscontainsgroup1 above example is random selection,0
create ootb batch job that uses the hadoop shell to copy multiple files from a local directory into hdfs create a new tasklet implementation that will use the ant globbing like syntax found in multiitemresourcereader to specify the input files and use fsshell to invoke a copyfromlocal command with a specified hdfs output directory the batch job would call the tasklet the job should be documented,0
splunk pulls in an old si jar into sts,0
admin should fail immediately if rabbit is not running container currently does that,0
as a developer id like to migrate module deployment from the repository abstraction used for streamjob definitions so i can create it as a pluggable runtime spi,5
update xd-ec2 acceptance test configs to use 101 repo update xd-ec2 configs to pull from 101 repo update xd-ec2 configs to use spring-xd-101build-snapshot dir update test configs xdhome to spring-xd-101build-snapshot instead of spring-xd-100build-snapshot,0
incorrect port in resource manager address overwrite the resource manager address overwrite is setting the port to 8032 the value cannot be set in serversyml this occurs when pushing the config to hdfs and also when attempting to start the admin server on yarn configurationfactorybean - overwriting rmaddress00008032 with rmaddresshost8032 root spring-xd-101release-yarn binxd-yarn start admin spring boot v117release 2014-10-13 165028710 info configuringbeanfactorypostprocessor - no bean named taskscheduler has been explicitly defined therefore a default threadpooltaskscheduler will be created 2014-10-13 165028724 info configuringbeanfactorypostprocessor - no bean named taskexecutor has been explicitly defined therefore a default synctaskexecutor will be created 2014-10-13 165030311 info springyarnconfiguration - enabling client for yarn 2014-10-13 165030335 info springyarnconfiguration - we couldnt figure out if we could use existing configuration 2014-10-13 165030335 info springyarnconfiguration - building configuration for bean yarnconfiguration 2014-10-13 165030383 info springyarnconfigbuilder - existing yarnconfiguration null 2014-10-13 165030658 info configurationfactorybean - overwriting fsurihdfshost8020 with fsurihdfshost8020 2014-10-13 165030659 info configurationfactorybean - overwriting rmaddress00008032 with rmaddresshost8032,0
windows build fails this hadoop scenario will not work in windows the scope is to disable the test for windows build orgspringframeworkbatchintegrationxremotefiletohadooptasklettests testwrite failed javalangillegalstateexception caused by orgspringframeworkbeansfactorybeancreationexception caused by javalangunsatisfiedlinkerror orgspringframeworkbatchintegrationxremotefiletohadooptests testsimple failed javalangillegalstateexception caused by orgspringframeworkbeansfactorybeancreationexception caused by javalangunsatisfiedlinkerror java hotspottm client vm warning ignoring option maxpermsize512m support was removed in 80 3 tests completed 2 failed spring-xd-extension-batchtest failed failure build failed with an exception,0
as a s-c-s developer id like to setup ci infrastructure for spring-cloud-stream-modules s-c-s-m repo so i can build the project continuously on every commits,3
spring-xd-dirt is not providing all xdhomelib libraries spring xd is packaging a spring-xd-dirt dependency which aims to provide runtime libraries spring-xd-drit-110release is not providing all libraries from xdhomelib see spring-xd-dirt-vs-libxlsx attachment generated with ls xdhomelib and mvn dependencylist on a module with spring-xd-module-parent parent - 100 jars are not provided - some are provided in different versions - some are provided but not available in xdhomelib this forces us to add and maintain missing dependencies in our own module parent eg to use commons-lang3 in our code which is present in xdhomelib but is not provided by spring-xd-dirt why there are so many differences between xdhomelib and spring-xd-dirt,0
sts gradle import missing dependencies without enabling scala dirt errors after cleaneclipse eclipse - same problem after a complete gradle reimport manually adding the spring-xd-spark-streaming project to the xd-dirt classpath didnt help code descriptionresourcepathlocationtype the import orgspringframeworkxdspark cannot be resolvedsparkstreamingcontainerfilterjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtsparkline 33java problem the import orgspringframeworkxdmodulemoduletype is never usedmoduledeploymenttestsjavaspring-xd-dirtsrctestjavaorgspringframeworkxddirtpluginsline 33java problem the import orgspringframeworkbatchcoreconfigurationxmljobparserjobfactorybean is never usedbatchjobregistrybeanpostprocessorjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginsjobline 31java problem the value of the field kafkamessagebustestsembeddedheadersmessageconverter is not usedkafkamessagebustestsjavaspring-xd-dirtsrctestjavaorgspringframeworkxddirtintegrationbuskafkaline 56java problem sparkstreamingsupport cannot be resolvedsparkstreamingcontainerfilterjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtsparkline 68java problem sparkstreamingsupport cannot be resolved to a variablesparkstreamingcontainerfilterjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtsparkline 75java problem sparkmessagesender cannot be resolved to a typemessagebussenderjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 38java problem the import orgspringframeworkbeansfactoryannotationvalue is never usedmessagebusclassloaderfactoryjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserverline 27java problem the import orgspringframeworkxdspark cannot be resolvedmessagebussenderjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 28java problem the method sendmessage of type messagebussender must override or implement a supertype methodmessagebussenderjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 104java problem the method start of type messagebussender must override or implement a supertype methodmessagebussenderjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 81java problem the method isrunning of type messagebussender must override or implement a supertype methodmessagebussenderjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 123java problem the method stop of type messagebussender must override or implement a supertype methodmessagebussenderjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 109java problem the import orgspringframeworkxddirtpluginsjobsupportjoblaunchingjobrepository is never usedruntimebatchconfigurerjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtbatchline 37java problem resource leak cache is never closedtestkafkaclusterjavaspring-xd-dirtsrctestjavaorgspringframeworkxddirtintegrationkafkaline 116java problem the value of the field streamdeployerparser is not usedstreamdeployerjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamline 42java problem the import orgspringframeworkbatchcorerepositorysupportsimplejobrepository is never usedruntimebatchconfigurerjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtbatchline 31java problem the method endpositerabletoken from the type streamconfigparser is never used locallystreamconfigparserjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamdslline 555java problem the method startpositerabletoken from the type streamconfigparser is never used locallystreamconfigparserjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamdslline 546java problem the expression of type abstractinstancepersistingdeployerdi is already an instance of type abstractinstancepersistingdeployerxdcontrollerjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtrestline 268java problem the expression of type abstractinstancepersistingdeployerdi is already an instance of type abstractinstancepersistingdeployerxdcontrollerjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtrestline 217java problem resource leak context is never closedsparkstreamingchanneljavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 45java problem the value of the field streamconfigparsertestszookeeperconnection is not usedstreamconfigparsertestsjavaspring-xd-dirtsrctestjavaorgspringframeworkxddirtstreamdslline 63java problem the value of the field jobplugintestsdeploymentproperties is not usedjobplugintestsjavaspring-xd-dirtsrctestjavaorgspringframeworkxddirtpluginsjobline 94java problem the import orgspringframeworkxdspark cannot be resolvedsparkstreamingpluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 41java problem sparkstreamingsupport cannot be resolvedsparkstreamingpluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 68java problem sparkstreamingsupport cannot be resolved to a variablesparkstreamingpluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 79java problem sparkstreamingsupport cannot be resolved to a variablesparkstreamingpluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 81java problem sparkstreamingsupport cannot be resolved to a variablesparkstreamingpluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 97java problem sparkstreamingsupport cannot be resolved to a variablesparkstreamingpluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 99java problem sparkstreamingsupport cannot be resolved to a variablesparkstreamingpluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 100java problem the value of the field moduletypeconversionpluginlogger is not usedmoduletypeconversionpluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginsstreamline 45java problem sparkstreamingsupport cannot be resolved to a variablesparkstreamingpluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 82java problem sparkstreamingsupport cannot be resolved to a typesparkstreamingpluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 87java problem the method getcomponentclasssparkstreamingsupport from the type module refers to the missing type sparkstreamingsupportsparkstreamingpluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 90java problem sparkstreamingsupport cannot be resolved to a typesparkstreamingpluginjavaspring-xd-dirtsrcmainjavaorgspringframeworkxddirtpluginssparkstreamingline 90java problem code,0
the user needs the ability to pause and resume triggers based on a calendar,0
permgen errors after running for a long time leaving the runtime running eg as singlenode ends up in permgen errors,0
resourcemoduleregistry doesnt support ha namenode for hdfs custom module location as an xd module developer i would like to use hdfs for my custom module location even when my namenode is configured for ha we had an issue filed in the spring-xd-ambari project it seems like custom module doesnt pickup namenode ha and still use namenodeproxiescreatenonhaproxy see httpsgithubcomspring-projectsspring-xd-ambariissues14,0
document json-to-tuple object-to-json and http-client note that the documentation for the module options in particular for http-client should be autogenerated using the following syntax see others noformat processorhttp-client processorhttp-client noformat,0
ui the user can view the job properties that were specified when the job definition was created as well as job parameters when it was launchedexecuted,0
hdfs sink loses messagesdata when container killed scenario running a rabbit hdfs stream and killing the xd-container while stream is running looks like the messages gets acked before the data is flushed to hdfs this results in some data lost due to data either in tmp file or cached in the dfs client reference vesc-387,0
update shell to support tasks h2 narrative as a user i need to be able to deploy a task boot jar via the cli h2 back story since the concept of jobs as an explicit primitive within spring xd is going away in spring-cloud-data the shell needs to be updated to reflect that,0
as a developer id like to add an option to support apache ambari installed spring xd on yarn so i can easily establish the cluster up and running,4
have consistent file format requirements in spring xd and hadoop when the following format is specified - noformat home filehadoopxdcustom-modules noformat there is no root-path following the file scheme that makes the hadoop job launcher interpret what follows as a host name and will look for xdcustom-modules on the host hadoop this results in javanetunknownhostexception hadoop this format works for module upload though the module upload relies on resource location resolution from spring framework which is more lenient 1 the mapreduce job submission uses code from the apache hadoop project and uses a more stringent resolution this results in ambiguity filemydirectory and requires the root path to be specified 1 httpdocsspringioautorepodocsspring42xspring-framework-referencehtmlresourceshtmlresources-filesystemresource-caveats,0
check job restartable flag for jobexecution restart action job create bogus --definition jdbchdfs --sqlselect from bogus --restartablefalse job deploy bogus job launch bogus httplocalhost9393admin-uijobsexecutions click restart job execution on the failed job execution get message job was relaunched container log has 123627231 error task-scheduler-10 handlerlogginghandler145 - orgspringframeworkmessagingmessagehandlingexception orgspringframeworkbatchcorerepositoryjobrestartexception jobinstance already exists and is not restartable,0
end point to retrieve a list of all xd artifacts of all kinds any kind of sophisticated artifact retrieval mechanism in xd will need to grab more than one kind of artifact at once for example if i want to see all taps streams triggers and jobs ie- everything i need to make 4 http requests i can imagine dashboards that need to display information on artifacts of multiple kinds there will also need to be a way to pass a query to return a sub-set of artifacts but that should be designed separately,0
implement reliable spark streaming receiver the spark streaming message bus receiver isnt reliable yet the receiver needs to handle data loss in case of worker node that has it running we currently handle the driver failure automatically by re-deploying spark streaming module but this is about the data loss when the worker node dies please see the documents here httpsdatabrickscomblog20150115improved-driver-fault-tolerance-and-zero-data-loss-in-spark-streaminghtml httpsparkapacheorgdocslateststreaming-custom-receivershtml,0
support composed module deletion provided it is not currently used in any stream v attempt to destroy a composed module should not be supported at all should not be supported if involved in at least one stream eb mf should be supported and have no other consequences whatsoever see iv eb should be supported and invalidatedestroy streams involving it,0
rabbitmessagebus should prefix all created queues with a prefix in order to support ha to configure rabbit ha a naming convention should be used to identify the queue that need to be mirrored,0
as a developer id like to upgrade spring xds ambari plugin to 13 release,3
test with java8 runtime,0
use boot plugin and io platform for versions where possible,0
run all shell integration tests also with enabled security apply the same strategy for the module command tests also to all other shell integration tests,0
first class json path support similar to xpath with xml there are now some initial support in si that enable the use of filterrouters based on json path expressions that support needs to be reviewed and then brought up to the level of exposure in spring xd so that routerfilter modules could use json path json-path-filterrouter are components that need to be created perhaps others this story needs to be broken down further,0
http source still listens on port 9000 after removal steps to reproduce 1 curl -d http log httplocalhost8080streamstesthttp 2 curl -x delete httplocalhost8080streamstesthttp 3 curl -d http log httplocalhost8080streamstesthttp orgjbossnettychannelchannelexception failed to bind to 000000009000,0
spike study options for loading reusable configurations scd admin will have connection information for a task and job repository this information will need to be transferred to the task launcher the scope is to study the following options would the default place for configurations be in the yaml file config-server should be an option if nothing specified the default is always yaml,0
update core spring dependency to 400m3,0
make processorheader-enricher available,0
document the log sink,0
update to spring-data-hadoop 220m1 we should update to use spring-data-hadoop 220m1in order to use the fixes available for the hdfs writing there syncable writes timeout a few things to keep in mind - this updates cloudera cdh to 533 - kite version is now 10 - need to test the hdfs-dataset sink,0
cleanup and optimize gradle tasks to bundle spring-xd distribution we need to cleanup some of the duplicate gradle tasks that bundle spring-xd distributions currently distxd does the copy of distributions from spring-xd-dirt redis and spring-xd-gemfire-server projects into rootdirdistspring-xd and the task zipxd makes the zip archive these tasks should be combined with the distzip doczip tasks we also need to remove the duplicate artifacts configuration from these tasks,0
as a xd developer id like to upgrade to si 42 spring 421 and amqp 15 dependencies so i can take advantage of the latest improvements,3
hdfs sink should honor --fileextension parameter for bzip2 compressed files looks like the --fileextension isnt used when compressing files with bzip2 some use cases requirer bz2 instead of bzip2 as the extension also bz2 should be the default extension at the same time we should change the default gzip extension to gz,0
default option values broken for composed modules may want to fix properly when tackling the module options for composed modules but this is currently broken and wasnt at some point module compose upperhttp --definition http transform --expressionpayloadtouppercase stream create foo --definition upperhttp log this will fail saying that port cant be resolved this will work though module compose upperhttp --definition http --port9000 transform --expressionpayloadtouppercase stream create foo --definition upperhttp log note that stream create foo --definition upperhttp --portxxx log should work too wut wont but thats another bug will create after this one,0
as a scdf user i want to be able to register artifacts as libraries so that i can reference them in include and exclude statements,2
add support to retrieve job details as an xd user id like to click to go the detail page of the job page whether or not the selected entity is singular or part of a composed job,0
update redistargz bundled in distribution to be version 301 rpm scripts will need to change,0
as a developer id like to create a example to demonstrate jdbc to hdfs data movement,5
create ec2 ami for single-node install of cloudera cdh 450,0
exclude commons-logging from final distro1 xdlib includes jcl-over-slf4j so we dont need additional commons-logging jars in the modules or extensions httpsgithubcomspring-projectsspring-xdpull610,0
add ssl and attachments to mail sink add ssl and attachments to mail sink module see xd-2076 xd-2498,0
if output directory does not exist for a file sink by default allow it to be created there shouldnt be a need to do a mkdir -p before sending data to a file sink,0
as a user id like to have the option to use the sftp source module so that i can access transfer and mange files over any reliable data streams reference spring integration sftp adapterhttpdocsspringiospring-integrationreferencehtmlsftphtml need to consider the infrastructure for testing,2
document append configuration else jdbchdfs writes empty file to hdfs similar to xd-1565 so id link these 2 together steps to reproduce on hadoop12 1 created table people with columns forenamesurname and address use the result from filejdbc 2 job create myjob --definition jdbchdfs --sqlselect col1col2col3 from sometable 3job launch myjob 4 myjob is created on hdfs but with zero bytes 5 throws an exception stack trace attached,0
as a spring-cloud-stream user id like to build stream definitions using dot-delimited syntax for resolving properties for tuple and json,3
jobplugin - use containskey when checking for parameters use containskey when checking for parameters add tests,0
filepollhdfstest fails intermittently from time to time filepollhdfstest fails in the ci acceptance tests the exception that is fired is as follows javalangassertionerror javalangassertionerror the data returned from hadoop was different than was sent expected942b9f47-8169-4dc3-a2ba-3d8fab04a4dc but wasnull need to investigate if this is a timing issue with the test more than likely or with the actual module,0
create design document for implementation strategy for ingesting data from twitter into hdfs that can be analyzed by hawq as part of the hadoop world demonstration work the flow of data using xd from twitter to be analyzed by hawq as done part of this work had the data going into hdfs that hawq was able to query using external tables the work for this story is to identify the concrete technical tasksstories to be created do deliver and document this functionality in xd,0
base server implementation on spring boot server startup is done using spring boot as well as starting a module application context at runtime,0
riemann - measure based alerts we would like to experiment with riemann a clojure library to aggregate events from servers and applications through stream processing features tracking latency distribution email for exceptions memory and cpu statistics this will help understand the behavior of critical components to eventually orchestrate workflows to proactively monitor and notify important contactsgroups as needed webiste - httpriemannio github - httpsgithubcomaphyrriemann,0
upgrade to spring shell 11 ga,0
tasks launcher should be able to record status to a central repository need infrastructure to capture the state from the environment lattice local running the task task launcher needs ability to map the task state as it is reported from the cloud environment lattice local to the enumerated state as specified herehttpsdocsgooglecomdocumentd1ttmqmiwsuefewyysafk8ji4z9ni-5f1vfeaiwhuzsggeditheadingh2ec94f2he9ly the state information needs to be recorded in the taskexecution table enumerated herehttpsdocsgooglecomdocumentd1ttmqmiwsuefewyysafk8ji4z9ni-5f1vfeaiwhuzsggeditheadingh2ec94f2he9ly,0
mismatch between configuration class and script xml for locationscript the orgspringframeworkxdmoduleoptionsmixinsscriptmixin options class shipped with xd 103 refers to script rather than location however the xml configuration still references location in the service activator noformat service-activator output-channeloutput input-channelinput int-groovyscript locationlocation script-variable-generatorvariablegenerator refresh-check-delay60 service-activator noformat creating a stream using the old location argument no longer works obviously noformat xdstream create myjobarchivetrigger --definition tapjobmyjobjob script --locationjob-statusgroovy --variablestgtstatuscompleted queuejobarchivejob --deploy command failed orgspringframeworkxdrestclientimplspringxdexception error with options for module script of type processor location option named location is not supported noformat creating the same stream using --script reports success at the shell prompt but results in an error in the containeradmin logs noformat caused by javalangillegalargumentexception could not resolve placeholder location in string value location noformat working around this by overriding the xml setting in our deployment noformat service-activator output-channeloutput input-channelinput int-groovyscript locationscript script-variable-generatorvariablegenerator refresh-check-delay60 service-activator noformat,0
npe in containerredeploymenttests running the distributed tests -drundistributedteststrue against d109a3a and got the following noformat javalangnullpointerexception orgspringframeworkxddirtmodulestorezookeepermodulemetadatarepositoryupdatedeploymentstatuszookeepermodulemetadatarepositoryjava209 orgspringframeworkxddirtmodulestorezookeepermodulemetadatarepositoryfindallbycontaineridzookeepermodulemetadatarepositoryjava313 orgspringframeworkxddirtcontainerstorezookeepercontainerrepositoryfindallruntimecontainerszookeepercontainerrepositoryjava339 orgspringframeworkxddirtrestcontainerscontrollerlistcontainerscontrollerjava97 sunreflectgeneratedmethodaccessor100invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava483 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeinvocablehandlermethodjava215 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava132 orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava104 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlemethodrequestmappinghandleradapterjava749 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava689 orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava83 orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava938 orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava870 orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava961 orgspringframeworkwebservletframeworkservletdogetframeworkservletjava852 javaxservlethttphttpservletservicehttpservletjava620 orgspringframeworkwebservletframeworkservletserviceframeworkservletjava837 javaxservlethttphttpservletservicehttpservletjava727 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava noformat,0
as a s-c-d developer id like to move kafka module from xd to s-c-s repo so i can use it as source to build streaming pipeline,2
refactor to use restoperations the current implementation makes use of cf-java-client which is relatively heavy for our needs it should be removed in favour of a bespoke restoperations wrapper see httpsgithubcomztevetest-cc-oauth for sample code,0
vary producer size ec-db-5 use the number of consumers gave a maximum throughput in the previous test say 10 consumers message size 100 bytes prefetch 100 send 1m messages vary the number of producers measure the msgsec rate and calculate the data transfer rate in mbsec number of producers 2 4 6 10 50 during the measurements look at the rabbitmq admin ui and see if the queue is backing up,0
remove work around spring hateoas89 see httpsgithubcomspring-projectsspring-hateoasissues89 updating hateoas version and removing in a lot of controllers should be possible now see eg httpsgithubcomspring-projectsspring-xdblob4919ea2498a13ef47aaa9437937308fb26a7a24fspring-xd-dirtsrcmainjavaorgspringframeworkxddirtrestxdcontrollerjaval219,0
as a developer id like to configure hadoopusername environment variable to implement and run-as-user for kerberos secured clusters this would need some additional work in shdp,4
missing in example of http stream in documentation attached to m1 in streamsintroduction section theres noformat http --port 8091 file --dirtmphttpdata noformat while it should be noformat http --port8091 file --dirtmphttpdata noformat missing in http,0
spring xd ui end-to-end tests do not work currently end-to-end tests of spring xd ui will not run as protractor relies on a non-existing chromedriverexe file either the configuration has to be removed from the gruntfile or the necessary dependencies should be there,0
unable to register the jmx bean messagehistory from spring integration if i try to use intmessage-history when developing a spring xd module it fails when try to export the jmx bean ive seen that the naming strategy used is orgspringframeworkxddirtmodulejmxmoduleobjectnamingstrategy the stacktrace code 2016-02-24t1040390000 131release error deploymentspathchildrencache-0 containerdeploymentlistener - exception deploying module orgspringframeworkjmxexportunabletoregistermbeanexception unable to register mbean orgspringframeworkintegrationhistorymessagehistoryconfigurer24902b5f with key messagehistoryconfigurer nested exception is javaxmanagementmalformedobjectnameexception key properties cannot be empty orgspringframeworkintegrationmonitorintegrationmbeanexporterregisterbeaninstanceintegrationmbeanexporterjava375 spring-integration-jmx-425releasejarna orgspringframeworkintegrationmonitorintegrationmbeanexporteraftersingletonsinstantiatedintegrationmbeanexporterjava288 spring-integration-jmx-425releasejarna orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava792 spring-beans-424releasejar424release orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava839 spring-context-424releasejar424release orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava538 spring-context-424releasejar424release orgspringframeworkbootspringapplicationrefreshspringapplicationjava686 spring-boot-123releasejar123release orgspringframeworkbootspringapplicationrunspringapplicationjava320 spring-boot-123releasejar123release orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 spring-boot-123releasejar123release orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava213 spring-xd-module-131releasejar131release orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava217 spring-xd-dirt-131releasejar131release orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 spring-xd-dirt-131releasejar131release orgspringframeworkxddirtservercontainerdeploymentlistenerdeploymoduledeploymentlistenerjava365 spring-xd-dirt-131releasejar131release orgspringframeworkxddirtservercontainerdeploymentlistenerdeploystreammoduledeploymentlistenerjava334 spring-xd-dirt-131releasejar131release orgspringframeworkxddirtservercontainerdeploymentlisteneronchildaddeddeploymentlistenerjava181 spring-xd-dirt-131releasejar131release orgspringframeworkxddirtservercontainerdeploymentlistenerchildeventdeploymentlistenerjava149 spring-xd-dirt-131releasejar131release orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 curator-recipes-260jarna orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 curator-recipes-260jarna orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 curator-framework-260jarna comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 guava-1601jarna orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 curator-framework-260jarna orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 curator-recipes-260jarna orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 curator-recipes-260jarna orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 curator-recipes-260jarna javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 na18072 javautilconcurrentfuturetaskrunfuturetaskjava266 na18072 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 na18072 javautilconcurrentfuturetaskrunfuturetaskjava266 na18072 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 na18072 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 na18072 javalangthreadrunthreadjava745 na18072 caused by javaxmanagementmalformedobjectnameexception key properties cannot be empty javaxmanagementobjectnameconstructobjectnamejava483 na18072 javaxmanagementobjectnameinitobjectnamejava1382 na18072 javaxmanagementobjectnamegetinstanceobjectnamejava1273 na18072 orgspringframeworkjmxsupportobjectnamemanagergetinstanceobjectnamemanagerjava62 spring-context-424releasejar424release orgspringframeworkxddirtmodulejmxmoduleobjectnamingstrategygetobjectnamemoduleobjectnamingstrategyjava50 spring-xd-dirt-131releasejar131release orgspringframeworkjmxexportmbeanexportergetobjectnamembeanexporterjava751 spring-context-424releasejar424release code,0
the moduleoptions in modulemetadata should contain type information when querying the modulemetadatarepository the moduleoptions in class modulemetadata are currently only provided as properties this is a problem in cases where i need to determine the type of the property for instance security sensitive properties should not be exposed verbatim but rather be masked right now it seems impossible easily to determine whether a property is eg of type orgspringframeworkxdmoduleoptionstypespassword,0
stream definitions should not be saved when auto-deploy results in an error this relates to xd-871 which provides a good scenario stream create s1 --definition http log --deploy stream create s2 --definition http log --deploy the second command results in an error message that the port is in use but the stream definition is still saved since create deploy is a logical unit of work it should follow transactional semantics in other words if the deploy fails the repository should be rolled back or a compensating destroy should be performed note this should not be handled the same way if create and deploy happen separately in that case the stream definition should remain,0
as a developer id like to build spark batch job sample so that we can demonstrate some of the distributed data computation capabilities,5
spring xd admin ui does not show all the streams from spring xd shell running this command stream list we counted 30 streams however spring xd admin ui shows only 20 when destroying some streams from admin ui the others that was not in the list start appearing we have not reviewed if there is a configuration parameter that tells how many streams to show in the admin ui,0
with security - unable to upload module once security is enabled one cannot upload modules using the shell any longer,0
as a flo developer id like to have a new dsl parser so i can easily detect incorrect moduleoption values when supplied from the flo ui example mystream mail log tapstreammystreambar log if parsed separately which flo ui does the current parser endpoint will barf on the second stream because it doesnt know about the first stream mystream,5
vary producer and consumer in combination using 2 queues b-6 the results from ec2 testing show that once prefetch and message size are set varying the number of producers or consumers independently does not impact the message rate the in-house testing numbers need another plan to try an understand some discrepancies using 500 prefetch 1000 byte message size run two instances of perftest at the same time with each instance referencing a different queue vary the number of consumer and publishers test 1 one producer one consumer -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 test 2 one producer two consumers -a -u q1 -p -x 1 -y 2 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 2 -s 1000 -z 60 -q 500 test 3 two producers one consumer -a -u q1 -p -x 2 -y 1 -s 1000 -z 120 -q 500 -a -u q2 -p -x 2 -y 1 -s 1000 -z 120 -q 500 test 4 two producers two consumers -a -u q1 -p -x 2 -y 2 -s 1000 -z 60 -q 500 -a -u q2 -p -x 2 -y 2 -s 1000 -z 60 -q 500,0
update architecture diagram to show rabbit in addition to redis to communicate between admin and containers figure 1 here httpsgithubcomspringsourcespring-xdwikiarchitecture should also show rabbit as an option since otherwise people will think we are tied to redis,0
as a spring xd developer id like to move syslog module from xd to s-c-s repo so i can use it as source to build streaming pipeline,2
streams sending to job queue issue look at the below stream definition this gets to deployed state even without the corresponding job and then from there the same job or any other job cant be deployed and it goes to a hung state here is an example of the stream definition stream create --name jobname --definition file --reftrue --dirtmpspringxdsourcedropbox --patterncsv queuejobfiletsjob-sample002 --deploy,0
as a s-c-s developer id like to investigate the right approach to include external library as dependency ex mysql so i can decide better handling of libraries which needs loaded and available in root cp at the runtime,5
as a user id like to refer to the documentation so i can configure hdfs backed module registry xd-2287 as recommended,1
return the list of jobs from spring-batch-admin the current xd jobcontroller that returns a list of jobs has quite a different api signature than what is in spring-batch-admin to simplify the ui development a new controller jobadmincontroller will be created that lives under the request path jobsadmin the goal is to return a the current json structure of spring-batch-admin jobs request and make only minimal changes to implementations of controllers as found see 1 in the doc link to json output doc for spring batch implementation suggestions there will need to be some springmvc setup that will enable the current style of spring-batch-admin controller requests to co-exist with the existing xd controllers eg the use of json for json marshalling etc this may in fact be the bulk of time spend in this first story to integration spring-batch-admin style controllers into xd a new controller named jobadmincontroller that in the spring-xd-dirt project in the package orgspringframeworkxddirtrest the jobadmincontroller will not need to follow the same hateoas style as the other controllers at this time the current controller in spring batch admin looks like this code requestmappingvalue jobs method requestmethodget public void jobsmodelmap model requestparamdefaultvalue 0 int startjob requestparamdefaultvalue 20 int pagesize int total jobservicecountjobs tableutilsaddpaginationmodel total startjob pagesize job collectionstring names jobservicelistjobsstartjob pagesize listjobinfo jobs new arraylistjobinfo for string name names int count 0 try count jobservicecountjobexecutionsforjobname catch nosuchjobexception e shouldnt happen boolean launchable jobserviceislaunchablename boolean incrementable jobserviceisincrementablename jobsaddnew jobinfoname count null launchable incrementable modeladdattributejobs jobs code something like code requestmappingvalue jobsadminjobs method requestmethodget public void jobsmodelmap model requestparamdefaultvalue 0 int startjob requestparamdefaultvalue 20 int pagesize we do not have to query the spring batch admin jobservice at this time but instead use the jobdeployer to get information about jobs launched by spring xd iterablejobdefinition jobdefinitions dobdeployerfindall copy these over to a listjobinfo as best as possible copy name over not sure how description is getting added to the json pari code how to verify it works a sample job needs to be in the modulesjob directory jobcommandtestsabstractjobintegrationtest seems to have what is need to stage a job for,0
consider using the conversionservice to convert incoming message payload to reactor based processors input type in noformat broadcastermessagehandlerhandlemessageinternal noformat the call codejava else if classutilsisassignableinputtype messagegetpayloadgetclass todo handle type conversion of payload to input type if possible ringbufferprocessoronnextmessagegetpayload code could try to invoke a conversion service,0
as a user id like to have the option to provide security configurations so that i can access rest endpoints in a secured manner ideally all the listed resthttpsgithubcomspring-projectsspring-xdwikirest-apixd-resources endpoints needs to be wrapped within a security layer scope of this spike research spring security and spring boot and the ootb features design considerations and approach for xd developer experience how users will be configuring security credentials how dsl shell will be handled how admin ui will be handled,5
prepare blog post for xd m2,0
display errors in a persistent way when a validation error occurs in the ui it is displayed as a small box then fades away if it is a larger form or a less specific error the user may not catch everything before it fades away we should display the error in a way that they can refer to as they are fixing it,0
remove enum for transport options the enum unnecessarily restricts the ability to add new transport messagebus implementations whereas the config location path is open for extensions since it uses wildcards in message-busxml code import resourcetransportsxdtransport-busxml code,0
retrieve description of all registered modules by type the following will retrieve the names of all module types eg- sources sinks jobs processors triggers code get module-types code im expecting that the plural would be used but singular would work as well the following gets modules of a given type code get module-typestype code this would be similar to the modules call in xd-265 but it would only return modules of the specified type,0
as a developer id like to optimize yarn deployer so i can deploy stream and the modules part of the definition rapidly,4
as a s-c-d developer id like to have module info shell command so i can query each of the module specifics such as description and support options,2
add angularjs directive to format stream definition strings it would be neat if streams could be easily formatted eg make the definition name bold use different colors for parameter names and values,0
as a developer id like to upgrade to 203 release of reactor so i can inherit the latest optimizations to further improve xd performance characteristics,3
the hdfs sink should support writing pojos to hdfs using parquet writing pojos using kite sdk,0
container and single node do not update their associated log after the containersinglenode is up and running the application does not update the singlenodelog or containernodelog create a stream timelog you will see the timestamp in your console but it will not be in the log,0
handle npe while deploying stream module at the container when trying to deploy a stream module the containerregistrar throws npe if the deployment loader couldnt load a non-null stream based on the stream name 071029902 error deploymentspathchildrencache-0 servercontainerregistrar450 - exception deploying module javalangnullpointerexception orgspringframeworkxddirtservercontainerregistrardeploystreammodulecontainerregistrarjava549 orgspringframeworkxddirtservercontainerregistraronchildaddedcontainerregistrarjava436 orgspringframeworkxddirtservercontainerregistraraccess800containerregistrarjava96 orgspringframeworkxddirtservercontainerregistrardeploymentlistenerchildeventcontainerregistrarjava803 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava494 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava488 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava293 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava485 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache11runpathchildrencachejava755 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744,0
as a qa id like to include acceptance test coverage for json-tuple processor module so that i can validate the functionality as part of every ci build,3
support use of separate control and message transports control transport - deployundeploy requests message transport - inter module communication currently complicated because starting a job for example currently uses message transport vs control transport testing scenarios require local control and ability to switch to various message transports one option is to change the interpretation of transport command line arg depending on singlenode admin or container eg singlenode --transport rabbit always use local for control messages admin requires --transport message transport does not apply container enforces the same transport for message and control local optimization done via composite module the other option is use a separate transport for control vs messages either way need to rationalize the design with respect to control and module messages,0
as a user id like to have the option of editing the deployedundeployed stream so that i dont have to destroy to just change any deployment property,5
refactor xd to use boots options metadata internally this is to get rid of ultimately moduleoption moduleoptionsmetadataresolver etc in favor of classes written by stphane nicoll currently here httpsgithubcomsnicoll-scratchesspring-boot-configblobmasterspring-boot-config-metadatasrcmainjavaorgspringframeworkconfigurationmetadata,0
update documentation to list supported hadoop distributions after spring hadoop 20 rc4 update,0
document that modules can reference property values in serversyml modules can use property values in serversyml which is very handy to keep batch and hdfs functionality working without duplication of config values in serversyml and modulesyml or individual modules the configuration section should highlight the common cases where this occurs batch hdfs rabbitmqmqtt where using the server config values as defaults is useful and that they can still be overridden,0
error messages not thrown when creating gemfire sink without starting gemfire server stream create --name test1 --definition http --port8827 gemfire-server created new stream test1 stream create --name test2 --definition http --port8828 gemfire-json-server created new stream test2 even if gemfire server is not started streams are successfully created this behavior is inconsistent with hdfs where if hdfs connection is not available creating stream using http hdfs will fail,0
backport kafka sink input fix as part of xd-2958 weve changed the input type of the kafka sink from string to byte the main reason for the change was that it required an arbitrary and often unneeded but expensive conversion to string for the bus payloads apply the same change to 11 branch,0
create ci for xd-ec2 project automated test will use directly use the deployer class asserts on basic info of runninginstance check that ebs was mounted that application was unzipped redis and rabbit are running via port checks http requests on admin port for root path list of modules afterclass that will look for the cluster name and terminate all instances look at live tag in jclouds tests for some additional tactics,0
add greenplum sink user should have the option of greenplum db sink so they can write data directly to greenplum db via the pgfdistgploader greenplum bulk loader the existing jdbc sinks are not suitable for high volume loads the jdbc approach utilizes the master segment of greenplum for loading datasets instead of the bulk loader utility,0
create fsshell based module to copy a file to hdfs spring batch workflows are great for complex hadoop operations but if i want to create a simple processor that executes some hadoop fs in groovy it would be nice to do this code service-activator output-channeloutput input-channelinput hadoopscript idloadscript languagegroovy def outputpath hdfspath fshput- outputpath hadoopscript service-activator code the goal of this hadoop script is to use in a stream like thisfile script that puts a file byte for byte to hdfs an enhanced hdfs sink thats optimized for binary data like imagespdfs might be more elegant but i was hoping that this would work this script gets ignored by spring xd but even if it didnt i am not sure the - stdin put would work as hoped,0
as a s-c-d developer id like to make the deployer work asynchronously so i can use the shell to return quickly and also queue deploy operations within yarn as tasks,2
xdruntime modules gives error from cli xdruntime modules command failed orgspringframeworkxdrestclientimplspringxdexception javalangruntimeexception orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsmodules4dc55d87-125b-4e4a-a76e-82bb6980820dticktocksinklog-1metadata this is on osx running in distributed mode with --transport rabbit --hadoopdistro hadoop22 redis 288 rabbit 323 hadoop 220 and zookeeper 345,0
processor module does not load classes from custom module package the processor module which is failing to load castor classes from the module paththe code works fine with eclipse dirt based test cases i am attaching the code to this email the jar that it built has the jars that it need at runtime in modulelib folder the code worked fine when i put all the custom jars and application jar in xdlib spoke to thomas risberg and confirm this is broken and need to be fixingattachment-namezip,0
user wants ability to create a in-process sink or tap so that we can validate the message content in the stream,0
remove usage of integrationevaluationcontextaware this deprecated in si 42 use thisevaluationcontext expressionutilscreatestandardevaluationcontextgetbeanfactory in afterpropertiesset instead not that this can safely be done in 12x - the preferred mechanism is available in si 41x too,0
generated pom does not include spring boot 11 dependency the change in xd 101 to use spring boot 117 meant that we cant pickup the boot dependency by importing the platform-bom andy ws suggestion is to change the generated pom to refer to the platform-bom as a parent not import and then declare the explicit dependency on boot 117,0
retrieve information for an aggregate counter todo as part of this see xd-537 get rid of so-called service layer in analytics project doesnt do much right now and logic would better live in the handler imo have rest controllers depend on xrepository in all cases,0
the user needs the ability to pause and resume triggers ad-hoc a pause means that a trigger will wait to fire its job until after the pause is removed it does not apply the misfire behavior,0
add conversion support to channelregistrar and channelregistry implements automatic conversion provide apis to channel registry to register payload conversion includes redis and rabbit transport,0
twitter search test uses case sensitive search when it should be case insensitive the twittersearch does a case insensitive search tests need to do a insensitive check for the keywords in the search result,0
add assertion text to junit tests discovered junit test failures that do not provide an assertion message therefore the junit report is rather useless 2 classes maybe we should check the entire code-base class orgspringframeworkxdshellcommandjobcommandwithhadooptests testlaunchftphadoopjob code javalangassertionerror orgjunitassertfailassertjava86 orgjunitassertasserttrueassertjava41 orgjunitassertasserttrueassertjava52 orgspringframeworkxdshellcommandabstractjobintegrationtestcheckforjobinlistabstractjobintegrationtestjava213 orgspringframeworkxdshellcommandjobcommandwithhadoopteststestlaunchftphadoopjobjobcommandwithhadooptestsjava73 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava62 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava483 orgjunitrunnersmodelframeworkmethod1runreflectivecallframeworkmethodjava50 orgjunitinternalrunnersmodelreflectivecallablerunreflectivecallablejava12 orgjunitrunnersmodelframeworkmethodinvokeexplosivelyframeworkmethodjava47 orgjunitinternalrunnersstatementsinvokemethodevaluateinvokemethodjava17 orgjunitinternalrunnersstatementsrunbeforesevaluaterunbeforesjava26 orgspringframeworktestcontextjunit4statementsrunbeforetestmethodcallbacksevaluaterunbeforetestmethodcallbacksjava73 orgjunitinternalrunnersstatementsrunaftersevaluaterunaftersjava27 orgspringframeworktestcontextjunit4statementsrunaftertestmethodcallbacksevaluaterunaftertestmethodcallbacksjava82 orgjunitrulestestwatcher1evaluatetestwatcherjava55 orgjunitrulesrunrulesevaluaterunrulesjava20 orgspringframeworktestcontextjunit4statementsspringrepeatevaluatespringrepeatjava73 orgjunitrunnersparentrunnerrunleafparentrunnerjava325 orgspringframeworktestcontextjunit4springjunit4classrunnerrunchildspringjunit4classrunnerjava217 orgspringframeworktestcontextjunit4springjunit4classrunnerrunchildspringjunit4classrunnerjava83 orgjunitrunnersparentrunner3runparentrunnerjava290 orgjunitrunnersparentrunner1scheduleparentrunnerjava71 orgjunitrunnersparentrunnerrunchildrenparentrunnerjava288 orgjunitrunnersparentrunneraccess000parentrunnerjava58 orgjunitrunnersparentrunner2evaluateparentrunnerjava268 orgjunitinternalrunnersstatementsrunbeforesevaluaterunbeforesjava26 orgspringframeworktestcontextjunit4statementsrunbeforetestclasscallbacksevaluaterunbeforetestclasscallbacksjava61 orgjunitinternalrunnersstatementsrunaftersevaluaterunaftersjava27 orgspringframeworktestcontextjunit4statementsrunaftertestclasscallbacksevaluaterunaftertestclasscallbacksjava68 orgspringframeworkxdtestabstractexternalresourcetestsupport1evaluateabstractexternalresourcetestsupportjava71 orgjunitrulesrunrulesevaluaterunrulesjava20 orgjunitrunnersparentrunnerrunparentrunnerjava363 orgspringframeworktestcontextjunit4springjunit4classrunnerrunspringjunit4classrunnerjava163 orgjunitrunnerssuiterunchildsuitejava128 orgjunitrunnerssuiterunchildsuitejava27 orgjunitrunnersparentrunner3runparentrunnerjava290 orgjunitrunnersparentrunner1scheduleparentrunnerjava71 orgjunitrunnersparentrunnerrunchildrenparentrunnerjava288 orgjunitrunnersparentrunneraccess000parentrunnerjava58 orgjunitrunnersparentrunner2evaluateparentrunnerjava268 orgjunitinternalrunnersstatementsrunbeforesevaluaterunbeforesjava26 orgjunitinternalrunnersstatementsrunaftersevaluaterunaftersjava27 orgspringframeworkxdtestabstractexternalresourcetestsupport1evaluateabstractexternalresourcetestsupportjava71 orgjunitrulesrunrulesevaluaterunrulesjava20 orgjunitrunnersparentrunnerrunparentrunnerjava363 orggradleapiinternaltaskstestingjunitjunittestclassexecuterruntestclassjunittestclassexecuterjava86 orggradleapiinternaltaskstestingjunitjunittestclassexecuterexecutejunittestclassexecuterjava49 orggradleapiinternaltaskstestingjunitjunittestclassprocessorprocesstestclassjunittestclassprocessorjava69 orggradleapiinternaltaskstestingsuitetestclassprocessorprocesstestclasssuitetestclassprocessorjava48 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava62 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava483 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava35 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava24 orggradlemessagingdispatchcontextclassloaderdispatchdispatchcontextclassloaderdispatchjava32 orggradlemessagingdispatchproxydispatchadapterdispatchinginvocationhandlerinvokeproxydispatchadapterjava93 comsunproxyproxy2processtestclassunknown source orggradleapiinternaltaskstestingworkertestworkerprocesstestclasstestworkerjava105 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava62 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava483 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava35 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava24 orggradlemessagingremoteinternalhubmessagehubhandlerrunmessagehubjava355 orggradleinternalconcurrentdefaultexecutorfactorystoppableexecutorimpl1rundefaultexecutorfactoryjava64 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 javalangthreadrunthreadjava745 code class orgspringframeworkxdshellcommandhttpcommandtests testhttppostutftext code javalangassertionerror orgjunitassertfailassertjava86 orgjunitassertasserttrueassertjava41 orgjunitassertasserttrueassertjava52 orgspringframeworkxdshellcommandstreamcommandtemplateverifyexistsstreamcommandtemplatejava162 orgspringframeworkxdshellcommandstreamcommandtemplatedocreatestreamcommandtemplatejava99 orgspringframeworkxdshellcommandstreamcommandtemplatecreatestreamcommandtemplatejava65 orgspringframeworkxdshellcommandhttpcommandteststesthttppostutftexthttpcommandtestsjava97 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava62 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava483 orgjunitrunnersmodelframeworkmethod1runreflectivecallframeworkmethodjava50 orgjunitinternalrunnersmodelreflectivecallablerunreflectivecallablejava12 orgjunitrunnersmodelframeworkmethodinvokeexplosivelyframeworkmethodjava47 orgjunitinternalrunnersstatementsinvokemethodevaluateinvokemethodjava17 orgjunitinternalrunnersstatementsrunaftersevaluaterunaftersjava27 orgjunitrulesexternalresource1evaluateexternalresourcejava48 orgjunitrulestestwatcher1evaluatetestwatcherjava55 orgjunitrulesrunrulesevaluaterunrulesjava20 orgjunitrunnersparentrunnerrunleafparentrunnerjava325 orgjunitrunnersblockjunit4classrunnerrunchildblockjunit4classrunnerjava78 orgjunitrunnersblockjunit4classrunnerrunchildblockjunit4classrunnerjava57 orgjunitrunnersparentrunner3runparentrunnerjava290 orgjunitrunnersparentrunner1scheduleparentrunnerjava71 orgjunitrunnersparentrunnerrunchildrenparentrunnerjava288 orgjunitrunnersparentrunneraccess000parentrunnerjava58 orgjunitrunnersparentrunner2evaluateparentrunnerjava268 orgjunitinternalrunnersstatementsrunbeforesevaluaterunbeforesjava26 orgjunitinternalrunnersstatementsrunaftersevaluaterunaftersjava27 orgspringframeworkxdtestabstractexternalresourcetestsupport1evaluateabstractexternalresourcetestsupportjava71 orgjunitrulesrunrulesevaluaterunrulesjava20 orgjunitrunnersparentrunnerrunparentrunnerjava363 orgjunitrunnerssuiterunchildsuitejava128 orgjunitrunnerssuiterunchildsuitejava27 orgjunitrunnersparentrunner3runparentrunnerjava290 orgjunitrunnersparentrunner1scheduleparentrunnerjava71 orgjunitrunnersparentrunnerrunchildrenparentrunnerjava288 orgjunitrunnersparentrunneraccess000parentrunnerjava58 orgjunitrunnersparentrunner2evaluateparentrunnerjava268 orgjunitinternalrunnersstatementsrunbeforesevaluaterunbeforesjava26 orgjunitinternalrunnersstatementsrunaftersevaluaterunaftersjava27 orgspringframeworkxdtestabstractexternalresourcetestsupport1evaluateabstractexternalresourcetestsupportjava71 orgjunitrulesrunrulesevaluaterunrulesjava20 orgjunitrunnersparentrunnerrunparentrunnerjava363 orggradleapiinternaltaskstestingjunitjunittestclassexecuterruntestclassjunittestclassexecuterjava86 orggradleapiinternaltaskstestingjunitjunittestclassexecuterexecutejunittestclassexecuterjava49 orggradleapiinternaltaskstestingjunitjunittestclassprocessorprocesstestclassjunittestclassprocessorjava69 orggradleapiinternaltaskstestingsuitetestclassprocessorprocesstestclasssuitetestclassprocessorjava48 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava62 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava483 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava35 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava24 orggradlemessagingdispatchcontextclassloaderdispatchdispatchcontextclassloaderdispatchjava32 orggradlemessagingdispatchproxydispatchadapterdispatchinginvocationhandlerinvokeproxydispatchadapterjava93 comsunproxyproxy2processtestclassunknown source orggradleapiinternaltaskstestingworkertestworkerprocesstestclasstestworkerjava105 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava62 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava483 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava35 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava24 orggradlemessagingremoteinternalhubmessagehubhandlerrunmessagehubjava355 orggradleinternalconcurrentdefaultexecutorfactorystoppableexecutorimpl1rundefaultexecutorfactoryjava64 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 javalangthreadrunthreadjava745 code,0
script processor options incorrect on docs the example in the documentation and the paragraph preceding the example for the script processor uses both location and properties-location options but these are in actuality script and locationproperties according to module info processorscript and the text of the documentation see httpdocsspringiospring-xddocs102releasereferencehtmlscript quoteto use the module pass the location of a groovy script using the location attribute if you want to pass variable values to your script you can optionally pass the path to a properties file using the properties-location attribute all properties in the file will be made available to the script as variables codexd stream create --name groovyprocessortest --definition http --port9006 script --locationcustom-processorgroovy --properties-locationcustom-processorproperties log --deploycode quote,0
as a developer id like to create a tuple load-generator so i can use it to measure tuple based payload performance,3
configure servers to use vanillahealthendpoint the standard simplehealthindicator that boot performs a database test that fails in xd-container since it does not require the use of a database,0
investigate job event listeners when the job is created as java config when the job module is configured using java config there seems to be some issue with the way out of the box job event listeners are created please see the discussion here httpsgithubcomspring-projectsspring-xdpull1506,0
add redis bundle to distribution zip file for linux and mac,0
as a user id like to have the option to enable https so that i can access xds admin server endpointshttpsgithubcomspring-projectsspring-xdwikirest-apixd-resources over secured communication technical implementation this functionality is available in spring boot 120 m1 and has been backported into the 11x branch to be released under spring 117 we can test against 117 snapshot working through the way to update the build file to pick up a new version of boot is a bit tricky,1
as a user i want to be able to provide the partitioning logic for a named destination so that i can control the ordering of outbound messages,1
add standardized way to pass props from deployersadmin to modulelauncher there is a need to customize the modulelauncher behavior itself not pass options to modules that are launched which is already supported for example to set the location of the maven repository,0
feature request zeromq zmq 0mq source requesting a zeromq based source,0
standardize spring cloud data configuration user can configure spring cloud data via via spring cloud config data-adminyml or spring cloud connector add bootstrapyml to spring cloud data create a default data-adminyml and configure spring data to look for this vs applicationyml spring cloud data will have spring cloud config enabled by default user has the ability to disable it via the bootstrapyml,0
shell should display error messages returned from the server for example using tcpdump i can see both an exception and message information http11 500 internal server error server apache-coyote11 content-type applicationjsoncharsetutf-8 transfer-encoding chunked date fri 12 jul 2013 133826 gmt connection close 275 linkslogrefmessagehandlingexceptionmessageorgspringframeworkcontextapplicationcontextexception failed to start bean orgspringframeworkintegrationmonitorintegrationmbeanexporter092e27d20-4c48-4131-866c-91b6cb642ca2 nested exception is orgspringframeworkjmxexportunabletoregistermbeanexception unable to register mbean messagechannelmonitor namenullchannel sends0 receives0 with key xdtap1typemessagechannelnamenullchannelindex1modulelog nested exception is javaxmanagementinstancealreadyexistsexception xdtap1typemessagechannelnamenullchannelindex1modulelog however the client only shows httplocalhost8080tap create --name tap1 --definition taptest1file log --deploy true 143826113 warn spring shell clientresttemplate524 - post request for httplocalhost8080taps resulted in 500 internal server error invoking error handler error creating tap tap1 the error doesnt seem to be logged in the xd admin server either so the information is effectively lost,0
cant compose script processor consider this simple stream which works out of the box because transformgroovy is shipped with spring xd code stream create --name stream1 --definition time script --scripttransformgroovy log --deploy code composing time and script modules like that code module compose --name cmp-time --definition time script --scripttransformgroovy stream create --name stream2 --definition cmp-time log --deploy code will throw following exception in xd-shell code apr 29 2015 112857 am orgspringframeworkshellcoreabstractshell handleexecutionresult info successfully created module cmp-time with type source apr 29 2015 112857 am orgspringframeworkshellcoresimpleexecutionstrategy invoke severe command failed orgspringframeworkxdrestclientimplspringxdexception error with options for module cmp-time of type source valid script cannot be null or empty code and following exception in xd-container code 2015-04-29 112857263 111release error qtp616131272-35 restrestcontrolleradvice - caught exception while handling a request orgspringframeworkxddirtpluginsmoduleconfigurationexception error with options for module cmp-time of type source valid script cannot be null or empty orgspringframeworkxddirtpluginsmoduleconfigurationexceptionfrombindexceptionmoduleconfigurationexceptionjava55 orgspringframeworkxddirtstreamxdstreamparserparsexdstreamparserjava180 orgspringframeworkxddirtstreamabstractdeployersaveabstractdeployerjava95 orgspringframeworkxddirtrestxdcontrollersavexdcontrollerjava235 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkwebmethodsupportinvocablehandlermethoddoinvokeinvocablehandlermethodjava221 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava137 orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava110 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlemethodrequestmappinghandleradapterjava777 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava706 orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava85 orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava943 orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava877 orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava966 orgspringframeworkwebservletframeworkservletdopostframeworkservletjava868 javaxservlethttphttpservletservicehttpservletjava755 orgspringframeworkwebservletframeworkservletserviceframeworkservletjava842 javaxservlethttphttpservletservicehttpservletjava848 orgeclipsejettyservletservletholderhandleservletholderjava684 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1496 orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconfigurationapplicationcontextheaderfilterdofilterinternalendpointwebmvcautoconfigurationjava291 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinternalhiddenhttpmethodfilterjava77 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 orgspringframeworkwebfilterhttpputformcontentfilterdofilterinternalhttpputformcontentfilterjava87 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 orgspringframeworkbootactuatetracewebrequesttracefilterdofilterinternalwebrequesttracefilterjava100 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 orgspringframeworksecuritywebfilterchainproxydofilterinternalfilterchainproxyjava186 orgspringframeworksecuritywebfilterchainproxydofilterfilterchainproxyjava160 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 orgspringframeworkbootactuateautoconfiguremetricfilterautoconfigurationmetricsfilterdofilterinternalmetricfilterautoconfigurationjava90 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgeclipsejettyservletservlethandlercachedchaindofilterservlethandlerjava1467 orgeclipsejettyservletservlethandlerdohandleservlethandlerjava499 orgeclipsejettyserverhandlerscopedhandlerhandlescopedhandlerjava137 orgeclipsejettysecuritysecurityhandlerhandlesecurityhandlerjava557 orgeclipsejettyserversessionsessionhandlerdohandlesessionhandlerjava231 orgeclipsejettyserverhandlercontexthandlerdohandlecontexthandlerjava1086 orgeclipsejettyservletservlethandlerdoscopeservlethandlerjava428 orgeclipsejettyserversessionsessionhandlerdoscopesessionhandlerjava193 orgeclipsejettyserverhandlercontexthandlerdoscopecontexthandlerjava1020 orgeclipsejettyserverhandlerscopedhandlerhandlescopedhandlerjava135 orgeclipsejettyserverhandlerhandlerwrapperhandlehandlerwrapperjava116 orgeclipsejettyserverserverhandleserverjava370 orgeclipsejettyserverabstracthttpconnectionhandlerequestabstracthttpconnectionjava494 orgeclipsejettyserverabstracthttpconnectioncontentabstracthttpconnectionjava982 orgeclipsejettyserverabstracthttpconnectionrequesthandlercontentabstracthttpconnectionjava1043 orgeclipsejettyhttphttpparserparsenexthttpparserjava865 orgeclipsejettyhttphttpparserparseavailablehttpparserjava240 orgeclipsejettyserverasynchttpconnectionhandleasynchttpconnectionjava82 orgeclipsejettyionioselectchannelendpointhandleselectchannelendpointjava667 orgeclipsejettyionioselectchannelendpoint1runselectchannelendpointjava52 orgeclipsejettyutilthreadqueuedthreadpoolrunjobqueuedthreadpooljava608 orgeclipsejettyutilthreadqueuedthreadpool3runqueuedthreadpooljava543 javalangthreadrunthreadjava745 caused by orgspringframeworkvalidationbindexception orgspringframeworkvalidationbeanpropertybindingresult 1 errors field error in object target on field valid rejected value false codes asserttruetargetvalidasserttruevalidasserttruebooleanasserttrue arguments orgspringframeworkcontextsupportdefaultmessagesourceresolvable codes targetvalidvalid arguments default message valid default message script cannot be null or empty orgspringframeworkxdmoduleoptionspojomoduleoptionsmetadatabindandvalidatepojomoduleoptionsmetadatajava205 orgspringframeworkxdmoduleoptionspojomoduleoptionsmetadatainterpolatepojomoduleoptionsmetadatajava139 orgspringframeworkxdmoduleoptionsflattenedcompositemoduleoptionsmetadatainterpolateflattenedcompositemoduleoptionsmetadatajava152 orgspringframeworkxdmoduleoptionsenvironmentawaremoduleoptionsmetadataresolvermoduleoptionsmetadatawithdefaultsinterpolateenvironmentawaremoduleoptionsmetadataresolverjava167 orgspringframeworkxdmoduleoptionshierarchicalcompositemoduleoptionsmetadatainterpolatehierarchicalcompositemoduleoptionsmetadatajava105 orgspringframeworkxdmoduleoptionsflattenedcompositemoduleoptionsmetadatainterpolateflattenedcompositemoduleoptionsmetadatajava152 orgspringframeworkxdmoduleoptionsenvironmentawaremoduleoptionsmetadataresolvermoduleoptionsmetadatawithdefaultsinterpolateenvironmentawaremoduleoptionsmetadataresolverjava167 orgspringframeworkxddirtstreamxdstreamparserparsexdstreamparserjava177 61 more code,0
exception for sample hdfs sample hi if i create a hdfs stream as proposed in the documentation i get some errors example stream create --name xxx --definition http --port8000 hdfs --rollover10 stream deploy --name xxx the exception caused by javaiofilenotfoundexception spring-xd-100m7confighadoopproperties no such file or directory javaiofileinputstreamopennative method there is a folder spring-xd-100m7xdconfig but no folder spring-xd-100m7config when i copied the file from xdconfig to config it worked fine,0
as a user id like to have the option of compression for both rabbit source and sink modules so that can further enhance the performance characteristics,5
remove container entry in redis when the application context event to shutdown the container is fired,0
split dirt project into commonadmincontainerstandalone this is a generalization of xd-1702,0
streamscontroller to return paged results for list see implementation used for steams and apply to jobs taps triggers,0
classpath issues with gemfire-json-server sink the gemfire client for springxd is throwing javalangnoclassdeffounderror for the class comgemstonegemfirecacheclientinternalpingop after a stream sinking to gemfire-json-server is destroyed issue starts after destroying a stream which makes me think we might be unloading the jar files from the classpath while still keeping a connection to the gemfire server steps to reproduce 1 create a region in gemfire to test eg gfshcreate region --namestocks --typereplicate member status ------- ------------------------------------- server1 region stocks created on server1 2 create a simple stream in spring xd that writes to that region in gemfire-json-server deploy it for single node and let it run for a few seconds eg xd stream create streamx --definition trigger --fixeddelay3 http-client --urlhttpsqueryyahooapiscomv1publicyqlqselect from yahoofinancequote where symbol in msftformatjsonenvstoredatatablesorgalltableswithkeys --httpmethodget splitter --expressionjsonpathpayloadqueryresultsquote gemfire-json-server --uselocatortrue --hostlocalhost --port10334 --regionnamestocks --keyexpressionpayloadgetfieldsymbol --deploy 3 destroy the stream eg xd stream destroy streamx 3 wait a few seconds and check the xd-singlenode output youll see the exception as following error 20150313 110452437 pdt pooltimer-client-pool-14 tid0x15a unexpected error in pool task comgemstonegemfirecacheclientinternalliveserverpingerpingtask635c9341 javalangnoclassdeffounderror comgemstonegemfirecacheclientinternalpingop comgemstonegemfirecacheclientinternalliveserverpingerpingtaskrun2liveserverpingerjava83 comgemstonegemfirecacheclientinternalpoolimplpooltaskrunpoolimpljava1197 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 javautilconcurrentfuturetaskrunandresetfuturetaskjava308 comgemstonegemfireinternalscheduledthreadpoolexecutorwithkeepalivedelegatingscheduledfuturerunscheduledthreadpoolexecutorwithkeepalivejava252 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 javalangthreadrunthreadjava745,0
add more comprehensive tests for the simple consumer-based kafka message bus,0
add support for stream creation for stream creation we need to be able to specify source sink processor - filter - transformer - script etc,0
poc for spark integration spike scope experiment with identified options poc with the logical integration choice,0
localmessagebus will only run 10 jobs by default the localmessagebus uses the integration scheduler to run batch jobs launching batch jobs with the localmessagebus uses the integration default taskscheduler which only has 10 threads by default use the localmessagebusexecutor instead to free up the scheduler threads however we need to consider whether a separate configuration is needed to limit the number of batch jobs - its possible the existing bus executor configuration is enough,0
create rest api for getting information on a given step execution functionality adopted from spring batch admin should include springmvc test framework style tests get batchjobsexecutionsexecutionidstepsstepid - get information on a given step execution,0
remove usage of contextproperty-placeholder location in module defitions this doesnt follow the conventions we have with other modules and it also means it isnt easy to override via environment variables etc this is in hdfs and some others,0
improvement to springxdtemplate to enable getting executions for a specific job i would like to be able to use the springxdtemplate to find all executions for a specific job currently i use xdtemplatejoboperationslistjobexecutions then loop through all executions filtering the ones for the job im interested in it would be nice if joboperations had something like this codejava list all job executions param jobinstanceid the instance of the job to get all executions for public pagedresourcesjobexecutioninforesource listjobexecutionslong jobinstanceid code,0
new job that executes a spark job create ootb batch job that executes a job on spark as a tasklet could be something along this job create yarnjob --definition sparkjob --mastersparklocalhost7077 --classsimpleapp,0
add dependency to spring batch admin in spring-xd-dirt we should depend on dependency groupidorgspringframeworkbatchgroupid artifactidspring-batch-admin-managerartifactid versionprojectparentversionversion dependency dependency groupidorgspringframeworkbatchgroupid artifactidspring-batch-admin-resourcesartifactid versionprojectparentversionversion dependency we are using spring batch 220release we need to depend on spring-batch-admin version 130build-snapshot,0
as a s-c-s developer id like to support xd-like features where modules bind to incoming messages via expressions or other mechanism so i can bind message properties to every microservice modules,4
create proper test coverage for controllers create proper test coverage for controllers,0
disable jmx by default and extend to other contexts than modules,0
as a developer id like to add a new ci build to include install target so i can verify the target expectations as it is often time consuming to verify it in the development environment,2
simplifyrefactor ui controllers the ui controllers in spring-xdspring-xd-uiappscriptscontrollersjs definitions look overly complicated to get the modularization work we can possibly refactor and make it look clean especially we will follow this as the example for subsequent controllers definitions,0
convert hadoop module to isolated classloader scheme rename spring-xd-extension-hdfs to something else as it seems it is all spring data stuff and is not coupled to xd but leave it in extensions for now rename and move spring-xd-hadoop inside extensions maybe to spring-xd-extension-hadoop or hdfs make hadoop related modules depend on the latter which itself will depend on the former,0
as a developer id like revisit the design to determine the necessity for id and timestamp attributes in tuple so i can refactor in order to improve performance throughput,1
the user needs the ability to set up a misfire policy for a trigger 2 options are 1 fire the trigger immediate - launch the job when trigger can gather the resources necessary start the job 2 do nothing - ignore this job fire time and catch this scenario can occur if xd is down or resources threads are not available at the time a job is to be launched,0
duplicate messages on tap if i fiddle with the testtappingwithlabels method i can reproduce the same issue httpsource source newhttpsource filesink sink newfilesinkbinarytrue filesink tapsink1 newfilesinkbinarytrue streamcreatemyhttp s flibble transform --expressionpayloadtouppercase flibble2 transform --expressionpayloadtouppercase s source sink streamcreatemytap4 tapstreammyhttpflibble transform --expressionpayloadreplacealla s tapsink1 sourceensurereadypostdatadracarys assertthatsink eventuallyhascontentsthatequaltodracarys assertthattapsink1 eventuallyhascontentsthatequaltodrcrys javalangassertionerror expected drcrys trying at most 10 times but failed after 101001000ms drcrysdrcrys,0
as a spring xd on cf user id like to use receptor implementation of admin spi every time i deploy spring xd modules so i can leverage the spi to query for module status and health metrics possible apis code modulestatus getstatusmoduledescriptor descriptor collectionmoduledescriptor listmodules mapmoduledescriptorkey modulestatus code,4
add option to xd-admin and xd-container yarn scripts to allow copying ot hdfs and no execution,0
as a s-c-d user im unable to push admin app to cf due to ssl certification errors while bootstrapping consider adding cf trusted certificatehttpsgithubcompivotal-cfcloudfoundry-certificate-truster as a cf spi dependency adding cf trusted certificate as dependency doesnt help either code fri sep 25 2015 125532 gmt-0400 edt app0 err caused by sunsecurityvalidatorvalidatorexception pkix path building failed sunsecurityprovidercertpathsuncertpathbuilderexception unable to find valid certification path to requested target fri sep 25 2015 125532 gmt-0400 edt app0 err at sunsecurityvalidatorpkixvalidatordobuildpkixvalidatorjava387 fri sep 25 2015 125532 gmt-0400 edt app0 err at sunsecurityvalidatorpkixvalidatorenginevalidatepkixvalidatorjava292 fri sep 25 2015 125532 gmt-0400 edt app0 err at sunsecurityvalidatorvalidatorvalidatevalidatorjava260 fri sep 25 2015 125532 gmt-0400 edt app0 err at sunsecuritysslx509trustmanagerimplvalidatex509trustmanagerimpljava324 fri sep 25 2015 125532 gmt-0400 edt app0 err at sunsecuritysslx509trustmanagerimplchecktrustedx509trustmanagerimpljava229 fri sep 25 2015 125532 gmt- code,3
step execution progress shell command to use coherent id jobexecutionidstepexecutionid instead of using jobexecutionid and stepexecutionid as two separate options for the job execution step progress command we can have a single option with id mentioned as jobexecutionidstepexecutionid,0
as a developer i need to investigate the differences in dependency versions so when i createdeploy custom modules in xd i dont run into cpcl issues,1
as a user id like to have the option to configure permissions so that ill have the flexibility to bind permissions rest endpoint to a specific role default roles admin crud viewer r,2
add support for bson this has been encountered in a poc could take the form of a processor bson - json or better yet if possible be added at the automatic type conversion level,0
handle random available http port for admin server if the xd admin server lets tomcat chooses random http port by setting port or serverport to 0 the xd config logging and admin server context id still points to port zero as these are set before tomcat assigns the available random port we also need to persist the admin servers ports into zk so that this repo can be accessed by the client,0
as a user id like to clean-up stale queuestopics associated with the stream so when the stream gets destroyed i can clean-up resources,3
move bus cleaner util method from busutils since spark-streaming uses busutils we need to move the bus cleaner util method that builds rest template so that spark streaming doesnt depend on httpclient,0
as a user id like to have the option to delete the queuestopics so that we can include an optional attribute as part of the stream destroy command to also clean-up the associated queuestopics notes spring-amqp rabbitadmin now has a getqueueproperties method which returns the number of consumers so it may be possible to use it for this purpose consider the possibility of producers andor queues still containing data consider the scenario even after the topicsqueues are cleaned-up what to do with fanout exchange some further thoughts consider using the upcoming spring amqp rest api rabbitmanagementtemplate if the timing is not right we could temporarily invoke the rabbit rest api directly should be optional perhaps via stream destroy foo --clean should this be done by the admin or via a new plugin handling module undeployments - in the rabbit case undeploying a consumer would check for us being the last consumer and remove the queuebindingexchange since we undeploy left-right everything can be cleaned up on the consumer side third option would be new methods on the bus cleanconsumer etc invoked by the streamplugin down side of doing it on the admin is that he wouldnt necessarily know which rabbit cluster a stream was deployed to - so it probably has to happen on the container - even so wed need the admin urls for the cluster,4
update spring integration spring amqp versions 414 and 145 respectively,0
kafka source must set autostartupfalse on kafkamessagedrivenchanneladapter if the value is not set the source may start before being bound to the bus throwing a dispatcher has no subscribers error,0
the xd build breaks with gradle 18 the xd build breaks with gradle 18 due to some changes in dependency resolution,0
as a s-c-d developer id like to document running on cloud foundryhttpsgithubcomspring-cloudspring-cloud-dataflowrunning-on-cloud-foundry section in readme so it can be publicly available as deployment guideline,2
as a s-c-d developer id like to move rabbit module from xd to s-c-s repo so i can use it as sink to build streaming pipeline,2
defaultcontainermatcher should make a better attempt at round-robin distribution currently the index is used globally but applied to a range of candidates that can differ based on the match criteria per invocation,0
need a way to specify a specific namenode for a given hdfs based job a scenario where i have multiple jobs deployed to one singlenode or distributed instance of springxd that need to use different namenodes can easily exist the ability to specify a namenode much the same way i can specify a directory would solve this problem the desired behavior would be to specify a namenode that wasnt set using hadoop config fs namenode in the job description and have that value used instead of the value set at the springxd global level,0
as a user i want to configure docker xd containers using service discovery so that i can have tools to manage how processes and services in a cluster can find and talk to one another,5
update postgresql jdbc driver version update the supplied postgresql jdbc driver to the latest version 93-1102 - 2014-07-10 the current supplied version is from 2012 in our particular use case the latest driver allows use of the jdbc connectionunwrap feature which gives access to the underlying connection from a pooled connection which in turn enables use of the postgres copymanagercopyin functionality which can speed up batch inserts in a batch process see httpjdbcpostgresqlorgdocumentationchangeloghtml,0
add support for typed batch steps this may require additional support jiras for spring batch,0
profile improve performance of tuplebuilder see discussion at httpsgithubcomspring-projectsspring-xdpull1311 1 there seems to be unused simpledateformat in tuplebuilder which hurst perf 2 more generally should take some time to profile micro-benchmark tuplebuilder,0
create a abstract base class for rest controllers,0
temporarily add tostring logic in local mode inter-module comms,0
create rpm for distribution package springxd into an rpm install path optpivotalspring-xd-100m5 with symlink optpivotalspring-xd - current version initd scripts to startstopstatus service springxd-admin startstopstatus service springxd-container startstopstatus usergroup springxdpivotal host springxd rpm in pivotal repo yum install springxd support rhelcentos version 5 and 6 tested on latest updates support for 32 and 64 bits support java 16 and 17,0
as a pm id like to have the copyright message in the reference guide pdf updated to include 2015 instead of 2014,1
esper based complex event processing module i would like to see a module created that supports complex event processing i have reviewed gemfire continuous query but was not able to find a feature for time windows i have used esper in the past for this type of processing,0
fix test failures and hangs on various local builds the scope is to use this as a bucket for any local test failures lets have them accounted in this story and fix as applicable,0
the shell introduced a fundamental new way to interact with the system all use of curl in examples needs to change to use the shell,0
create ci builds for scd and receptor client build scs and scd projects upon change in github repo push docker image for scd-admin to docker hub,0
profile byte array on in-memory and kafka transport identify and report hotspots while running the load-generator source and the throughput sink on singlenode - in memory transport singlenode - kafka transport admincontainer - kafka transport,0
update documentation section running in distributed mode to show use of rabbitmq in addition to redis the documentation in the running in distributed mode chapter should discuss that the distributed runtime can use essentially any middleware to communicate between nodes this functionality is provided by the core channelregistry abstraction a new intro paragraph shoul convey that it isnt a redis only or rabbitmq only system there should be installing rabbitmq and starting rabbitmq sections to match those for redis starting spring xd in distributed mode should cover how to configure the system to select to use redis or rabbit,0
create shell integration tests for stream lifeycle create delete deploy streams,0
make trigger options explicitly exclusive see problem reported at httpstackoverflowcomquestions27368351spring-xd-module-sourcetrigger-does-not-work-as-expected,0
as a s-c-s developer id like to fix the kafka binder so i can create messaging microservices apps and successfully bind them to an operational kafka broker,3
writing to hdfs - 1x,0
as a developer id like to replace all jobs references with tasks,2
kafka tests shouldnt assume offset 0 in orgspringframeworkxddirtstreamkafkasinglenodestreamdeploymentintegrationtestsverifyondemandqueues when testing the queue partitions for content the read is assumed to start at offset 0 this is incorrect because the topics may exist already especially in a ci environment,0
make job notification channels subscribable currently the job notification channels are direct channels we need to make these pubsub channels with xd-885 allowing automatic job listeners registration this would allow us to create named channel syntax like topicjobmyjobname-jobexecution log topicjobmyjobname-stepexecution log,0
fix classpath issues for rabbitmq sourcesink rabbitmq sink is throwing quote 094416031 110snap error deploymentspathchildrencache-0 bootspringapplication - application startup failed orgspringframeworkbeansfactoryxmlxmlbeandefinitionstoreexception line 19 in xml document from class path resource configrabbitxml is invalid nested exception is orgxmlsaxsaxparseexception linenumber 19 columnnumber 53 cvc-complex-type322 attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter at orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloadbeandefinitionsxmlbeandefinitionreaderjava399 at orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderloadbeandefinitionsxmlbeandefinitionreaderjava336 at orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderloadbeandefinitionsxmlbeandefinitionreaderjava304 at orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava180 at orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava138 at orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava127 at orgspringframeworkbootspringapplicationloadspringapplicationjava620 at orgspringframeworkbootspringapplicationrunspringapplicationjava315 at orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 at orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava211 at orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava217 at orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 at orgspringframeworkxddirtserverdeploymentlistenerdeploymoduledeploymentlistenerjava363 at orgspringframeworkxddirtserverdeploymentlistenerdeploystreammoduledeploymentlistenerjava332 at orgspringframeworkxddirtserverdeploymentlisteneronchildaddeddeploymentlistenerjava179 at orgspringframeworkxddirtserverdeploymentlistenerchildeventdeploymentlistenerjava147 at orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 at orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 at orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 at comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 at orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 at orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 at orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 at orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 at javautilconcurrentfuturetaskrunfuturetaskjava262 at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 at javautilconcurrentfuturetaskrunfuturetaskjava262 at javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 at javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 at javalangthreadrunthreadjava745 caused by orgxmlsaxsaxparseexception linenumber 19 columnnumber 53 cvc-complex-type322 attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter at comsunorgapachexercesinternalutilerrorhandlerwrappercreatesaxparseexceptionerrorhandlerwrapperjava198 at comsunorgapachexercesinternalutilerrorhandlerwrappererrorerrorhandlerwrapperjava134 at comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava437 at comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava368 at comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava325 at comsunorgapachexercesinternalimplxsxmlschemavalidatorxsierrorreporterreporterrorxmlschemavalidatorjava458 at comsunorgapachexercesinternalimplxsxmlschemavalidatorreportschemaerrorxmlschemavalidatorjava3237 at comsunorgapachexercesinternalimplxsxmlschemavalidatorprocessattributesxmlschemavalidatorjava2714 at comsunorgapachexercesinternalimplxsxmlschemavalidatorhandlestartelementxmlschemavalidatorjava2056 at comsunorgapachexercesinternalimplxsxmlschemavalidatoremptyelementxmlschemavalidatorjava766 at comsunorgapachexercesinternalimplxmlnsdocumentscannerimplscanstartelementxmlnsdocumentscannerimpljava356 at comsunorgapachexercesinternalimplxmldocumentfragmentscannerimplfragmentcontentdrivernextxmldocumentfragmentscannerimpljava2786 at comsunorgapachexercesinternalimplxmldocumentscannerimplnextxmldocumentscannerimpljava606 at comsunorgapachexercesinternalimplxmlnsdocumentscannerimplnextxmlnsdocumentscannerimpljava117 at comsunorgapachexercesinternalimplxmldocumentfragmentscannerimplscandocumentxmldocumentfragmentscannerimpljava510 at comsunorgapachexercesinternalparsersxml11configurationparsexml11configurationjava848 at comsunorgapachexercesinternalparsersxml11configurationparsexml11configurationjava777 at comsunorgapachexercesinternalparsersxmlparserparsexmlparserjava141 at comsunorgapachexercesinternalparsersdomparserparsedomparserjava243 at comsunorgapachexercesinternaljaxpdocumentbuilderimplparsedocumentbuilderimpljava347 at orgspringframeworkbeansfactoryxmldefaultdocumentloaderloaddocumentdefaultdocumentloaderjava76 at orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloaddocumentxmlbeandefinitionreaderjava429 at orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloadbeandefinitionsxmlbeandefinitionreaderjava391 30 more 094416036 110snap error deploymentspathchildrencache-0 serverdeploymentlistener - exception deploying module orgspringframeworkbeansfactoryxmlxmlbeandefinitionstoreexception line 19 in xml document from class path resource configrabbitxml is invalid nested exception is orgxmlsaxsaxparseexception linenumber 19 columnnumber 53 cvc-complex-type322 attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter at orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloadbeandefinitionsxmlbeandefinitionreaderjava399 at orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderloadbeandefinitionsxmlbeandefinitionreaderjava336 at orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderloadbeandefinitionsxmlbeandefinitionreaderjava304 at orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava180 at orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava138 at orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava127 at orgspringframeworkbootspringapplicationloadspringapplicationjava620 at orgspringframeworkbootspringapplicationrunspringapplicationjava315 at orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 at orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava211 at orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava217 at orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 at orgspringframeworkxddirtserverdeploymentlistenerdeploymoduledeploymentlistenerjava363 at orgspringframeworkxddirtserverdeploymentlistenerdeploystreammoduledeploymentlistenerjava332 at orgspringframeworkxddirtserverdeploymentlisteneronchildaddeddeploymentlistenerjava179 at orgspringframeworkxddirtserverdeploymentlistenerchildeventdeploymentlistenerjava147 at orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 at orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 at orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 at comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 at orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 at orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 at orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 at orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 at javautilconcurrentfuturetaskrunfuturetaskjava262 at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 at javautilconcurrentfuturetaskrunfuturetaskjava262 at javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 at javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 at javalangthreadrunthreadjava745 caused by orgxmlsaxsaxparseexception linenumber 19 columnnumber 53 cvc-complex-type322 attribute default-delivery-mode is not allowed to appear in element int-amqpoutbound-channel-adapter at comsunorgapachexercesinternalutilerrorhandlerwrappercreatesaxparseexceptionerrorhandlerwrapperjava198 at comsunorgapachexercesinternalutilerrorhandlerwrappererrorerrorhandlerwrapperjava134 at comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava437 at comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava368 at comsunorgapachexercesinternalimplxmlerrorreporterreporterrorxmlerrorreporterjava325 at comsunorgapachexercesinternalimplxsxmlschemavalidatorxsierrorreporterreporterrorxmlschemavalidatorjava458 at comsunorgapachexercesinternalimplxsxmlschemavalidatorreportschemaerrorxmlschemavalidatorjava3237 at comsunorgapachexercesinternalimplxsxmlschemavalidatorprocessattributesxmlschemavalidatorjava2714 at comsunorgapachexercesinternalimplxsxmlschemavalidatorhandlestartelementxmlschemavalidatorjava2056 at comsunorgapachexercesinternalimplxsxmlschemavalidatoremptyelementxmlschemavalidatorjava766 at comsunorgapachexercesinternalimplxmlnsdocumentscannerimplscanstartelementxmlnsdocumentscannerimpljava356 at comsunorgapachexercesinternalimplxmldocumentfragmentscannerimplfragmentcontentdrivernextxmldocumentfragmentscannerimpljava2786 at comsunorgapachexercesinternalimplxmldocumentscannerimplnextxmldocumentscannerimpljava606 at comsunorgapachexercesinternalimplxmlnsdocumentscannerimplnextxmlnsdocumentscannerimpljava117 at comsunorgapachexercesinternalimplxmldocumentfragmentscannerimplscandocumentxmldocumentfragmentscannerimpljava510 at comsunorgapachexercesinternalparsersxml11configurationparsexml11configurationjava848 at comsunorgapachexercesinternalparsersxml11configurationparsexml11configurationjava777 at comsunorgapachexercesinternalparsersxmlparserparsexmlparserjava141 at comsunorgapachexercesinternalparsersdomparserparsedomparserjava243 at comsunorgapachexercesinternaljaxpdocumentbuilderimplparsedocumentbuilderimpljava347 at orgspringframeworkbeansfactoryxmldefaultdocumentloaderloaddocumentdefaultdocumentloaderjava76 at orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloaddocumentxmlbeandefinitionreaderjava429 at orgspringframeworkbeansfactoryxmlxmlbeandefinitionreaderdoloadbeandefinitionsxmlbeandefinitionreaderjava391 quote,0
create base perf test criteria since kafka and rabbit have different strategies on how a message system is implemented we will need to update the tests used on rabbit to work with kafka while they will not be exactly the same as before they should exercise the same principles this story covers create the consumer and producer execution configurations for kafka-producer-perf-testsh and kafka-consumer-perf-testsh record the tests a spreadsheet much like the rabbit base test spreadsheet,0
failure when creatingdeploying stream leaves invalid stream registrydefinitions in the repository implementations reproduce 1 create a bad stream definition name bad try to recreate with the same name but correct stream definitions the system will report that the stream already exists,0
make requirement for md5 hash files configurable for the custom module registry post 12 upgrade the custom modules no longer show up by just copying the jars to the xdcustommodulehome directory instead i have to use the module upload command to install the modules this is because an md5 file is required more details in so threadhttpstackoverflowcomquestions31792220spring-xd-1-2-0-custom-module-deployment,0
create separate commands for --all shell commands commands like stream deploy have changed over time to allow passing a --all option so its either stream deploy foo or stream deploy --all this has a number of drawbacks given that these are the only 2 alternatives - implementation code is cumbersome - none of the options can be marked mandatory yet one of them is required this has to be checked in the command code itself - tab completion is less powerful as the shell doesnt know if we want the first or the second form consider splitting those commands into two distinct commands one as before and one literally named stream deploy all,0
jar version mismatches looks like there are some version mismatch issues with the buildpackaging of the xd components looking in xdlib i see the following which looks suspicious mqtt-client-021jar mqtt-client-10jar jackson-core-asl-1913jar jackson-mapper-asl-1912jar spring-integration-core-300m3jar spring-integration-http-225releasejar spring-data-commons-160m1jar spring-data-commons-core-140releasejar,0
add mqtt source,0
autobinddlq incompatible with partitioned streams producer side see httpstackoverflowcomquestions34817906spring-xd-rabbitmq-partitioned-stream-deployment-in-failure,0
introduce wirejs into the xd admin ui we should consider moving to wirejs to encourage dependency injection in the ui javascript code see here httpsgithubcomcujojswireblobmasterdocsgetmd,0
basic performance test for syslog injestion,0
as a qa id like to include acceptance test coverage for richgauge sink module so that i can validate the functionality as part of every ci build,3
change module placeholder names and remove contextproperty-placeholder usage eg rabbitxml source contextproperty-placeholder locationxdconfighomeconfigpropertiesrabbitproperties ignore-resource-not-foundtrue would be removed and rabbitconnection-factory idrabbitconnectionfactory hosthostspringrabbitmqhostlocalhost portportspringrabbitmqport5672 virtual-hostvhostspringrabbitmqvirtualhost usernameusernamespringrabbitmqusernameguest passwordpasswordspringrabbitmqpasswordguest would look like portport and a property file in the module directory or pojo in the module lib would specify the default value of the port for pojo it would be optionsclass orgspringframeworkxddirtmodulesmetadatarabbitsourceoptionsmetadata for property file it would be optionportdefault5672 optionportdescriptioncool port number this needs to be consistently done across all the modules,0
the hdfs sink should support copying file payloads we should support javaiofile payloads in order to support non-textual file and large text file payloads being uploaded to hdfs currently text file payloads are converted to a text stream in memory and non-string payloads are converted to json first using an object-to-json-transformer ultimately we need to support streams such as file hdfs where the actually payload being copied to hdfs is not necessarily json or textual need to be able to support headers in the message that will indicate which hdfs file the data should be stored in,0
as a developer id like to synchronize with the latest gemfire version 81 so i can leverage the latest gemfire features and as well support updated bds stack this effort in xd depends on spring data gosling ga release which in turn depends on gemfire 81 release timelines,2
as a user i would like the ability to undeploy or suspend a module without losing the deployment properties currently when temporarily suspending a module an undeploy and redeploy is executed during the redeploy the deployment properties need to be added again instead it would be nice if the properties are persisted so they automatically included with the deployment,4
update creating a sink module section to use shell commands instead of curl see httpstaticspringsourceorgspring-xddocs10x-snapshotreferencehtmltestthedeployedmodule3,0
as a user id like to have a python processor so that i can efficiently perform data computations and statistical analysis investigate the right approach native or via stdinstdout that fits spring xd model integrate java and pythonhttpswikipythonorgmoinintegratingpythonwithotherlanguagesjava,5
fix classpath and servlet container issues several issues with 130m1 staged version - we now use tomcat instead of jetty which prevent s xd-admin from starting on yarn - we now have guava 180 on classpath instead of 1601 - xd-yarn push doesnt work hadoop client for 271 needs servlet api - updating hadoop to 271 instead of 260 -- this causes curator to also update to 271 which throws exception on startup,0
change composed module behavior to black box composed module currently behave as white boxes as soon as a module is composed say http filter then all options of the children modules are available as eg httpport and filterexpression in the example above change this so that a composed module is a black box user has to explicitly expose an option for it to be available most certainly using a short name hardcoding of values would be retained and possibly overridable possible syntaxes 1 code module compose foo --definition http --portmyport1234 filter code 2 code module compose foo --definition http filter --expose port code 21 in case of ambiguity simulated in this particular example code module compose foo --definition http filter --expose httpport code 22 for specifying a default code module compose foo --definition http filter --expose port1234 code 3 allow both 1 and 2 using 1 mainly for cases where we dont map 1 to 1 with the underlying option eg code filter --expressionexprfoo code,0
as a spring xd developer id like to port http-client module from xd to s-c-s repo so i can use it as processor module to build streaming pipeline,2
jms source does not expose acknowledge since the message-driven adapter uses a dmlc the default behavior is to lose messages on exceptions with the dmlc the message is ackd before the listener is invoked in order to provide recovery of such situations the source needs to expose acknowledge so it can be set to transacted or perhaps given that we dont expose complex configuration the source should use a simplemessagelistenercontainer instead where the ack is sent after the listener is successfully invoked,0
add log config file to gemfire in final distro the changes for xd-144 mean that log4j files are no longer in the library jars the admin server already has a logging configuration which should be activated by the startup scripts but the separate gemfire app doesnt,0
install-redis script should not use relative path to determine redis source dist currently the install-redis script uses relative path to determine redis source dist file since this is error prone we need to fix it,0
admin ui does not respond after login in ie 11 i have ie 11 the xd admin ui stops responding after the login prompt and i have to kill the browser every time its not functional i have not tried it with security turned off attach is the screenshot of the version,0
add dependencies needed for running a job using hbase,0
trigger can send a message to a named channel trigger can send a message to a named channel for example trigger create --name mytrigger --definition trigger --cron10 --messagegood luck we are all counting on you --channel foo where the --message contains the message that will be sent to foo jobcomponent,0
travis ci improvements travis ci recently introduced docker based builds this prevents root access which we dont need but allows caching which we could not use before and seems to come with beefier machine specs,0
twittersearch module to produce json data as-is from twitter do not convert the data into a spring social tweet object pass along the json as-is from twitter search,0
switch capitalletters to systemproperty style in application config,0
switch module list to horizontal display the module list command currently has a very simplistic two column display of module name module type the is not very readable switch to a 4 column display sources processors sinks jobs additionally mark composed module eg myhttp c,0
filejdbc job broken in distributed mode the filejdbc job is broken in distributed mode redis and rabbit to reproduce export xdtransportrabbit start xd-admin start xd-container start shell and create this job code job create mydata --definition filejdbc --namescol1col2col3 --resourcesfilehometrisbergtestinputcsv --initializedatabasetrue --deploy job launch mydata code results in job starting but never completing code job execution list id job name start time step execution count execution status deployment status definition status -- -------- ------------------------------------ -------------------- ---------------- ----------------- ----------------- 0 mydata 2014-07-11 154433 americanewyork 0 started deployed exists code steps code step idstep namereadswritescommitsrollbacksdurationstatusdetails 0step1-master0000-1405349644032 msexecuting 1step1-masterpartition029229230302 mscompleted 2step1-masterpartition129229230203 mscompleted 3step1-masterpartition229229230193 mscompleted code when using redis i also get this stacktrace in container code 154051220 info deploymentspathchildrencache-0 bootspringapplication - started application in 1965 seconds jvm running for 66949 154051220 info deploymentspathchildrencache-0 coresimplemodule - initialized module simplemodule namefilejdbc typejob groupjob1 index0 64a28a58 154051233 info deploymentspathchildrencache-0 redisredismessagebus - binding requestor job10 154051236 info deploymentspathchildrencache-0 redisredismessagebus - binding replier job10 154051243 info deploymentspathchildrencache-0 modulemoduledeployer - deployed simplemodule namefilejdbc typejob groupjob1 index0 64a28a58 154057110 error inboundjob10-redisqueue-inbound-channel-adapter1 redisredismessagebus1 - failed to deliver message retries exhausted message sent to queue errorsname orgspringframeworkmessagingmessagehandlingexception error occurred in message handler orgspringframeworkintegrationaggregatoraggregatingmessagehandler0 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava84 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitorsimplemessagehandlermetricshandlemessagesimplemessagehandlermetricsjava106 orgspringframeworkintegrationmonitorsimplemessagehandlermetricsinvokesimplemessagehandlermetricsjava86 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy84handlemessageunknown source orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 sunreflectgeneratedmethodaccessor89invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava113 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava97 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava91 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy78sendunknown source orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava109 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava94 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava260 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava241 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava205 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava199 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava177 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkxddirtintegrationredisredismessagebus11dowithretryredismessagebusjava251 orgspringframeworkxddirtintegrationredisredismessagebus11dowithretryredismessagebusjava247 orgspringframeworkretrysupportretrytemplatedoexecuteretrytemplatejava263 orgspringframeworkretrysupportretrytemplateexecuteretrytemplatejava168 orgspringframeworkxddirtintegrationredisredismessagebus1dosendredismessagebusjava247 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava109 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava94 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava98 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointpopmessageandsendredisqueuemessagedrivenendpointjava211 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointaccess300redisqueuemessagedrivenendpointjava50 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointlistenertaskrunredisqueuemessagedrivenendpointjava290 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 javalangthreadrunthreadjava744 caused by javalangillegalstateexception null correlation not allowed maybe the correlationstrategy is failing orgspringframeworkutilassertstateassertjava385 orgspringframeworkintegrationaggregatorabstractcorrelatingmessagehandlerhandlemessageinternalabstractcorrelatingmessagehandlerjava383 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 60 more 154100129 error inboundjob10-redisqueue-inbound-channel-adapter1 redisredismessagebus1 - failed to deliver message retries exhausted message sent to queue errorsname orgspringframeworkmessagingmessagehandlingexception error occurred in message handler orgspringframeworkintegrationaggregatoraggregatingmessagehandler0 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava84 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitorsimplemessagehandlermetricshandlemessagesimplemessagehandlermetricsjava106 orgspringframeworkintegrationmonitorsimplemessagehandlermetricsinvokesimplemessagehandlermetricsjava86 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy84handlemessageunknown source orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 sunreflectgeneratedmethodaccessor89invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava113 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava97 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava91 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy78sendunknown source orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava109 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava94 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava260 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava241 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava205 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava199 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava177 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkxddirtintegrationredisredismessagebus11dowithretryredismessagebusjava251 orgspringframeworkxddirtintegrationredisredismessagebus11dowithretryredismessagebusjava247 orgspringframeworkretrysupportretrytemplatedoexecuteretrytemplatejava263 orgspringframeworkretrysupportretrytemplateexecuteretrytemplatejava168 orgspringframeworkxddirtintegrationredisredismessagebus1dosendredismessagebusjava247 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava109 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava94 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava98 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointpopmessageandsendredisqueuemessagedrivenendpointjava211 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointaccess300redisqueuemessagedrivenendpointjava50 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointlistenertaskrunredisqueuemessagedrivenendpointjava290 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 javalangthreadrunthreadjava744 caused by javalangillegalstateexception null correlation not allowed maybe the correlationstrategy is failing orgspringframeworkutilassertstateassertjava385 orgspringframeworkintegrationaggregatorabstractcorrelatingmessagehandlerhandlemessageinternalabstractcorrelatingmessagehandlerjava383 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 60 more code,0
tuple should support storing nested tuples nested tuple structures shoudl be supported gettupleint index gettuplestring name,0
tapping a stream with multiple labelled filters causes duplicate messages test case is here httpsgithubcomspring-projectsspring-xdblobmastersrctestscriptsbasicstreamtestsl49 we would expect one message in the counter but get 3,0
create startup script to start one admin multiple containers we could have a xd startup script something like this xd-distributed --admins1 --containers3 we could possibly provide a configuration option to specify the admin port so that multiple admin servers can be started,0
create shell command for getting information on the progress of a given step execution,0
create rich gauge module spring config for rich gauge plus message handler to coerce a numeric or string payload to a double,0
need to support xdadminhost and xdcontainers in test properties if a user wishes to run the acceptance tests from their local machine against an xd instance on ec2 the only way to establish container and admin server is via the artifact ec2serverscsv and this has to be copied to the spring-xd-integration-test subdirectory the user should be able to set the xdadminhost and xdcontainers in the application-profileproperties file,0
add tap support to dirt syntax code tap somechannel --keyvalue somecounter code,0
escape delimited characters in jdbchdfs job as as user i want to be able to escape delimiter character currently i cannot use this job oob to create csvs that are usable in hivehawq because of unescaped delimiters,0
fix hardcoded redis port from tests kparikh-mbprospring-xd kparikh grep -r 6379 grep java spring-xd-analyticssrctestjavaorgspringframeworkxdanalyticsmetricscommonredisrepositoriesconfigjavacfsetport6379 spring-xd-analyticssrctestjavaorgspringframeworkxdanalyticsmetricsintegrationgaugehandlertestsjavacfsetport6379 spring-xd-analyticssrctestjavaorgspringframeworkxdanalyticsmetricsintegrationrichgaugehandlertestsjavacfsetport6379 spring-xd-dirtsrctestjavaorgspringframeworkxddirtlistenerrediscontainereventlistenertestjavacfsetport6379,0
refactor mail and imap source into one mail module leveraging profiles once xd-785 is merged,0
low story pointtime improvements or bug fixes that can easily be picked up in a sprint in an ad-hoc manner,0
scs- replace codec impl in spring-cloud-stream-codec with si-codec,0
investigate failing tests in ci failure example httpsbuildspringiobrowsexd-master-2152,0
use correct fsdefaultnamekey constant based on hadoop version used keep getting the following warning warn spring shell confconfiguration817 - fsdefaultname is deprecated instead use fsdefaultfs should switch to use the runtime value of the fsdefaultnamekey constant based on hadoop version used,0
need to set small commit level for acceptance tests xd-2180 introduced a default commit level for jobs to be 1000 vs the original 100 now tests sporadically fail need to set the --commitinterval for the tests to a small value,0
create redisprotocolxml that will load all the redis specific implementations to suppor the xd container runtime and administration the redis specific beans that are defined in the current launcherxml should move into this configuration file,0
zookeeper job deployments path state is not updated after successful deployment after successful job deployment the job deployments path in zk doesnt get updated with the data state deployed though this data is not used for deployed instance repository orgspringframeworkxddirtstreamzookeeperzookeeperjobrepository to check for the deployment status it may be better to have this state updated like stream deployment path,0
ui step execution progress will show value than 100 in cases where i re-run a job and during the job execution the percentage complete will tally the total runtime of the current execution and all previous executions see the attached image,0
upgrade to shdp 20 m6 the yarn support in m6 changes most of the config properties need to update xd to use new ones,0
merge abstractstreamdeploymentintegrationtests and abstractsinglenodestreamdeploymentintegrationtests we do not need two base classes for this,0
twittersearch and twitterstream should support compatible formats currently twitterstream emits native twitter json whereas twittersearch uses sispring social and emits spring social tweet types this makes it difficult to replace twitter sources and reuse xd stream definitions this requires coordination with ss 110 and si 40 ga releases note i think its a good idea to continue to support native twitter json keep as an option for twitterstream but the default should be tweet types,0
as a tester id like to add test coverage for complex objects such protocol buffers any object with nested variables or a tree of objects so that i can evaluate and document the performance characteristics,5
fix javadoc warnings homegprdocumentsgithubspring-xdspring-xd-analyticssrcmainjavaorgspringframeworkxdstoreabstractredisrepositoryjava196 warning - param argument the is not a parameter name homegprdocumentsgithubspring-xdspring-xd-modulesrcmainjavaorgspringframeworkxdmoduleabstractpluginjava93 warning - return tag has no arguments homegprdocumentsgithubspring-xdspring-xd-rest-domainsrcmainjavaorgspringframeworkxdrestclientutilresttemplatemessageconverterutiljava63 warning - tag link reference not found streamdefinitionresourcepage homegprdocumentsgithubspring-xdspring-xd-rest-clientsrcmainjavaorgspringframeworkxdrestclienttapoperationsjava40 warning - param argument control is not a parameter name homegprdocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtserveroptionsoptionutilsjava29 warning - parame is an unknown tag homegprdocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreammissingrequireddefinitionexceptionjava38 warning - param argument name is not a parameter name homegprdocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamstreamserverjava102 warning - return tag has no arguments homegprdocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamtapdefinitionjava57 warning - return tag has no arguments homegprdocumentsgithubspring-xdspring-xd-modulesrcmainjavaorgspringframeworkxdmoduleabstractpluginjava93 warning - param argument group is not a parameter name homegprdocumentsgithubspring-xdspring-xd-modulesrcmainjavaorgspringframeworkxdmoduleabstractpluginjava93 warning - param argument index is not a parameter name homegprdocumentsgithubspring-xdspring-xd-modulesrcmainjavaorgspringframeworkxdmoduleabstractpluginjava101 warning - param argument group is not a parameter name homegprdocumentsgithubspring-xdspring-xd-modulesrcmainjavaorgspringframeworkxdmoduleabstractpluginjava101 warning - param argument index is not a parameter name homegprdocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkintegrationxjsontypedjsonmapperjava133 warning - return tag has no arguments homegprdocumentsgithubspring-xdspring-xd-shellsrcmainjavaorgspringframeworkxdshellutiluiutilsjava60 warning - cloudapplication is an unknown tag homegprdocumentsgithubspring-xdspring-xd-tuplesrcmainjavaorgspringframeworkxdtupletuplejsonmarshallerjava26 warning - param argument tupletostringconverter is not a parameter name homegprdocumentsgithubspring-xdspring-xd-tuplesrcmainjavaorgspringframeworkxdtupletuplejsonmarshallerjava26 warning - param argument stringtotupleconverter is not a parameter name homegprdocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamdsldslexceptionjava89 warning - return tag has no arguments homegprdocumentsgithubspring-xdspring-xd-dirtsrcmainjavaorgspringframeworkxddirtstreamdslstreamlookupenvironmentjava60 warning - return tag has no arguments,0
as a developer id like to create a new load-generator so i can use it to measure highly optimized kryo serialized payload to measure the performance differences,3
document redis pool properties in serversyml add springredispool properties to serveryml commented out to show default values eg maxidle 8 minidle 0 maxactive 8 maxwait -1,0
update to spring batch admin 130ga,0
enable spring boot loader support as part of running in cloud foundry one quick workaround for the lack of classpath support would be to use the spring boot loader special classloader and jar-inside-a-jar support httpsgithubcomspring-projectsspring-boottreemasterspring-boot-toolsspring-boot-loader,0
replace gardenhose doc with new twitterstream,0
saving a metric counter gauge with an existing name should throw an exception the difference between saving a new metric and updating an existing one needs to be defined suggest that if we try to save when an existing counter is already in the database to throw exception such as dataintegrityviolationexception,0
rabbit bus expose channelcachesize on cachingconnectionfactory httpstackoverflowcomquestions35563064processing-messages-through-namedchannels-with-prefetch-13558433335584333,0
parent modules thinking about the ubs scenario that mp described they want all their cassandra modules to share a connection leading to the need for a parent context for those modules we could introduce a parent module for this purpose the module declares a parent in its properties which likely ends up as a parent module definition in the module definition when the child module is deployed its parent must be deployed first if it is not already ie parent is a singleton per container the module sets that as its parent context we would have to make sure things happen in the correct order so the global context is the parent of the parent ad infinitum the alternative is to add a module parent context to the xd hierarchy which is extensible but this is more elegant imho also in cases that dont require singleton bean definitions the parent could package and provide common jars to children eg we set the parent modules classloader as the parent classloader eliminating the need to install common jars in an hdfs path basically the approach i described httpsjiraspringiobrowsexd-2420 mp also in cases that dont require singleton bean definitions the parent could package and provide common jars to children eg we set the parent modules classloader as the parent classloader this approach does not offer some of the advantages offered by a central yaml config noted in the jira but it is simpler in many ways the developer just installs a parent module containing dependent jars and sets that as a parent in the child modules this requires no additional infrastructure to address the hadoop scenario we discussed we would need another level of indirection so the parent of the hdfs modules is bound to the configured hadoop distro eg something like parent xdhadoopdistro in module properties mf possibly the parent modules could go in the common directory they should be considered abstract also - in the same sense as abstract bean definitions in a spring context and they should only be started on demand when needed by at least one concrete child module - then destroyed when the last child module is destroyed maybe this would also allow us to wrap up those xml files that currently live in common so that they are treated as parent modules mf yea that sounds good wrt to common also it might be a good idea to enable spring to throw an error if it finds more than one bean of the same name in the application context - i think that applies to searching in parent contexts as well this would avoid the last one wins rule and give more deterministic behavior,0
ui cluster view of a container we need a visual representation of the xd cluster with runtime container and deployed modules,0
add log-full-message property to the log sink allows looking at message headers without turning on debugging,0
mail source moduleoptions profiles,0
create documentation for the deployment manifest,0
fix package tangle fix package tangle issue reported here httpsbuildspringiobrowsexd-sonar-490,0
investigate and remove explicit thread sleep in abstractsinglenodestreamdeploymentintegrationtests there are explicit threadsleep calls after deploy in some of the test methods in abstractsinglenodestreamdeploymentintegrationtests also the test method deployandundeploy doesnt have explicit threadsleep and fails inconsistently with this error javalangassertionerror stream test0 not undeployed orgjunitassertfailassertjava88 orgjunitassertasserttrueassertjava41 orgspringframeworkxddirtstreamabstractsinglenodestreamdeploymentintegrationtestswaitforundeployabstractsinglenodestreamdeploymentintegrationtestsjava332 orgspringframeworkxddirtstreamabstractsinglenodestreamdeploymentintegrationtestsdeployandundeployabstractsinglenodestreamdeploymentintegrationtestsjava221 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava601 orgjunitrunnersmodelframeworkmethod1runreflectivecallframeworkmethodjava47 orgjunitinternalrunnersmodelreflectivecallablerunreflectivecallablejava12 orgjunitrunnersmodelframeworkmethodinvokeexplosivelyframeworkmethodjava44 orgjunitinternalrunnersstatementsinvokemethodevaluateinvokemethodjava17 orgjunitinternalrunnersstatementsrunaftersevaluaterunaftersjava27 orgjunitrunnersparentrunnerrunleafparentrunnerjava271 orgjunitrunnersblockjunit4classrunnerrunchildblockjunit4classrunnerjava70 orgjunitrunnersblockjunit4classrunnerrunchildblockjunit4classrunnerjava50 orgjunitrunnersparentrunner3runparentrunnerjava238 orgjunitrunnersparentrunner1scheduleparentrunnerjava63 orgjunitrunnersparentrunnerrunchildrenparentrunnerjava236 orgjunitrunnersparentrunneraccess000parentrunnerjava53 orgjunitrunnersparentrunner2evaluateparentrunnerjava229 orgjunitinternalrunnersstatementsrunbeforesevaluaterunbeforesjava26 orgjunitinternalrunnersstatementsrunaftersevaluaterunaftersjava27 orgspringframeworkxdtestabstractexternalresourcetestsupport1evaluateabstractexternalresourcetestsupportjava71 orgjunitrulesexternalresource1evaluateexternalresourcejava48 orgjunitrulesexternalresource1evaluateexternalresourcejava48 orgjunitrulesrunrulesevaluaterunrulesjava20 orgjunitrunnersparentrunnerrunparentrunnerjava309 orggradleapiinternaltaskstestingjunitjunittestclassexecuterruntestclassjunittestclassexecuterjava86 orggradleapiinternaltaskstestingjunitjunittestclassexecuterexecutejunittestclassexecuterjava49 orggradleapiinternaltaskstestingjunitjunittestclassprocessorprocesstestclassjunittestclassprocessorjava69 orggradleapiinternaltaskstestingsuitetestclassprocessorprocesstestclasssuitetestclassprocessorjava50 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava601 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava35 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava24 orggradlemessagingdispatchcontextclassloaderdispatchdispatchcontextclassloaderdispatchjava32 orggradlemessagingdispatchproxydispatchadapterdispatchinginvocationhandlerinvokeproxydispatchadapterjava93 comsunproxyproxy2processtestclassunknown source orggradleapiinternaltaskstestingworkertestworkerprocesstestclasstestworkerjava103 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava601 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava35 orggradlemessagingdispatchreflectiondispatchdispatchreflectiondispatchjava24 orggradlemessagingremoteinternalhubmessagehubhandlerrunmessagehubjava355 orggradleinternalconcurrentdefaultexecutorfactorystoppableexecutorimpl1rundefaultexecutorfactoryjava64 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava722,0
stack trace on xd-admin restart when redploying streams the trace below occurs in the admin console but the admin continues to handle subsequent deployment requests fine it seems to reproduce start xd-admin and xd-container just 1 of each deploy time log kill both xd-admin and xd-container start xd-container by itself wait 10 seconds or so then start xd-admin result code 213501575 error containerspathchildrencache-0 cachepathchildrencache550 - orgapachezookeeperkeeperexceptionnodeexistsexception keepererrorcode nodeexists for xddeploymentsmodulesf89e5fdc-7dc1-49fb-93cc-d536ab853f12ssourcetime-0 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava119 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 orgapachezookeeperzookeepercreatezookeeperjava783 orgapachecuratorframeworkimpscreatebuilderimpl11callcreatebuilderimpljava676 orgapachecuratorframeworkimpscreatebuilderimpl11callcreatebuilderimpljava660 orgapachecuratorretryloopcallwithretryretryloopjava107 orgapachecuratorframeworkimpscreatebuilderimplpathinforegroundcreatebuilderimpljava656 orgapachecuratorframeworkimpscreatebuilderimplprotectedpathinforegroundcreatebuilderimpljava441 orgapachecuratorframeworkimpscreatebuilderimplforpathcreatebuilderimpljava431 orgapachecuratorframeworkimpscreatebuilderimplforpathcreatebuilderimpljava411 orgapachecuratorframeworkimpscreatebuilderimpl4forpathcreatebuilderimpljava319 orgapachecuratorframeworkimpscreatebuilderimpl4forpathcreatebuilderimpljava255 orgspringframeworkxddirtservercontainerlisteneronchildaddedcontainerlistenerjava272 orgspringframeworkxddirtservercontainerlistenerchildeventcontainerlistenerjava152 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava494 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava488 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava293 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava485 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache11runpathchildrencachejava755 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 code,0
as a qa id like to include acceptance test coverage for spark-app batch job so that i can validate the functionality as part of every ci build,4
first deploylaunch of pig job that includes yarn-sitexml file fails deploying and launching a pig job that contains a yarn-sitexml config file fails on the first deploy after xd starts up this happens consistently the error is error could not find or load main class orgapachehadoopmapreducev2appmrappmaster which indicates that the yarn-sitexml file never made it to the classpath un-deploying and re-deploying the job seems to fix the problem,0
add test to startstop stream server in additional to existing tests that check for redis connection we need to add tests that startstop stream server,0
hide the passwords in custom modules from being displayed hi passwords are visibly when using custom modules attached is example custom module code and xd-shell script to reproduce the problem using stream module of type processor on spring xd 121release compile with maven mvn clean install and run xd-shell script xd-shell --cmdfile runmecmd,0
as a follow-up action from module registry refactoring we would have to clean-up deprecated functions ex download of module definitions within our codebase it may also be necessary to clean-up shell and admin-ui modules,3
as a developer id like to split admin artifact packaged with hadoop distro specific libraries so i could avoid adding all variations of hadoop libraries under one project,4
http post in cli gives illegalargumentexception in xd-shell the command code http post code gives the following output code command failed javalangillegalargumentexception one of file or data must be set code i believe the ui should suppress the exception just removing javalangillegalargumentexception would suffice,0
mqtt support the new spring integration 41 features ha configuration async sends httpdocsspringiospring-integrationreferencehtmlwhats-newhtml41-mqtt,0
create shell command for getting information on a given step execution,0
move shell integration tests to spring-cloud-data shell this could focus only on the subset stream operations,0
as a spring xd developer id like to move trigger module from xd to s-c-s repo so i can use it as source to build streaming pipeline,2
as a spring xd developer id like to move hdfs-dataset module from xd to s-c-s repo so i can use it as sink to build streaming pipeline,4
support shell completions for closed set of values in stream definitions when doing dsl completion in a stream definition and a module option accepts a value that has a closed set of possible values eg booleans enums we can provide completions for those,0
add pre-compiled redis distributions for the selective os platforms,0
add command for listing streams,0
as a s-c-d developer id like to enhance integration test coverage for lattice spi so i can continuously evaluate functionalities via ci pipeline,3
spike design a tasks repository h2 narrative as a developer id like to be able to run a boot jar as a task on cf and obtain the result reliably h2 back story currently latticediegos tasks implementation provides the ability to run things as short lived tasks however obtaining the result of said task can be an issue there are two ways to do so poll for the result register a callback url to be called once the task completes since a task is only available for a short time after its completion before it is deleted polling can run the risk of missing the result completely when you consider the fact that the provided guids that identify tasks can be re-used polling becomes a precarious option registering a callback url would be a better option however there are no good guarantees that the message will be delivered the service will try to execute the callback until its successful or the task is cleaned up successful is defined in this case as anything other than a 502 or a 503 return code in order for spring xd to be able to support diego tasks a more durable option for maintaining the result of tasks will need to be developed note the outcome of this spike may be feature requests for the cfdiego team,0
investigate failing tests in mailcommandtest orgspringframeworkxdshellcommandmailcommandtests in spring-xd-shell project i get failures relating to invalid usernamepassword info stream name stream definition status ----------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------- mailstream imap --port1044 --protocolimap --folderinbox --usernamejohndoe --passwordsecret file --dirtmp --namefilesink1280066074228960855 --suffixtxt --charsetutf-8 --binaryfalse deployed 130904 113211 warn mailimapidlechanneladapter error occurred in idle task javaxmailauthenticationfailedexception login failed invalid loginpassword at comsunmailimapimapstoreprotocolconnectimapstorejava663,0
remove reactor stream processor from ref docs to spring-xd-modules not going to integrate with reactor for stream processing,0
kafka source module handling delete offsets when the stream that holds the kafka source module is undeployedbut not destroyed yet the underlying offset manager deletes the offsets associated with the steam when same stream is re-deployed the offset manager reads the offsets from kafka broker if initial offsets are not provided for each partition the module is configured to listen if the initial offset values are provided for the stream then i think the offset manager should delete the offsets from the xd offset topic only when the stream is destroyed since we want to re-use the offset topic data upon stream undeployre-deploy,0
upgrade scsm hdfs sink to shdp 230m3,0
document the structure of the rest api,0
make max-messages-per-poll setting of the file source configurable the max-messages-per-poll property of the poller used in the file source is not exposed and cannot be configured i think it has the default value of 1 in this configuration httpsgithubcomspring-projectsspring-xdblobmastermodulessourcefileconfigfilexmll18 as a result it is not possible to configure the file source to pick all new files available in a single poll this is a limitation in fast file ingestion scenarios,0
disable batch job tests for kafka message bus at this time kafka message bus does not support jobs but we still need to run acceptance tests for streams thus we need to exclude jobs from the acceptance tests when using kafka message bus,0
remove deprecated tap syntax from the parser tap and using numbers instead of module names,0
field-value-counter should support nested fieldnames for example when using the twittersearch source module the hashtags are nested within entities and the value for hashtags is itself an object with a text field so the following would be needed to count the actual value of interest code tap tweets field-value-counter --fieldnameentitieshashtagstext code,0
naming consistency for named channels there seems to be some inconsistency with the naming strategy for the named channels for example if we create a job j1 the job launching request queue name in the message broker would jobj1 to send a launching request we can either use queuejobj1 or jobj1 both seems to work if we create a stream with the named p2p channel foo we expect to use the syntax queuefoo and the message broker will have the queue name queuefoo the streamconfigparser resolves the sourcesink channel names for tap to deduce the module index from the channel component channelnoderesolvestreamlookupenvironment env but in case of the named channels that have prefix topic or queue their names are used as is the only exception in a case where from streamconfigparsers eatchannelreferenceboolean tapallowed codejava queuexxx topicxxx if firsttokendataequalsignorecasequeue channeltype channeltypequeue else if firsttokendataequalsignorecasetopic channeltype channeltypetopic todo dt not sure if this is the best way to handle streamconfigparsertestssubstreamswithsourcechannels if channelscopecomponentssize 3 channelscopecomponentsremove0 code the above code makes sure queuejobjobname still points jobjobname we need some consistency when referring to the names of queues for the named channels above something like this queuejobj1 for job launching request queue and queuefoo for the named p2p channel queue or a better strategy the has consistency across the named channels,0
publish containerstoppedevent when the container shutsdown when the container shuts down containerstoppedevent should be published so that appropriate listeners would act on please refer to this discussion here httpsgithubcomspring-projectsspring-xdpull612,0
support underscore delimited module args for module launcher if the module launchers module arg is delimited by underscore --args0fixeddelay1 then boot ignores that property it is important to support the underscore delimited property arguments as we set environment properties of these in cf and lattice environment the spring boot fix httpsgithubcomspring-projectsspring-bootcommit5a287455273270a20742f03e4546acde9e857bee doesnt resolve the property if the value type of the map is map itself,0
investigate if we should use requrejs with angular,0
add to acceptance test ec2 job a stage that uses xd distributed mode with redis see httpsquickstartatlassiancomdownloadbambooget-startedbamboo-elements stages are comprised of one or more jobs which run in parallel we would like the tests across the rabbit and redis transport to occur in parallel,0
restore jdk6 compatibility,0
upgrade to spring 402release,0
add a test for xdstreamname inside the dsl definition of a stream,0
splunk sink - add option to write to index add option to write to splunk named index as an alternative to tcp,0
create a sqoop job and required batch tasklet integration code based on the poc from xd-2124 we should create the actual implementation things to consider to store in step context - capture log outputmapreduce job counters - capture last-value from incremental imports,0
fix jms property names the jms sourcesink has a pluggable provider default activemq but the url property amqurl implies activemq - the property name should be generic found while testing xd-1149,0
shell http post - allow posting of local file contents eg allow for posting of json data stored in local files allow users to specify the content-type ensure that unicode data utf posts correctly,0
add junit rule so tests fail fast with clear messaging if redis not available,0
http post in shell incorrectly mentions default of --target option the value for --target is required there is no default but the hint for that option states otherwise code xdhttp post --target http post --target required --target the location to post to default if option not present httplocalhost9000 code,0
optimize deployment of xd-admin and multiple nodes in spring-xd-ec2 to occur in parallel the deployment of nodes is sequential we can reduce the time to deploy a cluster greatly by having these tasks execute in parallel,0
as a user id like to have the ootb module to consume database changes as event streams so i can incrementally synchronize with real-time db updates with various destinations such as brokers hadoop db etc,5
fix redis fieldvaluecounter repo save method that method is actually currently never called but - the case where a mapping already exists is not covered outstanding todo comment - the semantics of the method should just be to save and override,0
modify startup script of xd shell to allow specifying hadoop distro to use,0
as a developer i would like to connect to the broker that hosts the rabbit queue so i can connect to a rabbit cluster thats setup for haft perhaps consider having this feature natively supported in spring amqp itself,3
xd adminmain containermain should check xdhome property from scripts currently the system property xdhome is set as jvmopts via springxdadminopts into xd-admin xd-container scripts inside the containermain adminmain we need to check if this system property is set and use it it seems like this check is missing now,0
create mock on distributedjobservice instead of instantiating object currently the tests use instantiated distributedjobservice object instead of a simple mock we can just use mock object for the tests,0
parser fails on after literal within an expression this fails code xdstream create s --definition http transform --expressionhipayload log command failed orgspringframeworkxdrestclientimplspringxdexception xd115epos 34 unexpected data in stream definition http transform --expressionhipayload log code but this works code xdstream create s --definition http transform --expressionpayloadhi log created new stream s code,0
upgrade to spring integration 400m4 currently on snapshots which is oddly pulling in groovy 210,0
as a developer id like to migrate the current master branch ci builds to ec2 instances so i can manage them all in one-place reliably,5
fail sonar ci build if there are any package tangles violated similar to what would show up on structure101 reports,0
validate time field processing with aggregatecounter aggregatecounter needs a test case along the lines of of orgspringframeworkxdanalyticsmetricsintegrationfieldvaluecounterhandlertests that will demonstrate the base functionality of the module as well as use of the timefield and dateformat options,0
inconsistent api in abstractsinglenodenamedchannelsink in abstractsinglenodenamedchannelsinkhttpsgithubcomspring-projectsspring-xdblob6bd17162c8a6da0f09f6f8809f694a060c71ecc0spring-xd-dirtsrcmainjavaorgspringframeworkxddirttestsinkabstractsinglenodenamedchannelsinkjava the receive and receivepayload methods are non-blocking methods without timeout parameter are usually blocking and return the first message delivered to the channel eg orgspringframeworkintegrationchannelabstractpollablechannelreceive integration tests based on spring-xd-test dependency and embedded xd-singlenode are asynchronous this makes abstractsinglenodenamedchannelsink receive method return null in all invocations because test thread is progressing faster than container can process the message in the background would it be possible to make receive methods behave like in abstractpollablechannel,0
as a developer id like to define pluggable runtime spi so i have the option to choose the implementation based on deployment targets such as cf on-prem mesos etc,4
hadoop distro option hdp20 is broken starting the shell with --hadoopdistro hdp20 causes this exception in thread main orgspringframeworkbeansfactoryparsingbeandefinitionparsingexception configuration problem unable to locate spring namespacehandler for xml schema namespace httpwwwspringframeworkorgschemahadoop offending resource url jarfileuserstrisbergdemospring-xd-100build-snapshotshelllibspring-xd-shell-100build-snapshotjarmeta-infspringspring-shell-pluginxml creating a stream time hdfs in xd-singlenode started with --hadoopdistro hdp20 causes this javalangillegalstateexception cant find class used for type of option codec orgspringframeworkdatahadoopstorecodeccodecs,0
jms source on ec2 only uses localhost for activemq broker problem on a ec2 container jms-activemqproperties was configured to use a activemq broker on a different host it still referred to localhost on my local mac i was able to updated the jms-activemqproperties with an activemq on a different host and it worked work-around while not recommended you can set the amqurl in the jms-activemq-infrastructure-contextxml steps to reproduce 1 deploy a single admincontainer using xd-ec2 2 create a jms-activemqproperties file in the spring-xd-100build-snapshotxd where it refers to a broker on another machine ec2-54-221-32-82compute-1amazonawscom 3 create a stream with jms as its source,0
update sinks tcp section to use shell commands instead of curl see httpstaticspringsourceorgspring-xddocs100m1referencehtmltcpsinks,0
implement mesos spi as an s-c-d user id like to deploy s-c-d on mesos,0
change url to access ui from browser currently the url for accessing the xd ui is httplocalhost8080admin-uiindexhtml this feels messy and dated we should be able to access the ui without explicitly including the indexhtml like this code httplocalhost8080admin-ui code,0
make module class loader or module available to implementation of custom module requirements make the class loader of the custom xd module available to the code of the custom module javassists toclass method uses the threads local class loader to load classeshttpsjboss-javassistgithubiojavassisthtmljavassistctclasshtmltoclass-- this is most definitely inappropriate in the case of spring xd modules since many classes come from the lib directory of the module those will produce a classdefnotfound exception in javassist currently the modulefactory basically throws away the class loader after generating it code private module createsimplemodulemoduledescriptor moduledescriptor moduleoptions moduleoptions moduledeploymentproperties deploymentproperties if logisinfoenabled loginfocreating simple module moduledescriptor simplemoduledefinition definition simplemoduledefinition moduledescriptorgetmoduledefinition classloader moduleclassloader moduleutilscreatemoduleruntimeclassloaderdefinition moduleoptions thisparentclassloader class extends simplemodule moduleclass determinemoduleclasssimplemoduledefinition moduledescriptorgetmoduledefinition moduleoptions assertnotnullmoduleclass stringformatrequired module artifacts are either missing or invalid unable to determine module type for module definition ss moduledescriptorgettype moduledescriptorgetmodulename return simplemodulecreator createmodulemoduledescriptor deploymentproperties moduleclassloader moduleoptions moduleclass code i think it would be sufficient if either the current module or the class loader itself could be injected into the custom classes of the custom xd module as far as i can see i cannot get a grip on the module instance in the current state of xd system,0
applicationcontext id generation applicationcontext id generation is difficult in general cloud foundry solves this problem for us by providing unique instance ids to all running instances of an app i dont suppose that helps much in the general case though and we need something a rule of thumb that is unique and preferably deterministic so that nodes retain their id across process and connector restarts in cloud foundry the instance id plays a vital role and will be automatically picked up by the app and applied - need to look at how that plays in a context hierarchy user can set the context id manually using springapplicationname and springapplicationindex,0
add how to build spring-xd instructions to the documentation we need to determine where this information could fit in it can be either in readme at the project home page or getting started wiki page,0
jdbc sink destroys existing table the jdbc sink deletes existing table and creates a single column payload one even if properties file has initializedatabasefalse,0
composed module child module validated too early module compose foo --definition time --fixeddelay5 shell --commandmysh code xdstream create bar --definition foo log --deploy command failed orgspringframeworkxdrestclientimplspringxdexception error with options for module foo of type source command may not be empty command may not be null code the problem stems from the fact that the options metadata validation is performed on the shell module before the property from the composed module is injected disabling the validation annotations on the metadata avoids the problem code notempty notnull public string getcommand return command code,0
fail fast admin server if admins embedded tomcat couldnt start during admin server startup if it fails due to embedded tomcat failure then the admin server instance still up and running since its tomcat isnt running it can not handle any rest client requests in this scenario we need fail fast the admin server process itself with better error message,0
create a loadgenerator source module create a load-generator source module that will generate messages and dispatch messages to a xd stream,0
add visual representation of job workflow in executions list page as an xd user id like to be able to visually differentiate between job-composition workflow and single job,0
refactor srctestresources in dirt in the testmodulessource rename source-config to packaged-source rename source-config to packaged-source-no-lib all xml files should be prefixed with test ie testsource testsink make sure all tests pass with new configuration,0
as a s-c-d user id like to have the option of gemfire spi so i can use gemfire and the infrastructure to orchestrate s-c-d data microservices,5
fix jsonpath evaluation following jsonpath version upgrade,0
update java version to 7,0
investigate rabbitsinglenodestreamdeploymentintegrationtests performance this test is very slow 2x the redis version lots of stacktraces when running could be related,0
add real modulerunner application the current modulerunner is test app used for validation this should be replaced by a real app,0
create an easier short-cut for launching adhoc batch jobs currently for adhoc launching of batch jobs you have to use code stream create --name mytriggerstream --definition trigger jobhellospringxd code for renewed triggering of the job you have to undeploy and then redeploy the job it would be nice if there was possibly a slightly simpler way of doing this just fyi - as a different approach you can also use the http source source job create --name myjob --definition myjob stream create --name myjobhttp --definition http jobhttp http post --data source,0
uifix e2e test warning when running e2e tests the following warning may be observed code running karmae2e karma task info karma karma v0109 server started at httplocalhost7070karma info launcher starting browser phantomjs typeerror cannot read property verbose of undefined at enablewebsocket usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-connect-proxylibutilsjs10118 at objectutilsproxyrequest as handle usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-connect-proxylibutilsjs1095 at next usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-contrib-connectnodemodulesconnectlibprotojs19315 at objectlivereload as handle usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-contrib-connectnodemodulesconnect-livereloadindexjs1475 at next usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-contrib-connectnodemodulesconnectlibprotojs19315 at functionapphandle usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-contrib-connectnodemodulesconnectlibprotojs2013 at serverapp usershillertdevgitspring-xdspring-xd-uinodemodulesgrunt-contrib-connectnodemodulesconnectlibconnectjs6537 at servereventemitteremit eventsjs9817 at httpparserparseronincoming httpjs210812 at httpparserparseronheaderscomplete as onheaderscomplete httpjs12123 at socketsocketondata httpjs196622 at tcponread netjs52527 code,0
deployment manifest to support directing deployment to run on a group of servers need some kind of hint that a given deployment is to be run on a group of servers that deployment would then be part of a partitioned work flow another item on this would be the group that the server is running in can be added to removed dynamically the use case on this would be if the group of servers are running a max cpu capacity we can easily add another compute node likewise we can remove a server from the group if the servers are not being fully utilized this issue is lightly linked to httpsjiraspringsourceorgbrowsexd-1337,0
schedule button shows up but does not perform any task i know that the feature is not ready but we either should post a message to the user that the feature is not available or hide the button,0
enable shutdown containers from admin server when the container starts up it has a random http port for management configurations if the container has management port enabled then we can store it as container attribute if the admin can reach out to the container on that port then we can provide an option to shutdown container from the admin server,0
create a reusable responsive ui layout to render the xd pagedresoures in tabular view create a reusable responsive ui layout to render the pagedresources returned from rest endpoint as part of this try upgrading the bootstrap to 300 and use the responsive styles offered in it,0
in zookeeperstreamrepositoryfindallinrange the boolean parameters are not supported in zookeeperstreamrepositoryfindallinrange the parameters boolean frominclusive boolean toinclusive dont have any effect implicitly true are they needed do we need to support it,0
documentation typo in json spel filter in the json spel filter twitter example here httpdocsspringiospring-xddocs100m5referencehtmlfilter hashtags should not have a capital t should be hashtags,0
spring xd - handling sink failures if a sink fails for whatever reason will it be possible to handle it say by sending the payload to an error queue for later processing when a jdbc or mongo sink fails due to a database connectivity loss or the modules are designed by certain principles contracts not to be meant to handle such failures,0
as a user id like to refer to hive sample so that i can use that as a reference to integrate hive to query and analyze,2
update to spring-data-redis 110m2 remove the noopredisserializer and use the non-serialization feature of m2,0
when setting managementport only the admin is updated when setting the managementport in the serversyml all deployments should use the port specified currently only admin is updated the containers are still using 0,0
rename channelregistry my current thinking is channelregistry - messagebus rabbitchannelregistry - rabbitmessagebus then method names change like so createinbound - registerconsumer createoutbound - registerproducer,0
commandline default values from container admin options can not be overridden if we have default values from containeradmin options then they can not be overridden by the system properties or system environment currently the only default we have for the containeradmin options is for jmxenabled option and since it is a boolean it can never be overridden by sysenv property xdjmxenabled i think we need to make sure there are no default values assigned for the non-boolean containeradmin options and handle the boolean type option separately,0
provide moduleoptionsmetadata using simple approach following merge of xd-953 provide module options using the simple approach where applicable,0
deployment tab on admin-ui lags behind with changes on other pages the deployment tab does not reflect the current state of the jobs user must hit browser refresh button to make it work,0
as a user id like to have the option of reliable hdfs writes for stream pipelines so i can get acknowledgement of actual hdfs commits as opposed to just from the message bus,4
jobrepository should be persistent and shared across xd-adminxd-container the current code is creating an in-memory job repository for each batch job that is launched this makes it impossible to query the tables in the job repository across the cluster a single job repository that is backed by a file need to be shared across all jobs that are a launched implementation suggestions the xdadmin server should create the job repository schema if not found in a hsqldb database when it starts up the bean definitions should be added to the same context that the analytics are being loaded in as it is already shared across xd-adminxd-container the analytics context should be renamed to something more generic shared parent context or something there is some clean up removal of the code in the current jobplugin meta-infspring-xdpluginsjobcommonxml wouldnt be needed anymore that might be all not sure how to verify it works a junit test that verifies the spring batch tables were created in the job repository when xd-admin is launched this would require deleting the backing db file before instantiating singlenodexd-adminxd-container if you start the xd-container it should be able to find the necessary datasourcejobrepository beans information to be able to contact the database we dont have di style junit tests so this will required getting a reference to the xd-container and its application context and performing getbeanjobrepositoryclass,0
as a developer id like override the partition function within my source or processor module so i can send the data to a specific partition,4
gemfire modules fail to deploy when ssl enabled see the attatched log xdout showing caused by javalangillegalstateexception a connection to a distributed system already exists in this vm it has the following configuration ack-severe-alert-threshold0 ack-wait-threshold15 archive-disk-space-limit0 archive-file-size-limit0 async-distribution-timeout0 async-max-queue-size8 async-queue-timeout60000 bind-address cache-xml-filecachexml cluster-ssl-ciphersany cluster-ssl-enabledtrue cluster-ssl-keystoreusersdturanskitrustedkeystore cluster-ssl-keystore-passwordpassword cluster-ssl-keystore-typejks cluster-ssl-protocolsany cluster-ssl-require-authenticationtrue cluster-ssl-truststoreusersdturanskitrustedkeystore cluster-ssl-truststore-passwordpassword steps to reproduce refer to httpgemfiredocspivotaliolatestmanagingsecuritysslexamplehtml 1 install the the attached keystore 2 install attached gemfireproperties in xdinstallxdconfig 3 install a copy of gemfireproperties in the server path eg if using the gemfire server app installed with the distribution xdinstallgemfire and run bingemfire 4 start the gemfire server 5 start xd singlenode 6 start the shell and deploy a stream using a gemfire module this was reported with gemfire-json-server sink but in theory it will affect any since it occurs during client cache creation note i verified this ssl configuration works with a simple sdg client against the xd server use sdg 162 and gemfire 800 also the gemfire-json-server example in the xd reference works as expected without the ssl configuration this may to be related to the module using a its own class loader javalangillegalstateexception a connection to a distributed system already exists in this vm happens because there are 2 instances of distributedsystem created one for each class loader this happens even when all the module jars are moved to xdlib to force all gemfire classes to be loaded in the parent class loader,0
update instructions to how to setup admin to use rdbms need to update instructions to discuss the setup of the relational database requirement for the xd-admin,0
make failed deployment cleanup more robust when a deployment fails the supervisor will clean up failed deployment attempts if the deployment path is removed while the supervisor is waiting for instance if the target container departs the cluster then a nonodeexception will be thrown code 172259702 warn containerspathchildrencache-0 servermoduledeploymentwriter361 - error while cleaning up failed deployment deploymentsmodules40494bdb-0d8c-4b5d-a895-bf94432d9d3bssinklog-1 orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsmodules40494bdb-0d8c-4b5d-a895-bf94432d9d3bssinklog-1 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava111 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 orgapachezookeeperzookeeperdeletezookeeperjava873 orgapachecuratorframeworkimpsdeletebuilderimpl5calldeletebuilderimpljava239 orgapachecuratorframeworkimpsdeletebuilderimpl5calldeletebuilderimpljava234 orgapachecuratorretryloopcallwithretryretryloopjava107 orgapachecuratorframeworkimpsdeletebuilderimplpathinforegrounddeletebuilderimpljava230 orgapachecuratorframeworkimpsdeletebuilderimplforpathdeletebuilderimpljava215 orgapachecuratorframeworkimpsdeletebuilderimplforpathdeletebuilderimpljava42 orgspringframeworkxddirtservermoduledeploymentwriterprocessresultsmoduledeploymentwriterjava355 orgspringframeworkxddirtservermoduledeploymentwriterwritedeploymentmoduledeploymentwriterjava325 orgspringframeworkxddirtservermoduledeploymentwriterwritedeploymentmoduledeploymentwriterjava247 orgspringframeworkxddirtservercontainerlistenerredeploystreammodulecontainerlistenerjava432 orgspringframeworkxddirtservercontainerlisteneronchildleftcontainerlistenerjava403 orgspringframeworkxddirtservercontainerlistenerchildeventcontainerlistenerjava159 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 172259718 error containerspathchildrencache-0 cachepathchildrencache557 - javalangillegalstateexception container 40494bdb-0d8c-4b5d-a895-bf94432d9d3b experienced the following error deploying module log-1 of type sink orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode orgspringframeworkxddirtservermoduledeploymentwritervalidateresultsmoduledeploymentwriterjava523 orgspringframeworkxddirtservermoduledeploymentwritervalidateresultmoduledeploymentwriterjava474 orgspringframeworkxddirtservercontainerlistenerredeploystreammodulecontainerlistenerjava436 orgspringframeworkxddirtservercontainerlisteneronchildleftcontainerlistenerjava403 orgspringframeworkxddirtservercontainerlistenerchildeventcontainerlistenerjava159 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 code additionally if the supervisor tries to remove a failed deployment after the container has written to it the following appears in the log code warn containerspathchildrencache-0 servermoduledeploymentwriter361 - error while cleaning up failed deployment deploymentsmodules18c7b4d7-991c-487b-a6e3-006b2dbf87fassourcehttp-0 orgapachezookeeperkeeperexceptionnotemptyexception keepererrorcode directory not empty for xddeploymentsmodules18c7b4d7-991c-487b-a6e3-006b2dbf87fassourcehttp-0 code the supervisor has to force the removal of the node including children,0
create a shell command to post data to an http port for use with the http source module the current streams chapter httpstaticspringsourceorgspring-xddocs100m1referencehtmlstreams shows using curl to post some data to a http source module curl -d hello httplocalhost9000 create a shell command so curl doesnt have to be used httpsgithubcomspringsourcerest-shell has a command already developed for this,0
remove xdcontainer and rename launcherapplication post-boot refactoring xdcontainer lifecycle methods are not being used refactor by merging relevant functionality into launcherapplication rename launcherapplication to containerserverapplication consistent with adminserverapplication,0
standardize naming and unit for options across modules we should standardize on the options between modules idletimeout - timeout rolloversize - rollover also need to standardize on unit used for timeout - should this be s or ms,0
as a s-c-s user id like to store module metadata in eureka so i can use the repository to determine the current state,2
create joblaunchrequest transformer the joblaunchrequest transformer shall accept the following payloads file json string properties map tuple usemigrate some of the logic from jobparametersbean eg using the defaultjobparametersconverter special case file when handling a file add special jobparameter absolutefilepath populating it with messagegetpayloadgetabsolutepath add unit tests,0
as a user id like to have the option of jmx source module so that i can publishsubscribe to jmx notifications reference sprint integration jmx supporthttpdocsspringiospring-integrationreferencehtmlsystem-management-chapterhtmljmx,3
deleting a stream with reference to named channel disconnects channel from all streams the following sequence results in dispatcher has no subscribers error stack trace below because deleting stream2 disconnects stream1 from the foo channel current work on xd-685 has infrastructure for disconnecting just the channels involved in a stream so should make it easier to fix this issue once merged stream create stream1 --definition time foo stream create stream2 --definition http foo stream create stream3 --definition foo file stream destroy stream2 expect file sink to still get time but instead blows up bc deleteoutboundfoo killed links bw foo and both local output channels server stack trace 104711921 error task-scheduler-6 handlerlogginghandler140 - orgspringframeworkintegrationmessagedeliveryexception dispatcher has no subscribers for channel simplemodule nametime typesource groupstream1 index0output orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava81 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkintegrationcoremessagingtemplatedosendmessagingtemplatejava304 orgspringframeworkintegrationcoremessagingtemplatesendmessagingtemplatejava165 orgspringframeworkintegrationendpointsourcepollingchanneladapterhandlemessagesourcepollingchanneladapterjava97 orgspringframeworkintegrationendpointabstractpollingendpointdopollabstractpollingendpointjava199 orgspringframeworkintegrationendpointabstractpollingendpointaccess000abstractpollingendpointjava51 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava143 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava141 orgspringframeworkintegrationendpointabstractpollingendpointpoller1runabstractpollingendpointjava273 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava49 orgspringframeworkintegrationutilerrorhandlingtaskexecutorexecuteerrorhandlingtaskexecutorjava49 orgspringframeworkintegrationendpointabstractpollingendpointpollerrunabstractpollingendpointjava268 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava53 orgspringframeworkschedulingconcurrentreschedulingrunnablerunreschedulingrunnablejava81 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava439 javautilconcurrentfuturetasksyncinnerrunfuturetaskjava303 javautilconcurrentfuturetaskrunfuturetaskjava138 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess301scheduledthreadpoolexecutorjava98 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava206 javautilconcurrentthreadpoolexecutorworkerruntaskthreadpoolexecutorjava895 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava918 javalangthreadrunthreadjava680 caused by orgspringframeworkintegrationmessagedispatchingexception dispatcher has no subscribers orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava109 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 24 more 104712924 error task-scheduler-6 handlerlogginghandler140 - orgspringframeworkintegrationmessagedeliveryexception dispatcher has no subscribers for channel simplemodule nametime typesource groupstream1 index0output orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava81 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkintegrationcoremessagingtemplatedosendmessagingtemplatejava304 orgspringframeworkintegrationcoremessagingtemplatesendmessagingtemplatejava165 orgspringframeworkintegrationendpointsourcepollingchanneladapterhandlemessagesourcepollingchanneladapterjava97 orgspringframeworkintegrationendpointabstractpollingendpointdopollabstractpollingendpointjava199 orgspringframeworkintegrationendpointabstractpollingendpointaccess000abstractpollingendpointjava51 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava143 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava141 orgspringframeworkintegrationendpointabstractpollingendpointpoller1runabstractpollingendpointjava273 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava49 orgspringframeworkintegrationutilerrorhandlingtaskexecutorexecuteerrorhandlingtaskexecutorjava49 orgspringframeworkintegrationendpointabstractpollingendpointpollerrunabstractpollingendpointjava268 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava53 orgspringframeworkschedulingconcurrentreschedulingrunnablerunreschedulingrunnablejava81 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava439 javautilconcurrentfuturetasksyncinnerrunfuturetaskjava303 javautilconcurrentfuturetaskrunfuturetaskjava138 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess301scheduledthreadpoolexecutorjava98 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava206 javautilconcurrentthreadpoolexecutorworkerruntaskthreadpoolexecutorjava895 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava918 javalangthreadrunthreadjava680 caused by orgspringframeworkintegrationmessagedispatchingexception dispatcher has no subscribers orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava109 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 24 more 104713926 error task-scheduler-4 handlerlogginghandler140 - orgspringframeworkintegrationmessagedeliveryexception dispatcher has no subscribers for channel simplemodule nametime typesource groupstream1 index0output orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava81 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkintegrationcoremessagingtemplatedosendmessagingtemplatejava304 orgspringframeworkintegrationcoremessagingtemplatesendmessagingtemplatejava165 orgspringframeworkintegrationendpointsourcepollingchanneladapterhandlemessagesourcepollingchanneladapterjava97 orgspringframeworkintegrationendpointabstractpollingendpointdopollabstractpollingendpointjava199 orgspringframeworkintegrationendpointabstractpollingendpointaccess000abstractpollingendpointjava51 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava143 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava141 orgspringframeworkintegrationendpointabstractpollingendpointpoller1runabstractpollingendpointjava273 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava49 orgspringframeworkintegrationutilerrorhandlingtaskexecutorexecuteerrorhandlingtaskexecutorjava49 orgspringframeworkintegrationendpointabstractpollingendpointpollerrunabstractpollingendpointjava268 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava53 orgspringframeworkschedulingconcurrentreschedulingrunnablerunreschedulingrunnablejava81 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava439 javautilconcurrentfuturetasksyncinnerrunfuturetaskjava303 javautilconcurrentfuturetaskrunfuturetaskjava138 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess301scheduledthreadpoolexecutorjava98 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava206 javautilconcurrentthreadpoolexecutorworkerruntaskthreadpoolexecutorjava895 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava918 javalangthreadrunthreadjava680 caused by orgspringframeworkintegrationmessagedispatchingexception dispatcher has no subscribers orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava109 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 24 more 104714928 error task-scheduler-4 handlerlogginghandler140 - orgspringframeworkintegrationmessagedeliveryexception dispatcher has no subscribers for channel simplemodule nametime typesource groupstream1 index0output orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava81 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkintegrationcoremessagingtemplatedosendmessagingtemplatejava304 orgspringframeworkintegrationcoremessagingtemplatesendmessagingtemplatejava165 orgspringframeworkintegrationendpointsourcepollingchanneladapterhandlemessagesourcepollingchanneladapterjava97 orgspringframeworkintegrationendpointabstractpollingendpointdopollabstractpollingendpointjava199 orgspringframeworkintegrationendpointabstractpollingendpointaccess000abstractpollingendpointjava51 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava143 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava141 orgspringframeworkintegrationendpointabstractpollingendpointpoller1runabstractpollingendpointjava273 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava49 orgspringframeworkintegrationutilerrorhandlingtaskexecutorexecuteerrorhandlingtaskexecutorjava49 orgspringframeworkintegrationendpointabstractpollingendpointpollerrunabstractpollingendpointjava268 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava53 orgspringframeworkschedulingconcurrentreschedulingrunnablerunreschedulingrunnablejava81 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava439 javautilconcurrentfuturetasksyncinnerrunfuturetaskjava303 javautilconcurrentfuturetaskrunfuturetaskjava138 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess301scheduledthreadpoolexecutorjava98 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava206 javautilconcurrentthreadpoolexecutorworkerruntaskthreadpoolexecutorjava895 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava918 javalangthreadrunthreadjava680 caused by orgspringframeworkintegrationmessagedispatchingexception dispatcher has no subscribers orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava109 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 24 more 104715930 error task-scheduler-1 handlerlogginghandler140 - orgspringframeworkintegrationmessagedeliveryexception dispatcher has no subscribers for channel simplemodule nametime typesource groupstream1 index0output orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava81 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkintegrationcoremessagingtemplatedosendmessagingtemplatejava304 orgspringframeworkintegrationcoremessagingtemplatesendmessagingtemplatejava165 orgspringframeworkintegrationendpointsourcepollingchanneladapterhandlemessagesourcepollingchanneladapterjava97 orgspringframeworkintegrationendpointabstractpollingendpointdopollabstractpollingendpointjava199 orgspringframeworkintegrationendpointabstractpollingendpointaccess000abstractpollingendpointjava51 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava143 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava141 orgspringframeworkintegrationendpointabstractpollingendpointpoller1runabstractpollingendpointjava273 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava49 orgspringframeworkintegrationutilerrorhandlingtaskexecutorexecuteerrorhandlingtaskexecutorjava49 orgspringframeworkintegrationendpointabstractpollingendpointpollerrunabstractpollingendpointjava268 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava53,0
as a user id like to have the option to extend compression support so that i can override the defaults and customize as needed follow-up from this pr httpsgithubcomspring-projectsspring-xdpull1346,3
hdfs itemwriter base integration of core hdfs writer functionality with spring batch,0
as a user id like to have an option of aws source module so that i can ingest data from amazon s3 or use the simple email service ses reference spring integration aws extensionhttpsgithubcomspring-projectsspring-integration-extensionstreemasterspring-integration-aws,4
shell integration tests should be able to be run across all transports automate running integration tests on all supported transports,0
access-control-allow-origin header should not be hard-coded see also xd-451 as reference,0
as a user id like to include the deployment manifest from the file so that i dont have spend time typing as inline properties,3
as a s-c-d developer id like to enforce external libraries from overriding any existing library in the uber-jar,2
re-deployment of hdfs sink reuses filename of first deployment need to check for existing files with the same file counter,0
use parentlastclassloader to create the modules applicationcontext the parentlastclassloader is located in the spring-hadoop project it will resolve classes first looking at the child context and then the parent this works well for xd since the we want and dependencies of the module to be considered first and if not found resolve against the parent it would be possible to even include other versions of jars already in the parent classloaders eg spring integration jars but for now we will not immediately test that case simplemodule needs to change to that we can pass in the classloader to use for creating the application context the current implementation creates a genericapplicationcontext as a field initializerthat should change to be in the ctor moduledeployer should implement beanclassloaderaware the classloader passed in to the beanclassloaderaware callback will be used as the parent when creating the parentlastclassloader the url to pass into parentlastclassloader should be null or an empty array in this case of an older style module hopefully parentlastclassloader allows that type of fallback implementation suggestions the moduledeployer code is where the application context for the module is defined and instantiated here is a possible impl path 1 assuming we can always use parentlastclassloader even for older style modules then the moduledescriptor needs to return an array of url locations for the module geturl this is passed into the cto for simplemodule the ctor then creates a new application context creates the parentclassloader sets the classloader on the application context and then proceeds as normal 2abstractmoduleregistry should try and load the resource from two possible locations eg modulessourcefileconfigfilexml or modulessourcefilexml the module registry needs to be a bit smarter to know ah i see a config directory let me try configfilexml otherwise just filexml how to verify it works 1 junit test in which one of the moduleregistry implementations points to a test directory that contains both old and new style modules filemoduleregistry is probably a good choice here need to test that the new getting for url works as expected 2 existing tests should run as they did before in particular the shell integration tests,0
update httpsgithubcomspring-guidesgs-spring-xd for new release,0
create a sink and source for riak,0
acceptance tests fail to map some ec2 internal ips to external ips the acceptance tests interrogate the xd-admin for the containers that are available when on ec2 the admin only returns the internal ec2 addresses without the associated suffix of ec2internal or compute-1internal defect the acceptance tests only handled the most common suffix of ec2internal thus some ci acceptance tests will fail because because the containers ips were not properly mapped thus the acceptance tests should map internal to external ip without regard to the suffixes ec2 issues fyi ec2 issues addresses in 2 different formats ip-xxx-xxx-xxx-xxxec2internal or domu-xx-xx-xx-xx-xx-xxcompute-1internal the code only able to handle ip-xxx-xxx-xxx-xxxec2internal,0
have a version of get modules that returns full info similar to the detailedmoduledefinitionresource that is returned when querying a single module but would be returned when listing provided a full flag has been turned on,0
investigate stream lifecycle issues with redis store when running with gradlew launch i get a 500 error when i try to re-deploy an undeployed stream a subsequent create or destroy also fail httplocalhost8080stream create --definition time log --name ticktock created new stream ticktock httplocalhost8080stream undeploy --name ticktock un-deployed stream ticktock httplocalhost8080stream deploy --name ticktock 130209936 warn spring shell clientresttemplate524 - put request for httplocalhost8080streamsticktock resulted in 500 internal server error invoking error handler command failed orgspringframeworkwebclienthttpservererrorexception 500 internal server error httplocalhost8080stream deploy --name ticktock 130311453 warn spring shell clientresttemplate524 - put request for httplocalhost8080streamsticktock resulted in 500 internal server error invoking error handler command failed orgspringframeworkwebclienthttpservererrorexception 500 internal server error httplocalhost8080stream undeploy --name ticktock 130354576 warn spring shell clientresttemplate524 - put request for httplocalhost8080streamsticktock resulted in 500 internal server error invoking error handler command failed orgspringframeworkwebclienthttpservererrorexception 500 internal server error httplocalhost8080stream undeploy --name ticktock 130448872 warn spring shell clientresttemplate524 - put request for httplocalhost8080streamsticktock resulted in 500 internal server error invoking error handler command failed orgspringframeworkwebclienthttpservererrorexception 500 internal server error httplocalhost8080stream create --definition time log --name ticktock 130452066 warn spring shell clientresttemplate524 - post request for httplocalhost8080streams resulted in 500 internal server error invoking error handler command failed orgspringframeworkwebclienthttpservererrorexception 500 internal server error httplocalhost8080stream destroy --name ticktock 130514207 warn spring shell clientresttemplate524 - delete request for httplocalhost8080streamsticktock resulted in 500 internal server error invoking error handler command failed orgspringframeworkwebclienthttpservererrorexception 500 internal server error,0
running gradle idea creates project configured with source 16 the gradle idea task creates a project configured with source 16 this results in compile failures on java 7 specific code,0
gemfire cache closed when a gemfire module is undeployed need to investigate why this is happening normally setting codexml gfeclient-cache closefalse code prevents the singleton cache from closing when the application context is closed,0
normalize and refactor component packaging decomposition normalize and refactor as needed functionality currently included in - spring-integration-core localchannelregistry - spring-integration-module module types upon which flow are built - xd-module depend module types common to dirt and spring integration - spring-integration-flow flow specific types namespace support etc,0
spring flo issue with unexpected char in flo when creating a stream if you use asterisk you get an error see the image attached,0
as a user id like to have a reactor-stream processor module so that i can ingest data using xd source modules and process them as time-window operations example 1 http reactor-stream --timewindow10s --fieldpayloadsensordata --expressionsminavg this would give you 10 second time window of the min and avg values example 2 reactor as a module example 3 integration with spark streaming and reactor,5
add support for tap foobar syntax in the dsl,0
as a s-c-d developer id like to enhance unit test coverage for lattice spi so i can continuously evaluate functionalities via ci pipeline,3
module delete command sporadically fails on windows when a user executes a module delete on a custom module it sporadically fails with the following exception below at the bottom of the description deployment os windows 8 or windows server 2012 r2 java version java 8 build 2531-b07 mixed mode xd deployment type xd-singlenode embedded zookeeper steps to reproduce 1 build either the rss-feed-source or the payload-conversion samples from the spring-xd-samples 2 start xd-singlenode 3 start shell 4 from the shell execute module upload for the custom module ie module upload --file cprojectspring-xd-samplespayloadconversionbuildlibspayload-conversion-100build-snapshotjar --name mytupleprocessor --type processor 5 verify that the module was uploaded by executing module info processormytupleprocessor 6 execute module delete processormytupleprocessor noformat 2015-02-18 144843908 110release error qtp752571350-38 restrestcontrollera dvice - caught exception while handling a request orgspringframeworkxddirtmoduledependencyexception cannot delete module pro cessormytupleprocessor because it is used by streamtest at orgspringframeworkxddirtmodulemoduledefinitionservicedeletemod uledefinitionservicejava116 at orgspringframeworkxddirtrestmodulescontrollerdeletemodulescont rollerjava155 at sunreflectnativemethodaccessorimplinvoke0native method at sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpl java62 at sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodacces sorimpljava43 at javalangreflectmethodinvokemethodjava483 at orgspringframeworkwebmethodsupportinvocablehandlermethoddoinvok einvocablehandlermethodjava221 at orgspringframeworkwebmethodsupportinvocablehandlermethodinvokef orrequestinvocablehandlermethodjava137 at orgspringframeworkwebservletmvcmethodannotationservletinvocabl ehandlermethodinvokeandhandleservletinvocablehandlermethodjava110 at orgspringframeworkwebservletmvcmethodannotationrequestmappingh andleradapterinvokehandlemethodrequestmappinghandleradapterjava777 at orgspringframeworkwebservletmvcmethodannotationrequestmappingh andleradapterhandleinternalrequestmappinghandleradapterjava706 at orgspringframeworkwebservletmvcmethodabstracthandlermethodadapt erhandleabstracthandlermethodadapterjava85 at orgspringframeworkwebservletdispatcherservletdodispatchdispatch erservletjava943 at orgspringframeworkwebservletdispatcherservletdoservicedispatche rservletjava877 at orgspringframeworkwebservletframeworkservletprocessrequestframe workservletjava966 at orgspringframeworkwebservletframeworkservletdodeleteframeworkse rvletjava890 at javaxservlethttphttpservletservicehttpservletjava761 at orgspringframeworkwebservletframeworkservletserviceframeworkser vletjava842 at javaxservlethttphttpservletservicehttpservletjava848 at orgeclipsejettyservletservletholderhandleservletholderjava684 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1496 at orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconf igurationapplicationcontextheaderfilterdofilterinternalendpointwebmvcautoconf igurationjava291 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperr equestfilterjava107 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1467 at orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinterna lhiddenhttpmethodfilterjava77 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperr equestfilterjava107 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1467 at orgspringframeworkwebfilterhttpputformcontentfilterdofilterinter nalhttpputformcontentfilterjava87 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperr equestfilterjava107 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1467 at orgspringframeworkbootactuatetracewebrequesttracefilterdofilter internalwebrequesttracefilterjava100 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperr equestfilterjava107 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1467 at orgspringframeworksecuritywebfilterchainproxydofilterinternalfi lterchainproxyjava186 at orgspringframeworksecuritywebfilterchainproxydofilterfilterchai nproxyjava160 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1467 at orgspringframeworkbootactuateautoconfiguremetricfilterautoconfig urationmetricsfilterdofilterinternalmetricfilterautoconfigurationjava90 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperr equestfilterjava107 at orgeclipsejettyservletservlethandlercachedchaindofilterservlet handlerjava1467 at orgeclipsejettyservletservlethandlerdohandleservlethandlerjava 499 at orgeclipsejettyserverhandlerscopedhandlerhandlescopedhandlerj ava137 at orgeclipsejettysecuritysecurityhandlerhandlesecurityhandlerjav a557 at orgeclipsejettyserversessionsessionhandlerdohandlesessionhandl erjava231 at orgeclipsejettyserverhandlercontexthandlerdohandlecontexthandl erjava1086 at orgeclipsejettyservletservlethandlerdoscopeservlethandlerjava 428 at orgeclipsejettyserversessionsessionhandlerdoscopesessionhandle rjava193 at orgeclipsejettyserverhandlercontexthandlerdoscopecontexthandle rjava1020 at orgeclipsejettyserverhandlerscopedhandlerhandlescopedhandlerj ava135 at orgeclipsejettyserverhandlerhandlerwrapperhandlehandlerwrapper java116 at orgeclipsejettyserverserverhandleserverjava370 at orgeclipsejettyserverabstracthttpconnectionhandlerequestabstrac thttpconnectionjava494 at orgeclipsejettyserverabstracthttpconnectionheadercompleteabstra cthttpconnectionjava971 at orgeclipsejettyserverabstracthttpconnectionrequesthandlerheader completeabstracthttpconnectionjava1033 at orgeclipsejettyhttphttpparserparsenexthttpparserjava644 at orgeclipsejettyhttphttpparserparseavailablehttpparserjava235 at orgeclipsejettyserverasynchttpconnectionhandleasynchttpconnecti onjava82 at orgeclipsejettyionioselectchannelendpointhandleselectchannelen dpointjava667 at orgeclipsejettyionioselectchannelendpoint1runselectchannelend pointjava52 at orgeclipsejettyutilthreadqueuedthreadpoolrunjobqueuedthreadpoo ljava608 at orgeclipsejettyutilthreadqueuedthreadpool3runqueuedthreadpool java543 at javalangthreadrunthreadjava745 2015-02-18 145038191 110release info main-eventthread serverdeploymentli stener - undeploying module moduledescriptor14b69ddf modulename http modu lelabel http group test sourcechannelname null sinkchannelname null index 0 type source parameters mapempty children listem pty 2015-02-18 145038380 110release info main-eventthread serverdeploymentli stener - undeploying module moduledescriptor7c2cd32 modulename mytupleproce ssor modulelabel mytupleprocessor group test sourcechannelname nu ll sinkchannelname null index 1 type processor parameters mapin puttype - applicationx-xd-tuple children listempty 2015-02-18 145038470 110release info main-eventthread serverdeploymentli stener - undeploying module moduledescriptor30ba1084 modulename log modul elabel log group test sourcechannelname null sinkchannelname n ull index 2 type sink parameters mapempty children listempty 2015-02-18 145038527 110release info deploymentsupervisor-0 serverinitia ldeploymentlistener - path cache event pathdeploymentsstreamstest typechi ldremoved 2015-02-18 145038528 110release info deploymentspathchildrencache-0 serve rdeploymentlistener - path cache event pathdeploymentsmodulesallocatedf66 35afd-7351-4ac3-baa3-3b98e74a38catestsourcehttp1 typechildremoved 2015-02-18 145038530 110release info deploymentspathchildrencache-0 serve rdeploymentlistener - path cache event pathdeploymentsmodulesallocatedf66 35afd-7351-4ac3-baa3-3b98e74a38catestprocessormytupleprocessor1 typechild removed 2015-02-18 145038532 110release info deploymentspathchildrencache-0 serve rdeploymentlistener - path cache event pathdeploymentsmodulesallocatedf66 35afd-7351-4ac3-baa3-3b98e74a38catestsinklog1 typechildremoved 2015-02-18 145041486 110release info leaderselector-0 serverdeploymentsu pervisor - leadership canceled due to thread interrupt 2015-02-18 145041592 110release warn nioservercxnfactory00000000 5156 servernioservercnxn - caught end of stream exception endofstreamexception unable to read additional data from client sessionid 0x14b 9d2656c30000 likely client has closed socket at orgapachezookeeperservernioservercnxndoionioservercnxnjava228 at orgapachezookeeperservernioservercnxnfactoryrunnioservercnxnfac toryjava208 at javalangthreadrunthreadjava745 noformat,0
document trigger source,0
restrict entry filter in loading module artifacts see httpsgithubcomspring-projectsspring-bootissues2454,0
xd does not release ports on failed stream creates if stream fails to create while using sources or sinks that need ports ports are not released if while creating a stream you see command failed orgspringframeworkxdrestclientimplspringxdexception failed to bind to 000000009000 possibly the port is already in use then destroy the stream or all streams for that matter you will not be able to create another stream that uses that port the work around is to cycle the container,0
update hdfs sink to accept a partition strategy add configuration for the partition strategy to hdfs sink to support writing files into subdirectories based on a partition key provided in the header or field in the message of the stream data the writing using hdfs store datawriter should pass in the partition key value to be used for the write operation partition configuration could be made available to the sink using a --format parameter that could then be used in xml config like code expressionnew javatextsimpledateformatformatformattimestamp code similar to the time source,0
change module naming strategy in parser taking into account no duplicate labels and repeated modules labels should only be used help uniquely identify a module in a stream the stream definition a x b x c d should throw an error since the label x is applied to two modules also ambiguity exists with a stream definition such as http transform transform filter hdfs since a module with the name transform will exist twice meaning a tap on transform will result in message from both transform modules to make the naming unique and the usage with taps the following naming strategy is proposed demonstrated by example http transform transform filter hdfs http transform0 transform1 filter hdfs if a use tries to tap on transform an error would be shown saying that you could try to tap on transform0 or transform1 or alternatively use labels http transform filter transform hdfs http transform0 filter transform1 hdfs http x transform filter transform hdfs http x filter transform hdfs,0
extend aggregate counter to dynamically aggregate by field values in addition to time this would be a combination of the existing aggregate counter and field value counter functionality for example if the stream data was for car purchases some fields might be colour make and model when analysing the aggregate data i dont just want to know how many were sold on monday but how many of each make or how many of each colour or how many of a particular colour make and model this would allow a dashboard type client to drill down into each dimension or combination of dimensions in real time without executing batch queries against the raw data ideally the aggregate counter would be specified as stream create --name mytap --definition tapmystream aggregatecounter --namemycount --fieldnamescolourmakemodel the keys would be dynamically created according to the field values in each record ie in a similar way to the field value counter you would not need to predefine field values and keys would be created for all combinations of the fields specified eg the record coloursilver makevw model golf would increment the following key counters in addtion to the existing time buckets existing base counter - ie all fields for this time bucket colourblack makevw modelgolf colourblackmakevw colourblackmodelgolf makevwmodelgolf colourblackmakevwmodelgolf ie the actual keys would look something like aggregatecountersmycountmakevwmodelgolf201307 etc this may seem like it would generate a lot of key combinations but in practice the data generated will still be massively less than the raw data and keys will only be created if that combination occurs in a time period also some fields may be dependent on each other such as make and model in the above example so the amount of possibilites for those composite keys would be a lot less that the number of one times the number of the other,0
remove use of application plugin for redis project currently redis project uses application plugin to bundle distribution this also includes java plugin which causes java specific build behavior on this project we should try removing the use of application plugin and use something similar or custom tasks that does the bundling,0
handle paginated responses currently we handle only a single page response from cc spi list requests but potentially there could be multiple ones,0
refactor streamutils in acceptance tests 1streamutils should be removed in that static util classes are frowned upon and its functionality should be placed in the appropriate classes 2 xdenvironment - many classes use this to obtain environment variables the environment variables should be obtained via value in the classes that they are required only those values that require special setup ssh private key connection factories should remain in xdenvironment,0
xd-ec2 will have to support the --hadoopdistro command line for xd-container,0
as a spring xd developer id like to move gemfire module from xd to s-c-s repo so i can use it as sink to build streaming pipeline,2
documentation for field value taps put on the guide as a section in an input-stream wiki page,0
as a developer id like to review and refactor joblaunchingtasklet so i can improve performance characteristics,3
update spring-data-hadoop dependency and add new hadoop distros update to spring for apache hadoop 20 rc3 add support for new hadoop distros - pivotal hd 20 phd20 - hortonworks hdp 21 hdp21 - cloudera cdh5 cdh5,0
delete a trigger from shell shell command to delete a trigger note this command will only remove the trigger definition not modifying the jobs that use the trigger,0
create a broadcastermessagehandler that uses a serialized broadcaster this is a parallel implementation to the rxjava httpsgithubcomspring-projectsspring-xdblobmasterspring-xd-rxjavasrcmainjavaorgspringframeworkxdrxjavasubjectmessagehandlerjava that will allow multiple threads to broadcast an event but allow processing to occur one at a time on any thread,0
multiple slf4j bindings on the classpath summary says it all when starting we now get noformat slf4j class path contains multiple slf4j bindings slf4j found binding in jarfileusersebottardgradlecachesartifacts-24filestoreorgslf4jslf4j-log4j12175jar6edffc576ce104ec769d954618764f39f0f0f10dslf4j-log4j12-175jarorgslf4jimplstaticloggerbinderclass slf4j found binding in jarfileusersebottardgradlecachesartifacts-24filestoreorgslf4jslf4j-log4j12161jarbd245d6746cdd4e6203e976e21d597a46f115802slf4j-log4j12-161jarorgslf4jimplstaticloggerbinderclass slf4j see httpwwwslf4jorgcodeshtmlmultiplebindings for an explanation slf4j actual binding is of type orgslf4jimpllog4jloggerfactory noformat most certainly introduced by 1c4817ee60ae9325f6394dcc78aa803c47818546 or 72baec92f2e7bbe860b4a9dc6c994536c1670881,0
create object-to-json transformer processor intchannel idinput intobject-to-json-transformer input-channelinput output-channeloutput intchannel idoutput,0
add message source for error messages returned to users,0
better ux when admin is not running current behavior is to just have a prompt of unknown i think any return value of a clicommand method is not shown bc the whole infrastructure is not up at that time,0
revise the available hadoopdistro options we should adjust our --hadoopdistro options to the ones supported in the new spring-data-hadoop 101release - hadoop12 default cdh4 hdp13 phd1 hadoop20 this includes updating the wiki pages,0
create shell integration test fixture for jdbc related sink would be nice to have some kind of regression testing on the jdbc sink as it becomes more prominent in xd use of an in memory db where we expose eg a jdbctemplate to assert state,0
create a throughput sink the throughput module would expect a payload of the type messagebyte and look for the byte to be start or stop strings to trigger a throughput measurement httpsgithubcomspring-projectsspring-xdtreemasterextensions would be the place for the module to live,0
workaround latest boot snapshot issue the workaround explicitly updates spring-core latest boot needs it merges all applicationyml documents that are not profile-specific under on spring key the latest boot requires it at least for now boot may go back see spring-projectsspring-boot2022,0
update spring-xd-yarn serversyml with settings for hdp 2260 we need to add the settings needed to run xd on yarn when using hortonworks hdp 2260 which is the version you now get when installing with ambari,0
fix classpackage tangle introduced by xd-353 container and event xdcontainer references and is referenced by containerstartedevent and stopped httpssonarspringsourceorgdrilldownmeasures7173metricpackagecyclesrids5b5d7717,0
update to spring boot rc5,0
undeploy modules when container disconnected from zk consider a module running in a container when it is disconnected from zk noformat 123013021 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123013 123014025 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123014 123015029 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123015 123016031 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123016 123032590 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123032 123742985 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123742 123743398 info main-sendthreadfe80000000112181 zookeeperclientcnxn1096 - client session timed out have not heard from server in 430809ms for sessionid 0x145662be03e0002 closing socket connection and attempting reconnect 123743985 info main-sendthreadlocalhost2181 zookeeperclientcnxn975 - opening socket connection to server localhost000000012181 will not attempt to authenticate using sasl unknown error 123743986 info main-sendthreadlocalhost2181 zookeeperclientcnxn852 - socket connection established to localhost000000012181 initiating session 123743988 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123743 123743989 info main-sendthreadlocalhost2181 zookeeperclientcnxn1094 - unable to reconnect to zookeeper service session 0x145662be03e0002 has expired closing socket connection noformat currently the module for the disconnected container continues to execute noformat 123745994 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123745 123746997 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123746 123748000 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123747 123748094 error main-eventthread impscuratorframeworkimpl512 - watcher exception orgapachezookeeperkeeperexceptionsessionexpiredexception keepererrorcode session expired for xd orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava127 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 orgapachezookeeperzookeepergetdatazookeeperjava1155 orgapachecuratorframeworkimpsgetdatabuilderimpl4callgetdatabuilderimpljava302 orgapachecuratorframeworkimpsgetdatabuilderimpl4callgetdatabuilderimpljava291 orgapachecuratorretryloopcallwithretryretryloopjava107 orgapachecuratorframeworkimpsgetdatabuilderimplpathinforegroundgetdatabuilderimpljava287 orgapachecuratorframeworkimpsgetdatabuilderimplforpathgetdatabuilderimpljava279 orgapachecuratorframeworkimpsgetdatabuilderimplforpathgetdatabuilderimpljava41 orgspringframeworkxddirtservercontainerregistrarstreammodulewatcherprocesscontainerregistrarjava609 orgapachecuratorframeworkimpsnamespacewatcherprocessnamespacewatcherjava56 orgapachezookeeperclientcnxneventthreadprocesseventclientcnxnjava522 orgapachezookeeperclientcnxneventthreadrunclientcnxnjava498 123748097 info main-eventthread stateconnectionstatemanager194 - state change suspended 123748097 info connectionstatemanager-0 zookeeperzookeeperconnection262 - curator disconnected event suspended 123748097 warn connectionstatemanager-0 servercontainerregistrar325 - disconnected container 88ba115b-6190-497a-a67c-df1e295bf158 123749001 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123749 123750004 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123750 123751008 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123751 123752012 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123752 123753016 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123753 123754021 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123754 123755023 warn inboundt0-redisqueue-inbound-channel-adapter1 loggert150 - 2014-04-15 123755 noformat this container should not continue executing the module because the leader admin will likely select another container to execute this module if and when this container reconnects to zk it can be reassigned modules for deployment this can be done via a simple undeployment or we may even consider closing and reopening the application context,0
byte to string conversion should support applicationjson see httpstackoverflowcomquestions27491237spring-xd-tcp-source-outputs-byte-array-instead-of-string-how-to-output-regu same behavior as --outputtype textplain but more intuitive to use applicationjson if the stream author expects the source to emit json no content validation will be done,0
as a user id like to have the option to read the file line by line so i get the optional ootb optimum file reading experience,5
create test script that reproduces failure in writing to hdfs when undeploying and redeploying a stream see httpsgithubcomspring-projectsspring-xdpull415issuecomment-29024329 this test should be created so that it reproduces the failure and then turned off so that when we switch to the new hdfs writing code,0
create compositemoduleregistry currently there is no moduleregistry contract for composite modules the composed module definition is maintained in zookeepermoduledefinitionrepository which delegates to the moduleregistry to define and validate component modules the repository should be converted to a moduleregistry,0
as a developer id like to fix the offset management with kafka source module so that i can efficiently perform fetch operation from the given offsets,5
as a user i would like to be able to configure the logging directory to be outside of what is defined as xdhome the logging directory is currently hard coded as codexdhomelogscode this would be useful for rpm installations where the logs really should be going to varlogsspring-xd instead of the current optpivotalspring-xdxdlogs location,3
add server runtime info to banner standalone admin currently has no shiny banner as container has more importantly it does not say which port its listening on the transport used etc,0
document jdbc module,0
abstractshellintegrationtests should start and stop server once eg make application static and check for initialization need to ensure each test restores the initial state of the server,0
placeholder for 102 and 11m1 release testing effort,0
ui - container list - module properties - escape passwords,0
add create and deploy methods to streamscontroller see httpsdocsgooglecomagopivotalcomdrawingsd1kcnbvsprbjgc10itf9cskwst8wgcjgg3wgzfkqlcazuedit create optionally deploys,0
throughput in a stream with any processor one of the goal for a micro benchmark is to compare throughput difference between two types of streams 1 source sink 2 source processor sink for this test i used reactor-tcp source throughput-sampler as sink and created a noop processor tests were performed on a single node container with direct binding turned on for all streams 1 throughput for sourcesink noformat stream create reactortcp --definition reactor-ip --transporttcp --port4000 throughput-sampler stream deploy reactortcp --properties modulecount0 noformat on my system i get following numbers throughput sampled for 5000000 items 345423s in 14475ms elapsed time 2 throughput for sourceprocessorsink code for noopprocessor is available here httpsgithubcomparikhkcxd-noop-processor noformat stream create reactornoop --definition reactor-ip --transporttcp --port5000 noopprocessor throughput-sampler stream deploy reactornoop --properties modulecount0 noformat on the same system the throughput reduces to less then 70ksec throughput sampled for 5000000 items 67250s in 74349ms elapsed time yourkit shows 50 of cpu time on following thread noformat ringbuffer-17 runnable daemon javalangreflectmethodgetparameterannotations methodjava770 orgspringframeworkxdintegrationreactornetnetserverinboundchanneladapter1acceptobject netserverinboundchanneladapterjava53 reactornetabstractnetchannel3acceptevent abstractnetchanneljava131 reactornetabstractnetchannel3acceptobject abstractnetchanneljava128 reactoreventroutingargumentconvertingconsumerinvokerinvokeconsumer class object argumentconvertingconsumerinvokerjava73 reactoreventroutingconsumerfilteringeventrouterrouteobject event list consumer consumer consumerfilteringeventrouterjava78 reactoreventdispatchabstractlifecycledispatcherrouteabstractlifecycledispatchertask abstractlifecycledispatcherjava64 reactoreventdispatchabstractsinglethreaddispatchersinglethreadtaskrun abstractsinglethreaddispatcherjava50 reactoreventdispatchringbufferdispatcher3oneventringbufferdispatcherringbuffertask long boolean ringbufferdispatcherjava115 reactoreventdispatchringbufferdispatcher3oneventobject long boolean ringbufferdispatcherjava112 comlmaxdisruptorbatcheventprocessorrun batcheventprocessorjava128 javalangthreadrun threadjava745 noformat,0
update si dependency to 400build-snapshot,0
provide a easy prescriptive means to perform unit and basic stream integration tests abstractsinglenodestreamdeploymentintegrationtests is the basis of state of the art testing for a stream that allows you to get a reference to the input and output channel of the stream http filter transform file one can send messages to the channel after the http module but before filter and one can retrieve the messages that were sent to the channel after the transform module but before file the current implementation inside abstractsinglenodestreamdeploymentintegrationtests can be improved in terms of ease of use for end-users the issue is to create as simple a way as possible for a user to test their processing modulesstream definitions without having to actually do a real integration test by sending data to the input module either as a separate issue or as part of this one the documentation httpsgithubcomspring-projectsspring-xdwikicreating-a-processor-module should be updated to explicitly show how to use this issues test functionality,0
add rabbitmq-based implementation of channelregistry,0
develop infrastructure to enable testability of commands this requires to boostrap the singlenode admin server in process submit commands to the shell programmatically and assert on the results of executing the command,0
improve jmx checks for processors taking into account error channels,0
documentation for rabbit source httpstaticspringsourceorgspring-xddocs100build-snapshotreferencehtmlsources should have rabbit added to the list and also the corresponding section that shows some basic usage,0
return the step execution information in the current job execution controller related to httpsjiraspringsourceorgbrowsebatch-2109 distributedjobservicelistjobexecutionsforjob overrides simplejobservicelistjobexecutionsforjob and does not include the stepexecutions this is due to serializion issues with jackson in order to fix this we need to add a jackson mixin,0
use dot as the composed module option separator following merge of httpsgithubcomspring-projectsspring-xdpull601 use dot as the separator for a composed module option need change to the parser to accept dots,0
the dynamic router example in the docs throws an exception with rabbit transport the example in the m6 documentation for the dynamic router here httpdocsspringiospring-xddocs100m6referencehtmldynamic-router for the spel-based routing throws an exception when processing the message from the http post saying no bean named queuefoo is defined when using rabbitmq as the transport i do not know a workaround steps to reproduce 1 run rabbitmq locally 2 run xd-singlenode --transport rabbit 3 xdstream create f --definition queuefoo transform --expressionpayload-foo log --deploy xdstream create b --definition queuebar transform --expressionpayload-bar log --deploy xdstream create r --definition http router --expressionpayloadcontainsaqueuefooqueuebar --deploy 4 xdhttp post --data a 5 this should give a stacktrace caused by orgspringframeworkbeansfactorynosuchbeandefinitionexception no bean named queuefoo is defined orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorygetbeandefinitiondefaultlistablebeanfactoryjava641 orgspringframeworkbeansfactorysupportabstractbeanfactorygetmergedlocalbeandefinitionabstractbeanfactoryjava1159 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava282 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava200 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava273 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava200 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava273 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava200 orgspringframeworkintegrationsupportchannelbeanfactorychannelresolverresolvedestinationbeanfactorychannelresolverjava99 83 more,0
make string conversion optional with local transport,0
update dependencies in spring xd sample repository,0
add index-based access to tuplepropertyaccessor,0
create documentation for batch db migration update documentation related to database migration with the changes from xd-1822,0
add a groovy script processor module a processor module that accepts either the location of a groovy script resource or an inline script string also some discussion about a default classpath location for scripts,0
develop tasklet to execute a job h2 narrative as the system i would like a way to launch a previously deployed job module from another job module h2 back story for the composed job story we will have a driver job that consists of each step that represents the execution of a job this story is the creation of a tasklet that will launch the child job and upon its completion set the results of the drivers step to that of the slave jobs results,0
optimize abstractsinglenodestreamdeploymentintegrationtests xd singlenode currenly initialized in before should be beforeclass in this case must be re-initialized for each transport but not for each test,0
add tab completion for named channels ie queuexyz tab completion doesnt currently listsupport queue as a source for example if typing the following stream stream create b --definition queuebar transform --expressionpayload-bar log --deploy tab completion doesnt recognize or suggest queue or anything after it until after the first bar the same applies to named channels queue as a sink,0
provide user friendly messages when dealing with invalid gemfire sink xdstream create --name testgemfire --definition http --port8887 gemfire 162028503 warn spring shell clientresttemplate524 - post request for httplocalhost8080streams resulted in 500 internal server error invoking error handler command failed orgspringframeworkxdrestclientimplspringxdexception orgspringframeworkbeansfactorybeandefinitionstoreexception invalid bean definition with name region defined in null could not resolve placeholder regionname in string value regionname,0
document how to create a custom inputoutput module for existing si channel adapters document how to take an existing inputoutput channel adapters in spring integration and add them as a xd sourcesink module should be as end-user focused step by step guide as possible consider including a getting started gradlepomxml,0
provide job repository creation schema for additonal databases oracle gemfire xd derby should be the dialect and sybase,0
allow aggregate counter to use timestamp field in data currently the aggregate counter aggerates by the current time however the data may already have a timestamp in it eg streams from activity events on a website it would be useful as an alternative approach to be able to specify this field to aggregate on this would have the following benefits 1 the aggregate counts would be more accurate as they would reflect the acutal event times and not have any lag from an intermediate messgaging system they might have passed through 2 if for whatever reason xd is down comes back up and starts pulling queued messages from the messaging system the aggregate counter will reflect the correct event time currently you would get a gap and then a spike as a backlog of messages would get allocated to the current aggregate count 3 old data could be rerun through xd still creating the correct aggregate counts configuration would be something like stream create --name mytap --definition tapmystream aggregatecounter --namemycount --timestampfieldeventtime without the timestampfield it would behave as currently,0
spark streaming processor module dispatcher has no subscribers the spark streaming processor module emits the following exception when there are more messages in the rdd partitions 015-02-17 124502026 120snap error executor task launch worker-2 executorexecutor - exception in task 00 in stage 560 tid 142 orgspringframeworkmessagingmessagedeliveryexception dispatcher has no subscribers for channel output nested exception is orgspringframeworkintegrationmessagedispatchingexception dispatcher has no subscribers orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava81 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava239 orgspringframeworkxddirtpluginssparkstreamingmessagebussendersendmessagebussenderjava105 orgspringframeworkxdsparkstreamingjavamoduleexecutor11callmoduleexecutorjava80 orgspringframeworkxdsparkstreamingjavamoduleexecutor11callmoduleexecutorjava55 orgapachesparkapijavajavarddlikeanonfunforeachpartition1applyjavarddlikescala195 orgapachesparkapijavajavarddlikeanonfunforeachpartition1applyjavarddlikescala195 orgapachesparkrddrddanonfunforeachpartition1applyrddscala790 orgapachesparkrddrddanonfunforeachpartition1applyrddscala790 orgapachesparksparkcontextanonfunrunjob4applysparkcontextscala1353 orgapachesparksparkcontextanonfunrunjob4applysparkcontextscala1353 orgapachesparkschedulerresulttaskruntaskresulttaskscala61 orgapachesparkschedulertaskruntaskscala56 orgapachesparkexecutorexecutortaskrunnerrunexecutorscala200 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 javalangthreadrunthreadjava745 caused by orgspringframeworkintegrationmessagedispatchingexception dispatcher has no subscribers orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava107 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 17 more 2015-02-17 124502032 120snap warn task-result-getter-1 schedulertasksetmanager - lost task 00 in stage 560 tid 142 localhost orgspringframeworkmessagingmessagedeliveryexception dispatcher has no subscribers for channel output nested exception is orgspringframeworkintegrationmessagedispatchingexception dispatcher has no subscribers orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava81 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava239 orgspringframeworkxddirtpluginssparkstreamingmessagebussendersendmessagebussenderjava105 orgspringframeworkxdsparkstreamingjavamoduleexecutor11callmoduleexecutorjava80 orgspringframeworkxdsparkstreamingjavamoduleexecutor11callmoduleexecutorjava55 orgapachesparkapijavajavarddlikeanonfunforeachpartition1applyjavarddlikescala195 orgapachesparkapijavajavarddlikeanonfunforeachpartition1applyjavarddlikescala195 orgapachesparkrddrddanonfunforeachpartition1applyrddscala790 orgapachesparkrddrddanonfunforeachpartition1applyrddscala790 orgapachesparksparkcontextanonfunrunjob4applysparkcontextscala1353 orgapachesparksparkcontextanonfunrunjob4applysparkcontextscala1353 orgapachesparkschedulerresulttaskruntaskresulttaskscala61 orgapachesparkschedulertaskruntaskscala56 orgapachesparkexecutorexecutortaskrunnerrunexecutorscala200 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 javalangthreadrunthreadjava745 caused by orgspringframeworkintegrationmessagedispatchingexception dispatcher has no subscribers orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava107 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 17 more,0
batch jobs send job and step events on channels this is the other side of launching a job by sending a message the job plugin should add listeners at the jobstep level so that the jobstep context information can be sent out on a channel myjobnotifications is a suggested channel name that would be created automatically,0
as a spring xd developer id like to move mail module from xd to s-c-s repo so i can use it as sink to build streaming pipeline,2
add support for grouping in parser,0
include job-composition graph in rest endpoint as an xd user id like to have a rest endpoint that returns job composition graph so i can use it to build visual representation of parent-child relationship,0
modules utilizing jdbc data source need to offer connection pool configurations externally currently jdbcsink hdfsjdbc filejdbc offer only driverclassname url user name password they need to offer a full range of configurations offered by the tomcat jdbc connection pool,0
vary producer and consumer in combination using 2 queues ecb-6 the results from ec2 testing show that once prefetch and message size are set varying the number of producers or consumers independently does not impact the message rate the in-house testing numbers need another plan to try an understand some discrepancies using 500 prefetch 1000 byte message size run two instances of perftest at the same time with each instance referencing a different queue vary the number of consumer and publishers test 1 one producer one consumer -a -u q1 -p -x 1 -y 1 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 1 -s 1000 -z 60 -q 500 test 2 one producer two consumers -a -u q1 -p -x 1 -y 2 -s 1000 -z 60 -q 500 -a -u q2 -p -x 1 -y 2 -s 1000 -z 60 -q 500 test 3 two producers one consumer -a -u q1 -p -x 2 -y 1 -s 1000 -z 120 -q 500 -a -u q2 -p -x 2 -y 1 -s 1000 -z 120 -q 500 test 4 two producers two consumers -a -u q1 -p -x 2 -y 2 -s 1000 -z 60 -q 500 -a -u q2 -p -x 2 -y 2 -s 1000 -z 60 -q 500,0
add status column for stream list shell command result stream list shell command should display status of the stream deployed undeployed,0
refactor module to encapsulate group and index currently many methods take module group index - defining a module instance group and index can be encapsulated in module so one arg can be passed around,0
release 100m6,0
test source module in isolation register the module under test and deploy the module verify output across all transports examples be able to start the rabbitmq source just by pointing to modulessourcerabbitxml pass in some property file for parameters to be replaced and outgoing message is placed in a in-memory queue backed channel for use with assertions to verify functionality test that sending json results in media-type header is set to json test that sending pojo - pojo test that sending tuple - tuple test that sending a json string - string test that sending raw bytes - raw bytes,0
xd-admin fails to start when starting xd-admin getting the following exception noformat 2015-03-20 142553904 120snap warn main annotationannotationconfigapplicationcontext - exception encountered during context initialization - cancelling refresh attempt orgspringframeworkbeansfactorybeancreationexception error creating bean with name moduleregistry defined in class path resource meta-infspring-xdinternalrepositoriesxml cannot create inner bean orgspringframeworkxddirtmodulecustommoduleregistryfactorybean175e137b of type orgspringframeworkxddirtmodulecustommoduleregistryfactorybean while setting constructor argument with key 1 nested exception is orgspringframeworkbeansfactorybeancreationexception error creating bean with name orgspringframeworkxddirtmodulecustommoduleregistryfactorybean175e137b defined in class path resource meta-infspring-xdinternalrepositoriesxml invocation of init method failed nested exception is javalangnoclassdeffounderror orgapachehadoopfsfsdatainputstream orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolveinnerbeanbeandefinitionvalueresolverjava313 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvevalueifnecessarybeandefinitionvalueresolverjava122 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvemanagedlistbeandefinitionvalueresolverjava382 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvevalueifnecessarybeandefinitionvalueresolverjava157 orgspringframeworkbeansfactorysupportconstructorresolverresolveconstructorargumentsconstructorresolverjava648 orgspringframeworkbeansfactorysupportconstructorresolverautowireconstructorconstructorresolverjava140 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryautowireconstructorabstractautowirecapablebeanfactoryjava1131 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeaninstanceabstractautowirecapablebeanfactoryjava1034 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava504 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava476 orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava303 orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava230 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava299 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava194 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava762 orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava757 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava480 orgspringframeworkbootspringapplicationrefreshspringapplicationjava691 orgspringframeworkbootspringapplicationrunspringapplicationjava321 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava129 orgspringframeworkxddirtserveradminserverapplicationrunadminserverapplicationjava89 orgspringframeworkxddirtserveradminserverapplicationmainadminserverapplicationjava73 caused by orgspringframeworkbeansfactorybeancreationexception error creating bean with name orgspringframeworkxddirtmodulecustommoduleregistryfactorybean175e137b defined in class path resource meta-infspring-xdinternalrepositoriesxml invocation of init method failed nested exception is javalangnoclassdeffounderror orgapachehadoopfsfsdatainputstream orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1566 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava539 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava476 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolveinnerbeanbeandefinitionvalueresolverjava299 22 more caused by javalangnoclassdeffounderror orgapachehadoopfsfsdatainputstream javalangclassforname0native method javalangclassfornameclassjava190 orgspringframeworkxddirtmoduleextendedresourceclinitextendedresourcejava47 orgspringframeworkxddirtmodulewritableresourcemoduleregistryafterpropertiessetwritableresourcemoduleregistryjava123 orgspringframeworkxddirtmodulecustommoduleregistryfactorybeanafterpropertiessetcustommoduleregistryfactorybeanjava70 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinvokeinitmethodsabstractautowirecapablebeanfactoryjava1625 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1562 25 more caused by javalangclassnotfoundexception orgapachehadoopfsfsdatainputstream javaneturlclassloader1runurlclassloaderjava366 javaneturlclassloader1runurlclassloaderjava355 javasecurityaccesscontrollerdoprivilegednative method javaneturlclassloaderfindclassurlclassloaderjava354 javalangclassloaderloadclassclassloaderjava425 sunmisclauncherappclassloaderloadclasslauncherjava308 javalangclassloaderloadclassclassloaderjava358 32 more 2015-03-20 142553911 120snap error main bootspringapplication - application startup failed orgspringframeworkbeansfactorybeancreationexception error creating bean with name moduleregistry defined in class path resource meta-infspring-xdinternalrepositoriesxml cannot create inner bean orgspringframeworkxddirtmodulecustommoduleregistryfactorybean175e137b of type orgspringframeworkxddirtmodulecustommoduleregistryfactorybean while setting constructor argument with key 1 nested exception is orgspringframeworkbeansfactorybeancreationexception error creating bean with name orgspringframeworkxddirtmodulecustommoduleregistryfactorybean175e137b defined in class path resource meta-infspring-xdinternalrepositoriesxml invocation of init method failed nested exception is javalangnoclassdeffounderror orgapachehadoopfsfsdatainputstream orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolveinnerbeanbeandefinitionvalueresolverjava313 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvevalueifnecessarybeandefinitionvalueresolverjava122 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvemanagedlistbeandefinitionvalueresolverjava382 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolvevalueifnecessarybeandefinitionvalueresolverjava157 orgspringframeworkbeansfactorysupportconstructorresolverresolveconstructorargumentsconstructorresolverjava648 orgspringframeworkbeansfactorysupportconstructorresolverautowireconstructorconstructorresolverjava140 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryautowireconstructorabstractautowirecapablebeanfactoryjava1131 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeaninstanceabstractautowirecapablebeanfactoryjava1034 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava504 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava476 orgspringframeworkbeansfactorysupportabstractbeanfactory1getobjectabstractbeanfactoryjava303 orgspringframeworkbeansfactorysupportdefaultsingletonbeanregistrygetsingletondefaultsingletonbeanregistryjava230 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava299 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava194 orgspringframeworkbeansfactorysupportdefaultlistablebeanfactorypreinstantiatesingletonsdefaultlistablebeanfactoryjava762 orgspringframeworkcontextsupportabstractapplicationcontextfinishbeanfactoryinitializationabstractapplicationcontextjava757 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava480 orgspringframeworkbootspringapplicationrefreshspringapplicationjava691 orgspringframeworkbootspringapplicationrunspringapplicationjava321 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava129 orgspringframeworkxddirtserveradminserverapplicationrunadminserverapplicationjava89 orgspringframeworkxddirtserveradminserverapplicationmainadminserverapplicationjava73 caused by orgspringframeworkbeansfactorybeancreationexception error creating bean with name orgspringframeworkxddirtmodulecustommoduleregistryfactorybean175e137b defined in class path resource meta-infspring-xdinternalrepositoriesxml invocation of init method failed nested exception is javalangnoclassdeffounderror orgapachehadoopfsfsdatainputstream orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1566 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava539 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava476 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolveinnerbeanbeandefinitionvalueresolverjava299 22 more caused by javalangnoclassdeffounderror orgapachehadoopfsfsdatainputstream javalangclassforname0native method javalangclassfornameclassjava190 orgspringframeworkxddirtmoduleextendedresourceclinitextendedresourcejava47 orgspringframeworkxddirtmodulewritableresourcemoduleregistryafterpropertiessetwritableresourcemoduleregistryjava123 orgspringframeworkxddirtmodulecustommoduleregistryfactorybeanafterpropertiessetcustommoduleregistryfactorybeanjava70 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinvokeinitmethodsabstractautowirecapablebeanfactoryjava1625 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1562 25 more caused by javalangclassnotfoundexception orgapachehadoopfsfsdatainputstream javaneturlclassloader1runurlclassloaderjava366 javaneturlclassloader1runurlclassloaderjava355 javasecurityaccesscontrollerdoprivilegednative method javaneturlclassloaderfindclassurlclassloaderjava354 javalangclassloaderloadclassclassloaderjava425 sunmisclauncherappclassloaderloadclasslauncherjava308 javalangclassloaderloadclassclassloaderjava358 32 more 2015-03-20 142553915 120snap error main serveradminserverapplication - error creating bean with name moduleregistry defined in class path resource meta-infspring-xdinternalrepositoriesxml cannot create inner bean orgspringframeworkxddirtmodulecustommoduleregistryfactorybean175e137b of type orgspringframeworkxddirtmodulecustommoduleregistryfactorybean while setting constructor argument with key 1 nested exception is orgspringframeworkbeansfactorybeancreationexception error creating bean with name orgspringframeworkxddirtmodulecustommoduleregistryfactorybean175e137b defined in class path resource meta-infspring-xdinternalrepositoriesxml invocation of init method failed nested exception is javalangnoclassdeffounderror orgapachehadoopfsfsdatainputstream noformat reproduced locally mac and on ec2 xd-singlenode works fine commit 4673b5ab97,0
reduce sonar critical errors should keep the critical error count as close to zero as possible,0
as a user id like to have the option of solr sink so that i can perform full-text indexing and search through solr backend server,4
update build to use shdp 230rc1,0
as a user id like to implement the core interface contract so that i can create a processor module that uses rxjava api,1
job channels need to denote a namespace job channels need to have a namespace ie job-somejobname where the - is the delimiter for the namespace the preference is to use the instead of the - but xd-766 needs to be completed in order to support this,0
tests fail because hsql not started this is cause generally by someone having port 9100hsqldb port in use it is recommended that setup checks to see if port is in use if it is throw an exception stating that hsqldb port 9100 is in use and suggest options like free up the port or change the hsqldb port,0
moduletype refactor remove moduletypegetmoduletypebytypename all code should use the enum,0
as a developer id like to submit a pr for existing work on mesos spi,2
replace the hacky parser with a good one replace the existing dsl parser that uses string indexing with a more robust one based on a derivative of spel this will provide a stable base on which to quickly iterate on syntax,0
streamlistener should watch xddeploymentsstreams,0
infinite recursion stackoverflowerror when trying to process joblaunchingmessagehandlers notifications channel output transport used redis it looks like when the job is launched the redischannelregistrys composite handler tries to transform the joblaunchingmessagehandlers output-channel notifications payload which is of type orgspringframeworkbatchcorejobexecution and this results in infinite recursion stackoverflowerror please see the stack trace here 010944827 error task-scheduler-1 redisredisqueueinboundchanneladapter148 - error sending message orgspringframeworkintegrationmessagehandlingexception orgspringframeworkcontextapplicationcontextexception failed to start bean jobtriggerbean nested exception is orgspringframeworkintegrationmessagehandlingexception error occurred in message handler orgspringframeworkintegrationxredisredischannelregistrycompositehandler26f8f92e orgspringframeworkintegrationhandlermethodinvokingmessageprocessorprocessmessagemethodinvokingmessageprocessorjava76 orgspringframeworkintegrationhandlerserviceactivatinghandlerhandlerequestmessageserviceactivatinghandlerjava67 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava137 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava115 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkintegrationcoremessagingtemplatedosendmessagingtemplatejava304 orgspringframeworkintegrationcoremessagingtemplatesendmessagingtemplatejava165 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava92 orgspringframeworkintegrationxredisredisqueueinboundchanneladapteraccess3redisqueueinboundchanneladapterjava1 orgspringframeworkintegrationxredisredisqueueinboundchanneladapterlistenertaskrunredisqueueinboundchanneladapterjava145 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava53 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetasksyncinnerrunfuturetaskjava334 javautilconcurrentfuturetaskrunfuturetaskjava166 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava178 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava292 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava722 caused by orgspringframeworkcontextapplicationcontextexception failed to start bean jobtriggerbean nested exception is orgspringframeworkintegrationmessagehandlingexception error occurred in message handler orgspringframeworkintegrationxredisredischannelregistrycompositehandler26f8f92e orgspringframeworkcontextsupportdefaultlifecycleprocessordostartdefaultlifecycleprocessorjava170 orgspringframeworkcontextsupportdefaultlifecycleprocessoraccess200defaultlifecycleprocessorjava51 orgspringframeworkcontextsupportdefaultlifecycleprocessorlifecyclegroupstartdefaultlifecycleprocessorjava339 orgspringframeworkcontextsupportdefaultlifecycleprocessorstartbeansdefaultlifecycleprocessorjava143 orgspringframeworkcontextsupportdefaultlifecycleprocessorstartdefaultlifecycleprocessorjava89 orgspringframeworkcontextsupportabstractapplicationcontextstartabstractapplicationcontextjava1278 orgspringframeworkxdmodulesimplemodulestartsimplemodulejava152 orgspringframeworkxddirtmodulemoduledeployerdeploymodulemoduledeployerjava162 orgspringframeworkxddirtmodulemoduledeployerhandledeploymoduledeployerjava149 orgspringframeworkxddirtmodulemoduledeployerhandlemessageinternalmoduledeployerjava120 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava601 orgspringframeworkexpressionspelsupportreflectivemethodexecutorexecutereflectivemethodexecutorjava69 orgspringframeworkexpressionspelastmethodreferencemethodvaluerefgetvaluemethodreferencejava97 orgspringframeworkexpressionspelastcompoundexpressiongetvalueinternalcompoundexpressionjava82 orgspringframeworkexpressionspelastspelnodeimplgettypedvaluespelnodeimpljava102 orgspringframeworkexpressionspelstandardspelexpressiongetvaluespelexpressionjava103 orgspringframeworkintegrationutilabstractexpressionevaluatorevaluateexpressionabstractexpressionevaluatorjava144 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessinternalmessagingmethodinvokerhelperjava231 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessmessagingmethodinvokerhelperjava130 orgspringframeworkintegrationhandlermethodinvokingmessageprocessorprocessmessagemethodinvokingmessageprocessorjava73 22 more caused by orgspringframeworkintegrationmessagehandlingexception error occurred in message handler orgspringframeworkintegrationxredisredischannelregistrycompositehandler26f8f92e orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava79 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava115 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkintegrationcoremessagingtemplatedosendmessagingtemplatejava304 orgspringframeworkintegrationcoremessagingtemplatesendmessagingtemplatejava165 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava223 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava207 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava172 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava166 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava144 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava115 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkintegrationcoremessagingtemplatedosendmessagingtemplatejava304 orgspringframeworkintegrationcoremessagingtemplatesendmessagingtemplatejava165 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava223 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava207 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava172 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava166 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava144 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava115 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava102 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava178 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava149 orgspringframeworkxddirtpluginsjobjobtriggerbeanexecutebatchjobjobtriggerbeanjava74 orgspringframeworkxddirtpluginsjobjobtriggerbeanstartjobtriggerbeanjava63 orgspringframeworkcontextsupportdefaultlifecycleprocessordostartdefaultlifecycleprocessorjava167 45 more caused by orgspringframeworkintegrationxjsontypedjsonmappersmartjsonconversionexception infinite recursion stackoverflowerror through reference chain orgspringframeworkbatchcorejobexecutionstepexecutions-javautilunmodifiablerandomaccesslist0-orgspringframeworkbatchcorestepexecutionjobexecution-orgspringframeworkbatchcorejobexecutionstepexecutions-javautilunmodifiablerandomaccesslist0-orgspringframeworkbatchcorestepexecutionjobexecution-orgspringframeworkbatchcorejobexecutionstepexecutions-javautilunmodifiablerandomaccesslist0-orgspringframeworkbatchcorestepexecutionj javautilunmodifiablerandomaccesslist0-orgspringframeworkbatchcorestepexecutionjobexecution-orgspringframeworkbatchcorejobexecutionstepexecutions comfasterxmljacksondatabindserstdbeanserializerbaseserializefieldsbeanserializerbasejava611 comfasterxmljacksondatabindserstdbeanserializerbaseserializewithtypebeanserializerbasejava492 comfasterxmljacksondatabindserbeanpropertywriterserializeasfieldbeanpropertywriterjava571 comfasterxmljacksondatabindserstdbeanserializerbaseserializefieldsbeanserializerbasejava597 comfasterxmljacksondatabindserstdbeanserializerbaseserializewithtypebeanserializerbasejava492 comfasterxmljacksondatabindserstdcollectionserializerserializecontentscollectionserializerjava119 comfasterxmljacksondatabindserstdcollectionserializerserializecontentscollectionserializerjava23 comfasterxmljacksondatabindserstdasarrayserializerbaseserializewithtypeasarrayserializerbasejava197 comfasterxmljacksondatabindserbeanpropertywriterserializeasfieldbeanpropertywriterjava571 comfasterxmljacksondatabindserstdbeanserializerbaseserializefieldsbeanserializerbasejava597 comfasterxmljacksondatabindserstdbeanserializerbaseserializewithtypebeanserializerbasejava492,0
display an aggregate counter,0
as a developer id like to be able to clean rabbit binder broker artifacts using the rest api when the rabbit bus was ported from xd the bus cleaner was ported as rabbitbindingcleaner but the rest api to invoke it was not ported over,2
add to acceptance test ec2 ci build plan a stage that uses xd distributed mode with rabbit see httpsquickstartatlassiancomdownloadbambooget-startedbamboo-elements stages are comprised of one or more jobs which run in parallel we would like the tests across the rabbit and redis transport to occur in parallel,0
frequent connection pool errors with multi-partitioned jdbchdfs jobs im running a jdbchdfs job with 8 partitions and 2 containers some steps complete ok while some 3-4 on average fail with a connection pool error see below this happens with a decent size table 18m rows i tried two different databases - oracle 11g on a separate server and mysql running locally where the xd containers where running same pattern with both databases code 2015-02-13 122133436 110release error inboundfiles30-redisqueue-inbound-channel-adapter1 stepabstractstep - encountered an error executing step step1 in job files3 orgspringframeworkbeansfactorybeancreationexception error creating bean with name scopedtargetitemreader defined in file hometrisbergtestspring-xd-110releasexdmodulesjobjdbchdfsconfigjdbchdfsxml invocation of init method failed nested exception is orgspringframeworkjdbcsupportmetadataaccessexception could not get connection for extracting meta data nested exception is orgspringframeworkjdbccannotgetjdbcconnectionexception could not get jdbc connection nested exception is javasqlsqlexception failed to validate a newly established connection orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1566 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorydocreatebeanabstractautowirecapablebeanfactoryjava539 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava476 orgspringframeworkbeansfactorysupportabstractbeanfactory2getobjectabstractbeanfactoryjava342 orgspringframeworkbatchcorescopestepscopegetstepscopejava110 orgspringframeworkbeansfactorysupportabstractbeanfactorydogetbeanabstractbeanfactoryjava337 orgspringframeworkbeansfactorysupportabstractbeanfactorygetbeanabstractbeanfactoryjava194 orgspringframeworkaoptargetsimplebeantargetsourcegettargetsimplebeantargetsourcejava35 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava187 comsunproxyproxy90openunknown source orgspringframeworkbatchitemsupportcompositeitemstreamopencompositeitemstreamjava96 orgspringframeworkbatchcoresteptasklettaskletstepopentaskletstepjava310 orgspringframeworkbatchcorestepabstractstepexecuteabstractstepjava195 orgspringframeworkbatchintegrationpartitionstepexecutionrequesthandlerhandlestepexecutionrequesthandlerjava64 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkexpressionspelsupportreflectivemethodexecutorexecutereflectivemethodexecutorjava112 orgspringframeworkexpressionspelastmethodreferencegetvalueinternalmethodreferencejava102 orgspringframeworkexpressionspelastmethodreferenceaccess000methodreferencejava49 orgspringframeworkexpressionspelastmethodreferencemethodvaluerefgetvaluemethodreferencejava342 orgspringframeworkexpressionspelastcompoundexpressiongetvalueinternalcompoundexpressionjava88 orgspringframeworkexpressionspelastspelnodeimplgettypedvaluespelnodeimpljava131 orgspringframeworkexpressionspelstandardspelexpressiongetvaluespelexpressionjava330 orgspringframeworkintegrationutilabstractexpressionevaluatorevaluateexpressionabstractexpressionevaluatorjava164 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessinternalmessagingmethodinvokerhelperjava276 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessmessagingmethodinvokerhelperjava142 orgspringframeworkintegrationhandlermethodinvokingmessageprocessorprocessmessagemethodinvokingmessageprocessorjava75 orgspringframeworkintegrationhandlerserviceactivatinghandlerhandlerequestmessageserviceactivatinghandlerjava71 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava99 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitorsimplemessagehandlermetricshandlemessagesimplemessagehandlermetricsjava107 orgspringframeworkintegrationmonitorsimplemessagehandlermetricsinvokesimplemessagehandlermetricsjava87 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy94handlemessageunknown source orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava239 sunreflectgeneratedmethodaccessor69invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava114 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava98 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava92 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy91sendunknown source orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputabstractmessageproducinghandlerjava248 orgspringframeworkintegrationhandlerabstractmessageproducinghandlerproduceoutputabstractmessageproducinghandlerjava171 orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputsabstractmessageproducinghandlerjava119 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava105 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 orgspringframeworkxddirtintegrationredisredismessagebus11dowithretryredismessagebusjava267 orgspringframeworkxddirtintegrationredisredismessagebus11dowithretryredismessagebusjava263 orgspringframeworkretrysupportretrytemplatedoexecuteretrytemplatejava263 orgspringframeworkretrysupportretrytemplateexecuteretrytemplatejava168 orgspringframeworkxddirtintegrationredisredismessagebus1dosendredismessagebusjava263 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava239 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 orgspringframeworkintegrationendpointmessageproducersupportsendmessagemessageproducersupportjava101 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointpopmessageandsendredisqueuemessagedrivenendpointjava220 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointaccess300redisqueuemessagedrivenendpointjava50 orgspringframeworkintegrationredisinboundredisqueuemessagedrivenendpointlistenertaskrunredisqueuemessagedrivenendpointjava314 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 javalangthreadrunthreadjava745 caused by orgspringframeworkjdbcsupportmetadataaccessexception could not get connection for extracting meta data nested exception is orgspringframeworkjdbccannotgetjdbcconnectionexception could not get jdbc connection nested exception is javasqlsqlexception failed to validate a newly established connection orgspringframeworkjdbcsupportjdbcutilsextractdatabasemetadatajdbcutilsjava302 orgspringframeworkjdbcsupportjdbcutilsextractdatabasemetadatajdbcutilsjava329 orgspringframeworkbatchsupportdatabasetypefrommetadatadatabasetypejava95 orgspringframeworkxdjdbcnamedcolumnjdbcitemreaderfactoryafterpropertiessetnamedcolumnjdbcitemreaderfactoryjava101 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinvokeinitmethodsabstractautowirecapablebeanfactoryjava1625 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1562 90 more caused by orgspringframeworkjdbccannotgetjdbcconnectionexception could not get jdbc connection nested exception is javasqlsqlexception failed to validate a newly established connection orgspringframeworkjdbcdatasourcedatasourceutilsgetconnectiondatasourceutilsjava80 orgspringframeworkjdbcsupportjdbcutilsextractdatabasemetadatajdbcutilsjava289 95 more caused by javasqlsqlexception failed to validate a newly established connection orgapachetomcatjdbcpoolconnectionpoolborrowconnectionconnectionpooljava802 orgapachetomcatjdbcpoolconnectionpoolborrowconnectionconnectionpooljava617 orgapachetomcatjdbcpoolconnectionpoolgetconnectionconnectionpooljava186 orgapachetomcatjdbcpooldatasourceproxygetconnectiondatasourceproxyjava127 orgspringframeworkjdbcdatasourcedatasourceutilsdogetconnectiondatasourceutilsjava111 orgspringframeworkjdbcdatasourcedatasourceutilsgetconnectiondatasourceutilsjava77 96 more code,0
task repository h2 narrative as a user i need to be able to query the current state of a task that has been launched h2 back story given the fact that tasks are intended to go away we need to record the state of them as well as their end result in a repository for a user to be able to query this repository will be the system of record when reporting the state of an executingexecuted task,0
as a developer id like to have a maintenance branch so that i can commit minor release ex 102 code changes instead of committing to master,4
remove warnings from shell hadoop commands some hadoop commands generate warningsdeprecation messages we should try to get rid of most of them code xdhadoop fs ls xd --recursive hadoop configuration changed re-initializing shell lsr deprecated please use ls -r instead 130107120 warn spring shell utilnativecodeloader62 - unable to load native-hadoop library for your platform using builtin-java classes where applicable drwxr-xr-x - trisberg supergroup 0 2014-07-17 1119 xdhashtagcount drwxr-xr-x - trisberg supergroup 0 2014-07-17 1119 xdhashtagcountoutput -rw-r--r-- 3 trisberg supergroup 0 2014-07-17 1119 xdhashtagcountoutputsuccess -rw-r--r-- 3 trisberg supergroup 833 2014-07-17 1119 xdhashtagcountoutputpart-r-00000 drwxr-xr-x - trisberg supergroup 0 2014-07-16 1828 xdtweets -rw-r--r-- 3 trisberg supergroup 982993 2014-07-16 1828 xdtweetstweets-0txt code,0
as a spring xd developer id like to port json-to-tuple module from xd to s-c-s repo so i can use it as processor module to build streaming pipeline,2
add support for boldstrong fonts hitting this issue in chrome httpstackoverflowcomquestions22891611google-font-varela-round-doesnt-support-font-weight-in-chrome looks like chrome has some issues with making text bold if the font does not explicitly support it,0
as a developer id like to port file module from xd to s-c-s repo so i can use it as source module to build streaming pipeline,3
as a qa id like to include acceptance test coverage for kafka as a message bus so that i can validate the functionality as part of every ci build,4
cli needs to be setup to use the updated acceptance test structure this change has to be facilitated because of the xd-1456 and xd-1455 stories,0
update build script to use correct version of spring-data-hadoop based on distro,0
problem with tapping and source channels this is a follow on from xd-592 in that bug we fixed up the ability to use tap with pipe tap when used as a source channel should also work and should deploy in a more optimized fashion since source channels can be directly connected to the subsequent module creation of a pass-through tap instance isnt necessary this test shows the syntax that should work and the current information about how it fails code public void testtapsourcechannel throws ioexception filesink sink1 newfilesink filesink sink2 newfilesink streamcreatemyhttp http --port9314 transform --expressionpayloadtouppercase filter --expressiontrue foo fails with javalangillegalargumentexception bean myhttp1 is already registered but does not match the required type tapcreatewiretap1 tap myhttptransform transform --expressionpayloadreplacealla s sink1 fails in tapdefinition ctor with javalangillegalargumentexception streamname cannot be empty or null tapcreatewiretap2 tap foo transform --expressionpayloadreplacealla s sink2 httppostdatahttplocalhost9314 dracarys code i suspect part of the problem initially lies with the code around enhancedstreamparser that builds the module deployment requests from the ast parsed from the input dsl string whether a source channel was originally specified with tap is captured in that ast but that knowledge doesnt appear to be getting used,0
when a tap is re-deployed after undeploy it doesnt work when a tap on a stream is undeployed and re-deployed it stops working to make it work the main stream associated with the tap needs to be undeployed and re-deployed,0
spike store dsl definition in zk as an xd developer id like to explore options to save composed job definition in zk metadata so i can use the repository to recreate jobs to recover from failure scenarios,0
integration test for field-value-counter and aggregate-counter httpsgithubcomspring-projectsspring-xdblobmastersrctestscriptstweettests use field-value-counter and aggregate-counter should do a simplified version of this so that we can assert values of the field-value-counter and aggregate-counter,0
release spring xd 10 m1,0
create script to extract table data from json based on a given hawq table structure we should be able to write a script that can examine the table structure for a given hawq table and then extract the data from json without the custom script we are using now,0
fix doc related to zk install amongst maybe other things the doc says we dont ship zk httpdocsspringiospring-xddocs100build-snapshotreferencehtmlsettingupzookeeper,0
improve deploymentverifier when stream state is complete as part of xd-1591 deploymentverifier was modified to take the node structure into account as indicated in the review below the implementation does not take module properties such as count into account httpsgithubcomspring-projectsspring-xdpull939filesr13730134 this means the implementation is incorrect for now this wont affect us since all tests at the moment are single node however this can be drastically improved and simplified once xd-1270 is completed at that point well be able to simply read a single zk node to determine ifwhen a deployment succeeded,0
improve e2e test coverage,0
remove ability to do index-based tapping,0
acceptance tests updated to be able to test xd yarn deployment in order to run acceptance tests in their current state there had to be changes to the code set the location of the data node for the hdfs tests because the data nodes were no located with the master disable the copying of batch basic because we did not know the container location had to configure tests by hand so that we could identify the admin port with new features we should be able to write code to find it should be able to set it but we had a problem possible yarn bug jmx port we could set it for the master but not the container this was a yarn deploybug where the build was deployed on the container node so we could copy the batch-basic test,0
testhdfssink sporadically fails because twitter data is written to file the hdfs sink needs to have a unique stream name because the twittersearch test uses the defaultname and it may broadcast more than one message to the sink for the search so when the stream is destroyed the message is abandoned until hdfstest starts up using the same defaultname and the message is delivered to hdfs sink and thus the twitter data is written to the file,0
investigate failures to start a stream when using named channels create a reproducible series of steps or shell integration test,0
job plugin - notification channel not correctly bound to messagebus,0
make redis richgauge repository cluster safe the current implementation makes individual reads from redis and then writes back the average so in a cluster environment the reads and writes are not serialized client reads and writes for specific keys can interfere with each other investigate options such as use of redis transactions or use of lua scripting to solve this problem,0
create documentation on the lifcycle of a job in xd this should go in the first section of the batch job documentation here is a rough suggestion the lifecycle of a job in xd 1 register a job module with the moudleregistry by putting a xmljar files in the xdhomemodulesjobs directory 2 create a job definition from a job module by providing a name and properties that apply to all job instances can be configured at this point the job is not yet deployed 3 deploy the job to an xd-container a job instance can not be created by sending a message to a job queue that contains optional runtime job parameters 4 launch a job by sending a message to the job queue with job parametres a job instance is created representing a specific run of the job a job instance is the job definition plus the runtime job parameters you can query for the job instances associated with a given job name 5 the job is executed creating a job exection object that captures the success or failure of the job you can query for the job executions associated with a given job name 6 undeploy a job this removes the job from xd-container,0
as a developer id like to update to the 415 si release so i can pickup the latest improvements to message channels,1
create doc section about quotes handling document the different onion layers that come in play with regard to quoting and escaping shell xd-parser spel expressions in some cases and provide practical examples to common scenarios,0
add install script for redis this assumes the redis source tar is available under rootdirredisredis-2613targz the install script does the following - check the platform os arch - unzip the tar compile the sources,0
find and eliminate package-level cycles across xd projects,0
kryo redis serializer the current xd uses an inadequate messageredisserializer when extractpayload is false not currently being used when porting this to si the serializer will be dropped suggest creation of kryo serializer for messages for when redis sourcesinks are created,0
update modules - build and package sections some info is obsolete and add more content re dependency management,0
as a s-c-s developer id like to refactor the current modulelauncher contract with boots jarlauncher api so we dont have to maintain duplicate functionality,1
cant create stream running on windows trying to test on windows and getting the following exception when createing a stream - stream create --name tictoc --definition time log code 093420789 110snap info main utilxdconfiglogginginitializer - xd home ctestspring-xd-110build-snapshotxdbin 093420790 110snap info main utilxdconfiglogginginitializer - transport local 093420790 110snap info main utilxdconfiglogginginitializer - xd config location filectestspring-xd-110build-snapshotxdbinconfig 093420790 110snap info main utilxdconfiglogginginitializer - xd config names serversapplication 093420793 110snap info main utilxdconfiglogginginitializer - xd module config location filectestspring-xd-110build-snapshotxdbinconfigmo dules 093420794 110snap info main utilxdconfiglogginginitializer - xd module config name modules 093420795 110snap info main utilxdconfiglogginginitializer - admin web ui httpseattle9393admin-ui 093420797 110snap info main utilxdconfiglogginginitializer - zookeeper at localhost64424 093420798 110snap info main utilxdconfiglogginginitializer - zookeeper namespace xd 093420799 110snap info main utilxdconfiglogginginitializer - analytics memory 093420913 110snap info leaderselector-0 serverdeploymentsupervisor - leader admin singlenodedefaultadminsinglenodehsqldbserver9393 is watching for streamjob deployment requests 093421013 110snap info deploymentsupervisor-0 servercontainerlistener - path cache event typeinitialized 093421070 110snap info main serveradminserverapplication - started adminserverapplication in 6364 seconds jvm running for 18031 093422593 110snap info main servercontainerregistrar - container ip1921680120 hostseattle groups pid1108 id08c72e88-66d4-4b47-bd4a-8f5e5849 099f joined cluster 093422594 110snap info main utilxdconfiglogginginitializer - xd home ctestspring-xd-110build-snapshotxdbin 093422594 110snap info main utilxdconfiglogginginitializer - transport local 093422595 110snap info main utilxdconfiglogginginitializer - xd config location filectestspring-xd-110build-snapshotxdbinconfig 093422596 110snap info main utilxdconfiglogginginitializer - xd config names serversapplication 093422596 110snap info main utilxdconfiglogginginitializer - xd module config location filectestspring-xd-110build-snapshotxdbinconfigmo dules 093422596 110snap info main utilxdconfiglogginginitializer - xd module config name modules 093422596 110snap info main utilxdconfiglogginginitializer - container ip address 1921680120 093422596 110snap info main utilxdconfiglogginginitializer - container hostname seattle 093422596 110snap info main utilxdconfiglogginginitializer - hadoop distro hadoop22 093422597 110snap info deploymentsupervisor-0 servercontainerlistener - path cache event pathcontainers08c72e88-66d4-4b47-bd4a-8f5e5849099f typech ildadded 093422600 110snap info deploymentspathchildrencache-0 serverdeploymentlistener - path cache event typeinitialized 093422607 110snap info deploymentsupervisor-0 servercontainerlistener - container arrived containername08c72e88-66d4-4b47-bd4a-8f5e5849099f attrib utesip1921680120 hostseattle groups pid1108 id08c72e88-66d4-4b47-bd4a-8f5e5849099f 093422609 110snap info deploymentsupervisor-0 servercontainerlistener - scheduling deployments to new containers in 15000 ms 093422611 110snap info main utilxdconfiglogginginitializer - hadoop version detected from classpath 220 093422612 110snap info main utilxdconfiglogginginitializer - zookeeper at localhost64424 093422613 110snap info main utilxdconfiglogginginitializer - zookeeper namespace xd 093422615 110snap info main utilxdconfiglogginginitializer - analytics memory 093422616 110snap info main servercontainerserverapplication - started containerserverapplication in 061 seconds jvm running for 19576 093615837 110snap error http-nio-9393-exec-3 restrestcontrolleradvice - caught exception while handling a request javalangstringindexoutofboundsexception string index out of range -1 at javalangstringsubstringstringjava1954 at orgspringframeworkxddirtmodulearchivemoduleregistryfromresourcearchivemoduleregistryjava140 at orgspringframeworkxddirtmodulearchivemoduleregistryfinddefinitionarchivemoduleregistryjava68 at orgspringframeworkxddirtmoduledelegatingmoduleregistryfinddefinitiondelegatingmoduleregistryjava48 at orgspringframeworkxddirtmodulestorezookeepermoduledefinitionrepositoryfindbynameandtypezookeepermoduledefinitionrepositoryjava78 at orgspringframeworkxddirtstreamxdstreamparserresolvemoduletypexdstreamparserjava317 at orgspringframeworkxddirtstreamxdstreamparserdeterminetypexdstreamparserjava212 at orgspringframeworkxddirtstreamxdstreamparserparsexdstreamparserjava168 at orgspringframeworkxddirtstreamabstractdeployersaveabstractdeployerjava96 at orgspringframeworkxddirtrestxdcontrollersavexdcontrollerjava223 at sunreflectnativemethodaccessorimplinvoke0native method at sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava62 at sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 at javalangreflectmethodinvokemethodjava483 at orgspringframeworkwebmethodsupportinvocablehandalermethodinvokeinvocablehandlermethodjava215 at orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava132 at orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava104 at orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlemethodrequestmappinghandleradapterjava781 at orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava721 at orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava83 at orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava943 at orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava877 at orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava966 at orgspringframeworkwebservletframeworkservletdopostframeworkservletjava868 at javaxservlethttphttpservletservicehttpservletjava646 at orgspringframeworkwebservletframeworkservletserviceframeworkservletjava842 at javaxservlethttphttpservletservicehttpservletjava727 at orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava303 at orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 at orgspringframeworkbootactuatetracewebrequesttracefilterdofilterinternalwebrequesttracefilterjava110 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 at orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 at orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 at orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconfigurationapplicationcontextheaderfilterdofilterinternalendpointwebmvcautoconf igurationjava280 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 at orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 at orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 at orgspringframeworksecuritywebfilterchainproxydofilterinternalfilterchainproxyjava186 at orgspringframeworksecuritywebfilterchainproxydofilterfilterchainproxyjava160 at orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 at orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 at orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinternalhiddenhttpmethodfilterjava77 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 at orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 at orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 at orgspringframeworkwebfilterhttpputformcontentfilterdofilterinternalhttpputformcontentfilterjava88 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 at orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 at orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 at orgspringframeworkbootactuateautoconfiguremetricfilterautoconfigurationmetricsfilterdofilterinternalmetricfilterautoconfigurationjava89 at orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 at orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 at orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 at orgapachecatalinacorestandardwrappervalveinvokestandardwrappervalvejava220 at orgapachecatalinacorestandardcontextvalveinvokestandardcontextvalvejava122 at orgapachecatalinaauthenticatorauthenticatorbaseinvokeauthenticatorbasejava501 at orgapachecatalinacorestandardhostvalveinvokestandardhostvalvejava171 at orgapachecatalinavalveserrorreportvalveinvokeerrorreportvalvejava103 at orgapachecatalinacorestandardenginevalveinvokestandardenginevalvejava116 at orgapachecatalinaconnectorcoyoteadapterservicecoyoteadapterjava408 at orgapachecoyotehttp11abstracthttp11processorprocessabstracthttp11processorjava1070 at orgapachecoyoteabstractprotocolabstractconnectionhandlerprocessabstractprotocoljava611 at orgapachetomcatutilnetnioendpointsocketprocessordorunnioendpointjava1736 at orgapachetomcatutilnetnioendpointsocketprocessorrunnioendpointjava1695 at javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 at javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 at orgapachetomcatutilthreadstaskthreadwrappingrunnableruntaskthreadjava61 at javalangthreadrunthreadjava745 code,0
syslog-tcp configure a fixed thread pool the syslog-tcp source uses the default tcp connection factory which has an unbounded thread pool this can cause oom if the bus blocks eg rabbit is out of resources,0
method for obtaining streamjob state see the design documenthttpsdocsgooglecomagopivotalcomdocumentd1kwtohxef1wmklzq8azaiuhbzwilpcdi8g9hap8fgceditheadingh2rk74f16ow4i for more details this class or perhaps a method on a repository will need to query zookeeper to obtain the state of a streamjob in order to pass it along to the rest controller,0
as a qa id like to include acceptance test coverage for gauge sink module so that i can validate the functionality as part of every ci build,3
support creation of spring message at spark processor implementation currently when the spark streaming moduleexecutor iterate over the rdd partitions it converts all the items to spring message if the item itself is of message type the conversion happened at the spark streaming processor implementation then this is not needed we need to add a check to see if the item is of message type,0
make sqoop job and mapreduce samples work with hortonworks hdp 22 single-node cluster having problems testing against the sandbox 22 we need to set the following properties yarnapplicationclasspath yarnappmapreduceamcommand-opts mapreduceapplicationclasspath mapreduceapplicationframeworkpath,0
as a developer id like to troubleshoot the performance issues with rabbit as message bus implementation so i can isolate the bottleneck and fix as appropriate,5
kafka source should not try to decode payloads as strings currently the kafka source uses a stringdecoder by default - which is an invalid assumption if the payload is not the result of string conversion,0
modularize gradle build split out buildgradle into multiple files,0
add polling twitter source ive created a source module for polling a twitter timeline using the spring integration twitter inbound adapter ive placed my api keys in the modulesyml file and verified that they are picked up by the twitterstream and twitterseach modules that come with springxd however they are not picked up by my custom module i viewed the source for both the stream and and the search and i feel my project is near identical in configuration am i missing something or are these properties somehow special for just the two twitter sources that come with springxd id like to get this working and commit it to the project,0
as a user id like to have latest spring boot snapshot pulled as a dependency so that i can inherit and implement the ootb security features,1
create stories to enable the use of spring shells 20 branch testing facilities we need a few steps 1 investigate if we need to move off spring shell 10 dependency eg need to use code in spring shell 20 branch 2 if we need to use code in spring shell 20 branch we need to release a spring shell 11 m1 release with appropriate code changes create stories related to shell release 3 determine and document the basic recipe for doing integration tests 4 create stories to provide integration tests for each existing command,0
as a user id like to see the version and spi type in the about section so i can confirm which build of admin-ui im currently using,1
redisproperties values ignored the container application loads redisproperties but for some reason the values are ignored and defaults are used instead repro steps unpack spring xd 100m1 to a machine with no running redis instance change xdconfigredisproperties to specify a different hostname run xdbinxd-container observe error about inability to connect to redis on localhost workaround pass -dredishostnamedesired ip as a jvm parameter,0
create shell script to retrieve list of xd components running on yarn,0
web ui is not displayed web ui management interface does not display the stream list data or deploy status js error definitionsjs28 uncaught typeerror undefined is not a function eghttp1202744699393admin-uistreamsdefinitions,0
user wants the ability to limit the total number of jobs running simultaneously,0
batch wordcount sample to use file source,0
allow module compose to specify an explicit type currently module composition always guesses the correct type because we dont have a module with a given name n that is both a source and a processor or a processor and a sink we only have the case source and sink as in jdbcjdbc or filefile if it were the case then the heuristics for guessing the resulting type of a composition would break this issue is about adding the option for the user to explicitly specify the expected type of the composition if needed,0
documentation for rich gauge taps put on the guide as a section in an input-stream wiki page,0
datasource for batch infrastructure should be configurable not hardcoded to hsqldb currently hsqldb is the only option for batch jobs this should be configurable so that a user may select another jdbc data store option steps hsqldbproperties needs to be changed to batch-jdbcproperties hsql prefixes should be changed to batch-jdbc jdbc connection string needs to be configurable jdbc driver needs to be configurable the setup scripts to be used for spring batch need to be configurable hsqlserverbean should be renamed to something batch-jdbcproperties tests should be able write tests that support hsqldb,0
stream partitioning metadata should allow updating at runtime - dynamically anytime in a running system some times the algorithm for partitioning the data might overload a given server with work when that happens we might need to rebalance the partitioned work data to achieve a even balance of stream throughput across servers in a given compute group we can think of this dynamic rebalancing behavior as an extension of a failure use case in the failure scenario we need to re-partition the stream to other servers in the group we should allow third parties to plug-in to help with this capability as an example gemfire will report the new partitioning meta-data when this type failure rebalance happens,0
xd-container should start even if xd-admin is not running currently xd-container will not start due to a db connection failure if the xd-admin is not already running in fact if someone is not using batch jobs at all with xd they should not even need a db connection for either xd-admin or xd-container to run so consider using lazyconnectiondatasourceproxy so a connection failure would only occur when the datasource is actually invoked to retrieve a connection,0
add deployundeploy commands for taps,0
unclear error message using hadoop fs shell commands without configuring a url when using the shell i forgot to configure the hadoop url via hadoop config fs --namenode hdfspivhdsne8020 i then did xdhadoop fs ls xdtweets you must set fs url before run fs commands the error message should tell me how to set the url via the hadoop config command i had to go back to the documentation to figure it out its also not entirely grammatically correct,0
eclipse build path error after running gradle - refresh source folders in eclipse after running gradle - refresh source folders on the spring-xd-module project in eclipse there is an error because the srctestjava folder is missing solution is to add a placeholder file,0
add additional embedded servlet container config to load static ui resources configure embedded servlet container needs to know where to load the ui code,0
update spring framework dependency to 40 ga,0
support external defaults for pojomoduleoptions the current behavior when there are global external defaults to module options is to set them in the placeholder construct foothedefault where thedefault is sourced from some properties file the downside is that the module options infrastructure is unaware of them provide support for such defaults at least when using pojomoduleoptions in the form of annotate a field or the setter with valuethedefault maybe annotate the pojo with propertysource to indicate the location of the properties file maybe come up with a general naming scheme for the properties file,0
update getting started chapter to include a section on starting the shell the chapter on how to start up the shell should ocme right after start the runtime and before create the stream,0
remove remaining threadsleeps from the job tests get rid of all the threadsleeps and code that supported them,0
create a receptor partitionhandler and related stepexecutionrequesthandler h2 narrative as a developer i need to be able to create a partitioned batch job that uses diego tasks for partition slaves h2 back story a new partition handler should be created that uses the receptor api to launch tasks for each of the slaves configurable via grid size,0
xdmodulesequence property missing two separate reports of problems with this property httpstackoverflowcomquestions34439296spring-xd-stream-deployment-failure httpstackoverflowcomquestions34514393issue-in-spring-xd-cluster-when-deploying-my-module,0
as a user id like to have an option to track history so that i get the visibility of stream name module name etc added as part of the message header,3
as a user id like to have the option to gracefully shutdown the stream so when it is undeployed while in the middle of its operation we would want to complete its journey to the sink before xd stops the stream use case one of the streams has a custom module that performs archive extraction when this stream is undeployed while in the middle of extraction it looks like the message goes to the dlq however we would like the message to complete its journey to the sink of the queue before xd stops the stream is this possible,5
rename xd-global-beansxml the above config contains beans that must be in a common parent context for the adminserver and modules hence not really global since the node doesnt need them itself so the name is a bit misleading come up with something better,0
add udp support to reactor-syslog source module currently the reactor-syslog source module only supports tcp once we add udp support we can probably remove the existing syslog-tcp and syslog-udp modules,0
local control channels enabled in singlenodeapplication when alternate transport is selected this causes intermittent test failures when testing streams with other transports since moduledeployer receives duplicate requests from multiple threads fix is to check for local transport before invoking setupcontrolchannels,0
as a flo user id like to have timeout and pollinterval as global options at the dsl level so i can override the defaults at will,1
copy spring-xd-codec to scs as spring-cloud-streams-codec create the equivalent library in spring-cloud-streams,0
display a counter,0
placeholder for latticediego poc 2,0
shell - handle pagination this may be broken down into 2 issues first of all we need to define the proper ui interaction for the cli to deal with pagination and then of course the actual implementation,0
unable to deploy job in ui this only happens when creating jobs via the cli and deploying using the ui on the job page httplocalhost9393admin-uijobsdefinitions i click deploy for a job and get a screen asking for container match criteria and job module count - clicking on the deploy button on that screen does nothing - i see this error reported deploying job definition undefined angularjs9778 typeerror cannot read property jobdefinition of undefined at scopescopedeploydefinition httplocalhost9393admin-uiscriptsjobcontrollersdefinition-deployjs5278 at httplocalhost9393admin-uilibangularangularjs1056721 at httplocalhost9393admin-uilibangularangularjs1862717 at scopeeval httplocalhost9393admin-uilibangularangularjs1241228 at scopeapply httplocalhost9393admin-uilibangularangularjs1251023 at htmlbuttonelementanonymous httplocalhost9393admin-uilibangularangularjs1862621 at htmlbuttonelementjqueryeventdispatch httplocalhost9393admin-uilibjqueryjqueryjs50959 at htmlbuttonelementelemdatahandle httplocalhost9393admin-uilibjqueryjqueryjs476646 angularjs9778,0
fix package tangles looking at the latest sonar run we have 3 package tangles in spring xd httpssonarspringsourceorgdrilldownmeasures7717metric87,0
remove unnecessary less files from xd ui styles currently the bootstrapless file has all the styles that the bootstrap supports but we should only addcompile the less that are needed by xd ui,0
incorrect message bus is used at runtime for some reason the message bus is bound to incorrect transport different from what is set as xdtransport at runtime this is from the container log 2015-04-21 134212331 120snap info main utilxdconfiglogginginitializer - transport rabbit 2015-04-21 134235144 120snap info redismessagelistenercontainer-4 sinka2 - test,0
split xd-dirt in 3 or 5 the xd-dirt project should be split in at least 3 parts - classes and resources pertaining to the admin-server - container server - shared classes additionally we may consider splitting the first two in half as well having a separate project for cli handling and hence introduce 2 other projects for yarn etc,0
set fetch size when reading from database in pre-packaged jobs when running a query against a large dataset jdbc will attempt to load the entire result set into memory by default if this isnt desired which would be the case in the prepackaged jobs you can set the fetchsize on the jdbccursoritemreader to set the number of rows to return with each fetch it is good practice to make this match the commit interval if the fetch size is not set with large datasets the stack blows with an outofmemoryexception,0
as a spring xd developer id like to move redis module from xd to s-c-s repo so i can use it as sink to build streaming pipeline,2
as a developer id like to upgrade reactor-ip and syslog modules to reactor 20 so that we can sync up with the latest release,1
the parser should be able to handle a parameter name with a - hyphen embedded right now it treats it as a new parameter start and fails,0
research how to handle data encryption within pipeline design spike investigate best approach to encrypt data pipeline consider all moving parts within the topology including the scenarios where data is at rest and as well as in transit,0
refactor binder configuration to use autoconfiguration currently enablemodule hardcodes references to both the redis and rabbit configuration classes which trigger or dont trigger based on the presence of another jar which itself has the meat of the configuration this is typically what boot autoconfiguration is for moreover adding a new binding eg kafka or a stub for module testing would require to crack open enablemodule,0
as a spring xd user id like to capture module aka cf apps metrics directly so i can relay that information via rest-apis and not depend on the current coupling of xd-containers currently there are two different ways we could consume this information from applications sis channel and sboots actuator apis are the few to explore as part of this scope,4
duplicate mbean server definition by mbeanexportingplugin the mbeanserver is referred by xd adminlauncher when jmx is enabled by setting --jmxenabled option and this is defined in xd-global-beansxml the mbeans that are exposed by the modules also use the same mbeanserver define above and there is a duplicate mbeanserver definition from jmxcommonxml which the mbeanexportingplugin adds as a component to the module which doesnt seem to be needed also currently the flag jmxenabled is generic and used by adminserverlauncher as well as the module mbeanexportingplugin if we have a separate flag to enable the jmx only for modules then a separate definition of mbeanserver could be necessary,0
support higher level structure for complex module registry see discussion at httpsgithubcomspringsourcespring-xdpull240discussionr6045724,0
add rest resource sink would be nice to have a sink for rest resources might be configurable with an endpoint uri basic auth details would be a nice to have too would perform a post to the endpoint passing the payload,0
tipsy tooltip hovers are not responsive after jobs list is refreshed from server in the xd ui the list of jobs is refreshed from the server every 5 seconds there are also tooltips that are activated when hovering over a job execution these tooltips are no longer responsive ie- they remain on the page and dont disappear after the list of jobs is refreshed,0
as a user id like to have an optional arbitrary side channels created so that when creating a module channels other than the primary stream channels input output could be added to the bus ie creating a tap channel within a flow the optional side channels can be used to tracetrack module progress,5
job execution display to show job deploymentdefinition status with xd-1311 the job execution list shows the definitiondeployment status of the associated job we need to show the same information for a given job execution,0
add support for creating a spring batch job that references a named trigger,0
as a s-c-s user id like to have the option to direct bind modules so i dont have to use messaging middleware and i can eliminate latency between them this is important for high throughput and low latency use cases,5
as a user id like to have the option of websocket source module so that i can create a interactive communication channel between users browser session and the runtime to ingest browser based events and activities reference spring integration websocket supporthttpsgithubcomspring-projectsspring-integrationtreemasterspring-integration-websocketsrc,3
create listdelete commands for all the metrics we need to add listdelete commands for the metrics inmemoryaggregatecounter fieldvaluecounter gauge richgauge currently the abstractmetricscontroller class has the delete method to delete the metric from the repository we can probably use the same for all the metrics,0
add a rank expression to be used by the container matcher following the htcondor model for resource assignment the use of a rank expression that evaluates to an integer is used to order the containers that match the current criteria expression this allows you to setup ranks such as prefer the machine with the most free memory or prefer a machine from groupa higher rank values match first from htcondor presentation rank the rank expression is evaluated into a number for every potential matching machine a machine with a higher number will be preferred over a machine with a lower number rank examples prefer machines with more mips rank mips prefer more memory but add 100 to the rank if the machine is solaris 27 rank memory 100opsyssolaris27 prefer machines with a high ratio of memory to cpu performance rank memorymips prefer machines that will checkpoint in bologna rank ckptserverckptboinfnit,0
tcp-client reports error when using --closetrue flag when using the --closetrue flag for the tcp-client the following exception is triggered caused by javalangillegalargumentexception for client-mode connection factory must have single-usefalse orgspringframeworkutilassertistrueassertjava65 orgspringframeworkintegrationiptcptcpreceivingchanneladapteroninittcpreceivingchanneladapterjava96 orgspringframeworkintegrationcontextintegrationobjectsupportafterpropertiessetintegrationobjectsupportjava135 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinvokeinitmethodsabstractautowirecapablebeanfactoryjava1627 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactoryinitializebeanabstractautowirecapablebeanfactoryjava1564,0
stepexecutioninfo can not be retrieved in distributed mode when constructing stepexecutioninfo the tasklettype class could not be loaded as the spring-data-hadoop-batch jar is missing from admin classpath in distributed mode following exception is thrown severe servletservice for servlet dispatcherservlet in context with path threw exception handler processing failed nested exception is javalangnoclassdeffounderror orgspringframeworkdatahadoopbatchhivehivetasklet with root cause javalangclassnotfoundexception orgspringframeworkdatahadoopbatchhivehivetasklet javaneturlclassloader1runurlclassloaderjava366 javaneturlclassloader1runurlclassloaderjava355 javasecurityaccesscontrollerdoprivilegednative method javaneturlclassloaderfindclassurlclassloaderjava354 javalangclassloaderloadclassclassloaderjava425 sunmisclauncherappclassloaderloadclasslauncherjava308 javalangclassloaderloadclassclassloaderjava358 orgspringframeworkxddirtjobtasklettypeclinittasklettypejava57 orgspringframeworkxddirtjobstepexecutioninfoinitstepexecutioninfojava94 orgspringframeworkxddirtrestbatchstepexecutionscontrollerdetailsbatchstepexecutionscontrollerjava98 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeinvocablehandlermethodjava215,0
embeddedheadersmessageconverter buffer overflow see httpsgithubcomspring-projectsspring-xdissues1871,0
investigate long running tests the goal is to optimize the build process and at the same time validate the feature capabilities as quickly as we can investigate the long running tests look for long timeout window declarations,0
upgrade to spring-data-hadoop 101rc1 spring-data-hadoop 101rc1 provides flavors for commonly used hadoop distrosversions and we should make use of that,0
as a user id like to build xd in windows machine so that i can develop test and contributed to oss,4
unnecessary format enforcement on module short description what is the functional justification for enforcing this validation on modules is it really necessary to enforce that the short description must start with a capitol letter and end with a period seems a bit unnecessary and opinionated to me caused by orgspringframeworkvalidationbindexception orgspringframeworkvalidationbeanpropertybindingresult 1 errors field error in object info on field shortdescription rejected value snip codes patterninfoshortdescriptionpatternshortdescriptionpatternjavalangstringpattern arguments orgspringframeworkcontextsupportdefaultmessagesourceresolvable codes infoshortdescriptionshortdescription arguments default message shortdescriptionljavaxvalidationconstraintspatternflag3984374episuppercase default message short description must start with a capital letter and end with a dot,0
documentation on the module system and how to contribute new modules for people who are familiar with springspring integration provide documents that show how to add additional input sourcessinks,0
remove moduledefinitionsdummy this method should be replaced with a utility method in a test support class so that it is only available in a testing context,0
add zookeeper distribution in the download zip this will reduce one extra step for getting started using xd in distributed mode out of the box,0
create an shell to control all aspect of streamjob management,0
documentation for sources sinks modules should define which attributes are required and which optional this will eventually be supplied by the admin server but for now write it up by hand in the documentation,0
xd container doesnt need embedded servlet container if it uses specific management port currently the xd container uses embedded tomcat only to support management server that acts as the restful server for boots actuator mvc and jolokia endpoints if the configuration is set to use a specific management port using the fixes addressed via xd-1122 then we dont need to have embedded tomcat servlet container in xd container,0
a batch job can be launched by sending a message on a channel description when a job is created in springxd a control-channel for that job is also created the listener for that channel will receive a message be able to take the jobparameters and other launch information from the message and be able to launchrun the job note i can see a few other stories that should probably be made to break this up after writing it i put estimate of 10 for now but we should break this up here are some suggestions 1 create data only jobparametersbean equivalent with primitive types 2 create joblauncher source 3 create jobparametertransformer processor 4 refactoring of channelregistrys aliashing to use a callback strategy implementation suggestions job create --name helloworldjob --definition myjob --somepropertytooverridesomevalue this would not execute the batch job immediately but instead register the job definition and deploys a joblauncher and the job definition to an xd-container the xd-container that receives the deploy request message will create a module application context will also create a channel with the channel registry named after the job eg myjob this should be a pubsub channel from the point of view of the middleware from the point of view of the spring integration channel it should ideally be of the executor channel there is a limitation in the current implementation of channelregistry now as createinbound only creates direct channels the boolean aliashint should probably be extended to some type of callback that creates a channel the aliashint was added to address the case of localchannelregistry creating or looking up a queue backed channel or a direct channel there will be a consumer on the si channel in the module application context that will be responsible for getting the job launch information and launching the job the launching of the job may need to be explicitly done in a separate thread if direct channels are created by the channelregistry the contents of the message should be something similar to the current jobparametersbean it needs to be easily serializable with simple types via json over the wire the current impl of jobparametersbean has objectmapper so that may require a bit of reworking the handler of the message will use the joblauncher to launch the job using the information in the jobparametersbean the myjob can then be launched by sending a message perhaps this is handled by having a joblauncher source joblauncher --jobparameters jobparameters --dateformat dateformat --numberformat numberformat --makeunique makeunique myjob eg with no-args joblauncher myjob how to verify it works with the test hellospringxdtasklet we should be able to create the job job create --name hellospringxd --definition myjob this will not launch the job as mentioned in the implementation section it would then be launched by joblauncher myjob where joblauncher is a new source ideally would like to be able to test a data driven triggering this would require a new file source that doesnt use the file-to-string-transformer but lets a file object be the payload file jobparametertransformer myjob,0
provide error location when tapping inexistent streammodule see impacted code at httpsgithubcomspring-projectsspring-xdpull951,0
using hdfs sink throwing an error i am trying to use hdfs as sink while creating streams and i am encountering the following error please refer attached document exception - localhost - 8020txt the fsdefaultname set in hadoopproperties is fsdefaultnamehdfslocalhost8020 i have also tried the following variation in the hadoopproperties file fsdefaultnamehdfs1270028020 fsdefaultnamehdfs12700250070 using these values are also throwing me exceptions as mentioned in the following files attached exception - 127002 - 8020txt exception - 127002 - 50070txt we are using pivotal hd 101 spring-xd-100m5-dist kindly let us know the way around for this issue,0
as a developer id like to refactor streamjob definition repository so i can decouple from module deployment concerns,5
change jmx option to reference enablejmx instead of disablejmx make the default value of enablejmx false until we have testeddocumented jmx functionality,0
register stringtobytearraymessageconverter the converter was not configured therefore string to byte for --outputtype applicationoctet-stream fails for a string payload,0
as a azure user id like to readwrite data from azure event hubs so i can leverage the pub-sub service to process and analyze large volumes of data,5
custom location for modulesyml not working tried local xd-adminxd-container after setting code export xdmoduleconfiglocationfilespring-xd-100build-snapshot-yarnconfig code have my twitter stuff in modulesyml in that directory but not picked up by the twitterstream module also not working for me deploying on yarn this used to work at some point not sure how long ago i actually tested this part - m6m7 the setting used for yarn deployment code -dxdmoduleconfiglocation file code,0
fix jobcommandtests verification of shell result table rows using specific index some of the tests in jobcommandtests use the verification of shell command results table row on a specific row mostly first row like this string id jobexecutionsgetrowsget0getvalue1 displayjobexecutionid it is possible that the list of table rows may have the intended row in different order this poses inconsistent test failures,0
rabbit source - make default queuename stream name consistency with jms source,0
jobs are not completely removed from jobstore deploy type admincontainer on ec2 rabbit transport sha 8fba31d steps to reproduce 1 using rabbit 33 above create a user that does not have privileges to write to sudo rabbitmqctl adduser joe password omit this step sudo rabbitmqctl setpermissions -p joe 2 set the rabbitmq user name and password export springrabbitmqusernameacctest export springrabbitmqpasswordacctest23 3 start container 4 create stream or job foo 5 error will occur 6 delete stream or job foo 7 stop container 8 set privilege sudo rabbitmqctl setpermissions -p joe 9 start container 10 create stream or job foo 11 system will report that foo exists,0
support for common use cases using quartz,0
as a user id like to have latest spring boot release pulled as a dependency so that i can inherit and implement the ootb security features,1
documentation for use of conversion service and creating custom processing modules that use the tuple data structure,0
nodes can not connect with admin using redis as transport this has happened more than once where a node fails for whatever reason and when it is restarted it does not receive requests from the admin server this could be file handle count based since this is not rabbit as a transport im not chasing this down yet but felt it needed to be recorded,0
create ci process for xd build bamboo based,0
shell processor cannot recover from an exception see httpstackoverflowcomquestions29822845custom-python-module-can-not-re-excute-when-raise-exception-in-module,0
refactor deployment related classes in xd dirt this is an improvement ticket to address refactoring of xd dirt classes especially xd adminzk deployment related and container,0
as a user id like to have the option to write into kafka sink so that i can publish mass data into kafka broker,5
do you have plan to support spark do you have plans to support spark in version 10 ga spring xd has supported hadoop but it has not supported the brand new big data calculation platform spark do you have plans to support spark in the future,0
disable mongodb boot autoconfiguration at xd runtime xd runtime admin container and singlenode have mongodb boot autoconfiguration enabled this spins off mongodb client and thereby the cleaner thread running on all these runtime the mongodb based modules wont have any impact when we disable this autoconfiguration,0
as a developer id like to handle module options via pure boot property source management so i can leverage boots module metadatahttpdocsspringiospring-bootdocscurrent-snapshotreferencehtmlsingleconfiguration-metadata option to inject module options as opposed to maintaining them in core spring xd runtime cp,5
ui the user should be able to view a graphical representation of the job this may be broken up into multiple jira issues provide a generic approach to render batch jobs graphically second especially for hadoop components - provide step-type-dependent renderings of batch components - see xd-1622,0
shell processor is not thread safe multiple threads invoke the shell processor result in io errors andor data corruption send and receive should be synchronized,0
make cron-based triggers timezone aware currently specified cron expressions are executed in the containers default timezone in triggerxml we specify code beans profileuse-cron intinbound-channel-adapter channeloutput auto-startupfalse expressionpayload intpoller croncron intinbound-channel-adapter beans code this translates in orgspringframeworkintegrationconfigxmlpollerparser to code beandefinitionbuilder builder beandefinitionbuildergenericbeandefinitioncrontriggerclass builderaddconstructorargvaluecronattribute code which will call orgspringframeworkschedulingsupportcrontrigger code build a link crontrigger from the pattern provided in the default time zone param cronexpression a space-separated list of time fields following cron expression conventions public crontriggerstring cronexpression thissequencegenerator new cronsequencegeneratorcronexpression code build a link crontrigger from the pattern provided in the default time zone we need to pass-in a timezone should cron expressions as part of an xd definition have a timezone parameter when creating the stream via the ui or the shell the timezone can be inferred if not specified but should be mandatory for the rest api meaning being passed in as a mandatory parameter or alternatively if not passed in we assume the cron expression is specified for utc that way we could ensure that a streamjob definition is globally valid,0
documentation for using a specific hadoop distribution show how to select a specific hadoop distribution when starting embeddedstandalone xdcontainer,0
updgrade to use spring-batch-admin 130 m1 when available once spring-batch-admin 130m1 is available update the build to use it likely to be sept 7 or 9,0
admin leader should watch zookeeper for stream deployment requests the stream deployment requests will be written to xdstreamsstreamname and the data on that node will include the state or a boolean indicator for now of whether it should be deployed when a stream is deployed the leader will consult its container cache and write the modules to the various xddeployments child nodes see xd-1400,0
create aggregator module that uses redis as a message store there is a need for a persistent store for messages so that they can survive the crash of a container node the redis implementation in si is useful since users may already be using redis for other features such as analytics this module would sit alongside the current in-memory based aggregator it brings in redis as a dependency and there should be configuration options exposed so that one can use a different version of redis as compared to the one that maybe used for analytics due to the need to have redis on the cp and the large number of different options that each message store implementation provides and the different 3rd party library dependencies i would like to avoid going down the path of using a profile here as it would seem to go beyond what we had discussed for profile support we can revisit as the module contribution story based on boot unfolds,0
version info not available when security enabled when security is enabled the versioncontroller rest endpoint isnt visible,0
xd-admin script fails when providing --hadoopdistro option xd-2837 added back the --hadoopdistro option for xd-admin scripts however if i try to use it i get an error message saying --hadoopdistro is not a valid option,0
exclude healthindicatorautoconfiguration with healthindicatorautoconfiguration the health endpoint shows up statusdownhealthindicatorstatusuprabbitstatusdownerrororgspringframeworkamqpamqpconnectexception javanetconnectexception connection refusedredisstatusupversion289mongostatusdownerrororgspringframeworkdaoinvaliddataaccessresourceusageexception timed out while waiting to connect after 3894 ms nested exception is commongodbmongotimeoutexception timed out while waiting to connect after 3894 msdbstatusupdatabasehsql database enginehello1 we can only use vanilla health indicator since other status may not be relevant,0
encapsulate list of moduledeploymentrequests within a parsed stream result object currently the parser returns a listmoduledeploymentrequest and the deployer works with that list directly we need a higher level parser result eg deployablestream - or probably a better name after some thought that can encapsulate that list while also enabling metadata to be added that metadata may be helpful for composite module information as well as the module dependencies of a given stream including any composed modules within that stream,0
add support to restart job composition as an xd user id like have support restart an existing composed job so i could re-launch it at will,0
as a s-c-s user id like to have the modules self-register itself with eureka whenever theyre installed so i can also discover the same modules using spring xd admin spi and reuse them to create data pipelines,4
add requestreply support to kafka message bus environment can be reproduced on local machine with admin and a single container create the following job job create ogg --definition filejdbc --resourcesfilefilejdbctestfilejdbctestpartition --namesdata --tablenamefilejdbctest --initializedatabasetrue --deploy note this works on rabbit and redis as a message bus the following exception is thrown on the admin 65422856 110snap info deploymentsupervisor-0 serverjobdeploymentlistener - deployment status for job ogg deploymentstatusstatefailederrorsjavalangunsupportedoperationexception auto-generated method stub orgspringframeworkxddirtintegrationkafkakafkamessagebusbindrequestorkafkamessagebusjava289 orgspringframeworkxddirtpluginsjobjobpartitionerpluginprocesspartitionedjobjobpartitionerpluginjava69 orgspringframeworkxddirtpluginsjobjobpartitionerpluginpostprocessmodulejobpartitionerpluginjava53 orgspringframeworkxddirtmodulemoduledeployerpostprocessmodulemoduledeployerjava238 orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava218 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 orgspringframeworkxddirtserverdeploymentlistenerdeploymoduledeploymentlistenerjava363 orgspringframeworkxddirtserverdeploymentlistenerdeployjobmoduledeploymentlistenerjava289 orgspringframeworkxddirtserverdeploymentlisteneronchildaddeddeploymentlistenerjava179 orgspringframeworkxddirtserverdeploymentlistenerchildeventdeploymentlistenerjava147 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 the following exception is thrown on the container 210814721 110snap warn deploymentspathchildrencache-0 configreleasestrategyfactorybean - no annotated method found falling back to sequencesizereleasestrategy targetorgspringframeworkbatchintegrationpartitionmessagechannelpartitionhandler692ee39f methodnamenull 210815946 110snap error deploymentspathchildrencache-0 serverdeploymentlistener - exception deploying module javalangunsupportedoperationexception auto-generated method stub orgspringframeworkxddirtintegrationkafkakafkamessagebusbindrequestorkafkamessagebusjava289 orgspringframeworkxddirtpluginsjobjobpartitionerpluginprocesspartitionedjobjobpartitionerpluginjava69 orgspringframeworkxddirtpluginsjobjobpartitionerpluginpostprocessmodulejobpartitionerpluginjava53 orgspringframeworkxddirtmodulemoduledeployerpostprocessmodulemoduledeployerjava238 orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava218 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 orgspringframeworkxddirtserverdeploymentlistenerdeploymoduledeploymentlistenerjava363 orgspringframeworkxddirtserverdeploymentlistenerdeployjobmoduledeploymentlistenerjava289 orgspringframeworkxddirtserverdeploymentlisteneronchildaddeddeploymentlistenerjava179 orgspringframeworkxddirtserverdeploymentlistenerchildeventdeploymentlistenerjava147 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745,0
as a developer id like to investigate the increase in warn logs so that i can troubleshoot and fix pmdsonar violations consider notifying the violations through sonar configurations the committer should be notified,3
create java client lib over rest api so that clients eg shell or custom user program are insulated from rest details ala cloud foundry may go even further if we want a java dsl for stream definitions that may reuse batch command pojos btw difference between xdclientcreatestreammystream http --port9000 file and import static stuff streamdef stream httpport9000pipefile xdclientcreatestreammystream stream,0
remove redisstreamdeploymentintegrationtests and rabbitstreamdeploymentintegrationtests these are duplicates of singlenodedeploymentintegrationtests,0
add incremental load feature to batch docs the incremental load introduced with xd-2309 should be added to the batch docs,0
cannot chain json-field-value-filter json-field-extractor because stringtojsonnodetransformer expects a string as input one cannot chain json related processors a simple solution would be to also accept jackson in and forward it directly in that case,0
make hdfs configurable via applicationyml we currently pull all hdfs config properties from hdfsproperties - change that to use applicationyml,0
as a user id like to have a rest-api to get all the counters gauges and rich-gauges in a single request so i dont have to issue multiple request to fetch each one of the metrics by nameid for custom dashboards example code metricscountersall fetches all available counters metricsgaugesall fetches all available gauges metricsrich-gaugesall fetches all available rich-gauges code,4
missing log configuration for throughput-sampler httpstackoverflowcomquestions28019801how-to-read-throughput-sampler-sink-values-in-spring-xd2802754428027544,0
refactor taps to avoid transport hop taps are currently source modules they could be refactored to simply bridge the tapped modules tap pubsub topic directly with conversion to the first tap modules input channel note - ensure destroy works currently the tap is destroyed by the simple fact it is a module if its no longer a module well need special handling to stopremove the tap adapter,0
jobexecution restart action should depend on job deployment status at the jobexecution page if the job execution is failed and restartable then we should enable the restart action only if the job is deployed please see httpsgithubcomspring-projectsspring-xdpull884 for the discussion related to this,0
investigate dropped module deployment requests we have observed in unit tests see abstractsinglenodestreamintegrationtests thatredissinglenode occasionally fail the root cause must be investigated further but there is some evidence to suggest that the control messages moduledeploymentrequests are not always received and handled by the moduledeployer this does not produce an error but results in runtime stream failures this problem may be resolved as part of the planned deployment spi but is being tracked here until we are certain that it has been resolved,0
as a spring xd developer id like to refactor current controller with spi calls so i can invoke the respective admin spi implementation based on the deployment controllers to refactor containerscontroller streamscontroller modulescontroller jobscontroller,4
document mail related sources sinks,0
jobs and taps should not require a leading since they have name spaces,0
as a s-c-d developer id like to add support for hadoop commands in shell so i can use it to query the hadoop file system,3
spring xd unable to save metadata for long steps hey guys we are facing an annoying problem and i cant figure out how solve it for some reason when we run a step that takes long time 4 hours or more spring xd is unable to save the metadata and throws the following error 2015-10-25t094910-0400 120release error task-scheduler-2 stepabstractstep - encountered an error executing step ingest-logs in job ingest-logs-flow orgspringframeworkormjpajpasystemexception commit failed nested exception is orghibernatetransactionexception commit failed orgspringframeworkormjpavendorhibernatejpadialectconverthibernateaccessexceptionhibernatejpadialectjava244 nana orgspringframeworkormjpavendorhibernatejpadialecttranslateexceptionifpossiblehibernatejpadialectjava155 nana orgspringframeworkormjpajpatransactionmanagerdocommitjpatransactionmanagerjava521 nana orgspringframeworktransactionsupportabstractplatformtransactionmanagerprocesscommitabstractplatformtransactionmanagerjava757 spring-tx-416releasejar416release orgspringframeworktransactionsupportabstractplatformtransactionmanagercommitabstractplatformtransactionmanagerjava726 spring-tx-416releasejar416release orgspringframeworktransactionsupporttransactiontemplateexecutetransactiontemplatejava150 spring-tx-416releasejar416release orgspringframeworkbatchcoresteptasklettaskletstep2doinchunkcontexttaskletstepjava271 spring-batch-core-303releasejar303release orgspringframeworkbatchcorescopecontextstepcontextrepeatcallbackdoiniterationstepcontextrepeatcallbackjava77 spring-batch-core-303releasejar303release orgspringframeworkbatchrepeatsupportrepeattemplategetnextresultrepeattemplatejava368 spring-batch-infrastructure-303releasejar303release orgspringframeworkbatchrepeatsupportrepeattemplateexecuteinternalrepeattemplatejava215 spring-batch-infrastructure-303releasejar303release orgspringframeworkbatchrepeatsupportrepeattemplateiteraterepeattemplatejava144 spring-batch-infrastructure-303releasejar303release orgspringframeworkbatchcoresteptasklettaskletstepdoexecutetaskletstepjava257 spring-batch-core-303releasejar303release orgspringframeworkbatchcorestepabstractstepexecuteabstractstepjava198 spring-batch-core-303releasejar303release orgspringframeworkbatchcorejobsimplestephandlerhandlestepsimplestephandlerjava148 spring-batch-core-303releasejar303release orgspringframeworkbatchcorejobflowjobflowexecutorexecutestepjobflowexecutorjava64 spring-batch-core-303releasejar303release orgspringframeworkbatchcorejobflowsupportstatestepstatehandlestepstatejava67 spring-batch-core-303releasejar303release orgspringframeworkbatchcorejobflowsupportsimpleflowresumesimpleflowjava165 spring-batch-core-303releasejar303release orgspringframeworkbatchcorejobflowsupportsimpleflowstartsimpleflowjava144 spring-batch-core-303releasejar303release orgspringframeworkbatchcorejobflowflowjobdoexecuteflowjobjava134 spring-batch-core-303releasejar303release orgspringframeworkbatchcorejobabstractjobexecuteabstractjobjava304 spring-batch-core-303releasejar303release orgspringframeworkbatchcorelaunchsupportsimplejoblauncher1runsimplejoblauncherjava135 spring-batch-core-303releasejar303release orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava50 spring-core-416releasejar416release orgspringframeworkbatchcorelaunchsupportsimplejoblauncherrunsimplejoblauncherjava128 spring-batch-core-303releasejar303release sunreflectnativemethodaccessorimplinvoke0native method na17067 sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 na17067 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 na17067 javalangreflectmethodinvokemethodjava606 na17067 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 spring-aop-416releasejar416release orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 spring-aop-416releasejar416release orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 spring-aop-416releasejar416release orgspringframeworkbatchcoreconfigurationannotationsimplebatchconfigurationpassthruadviceinvokesimplebatchconfigurationjava127 spring-batch-core-303releasejar303release orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 spring-aop-416releasejar416release orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 spring-aop-416releasejar416release comsunproxyproxy53rununknown source nana orgspringframeworkbatchintegrationlaunchjoblaunchingmessagehandlerlaunchjoblaunchingmessagehandlerjava50 spring-batch-integration-303releasejar303release sunreflectnativemethodaccessorimplinvoke0native method na17067 sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 na17067 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 na17067 javalangreflectmethodinvokemethodjava606 na17067 orgspringframeworkexpressionspelsupportreflectivemethodexecutorexecutereflectivemethodexecutorjava112 spring-expression-416releasejar416release orgspringframeworkexpressionspelastmethodreferencegetvalueinternalmethodreferencejava129 spring-expression-416releasejar416release orgspringframeworkexpressionspelastmethodreferenceaccess000methodreferencejava49 spring-expression-416releasejar416release orgspringframeworkexpressionspelastmethodreferencemethodvaluerefgetvaluemethodreferencejava342 spring-expression-416releasejar416release orgspringframeworkexpressionspelastcompoundexpressiongetvalueinternalcompoundexpressionjava88 spring-expression-416releasejar416release orgspringframeworkexpressionspelastspelnodeimplgettypedvaluespelnodeimpljava131 spring-expression-416releasejar416release orgspringframeworkexpressionspelstandardspelexpressiongetvaluespelexpressionjava330 spring-expression-416releasejar416release orgspringframeworkintegrationutilabstractexpressionevaluatorevaluateexpressionabstractexpressionevaluatorjava164 spring-integration-core-415releasejarna orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessinternalmessagingmethodinvokerhelperjava276 spring-integration-core-415releasejarna orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessmessagingmethodinvokerhelperjava142 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlermethodinvokingmessageprocessorprocessmessagemethodinvokingmessageprocessorjava75 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlerserviceactivatinghandlerhandlerequestmessageserviceactivatinghandlerjava71 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava99 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 spring-integration-core-415releasejarna orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 spring-integration-core-415releasejarna orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 spring-integration-core-415releasejarna orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 spring-integration-core-415releasejarna orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 spring-integration-core-415releasejarna orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava287 spring-integration-core-415releasejarna orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava245 spring-integration-core-415releasejarna orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 spring-messaging-416releasejar416release orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 spring-messaging-416releasejar416release orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 spring-messaging-416releasejar416release orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputabstractmessageproducinghandlerjava231 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlerabstractmessageproducinghandlerproduceoutputabstractmessageproducinghandlerjava154 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputsabstractmessageproducinghandlerjava102 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava105 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 spring-integration-core-415releasejarna orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 spring-integration-core-415releasejarna orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 spring-integration-core-415releasejarna orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 spring-integration-core-415releasejarna orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 spring-integration-core-415releasejarna orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava287 spring-integration-core-415releasejarna orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava245 spring-integration-core-415releasejarna orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 spring-messaging-416releasejar416release orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 spring-messaging-416releasejar416release orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 spring-messaging-416releasejar416release orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputabstractmessageproducinghandlerjava231 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlerabstractmessageproducinghandlerproduceoutputabstractmessageproducinghandlerjava154 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputsabstractmessageproducinghandlerjava102 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava105 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 spring-integration-core-415releasejarna orgspringframeworkintegrationendpointpollingconsumerhandlemessagepollingconsumerjava74 spring-integration-core-415releasejarna orgspringframeworkintegrationendpointabstractpollingendpointdopollabstractpollingendpointjava219 spring-integration-core-415releasejarna orgspringframeworkintegrationendpointabstractpollingendpointaccess000abstractpollingendpointjava55 spring-integration-core-415releasejarna orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava149 spring-integration-core-415releasejarna orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava146 spring-integration-core-415releasejarna orgspringframeworkintegrationendpointabstractpollingendpointpoller1runabstractpollingendpointjava298 spring-integration-core-415releasejarna orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 spring-integration-core-415releasejarna orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava50 spring-core-416releasejar416release orgspringframeworkintegrationutilerrorhandlingtaskexecutorexecuteerrorhandlingtaskexecutorjava49 spring-integration-core-415releasejarna orgspringframeworkintegrationendpointabstractpollingendpointpollerrunabstractpollingendpointjava292 spring-integration-core-415releasejarna orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava54 spring-context-416releasejar416release orgspringframeworkschedulingconcurrentreschedulingrunnablerunreschedulingrunnablejava81 spring-context-416releasejar416release javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 na17067 javautilconcurrentfuturetaskrunfuturetaskjava262 na17067 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava178 na17067 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava292 na17067 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 na17067 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 na17067 javalangthreadrunthreadjava745 na17067 caused by orghibernatetransactionexception commit failed orghibernateenginetransactionspiabstracttransactionimplcommitabstracttransactionimpljava187 nana orghibernatejpainternaltransactionimplcommittransactionimpljava77 nana orgspringframeworkormjpajpatransactionmanagerdocommitjpatransactionmanagerjava517 nana 97 common frames omitted caused by orghibernatetransactionexception unable to commit against jdbc connection orghibernateenginetransactioninternaljdbcjdbctransactiondocommitjdbctransactionjava116 nana orghibernateenginetransactionspiabstracttransactionimplcommitabstracttransactionimpljava180 nana 99 common frames omitted caused by commysqljdbcexceptionsjdbc4mysqlnontransientconnectionexception communications link failure during commit transaction resolution unknown sunreflectnativeconstructoraccessorimplnewinstance0native method na17067 sunreflectnativeconstructoraccessorimplnewinstancenativeconstructoraccessorimpljava57 na17067 sunreflectdelegatingconstructoraccessorimplnewinstancedelegatingconstructoraccessorimpljava45 na17067 javalangreflectconstructornewinstanceconstructorjava526 na17067 commysqljdbcutilhandlenewinstanceutiljava389 mysql-connector-java-5134jar5134 commysqljdbcutilgetinstanceutiljava372 mysql-connector-java-5134jar5134 commysqljdbcsqlerrorcreatesqlexceptionsqlerrorjava958 mysql-connector-java-5134jar5134 commysqljdbcsqlerrorcreatesqlexceptionsqlerrorjava937 mysql-connector-java-5134jar5134 commysqljdbcsqlerrorcreatesqlexceptionsqlerrorjava926 mysql-connector-java-5134jar5134 commysqljdbcsqlerrorcreatesqlexceptionsqlerrorjava872 mysql-connector-java-5134jar5134 commysqljdbcconnectionimplcommitconnectionimpljava1616 mysql-connector-java-5134jar5134 orgapachecommonsdbcpdelegatingconnectioncommitdelegatingconnectionjava301 commons-dbcp-14jar14 orgapachecommonsdbcppoolingdatasourcepoolguardconnectionwrappercommitpoolingdatasourcejava200 commons-dbcp-14jar14 orghibernateenginetransactioninternaljdbcjdbctransactiondocommitjdbctransactionjava112 nana 100 common frames omitted 2015-10-25t094910-0400 120release error task-scheduler-2 stepabstractstep - encountered an error saving batch meta data for step ingest-logs in job ingest-logs-flow this job is now in an unknown state and should not be restarted orgspringframeworkdaooptimisticlockingfailureexception attempt to update step execution id8 with wrong version 1 where current version is 2 orgspringframeworkbatchcorerepositorydaojdbcstepexecutiondaoupdatestepexecutionjdbcstepexecutiondaojava255 spring-batch-core-303releasejar303release we are using a mysql database with the following configurations spring datasource url jdbcmysqlhosttomysql3306singnode username admin password admin driverclassname commysqljdbcdriver validationquery select 1 testonborrow true if you guys know this issue or have some ideas how solve please let me know thanks in advance hctor,0
fix gradle build inconsistencies and leftovers the build has some inconsistencies that should be taken care of amongst the one i know the ui project is always getting cleaned for no apparent reason there might have been one before thus triggering a rebuild of everything downstream most notably dirt the exec task is not used anymore lots of projects are getting the boot plugin applied to them im not sure 100 what that plugin does but we dont need the repackage bit for example,0
as a s-c-d developer id like to enhance integration test coverage for cc spi so i can continuously evaluate functionalities via ci pipeline,3
as a spring xd developer id like to port shell module from xd to s-c-s repo so i can use it as processor module to build streaming pipeline,2
add remote partitioning to filejdbc job h2 narrative as a developer i need to be able to process the importing of files in parallel via the filejdbc batch job h2 acceptance criteria be able to provide a list of files to the job and have them be read in parallel based on the number of slaves deployed use multiresourcepartitioner to create on partition per incoming file,0
acceptance test must be able to handle log names with pid suffix introduced by xd-2006 admin and container logs will have a pid suffix appended to their filename the acceptance tests will have to identify the pid for the admin server and the container servers deployed in the cluster and then append the pid value to the filename contained in the xdcontainerlogdir,0
reference documentation on rxjava stream processor,0
spring-xd-extension-sqoop dependency overrides test logger setup as per chapter 3 logback configurationhttplogbackqoschmanualconfigurationhtml only xml configuration can be overidden with -test file its impossible to do this with groovy configuration there are spring xd modules that are packaging logbackgroovy eg spring-xd-extension-sqoop if a custom module depends on those libraries it becomes impossible to nicely override log settings for tests1 the configuration is taken from classpath because logbackgroovy is always prioritized over logback-testxml if those modules would switch to logbackxml there will be no such problem and custom modules would be easier to set up 1 one can put own logbackgroovy file under srctestresources but this setup will output a number of warning into console forcing logback configuration path with -d option is not nice either,0
add stress test to enrich acceptance test coverage id like to have stress test scenario that includes ingesting data from http and then writing it to log sink,0
infrastructure for rabbitmq cluster ecb pre-requisite for rabbit mq benchmarks infrastructure setup configuration changes tool-chain setup iperf,0
investigate jmx object naming of deployed modules and inboundoutbound channel adapters the object naming is still not ideal for xd since si conventions add some noise likely need to design and implement a custom naming strategy,0
rabbitmq queue cleanup uses wildcard unexpectedly calling the api to delete queues uses a wildcard-like behaviour unexpectedly if i request to delete test-1 i expect it to delete streams named with the pattern test-1 for example it would delete test-10 test-11 etc in fact i believe it wildcards before and after the period eg test-1 and hence would delete test-10 test-110 test-1230 etc that way of working is potentially helpful but its also dangerous because it removes the ability to know that youre only deleting the exact queue you want to in all cases for the record the commit httpsgithubcomspring-projectsspring-xdcommit2d5f3f706330a6ead8e91c9a7a23d4372715614d implies that it should work in the more restricted way above not the less restricted way note ive marked this as an improvement because absent documentation i dont know what the correct functionality is and hence cant say this is a bug,0
upgrade to spring boot 120 as to prepare for 11 release we would like to upgrade to spring boot 120 rc1 depends on spring 412 so that we can leverage the new features enhancement and bug fixes spring boot milestoneshttpsgithubcomspring-projectsspring-bootmilestones,0
kafka message bus ignores consumer concurrency when computing partition count this is a combination of two issues - the internal property nextmoduleconcurrency is computed from concurrency when it should be computed from consumerconcurrency - even if nextmoduleconcurrency is set the kafkamessagebus rejects it since its not set in supportedconsumerproperties as a result the value used in partition calculation is always 1 a workaround exists by setting the modulemodulenameproducerminpartitioncount property to the expected total value,0
use deque instead of linkedlist when gathering metrics when profiling metrics we noticed a small improvement when using deque instead of linkedlist in exponentialmovingaverageratio exponentialmovingaveragerate,0
create externalized property file to support connectivity to redis we need to have an externalized property fileunder xdconf for the xd-container admin scripts to use as options,0
support for uuid suffix for hdfs file names in acceptance tests,0
remove hadoop distro enum options please see the discussion here httpsgithubcomspring-projectsspring-xdpull655filesr10892925,0
create bridge processor see httpsgithubcomspring-cloudspring-cloud-dataflowissues128 this is needed to support channel channel type constructs,0
move config files in rpm install to etcspring-xd directory we need better controll over how config files are preserved during upgrades the rpm process handles that better for files that are designated as config and they should reside outside of the directory where the software is installed so they can be kept around during version upgrades,0
add support to set the read timeout for http request we need to have the ability to set read timeout for http request this is already implemented here httpsgithubcomspringsourcerest-shell,0
validate existence of batch job at the admin side since the batch job repository is not intended to be deleted it is possible to have a batch job that already exists in the batch job repo even if the batch job definition is destroyed in xd when a new job definition is created we need to add a validation for the same job definition name against the batch job repository currently we will only see a failure when the job is actually deployed into the container when the batch job repository is updated during the deployment,0
as a user id like to have a rest api to point and push an archive that includes custom module definitions and configurations so that i dont have to manually move and set it up scope of this spike assess customer requirement brainstorm and document options socialize with the team to collect feedback identify phases create new stories,5
change inconditionnal threadsleep calls in tests to smarter incremental pauses there are a lot of threadsleep calls with delays chosen in the 1-2 seconds range change to a while loop with smaller pauses until a timeout is reached and give up this applies to verification code eg verifying that a counter has expected value as well as file setup or http being ready to accept requests etc,0
as a developer id like to include the following improvements as part of the ec2 ci infrastructure so that we can reliably run the ci builds and also assert over feature functionalities scope enable distributed jvm test change from using artifactory gradle task to a command task that calls gradlew test w embedded hadoop off turn on maxparallelforks,4
spike to model the cluster nodes each node in the cluster advertises itself and the admin node listens to these ads and creates groups out of them the deployment of jobs and stream processing can then be deployed onto a specific group and specific nodes within the group the project httpsgithubcomspring-projectsspring-data-grid is the start of this model,0
shell improve loginauthentication capabilities currently the shell does not automatically detect whether authentication for the targeted admin server is necessary upon start or change of the admin server url the shell should check the requirements and if necessary prompt the user to provide credentials there is also a rest endpoint that could be used for that code httplocalhost9393securityinfo code see also xd-2870 for reference,0
investigate missing stepexecutions in jobrepositorygetlastjobexecution when the job is run with its jobparameters by simplejoblauncher its lastjobexecutions stepexecutions are checked for unknown status to throw jobrestartexception it looks like the stepexecutions for the lastjobexecution are never set and the collection stepexecutions is not fetched from job repository hence not sure if the following condition in simplejoblaunchers runfinal job job final jobparameters jobparameters would ever get executed for stepexecution execution lastexecutiongetstepexecutions if executiongetstatus batchstatusunknown throw throw new jobrestartexceptionstep executiongetstepname is of status unknown end if end for,0
array class names cannot be parsed to mimetype messagebussupport creates an original content type message header to support serialization for remote transports the form of the header applicationx-java-objecttypeclassname for java array types the prefix causes an error when converting this value to a mimetype this can be avoided by quoting the classname however a further complication is if the array element is an object in this case the classname is lclassname the trailing colon causes a parse exception even in a quoted string a simple fix is to check for the trailing colon remove it and add it back if mimetypegetparametertypecontainsl see httpdocsoraclecomjavase7docsapijavalangclasshtmlgetname for more info preliminary testing indicates primitive array and multi-dimensional arrays will work fine with quoting but tests should be added for these cases,0
suppress deliverymode header in rabbitmq source related to xd-2567 which fixed this problem but only in the bus quote 2016-02-19t182524-0500 121release warn simpleasynctaskexecutor-1 supportdefaultamqpheadermapper - skipping header amqpdeliverymode since it is not of expected type class orgspringframeworkamqpcoremessagedeliverymode it is class orgspringframeworkamqpcoremessagedeliverymode quote,0
more dsl work exploiting sourcesink channels the dsl changes under xd-369 now build stream ast objects that can include a source and sink channel code source channel mystreamfoo count log sink channel http count foo code these new fields in the ast object need to be copied into the module deployment request objects and then used at the destination as the channels for wiring things together currently the only channels used are the nnn numeric channels where nnn is the index of the module in the stream definition the sourcesink channels are extra channels that need creating - the source channel acting as a real source for the next module in the chain whilst the sink channel acts as a sink output for the last channel in the chain i can think of two ways to handle the implementation - in order to police the stream structure as source processor sink maybe special sourcechannel and sinkchannel modules are created to represent these channels and when deployment happens the deployer understands that they dont represent a real request to deploy a module but simply the channels to wire up to the adjacent module - carry sourcesink channel info in the existing module definitions but then the verification of sourceprocessorsink structure will need modification to say a source isnt necessary if the first processor has a source channel attached and a sink isnt necessary if the last processor has a sink channel attached,0
as a user i need a sandbox docker image so that i can get started to experiment xd deployment with the following setup ubuntu os full xd jar java 7x redis rabbitmq,4
fix failing script integration tests issue seems to be error25-jul-2014 183618cat gemfirepid no such file or directory error25-jul-2014 183618usage error25-jul-2014 183618 kill pid send sigterm to every process listed error25-jul-2014 183618 kill signal pid send a signal to every process listed error25-jul-2014 183618 kill -s signal pid send a signal to every process listed error25-jul-2014 183618 kill -l list all signal names error25-jul-2014 183618 kill -l list all signal names in a nice table error25-jul-2014 183618 kill -l signal convert between signal numbers and names error25-jul-2014 183618rm cannot remove gemfirepid no such file or directory,0
rename metrics repositories setvaluex y z to something less javabean,0
standardize datetimetimezone handling we should we centrally standardize on datetime formats so that we dont create inconsistencies and follow iso 8601 internally internally we should only work with utc or make that the default config option ultimately whatever the user sees is just a formatting concern,0
add dependencies needed for running a hive job,0
add support for addresses property on rabbitmq source support receiving messages from an ha cluster,0
update sinks log section to use shell commands instead of curl see httpstaticspringsourceorgspring-xddocs100m1referencehtmllogsinks,0
as a s-c-d user i should be prevented from creating streams with duplicate name id expect streams to have unique names all the time,1
create shell command for getting information on all job executions for a given name,0
create shared server context create a shared server context to the container hierarchy this is a child of global beans which contains beans that are only shared by the admin and container contexts but not modules the zookeeper components go here to support the zk deployment architecture the messagebus also goes here to support a clean way to launch jobs from the admin process,0
support additional aggregate counter query options,0
support completion proposals of processors after a named channel due to the way the heuristics for module type guessing work we cant currently support completions of the like queuefoo stab that would yield valid processor names we need to add non-determinism list of types instead of single type to the type guessing heuristic,0
custom module not loading class from the modulelib the modulelib contains the necessary jars but it is not taken i am attaching the simple custom module which contains just few beans here is how i am creating the job from the xd-shell job create --name job1 --definition job-custom --deploy the server logs contains this error 104320193 110m2 info deploymentspathchildrencache-0 serverdeploymentlistener - deploying module moduledescriptor2963e1e2 modulename job-custom modulelabel job-custom group job1 sourcechannelname null sinkchannelname null index 0 type job parameters mapempty children listempty 104320697 110m2 error deploymentspathchildrencache-0 bootspringapplication - application startup failed javalangnoclassdeffounderror orgspringframeworkoxmunmarshaller javalangclassgetdeclaredmethods0native method javalangclassprivategetdeclaredmethodsclassjava2531 javalangclassgetdeclaredmethodsclassjava1855 orgspringframeworkutilreflectionutilsgetdeclaredmethodsreflectionutilsjava571 i already had been discussing this over the forums but could not get much help stackoverflowcomquestions27878047noclassdefinitionerror-with-simple-bean-configuration if i place the spring-oxm jar in the spring-xd lib i get this error javalangillegalstateexception cannot convert value of type orgspringframeworkoxmjaxbjaxb2marshaller to required type orgspringframeworkoxmunmarshaller for property unmarshaller no matching editors or conversion strategy found,0
refactor message conversion in channelregistrysupport after an initial attempt which was not ready for m2 we are rethinking our strategy one of the fundamental things we have come to realize is that its important to treat serialization and type conversion as separate concerns serialization a core principle is the consumer should by default receive exactly what the producer sent - if the producer sends a byte payload then no serialization is required - a string payload can use simple byte conversion taking the charset into account - transporting an object uses whatever serialization is configured json xml avro protocol buffer javaio msgpack etc the actual serialization performed for each message must be shared with the producer and consumer ie the consumer needs to know which case above applies to each payload currently we are using the messageheaderscontenttype defining custom mime types for this the designated header is subject to change conversion - the consumer optionally defines one or more content-types read mimetype it can accept in order of preference if no conversion succeeds we can either give them the byte payload or throw an exception configurable examples - consumer accepts a java object applicationx-java-objecttypeexamplefoo assume for simplicity the consumer may send a json string or a foo on the receiving end we need to distinguish a string payload containing a json representation of foo from a serialized foo payload if the payload is a string we need to know that its original content is applicationjson we are currently using a 2nd original-content-type message header to supply this information so in the first case we have conceptually content-type xd plain text original-content-type applicationjson in the second case we have content-type xd serialized json original-content-type not used in this case since the serialized json includes type information using jackson conventions which are a bit brittle -if the producer type is different from the accepted type we use the conversion service and the consumer must register appropriate converters a twist for xd that may be generally relevant is that some optimization is possible when we know the bytes represent json - tuple conversion since we serialize using json and we know how to transform json -tuple we can convert any object payload or any json string to a tuple we can avoid the two step deserializationconversion eg 1 foo-json-foo 2 foo-tuple,0
let modules define a default value for --inputtype option if a module eg always expects the payload of the message to be of a certain java type if would be good for documentation and convenience reasons in order to specify a default value for the --inputtype option documentation output for module info convenience we could eg support to always accept a json payload or automatic message payload conversion once it is extensible currently adding optionsinputtypedefault to the modules property file has no effect ive also tried to redefine it using optionsinputtypedescription this leads to the following exception command failed orgspringframeworkxdrestclientimplspringxdexception module option named outputtype is present in several delegates orgspringframeworkxdmoduleoptionssimplemoduleoptionsmetadata3c1d635a flattenedcompositemoduleoptionsmetadata outputtype pojomoduleoptionsmetadata backed by class orgspringframeworkxddirtpluginsstreammoduletypeconversionpluginmetadataresolveroutputoptionsmetadata defining options moduleoption nameoutputtype typeclass orgspringframeworkutilmimetype defaultvaluenull descriptionhow this module should emit messages it produces inputtype pojomoduleoptionsmetadata backed by class orgspringframeworkxddirtpluginsstreammoduletypeconversionpluginmetadataresolverinputoptionsmetadata defining options moduleoption nameinputtype typeclass orgspringframeworkutilmimetype defaultvaluenull descriptionhow this module should interpret messages it consumes,0
as a spring xd user id like to create streaming pipelines so i can take advantage of latest specs from both xd and sparkspark streaming,3
support --reftruefalse for sftp source the file and ftp sources allow working with either the javaiofile or its contents for consistency the sftp source should support the same mechanism,0
propertysource leakage between runtime and modules in environmentawaremoduleoptionsmetadataresolverloadpropertysources the call to mergeparentenv was added to inherit the active profiles of the runtime sadly it added the parentenv property sources by side effect note that the jdbc module defaults rely on this bug,0
ui - setup sauce labs integration we should have a facility to easily test the e2e protractor tests against a variety of common browsers including ie sauce labs seems to be the service to use,0
documenation for buildingstarting redis servers,0
update wiki to reflect the change from runtime x to cluster x update the wiki to reflect the change from runtime containers to cluster containers and runtime modules to cluster modules,0
remove mr1 jar from cdh5 hadoop build there is an hadoop-core-250-mr1-cdh533jar in the libcdh5 directory - we need to remove that from the dist,0
deployment properties should use label instead of name stream create foo --definition label bar xxxx stream deploy foo --properties modulelabelyyyzzz seems to work but it does not the pre-validation is correct but downstream deployment logic still looks for modulebar instead of modulelabel,0
gemfire source does not offer --host nor --port options,0
create a ci acceptance tests build for xd yarn deployment,0
allow re-use of a module classloader see report at httpsgithubcomspring-projectsspring-xdissues661 it would be good indeed to allow this eg by having a weakhashmapclassloader typename map in the global context the caveat though is that any statics used by the module would be shared too we can make this an opt-out though i think that sharing by default makes sense by having a flag in the module properties manifest,0
change jmxdisabled option to jmxenabled and do not enable by default also the current behavior is broken it checks if the property is set but does not actually check whether its true or false,0
rest endpointcommand interface for runtime module deployment properties we need a way to access the deployment properties for the deployed modules for example runtime module foosinkbar-2,0
create pojo based filesink module metadata this is so that we can have an enum that can show the possible values and autocomplete using just the xml the user has a greater chance to enter an invalid mode,0
update to spring integration 401 add messages store optimization to the hdfs-dataset,0
as a developer id like to continue latticediego poc so that i can identify the scope risks and the overall design for a pluggable spi in xd runtime,4
as a s-c-d developer id like to move kafka module from xd to s-c-s repo so i can use it as sink to build streaming pipeline,2
documentation for starting spring xd servers,0
update spring-xd-extension-reactor dependency currently the reactorenv bean is defined in module-common context and the spring-xd-dirt has the runtime dependency over spring-xd-extension-reactor project this enables boots reactorautoconfiguration to initialize the reactor environment we have the reactor setup configured for both admin and container server applications since reactor environment is not being used by container and only used by the reactor-syslog module we can move the reactorenv bean definition in reactor-syslog module there is one caveat in this approach as the reactor environment gets setup everytime a new reactor-syslog module is deployed,0
zookeeper nonode exception when deploying stream same problem on m6 and using build-snapshot when deploying a stream that has a slow-starting component that connects to gemfire the deployment fails with a zk nonode exception no log from the component seen but in all honesty the component could be waiting on a timeout orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsmodules2af8624b-777c-4084-aa1a-9d675b53afe3test1sinkreactor-batching-client-1metadata orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava111 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 orgapachezookeeperzookeepercreatezookeeperjava783 orgapachecuratorframeworkimpscreatebuilderimpl11callcreatebuilderimpljava676 orgapachecuratorframeworkimpscreatebuilderimpl11callcreatebuilderimpljava660 orgapachecuratorretryloopcallwithretryretryloopjava107 orgapachecuratorframeworkimpscreatebuilderimplpathinforegroundcreatebuilderimpljava656 orgapachecuratorframeworkimpscreatebuilderimplprotectedpathinforegroundcreatebuilderimpljava441 orgapachecuratorframeworkimpscreatebuilderimplforpathcreatebuilderimpljava431 orgapachecuratorframeworkimpscreatebuilderimplforpathcreatebuilderimpljava44 orgspringframeworkxddirtservercontainerregistraronchildaddedcontainerregistrarjava370 orgspringframeworkxddirtservercontainerregistraraccess800containerregistrarjava93 orgspringframeworkxddirtservercontainerregistrardeploymentlistenerchildeventcontainerregistrarjava706 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava494 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava488 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava293 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava485 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache11runpathchildrencachejava755 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745,0
stream destroy does not need to validate metadata in dev mode i created a twitter stream rebuilt the server and then wanted to destroy it my new install didnt have any twitter keys as i was also not using xdconfiglocation xdstream destroy --name tweets command failed orgspringframeworkxdrestclientimplspringxdexception error with options for module twitterstream of type source consumerkey you must provide a consumerkey token to use this module consumersecret you must provide a consumersecret token to use this module i should be able to destroy a stream wo having to supply values for ppcs,0
job launch should throw exception if the job is not deployed in the container while processing the job launch request the moduledeployer checks if the job is already deployed if not it deploys the job before launching it this approach causes issue in case of multiple containers environment where the job is deployed in one container1 but the job launch request is picked up by other container2 because the container2 that processes job launch request deploys the job again it conflicts with an existing job that is deployed in conatiner1 with the same name in the jobrepository initially the idea behind deploy before launch was to enable launch shell command to also deploy because of the issue mentioned above it is ok to assume that job launch needs to be performed on an existing deployed job,0
review and optimize the serialized json nodes for batch objects for several batch job related json endpoints we serialize too much information,0
automatically disable autostartup in module smartlifecycle components provide a bpp to do this in the streamplugin possibly jobplugin as well remove auto-startupfalse in existing module configs,0
prevent submiting jobs that are not currently deployed using admin ui job modules launch and schedule command buttons are active even if the job module isnt deployed or has been destroyed get errors like yikes something bad happened while launching job myjob4 the job named myjob4 is not currently deployed,0
jobs are created even though they have an invalid definition also if you deploy the job it will fail but then you cant delete the job,0
re-enable support for tapping labels and named channels as of xd-685 we no longer have the ability to 1 tap a named channel ala stream1foo sink stream2 tapfoo sink 2 tap a stream whose source is a named channel ala stream2tapstream1 sink 3 tap a label ala stream1http obfuscator transform --expressionpayloadreplaceallpassword file stream2tapstream1obfuscator sink loss of named channel support is due to the fact that we are creating a wiretap on a modules local output channel only thus we never tap named channels we are not supporting labels because we only create a named channel called tapstreammodule on stream creation so later creation of tap on stream1obfuscator is referring to a non-existent named channel,0
optimize jobservice queries and batch domain object usages based on the discussion from here httpsgithubcomspring-projectsspring-xdpull849issuecomment-43215168 we need a better strategy to handle some of the queries and updates to the batch domain objects,0
provide jms as a supported messagebus implementation,0
twittersearch does not deploy correctly if previous deploy fails if you mess up you consumersecret then deploy the stream it will throw a 403 which is correct then you destroy recreate and redeploy with the correct key source will not retrieve any results the only solution was to bounce the single node steps to repeat 1 create a stream stream create twit --definition twittersearch --consumerkeygoodkey --consumersecretbadsecret --querylettermanlog 2 deploy stream and get 403 3 destroy stream 4 create twittersearch stream with good keys 5 deploy stream 6 no twitter data is displayed,0
the xd-singlenode script should have execute permissions the xd-singlenode script currently has 644 permissions unlike xd-admin and xd-container which have 755 code -rwxr-xr-x 1 mark staff 5899 aug 26 1619 xd-admin -rwxr-xr-x 1 mark staff 5955 aug 26 1619 xd-container -rw-r--r-- 1 mark staff 5919 aug 26 1619 xd-singlenode code,0
problems with advanced tapping start of a test program that can be placed in streamcommandtests code test public void testtappingandchannels executestreamcreatemyhttphttp --port9314 transform --expressionpayloadtouppercase logtrue executestreamcreatetaptap myhttp1 logtrue executestreamcreatetapnewtap myhttp1 logtrue executecommandhttp post --data dracarys --target httplocalhost9314 todo verify both logs output dracarys code in the test program see two taps one using the older style and one using the newer style and so that there is no real tap module source the log module just gets its input channel wired directly to myhttp1 the output of transform they should be doing the same thing however when run the output for tapnew is missing all i see is code 113936055 warn new io worker 28 loggertap141 - dracarys 113936059 warn new io worker 28 loggermyhttp141 - dracarys code no errors are reported there is just no output for tapnew,0
refactor spark and sqoop tasklets to use systemcommandtasklet the sqoop tasklet introduced an abstractprocessbuildertasklet implementation in xd-2430 we are now adding similar support to batch systemcommandtasklet in batch-2329 batch-2330 and batch-2331 we should refactor sqoop and spark tasklets to use the systemcommandtasklet as base,0
user should be able to view the list of all deployed jobs on clicking the deployed jobs we can have a table view of all the deployed jobs this is again a responsive table layout with all the job definitions with status deployed the deployed xd job corresponds to a single batch job instance this story addresses the ui layout changes to display existing jobinstance information,0
add deployundeploydestroy all commands for all applicable resources streams tap job trigger,0
document minimum memory requirement for gradle builds the build failed on two classes from spring-xd-extension-process shellcommandprocessorjava and shellcommandprocessortestsjava with error failure build failed with an exception what went wrong execution failed for task spring-xd-extension-processlicensetest license violations were found usersvictorchugunovgitreposspringspring-xdextensionsspring-xd-extension-processsrctestjavaorgspringframeworkxdextensionprocessshellcommandprocessortestsjava in both classes the license is misplaced package orgspringframeworkxdextensionprocess copyright 2014 the original author or authors licensed under the apache license version 20 the license you may not use this file except in compliance with the license you may obtain a copy of the license at httpwwwapacheorglicenseslicense-20 unless required by applicable law or agreed to in writing software distributed under the license is distributed on an as is basis without warranties or conditions of any kind either express or implied see the license for the specific language governing permissions and limitations under the license,0
as a user i want to know how to enable and configure ldap as an authentication provider for the administration server so that i can set up my security configuration accordingly,1
retrieve information for a field value counter todo as part of this see xd-537 get rid of so-called service layer in analytics project doesnt do much right now and logic would better live in the handler imo have rest controllers depend on xrepository in all cases,0
update sources tcp section to use shell commands instead of curl see httpstaticspringsourceorgspring-xddocs100m1referencehtmltcp,0
as a s-c-d developer id like to produce ref documentation for s-c-d architecture so i could define 1x and 2x deployment differences,5
update docs for new tap syntax now that taps are just channels we need to update the docs the preceding colon is no longer needed and will be removed altogether so all examples should be like this code tapfoo bar code,0
disable the jmx setting in singlenodemainintegrationteststestconfiguration set the enablejmx to false because contexts are not getting destroyed properly and in some cases prevents testsystempropertiesoverridesdefault from running successfully,0
create ci plan for xd ec2 deployment use the cleanup app from xd-1243 to stop previous ci runs of xd on ec2 build xd-ec2 deployer from github use xd-ec2 deployer to deploy the ci xd-instance should produce artifact that contains the url admin server of the xd cluster container servers of the xd cluster,0
as a developer id like to setup ui infrastructure so i can integrate adminui and flo,4
as a developer id like to update all the module docs to also include shortdescription so that its available for users to learn more about the module,2
fix cross-talk among the shell integration tests it looks like the singlenode application used by each of the shell integration test class is shared by other test classes as well this causes some issues that are common to these tests we need to avoid such scenarios,0
redis message bus still accessed when using direct binding i have a distributed xd cluster with one admin and two containers using redis as the message bus in certain cases i want to use direct binding to remove communication with the message bus and deploy all modules to all containers with the aim of improving performance ive found that even when using direct binding xd still communicates with redis when it shouldnt need to this could have an impact on performance this is easily reproducible in our 2 container cluster as follows use the redis-cli monitor command to monitor redis create and deploy a simple stream with direct binding code stream create --definition http log --name httplog stream deploy --name httplog --properties modulecount0 code as expected both modules get deployed to both nodes testing shows messages sent to the http endpoint of one container always come out in the log for that container implying direct binding is in play as expected however once the streams are deployed the redis monitor starts showing a redis queue being accessed from both xd conatiners code 1444731527086325 0 1001857454 brpop queuehttplog0 1 1444731528086304 0 1001437337 brpop queuehttplog0 1 1444731529086341 0 1001857454 brpop queuehttplog0 1 1444731530086317 0 1001437337 brpop queuehttplog0 1 1444731531086340 0 1001857454 brpop queuehttplog0 1 1444731532086505 0 1001437337 brpop queuehttplog0 1 code this shouldnt need to happen in direct binding these messages stop once the stream is undeployed,0
change metrics assertions in integration tests to use smart threadsleep similar to what has been done for eg filesink refactor metrics related sinks to use smart threadsleep timings,0
improve reactorreflectionutilsextractgeneric to support classes with inheritance provide unit tests,0
as a pm id like to have xd and xd ambari rpm scripts into a single public repo so that users can go to a single location to use the respective build scripts,3
as a developer id like to revisit performance benchmarks with new improvements so i can verify the optimizations around jdbchdfs,1
strange language prefix shown on some code listings when hovering the mouse over them looking at the online docs the code listings have inconsistent syntax highlighting and when you hover the mouse over some of them there is a language prefix like ruby or javascript inserted at the beginning of the first line very strange to see this go to httpdocsspringiospring-xddocs120releasereferencehtmlserverconfiguration and scroll down to the hsqldb section the listing for hsqldb looks fine but scroll down further and put the mouse pointer on the mysql or postgresql listings and you should see javascript being inserted on the first line,0
change in file source breaks backward compatibility with version 120 the option ref of the file source was removed and a new option mode was introduced see xd-2850 and pr httpsgithubcomspring-projectsspring-xdpull1624 this means you have to destroy all streams using the ref option before you do an upgrade it would have been much better to leave the ref option in the code and emit a deprecation warning if it is still used this way an upgrade would be possible without interruption,0
as a user id like to refer to ootb batch jobs and the documentation so i can jump to the right job section and review details,1
increase the partitionresultstimeout the partitionresultstimeout is set to 300000 as default 5min this is way to short for long running steps we should increase this default,0
refactor module dependency tracking to be closer to stream deployment see comments on this pr which is part of the code that needs to be refactored httpsgithubcomspring-projectsspring-xdpull390,0
error message about memory leak when ctrl-c xd-container and xd-admin eg c094200882 error localhost-startstop-2 loaderwebappclassloader - the web application appears to have started a thread named abandoned connection cleanup thread but has failed to stop it this is very likely to create a memory leak the thread name may be different,0
apply composite gof pattern to moduledefinition,0
cli error when not specifying module type in module commands is cryptic an not helpful all of the cli module commands that require the module name eg module display sourcemqtt require that you preface the name with the module type if you forget to do this eg module display mqtt you get a fairly cryptic exception which can confuse end users the exception is javalangstringindexoutofboundsexception failed to convert mqtt to type qualifiedmodulename for option name string index out of range -1,0
the containers deploymentlistener should watch xddeploymentsmodules currently it watches xddeploymentscontainerid but due to the reuse of that top level node for xd-1483 and xd-1484 we should instead use xddeploymentsmodulescontainerid,0
create a splitter module the splitter functionality in spring integration should be exposed to xd as a processing module the splitter should use a spel expression to specify how to split the message up implementation suggestions this should be a simple xml based module definition that has inputoutput channels and has the spel expression parameterized the default value of the spel expression should result in the message not being split how to check it works the current file or tail input source can be used to split up the text in a file into words the tail module should be checked to see how many lines of text it will read into memory at once the file module node with the file-to-string transformer will only work for small files as it keep the whole file in memory if there is a big memory inefficiency in using the tail file input source create a new story to investigate how to have a file based input source that creates a message per line of text or something that is will not result in excessive memory usage,0
xd ui not usable with ie 11 trying to use the xd ui with internet explorer version 110960017031 is difficult the screen doesnt refresh when streamsjobs are created or deployed had to erase the browsing history continuously to get state updates to show in the ui,0
further dsl extensions extend the dsl in the following ways - stream naming use name code mystream http file code - module aliasing for later referencing use label code mystream http t1 transform --expressionpayloadtouppercase t2 transform --expressionpayloadtolowercase code - sequence of job steps with code mybigjobby step1 --optionvalue step2 --optionvalue code - channels for sources and sinks use channels references prefixed code sink channel called foo http transform --expressionpayloadtouppercase foo source channel called foo foo count file code - qualify channels with a stream streamchannel code mystream http transform --expressionpayloadtouppercase foo mystreamfoo count log code - reusable substreams define then reuse code myintricateflow transform --expressionpayloadtouppercase transform --expressionpayloadtolowercase http myintricateflow file code - parameterized substreams use xx or xx to indicate parameters code obfuscatename transform --expressionpayloadreplaceallnamexxx twitter --querybieber obfuscatename --namejustin file code - tapping still not 100 happy about the format here code mystream http filter t1 transform xxx t2 transform yyy file these are then equivalent tapping on a module is effectively tapping a channel hence the tap filter count file tap mystreamfilter count file mystream http filter foo tap foo count file tap mystreamfoo count file code id still like to thing about removing tap and using a symbol perhaps but mystreamfoo is a little odd still not covered topological constraints on the stream components,0
update to spring boot 10 ga,0
vary prefecth size ec-db-3 use a single producer single consumer message size of 1000 bytes send 1m messages and increase or decrease so that a given test iteration takes about 2 minutes vary the prefetch size measure the msgsec rate and calculate the data transfer rate in mbsec prefetch sizes 1 10 50 100 10000 during the measurements look at the rabbitmq admin ui and see if the queue is backing up,0
filesourcetest needs to apply label to source and sink currently acceptance filesource acceptance tests are failing this is because the sink that tests the result for the file source test is a filesink both use the file token thus causing a failure simplefilesource and simplefilesink needs to support a label method update testfilesource to use the labels,0
documentation on xd architecture show overall flow of data in a stream the server components admin and container how modules are deployed,0
request to create a repo for spring xd performance testing it would be nice if we have a git repo for spring xd performance testing this would enable us to have a common repository rather than inside spring-xd as a subproject for all performance related code specific to any module message middleware etc,0
update netty to 4 spring io compatibility,0
as a s-c-d developer id like to add hdfs sink to module registry so i can use this module to build streaming pipeline and write to hadoop,1
as a developer id like to port field-value-counter module from xd to s-c-s repo so i can use it as sink module to build streaming pipeline,2
decouple messagebus dependencies refactoring scope spring-xd-dirt message bus dependencies the goal is to decouple them from startup phase to further enhance initialization time,0
add support for creating a spring batch job that has an embedded trigger expression,0
error handling on streams have proper exceptions for common error cases on stream creationdeployment and propagate those to clients correctly,0
flo dont work i unzip flo-spring-xd-admin-ui-client-131releasejar to replace the existing spring-xd-admin-ui-client-131releasejarand clear my browser cache then restart the xd-singlenodebut i cant access flo for spring xd at the following uri endpoints httphostnameportadmin-uistreamscreate i cant find the flo page,0
use unique queue names in shell tests there seems to be some cross talk among the shell integration tests it looks like the same singlenode application might get shared among the test classes when they run in parallel using unique queue names across the tests seem to fix the issue for now,0
need tcp-client source acceptance test,0
implement kryo serialization for tuple currently tuplecodec uses json for serializationdeserialization it should use kryo this will require some customization and potentially changes to tuple to address the tuples conversionservice field,0
use 2 tabs for hidden options in shell,0
allow aggregate-counter to increment by some value of the message currently the aggregate counter only adds 1 to the individual values even though support is there to add any increment this ticket is about surfacing a spel expression on the message to choose the increment,0
as a developer id like to have the option of extending the trigger abstraction so that i can implement my own trigger,5
rpm upgrades should not to wipe-out previous installation configssettings as an operator id like to upgrade to the latest releases of spring xd and yet not lose the older installation dirsfiles so i can copy and reuse the previously used serversyml configurations,0
as a developer i in the new development of component sourceprocessorsink how to get the module id and container id because components need to generate log log information must include the unique identifier xdruntime modules,1
handle singlenodeservers stop method cleanly singlenode server needs to stop cleanly with stopping both the admin server container server also all the tests that require singlenode main server needs to handle the server shutdown appropriately,0
spring xd using redis as data transport is failing to start in ci acceptance test,0
as a user im not able to shutdown container from admin ui with the following stream definition deployed code stream create swagatatestissue --definition jdbc --queryselect employeeid employeename employer from employee --urljdbcoraclethinlocalhost1521orcl --usernamespringxd --passwordxdpwd --driverclassnameoraclejdbcoracledriver --testonborrowfalse hdfs --inputtypeapplicationjson --deploy code more details herehttpsissuetrackerspringsourcecombrowsevesc-504,2
as a spring xd developer id like to move mqtt module from xd to s-c-s repo so i can use it as sink to build streaming pipeline,2
support rapid creation and deletion of streams os ubuntu deployment admin server 1 container transport rabbit using the shell execute the file binshell --cmdfile looptxt this should run successfully rerun the same script binshell --cmdfile looptxt it states that the stream foo1 is already deployed open shell app and destroy foo1 and run a stream list no streams will display exit shell and rerun the file another stream will fail to create stating stream already exists if you look at the modules deployed on the container some are still present to clear you have to shutdown the cluster and flush the xd directories on zookeeper note that if i shutdown the container the modules disappear,0
update to reactor 20 build snapshots,0
as a user id like to upgrade spring xd from 12 rc to 12 ga using the ambari plugin so i can work on the latest release bits id like to refer to the documentation to do so,1
add create and deploy methods to streamdeployer see httpsdocsgooglecomagopivotalcomdrawingsd1kcnbvsprbjgc10itf9cskwst8wgcjgg3wgzfkqlcazuedit refactor current defaultstreamdeployer,0
export of data from hdfs to a relational database based on a single process running a spring batch job support the etl of data from hdfs to a rdbms,0
user wants the ability to persist the state of a trigger instance,0
connection props in rabbitproperties ignored by xd-admin and xd-container i modified rabbithostname in rabbitproperties and xd-container still attempted to find rabbit at localhost with --transport rabbit looks like the ppc for xd-container and xd-admin is not pointing to rabbitproperties,0
submit a brew-based install for spring xd - host the spring xd distributable zip somewhere that is accessible by external http request - create brew formula for spring xd install while specifying redis as dependency - starting up stream server upon successful brew install couple of questions - should we name the brew task springxd name not taken yet - should we start the stream server as part of the brew install process - should we specify redis as a recommended dependency user can pass in brew install springxd --without-redis to skip redis installation by default brew install springxd will install redis as well,0
container does not fail if sharing same ports on same machine with another container sha baddfc24b08286a78392d5f565742c9bab5adfea ec2 environment look at zookeeper ec2 deployment test topologypng for a view of the topology h2 the test scenario can be duplicated with single server zk ensemble start container on a ec2 instance wait till it joins cluster start 2nd container on same ec2 instance h2 observed behavior container 1 starts normally container 2 reports that failed to bind to address shown in attached stack trace but does not terminate shown as valid container when executing runtime containers command xdruntime containers container id host ip address pid groups custom attributes 0c88a300-9469-4f21-a256-7733259b13c7 ip-10-70-11-185 107011185 2061 256c35b7-c9f4-43ba-81dd-e1bfff0fb7c1 ip-10-70-9-57 1070957 3604 31fedc48-2762-4c45-8075-1dce64af5391 ip-10-110-186-48 1011018648 2396 groupa 524bb933-a8b5-4014-a0b5-06d4fa8b30c2 ip-10-2-209-174 102209174 2123 e993026e-e2ac-4d16-9890-0786149d7b75 ip-10-110-186-48 1011018648 2524 groupa f9437b15-1ee2-4827-99d4-e7957f9abdf2 ip-10-70-9-153 10709153 2366 group0,0
create a rabbit sink module and documentation httpsgithubcomspringsourcespring-xdwikisinks should have rabbit added to the list and also the corresponding section that shows some basic usage,0
as a xd developer id like to reproduce and fix anomalies as listed herehttpsgithubcomspring-projectsspring-xd-admin-ui-clientissues9,1
user wants ability to create a mock source to send a pre-set message to processes,0
filepollhdfs --deletefilestrue has no effect files are not deleted setting --deletefilestrue has no effect any longer this also causes the script integration tests to fail suspect this is related to the change here httpsgithubcomspring-projectsspring-xdcommit6dbac167758ce23b9a4dbf07169b2d26d1eddef1,0
inconsistent test failure with mqtt script test in ci environment mqtttests under srctestsscripts fail inconsistently with the following exception stacktrace severe xdmqttclientidsrc timed out as no activity keepalive60000 lastoutboundactivity1395174955434 lastinboundactivity1395174895434 133655442 error http-nio-9393-exec-7 inboundmqttpahomessagedrivenchanneladapter66 - exception while connecting and subscribing retrying client is currently disconnecting 32102 orgeclipsepahoclientmqttv3internalexceptionhelpercreatemqttexceptionexceptionhelperjava27 orgeclipsepahoclientmqttv3internalclientcommsdisconnectclientcommsjava409 orgeclipsepahoclientmqttv3mqttasyncclientdisconnectmqttasyncclientjava524 orgeclipsepahoclientmqttv3mqttclientdisconnectmqttclientjava250 orgeclipsepahoclientmqttv3mqttclientdisconnectmqttclientjava243 orgspringframeworkintegrationmqttinboundmqttpahomessagedrivenchanneladapterconnectandsubscribemqttpahomessagedrivenchanneladapterjava104 orgspringframeworkintegrationmqttinboundmqttpahomessagedrivenchanneladapterdostartmqttpahomessagedrivenchanneladapterjava63 orgspringframeworkintegrationendpointabstractendpointstartabstractendpointjava84 orgspringframeworkcontextsupportdefaultlifecycleprocessordostartdefaultlifecycleprocessorjava173 orgspringframeworkcontextsupportdefaultlifecycleprocessoraccess200defaultlifecycleprocessorjava51 orgspringframeworkcontextsupportdefaultlifecycleprocessorlifecyclegroupstartdefaultlifecycleprocessorjava346 orgspringframeworkcontextsupportdefaultlifecycleprocessorstartbeansdefaultlifecycleprocessorjava149 orgspringframeworkcontextsupportdefaultlifecycleprocessorstartdefaultlifecycleprocessorjava91 orgspringframeworkcontextsupportabstractapplicationcontextstartabstractapplicationcontextjava1180 orgspringframeworkxdmodulecoresimplemodulestartsimplemodulejava270 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava250 orgspringframeworkxddirtmodulemoduledeployerdeployandstoremoduledeployerjava238 orgspringframeworkxddirtmodulemoduledeployerhandledeploymoduledeployerjava179 orgspringframeworkxddirtmodulemoduledeployerhandlemessageinternalmoduledeployerjava150 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationconfigserviceactivatorfactorybean1handlerequestmessageserviceactivatorfactorybeanjava83 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava170 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava114 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava93 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava260 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava241 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava205 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava199 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava177 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 orgspringframeworkxddirtstreamdeploymentmessagesendersenddeploymentrequestsdeploymentmessagesenderjava57 orgspringframeworkxddirtstreamabstractdeployersenddeploymentrequestsabstractdeployerjava163 orgspringframeworkxddirtstreamabstractdeployerbasicdeployabstractdeployerjava204 orgspringframeworkxddirtstreamabstractinstancepersistingdeployerdeployabstractinstancepersistingdeployerjava78 orgspringframeworkxddirtrestxdcontrollerdeployxdcontrollerjava142 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava616 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeinvocablehandlermethodjava215 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava132 orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava104 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlemethodrequestmappinghandleradapterjava749 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava690 orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava83 orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava945 orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava876 orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava961 orgspringframeworkwebservletframeworkservletdoputframeworkservletjava874 javaxservlethttphttpservletservicehttpservletjava650 orgspringframeworkwebservletframeworkservletserviceframeworkservletjava837 javaxservlethttphttpservletservicehttpservletjava728 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava305 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkbootactuatetracewebrequesttracefilterdofilterwebrequesttracefilterjava114 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconfigurationapplicationcontextfilterconfiguration1dofilterinternalendpointwebmvcautoconfigurationjava128 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinternalhiddenhttpmethodfilterjava77 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkwebfilterhttpputformcontentfilterdofilterinternalhttpputformcontentfilterjava85 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgspringframeworkbootactuateautoconfiguremetricfilterautoconfigurationmetricsfilterdofilterinternalmetricfilterautoconfigurationjava84 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava108 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava243 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava210 orgapachecatalinacorestandardwrappervalveinvokestandardwrappervalvejava222 orgapachecatalinacorestandardcontextvalveinvokestandardcontextvalvejava123 orgapachecatalinaauthenticatorauthenticatorbaseinvokeauthenticatorbasejava472 orgapachecatalinavalvesremoteipvalveinvokeremoteipvalvejava680 orgapachecatalinacorestandardhostvalveinvokestandardhostvalvejava171 orgapachecatalinavalveserrorreportvalveinvokeerrorreportvalvejava99 orgapachecatalinacorestandardenginevalveinvokestandardenginevalvejava118 orgapachecatalinaconnectorcoyoteadapterservicecoyoteadapterjava407 orgapachecoyotehttp11abstracthttp11processorprocessabstracthttp11processorjava1004 orgapachecoyoteabstractprotocolabstractconnectionhandlerprocessabstractprotocoljava589 orgapachetomcatutilnetnioendpointsocketprocessorrunnioendpointjava1680 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1146 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava679 133655465 info http-nio-9393-exec-7 modulemoduledeployer240 - deployed simplemodule namemqtt typesource groupmqttsourcetest index0 38946002 http11 200 ok server mochiweb11 webmachine1100 never breaks eye contact date tue 18 mar 2014 203655 gmt content-type applicationjson content-length 16 cache-control no-cache routedfalsecat tmpxdtestbasicmqttsourcetestout no such file or directory bamboow1-kodiak-hd006databamboo-homexml-databuild-dirxd-scripts-rsspring-xdsrctestscripts mar 18 2014 13855 pm orgeclipsepahoclientmqttv3internalclientstate checkforactivity severe xdmqttclientidsrc timed out as no activity keepalive60000 lastoutboundactivity1395175075488 lastinboundactivity1395175015488 133855490 error task-scheduler-2 inboundmqttpahomessagedrivenchanneladapter141 - exception while connecting and subscribing client is disconnected 32101 orgeclipsepahoclientmqttv3internalexceptionhelpercreatemqttexceptionexceptionhelperjava27 orgeclipsepahoclientmqttv3internalclientcommsdisconnectclientcommsjava405 orgeclipsepahoclientmqttv3mqttasyncclientdisconnectmqttasyncclientjava524 orgeclipsepahoclientmqttv3mqttclientdisconnectmqttclientjava250 orgeclipsepahoclientmqttv3mqttclientdisconnectmqttclientjava243 orgspringframeworkintegrationmqttinboundmqttpahomessagedrivenchanneladapterconnectandsubscribemqttpahomessagedrivenchanneladapterjava104 orgspringframeworkintegrationmqttinboundmqttpahomessagedrivenchanneladapteraccess300mqttpahomessagedrivenchanneladapterjava37 orgspringframeworkintegrationmqttinboundmqttpahomessagedrivenchanneladapter1runmqttpahomessagedrivenchanneladapterjava137 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava54 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetasksyncinnerrunandresetfuturetaskjava351 javautilconcurrentfuturetaskrunandresetfuturetaskjava178 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava165 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava267 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1146 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava679,0
admin needs to clean up failed deployment attempts if a container fails to deploy a module the admin needs to clean up the xddeploymentsmodulescontainer-idmodule path so that another attempt can be made to deploy that module to that container,0
jmx endpoints not functioning i cannot access the jmxjolokia endpoints using the spring boot rc1 and snapshot works with xd-m5 and boot-m7,0
as a developer id like to create an annotation enablemodule driven programming model for modules so instead of explicitly defining io channels as beans on the module for classes annotated with enablemodule the application would be responsible for creating the actual channel beans and channel adapters vs the developer creating concrete channel instance types the input and output annotations will be used to indicate the input and output channels of the module,5
filejdbctest jdbchdfstest failing jdbchdfstest filejdbctest works for singlenode but not for admin container on the same machine,0
as a user id like to have the ability to access the random port generated by tomcat of the admin server via xd-shell so that i can point to the server and continue my interactions spike details research whether connecting xd-shell directly to zk is a good approach or have a lb in-charge for the interaction how about something other than a pointer to a zk directory in the shell for folks to experiment a bit before getting a lb involved note on some hadoophdfs setups access to zk is mandatory from hdfs client libs there are some ha and federation setups which would anyway require xd shell to get access to zk if fs shell commands are used,5
as a developer id like to bench kafka as message bus using in-built perf-testing producerconsumer utilities so that i can use that as a foundation to build xd use-cases and measure performance id like to reproduce baseline performance metrics as identified by the kafka engineering teamhttpsengineeringlinkedincomkafkabenchmarking-apache-kafka-2-million-writes-second-three-cheap-machines,5
blank container screen from admin ui w message rates with message rates enabled and container management enabled if you deploy a streaming module the container page may be blank because the streaming module builds the channels outside the spring context spark receiver is ran in the spark cluster not in xd there is no need to setup the input andor output channels when these channels arent defined the rest call from admin ui will fail because it will not find the message rates returned in the json from the jmx call code advice - caught exception while handling a request orgcodehausjettisonjsonjsonexception jsonobjectvalue not found at orgcodehausjettisonjsonjsonobjectgetjsonobjectjava360 at orgcodehausjettisonjsonjsonobjectgetjsonobjectjsonobjectjava454 at orgspringframeworkxddirtrestcontainerscontrollergetmessageratecontainerscontrollerjava146 at orgspringframeworkxddirtrestcontainerscontrollerlistcontainerscontrollerjava121 code as a work around i have included the input and output channels for a spark streaming processor which is not used anywhere this gives a bad side affect of looking like the module isnt processing with message rates of 0 but everything else is now shown,0
stream deployment validation in our system we have built quite a few custom modules it is currently possible for the end user to mess up the configuration of these custom modules when creating multiple streams they can create conflicting configuration in multiple streams the conflicting config is nothing to do with spring-xd itself it is related to our data flow and business process it would be nice to have some sort of streamdeployvalidator that i could implement and write my custom validation code if this decides that the stream definition is not valid according to my rules then it could stop the deployment of a stream the validator would need to be aware of the other streams somehow,0
spike research requestreply support to kafka message bus the scope is to research the available options to provide requestreply support for kafka document findings pocs previous desc the bindrequestor and bindreplier methods of the message bus need to be implemented,0
create splunk sink module this would be based off the spring-integration-extenstions splunk project the use of this adapter for storing tweet data is in httpsgithubcommarkpollackspringone we should be able to reproduce the use case as done in that demo,0
investigate measure validate and verify quality attributes non-functional requirements such as reliability availability scalability and performance needs measured and validated acceptance criteria - throughput measure the messaging infrastructure brokerbus capabilities in terms of messages consumedsec compute the data ingestion ratesec - hascalability measure of dirt architecture capabilities through linear increasedecreasedestroy xd-containers and xd-admins along with payload variations - durability measure linear variations on payload with baseline dirt infrastructure to compute end-to-end durability,0
support user impersonation in hdfs sink should be able to specify which usergroup will own the files that are written in hdfs,0
batch jobs executions by jobname causes stackoverflow whether its after applying httpsgithubcomspring-projectsspring-xdpull1034 or not this causes the following problem noformat comfasterxmljacksondatabindserstdbeanserializerbaseserializefieldsbeanserializerbasejava644 comfasterxmljacksondatabindserbeanserializerserializebeanserializerjava152 comfasterxmljacksondatabindserbeanpropertywriterserializeasfieldbeanpropertywriterjava541 comfasterxmljacksondatabindserstdbeanserializerbaseserializefieldsbeanserializerbasejava644 comfasterxmljacksondatabindserbeanserializerserializebeanserializerjava152 comfasterxmljacksondatabindserimplindexedlistserializerserializecontentsindexedlistserializerjava100 comfasterxmljacksondatabindserimplindexedlistserializerserializecontentsindexedlistserializerjava21 comfasterxmljacksondatabindserstdasarrayserializerbaseserializeasarrayserializerbasejava183 comfasterxmljacksondatabindserbeanpropertywriterserializeasfieldbeanpropertywriterjava541 comfasterxmljacksondatabindserstdbeanserializerbaseserializefieldsbeanserializerbasejava644 comfasterxmljacksondatabindserbeanserializerserializebeanserializerjava152 comfasterxmljacksondatabindserbeanpropertywriterserializeasfieldbeanpropertywriterjava541 comfasterxmljacksondatabindserstdbeanserializerbaseserializefieldsbeanserializerbasejava644 comfasterxmljacksondatabindserbeanserializerserializebeanserializerjava152 comfasterxmljacksondatabindserimplindexedlistserializerserializecontentsindexedlistserializerjava100 comfasterxmljacksondatabindserimplindexedlistserializerserializecontentsindexedlistserializerjava21 caused by javalangstackoverflowerror javalangclassloaderdefineclass1native method javalangclassloaderdefineclassclassloaderjava800 javasecuritysecureclassloaderdefineclasssecureclassloaderjava142 javaneturlclassloaderdefineclassurlclassloaderjava449 javaneturlclassloaderaccess100urlclassloaderjava71 javaneturlclassloader1runurlclassloaderjava361 javaneturlclassloader1runurlclassloaderjava355 javasecurityaccesscontrollerdoprivilegednative method javaneturlclassloaderfindclassurlclassloaderjava354 javalangclassloaderloadclassclassloaderjava425 sunmisclauncherappclassloaderloadclasslauncherjava308 javalangclassloaderloadclassclassloaderjava358 comfasterxmljacksondatabindserstdbeanserializerbaseserializefieldsbeanserializerbasejava660 1011 more noformat,0
add command for deleting a tap,0
test spark module with maven spring-xd-module-parent javalangnoclassdeffounderror a test for a java spark module managed by maven with parent spring-xd-module-parent launch a javalangnoclassdeffounderror ive forked the example repo httpsgithubcommorfeo8marcspring-xd-samplestreemasterspark-streaming-wordcount-java-processorhttpsgithubcommorfeo8marcspring-xd-samplestreemasterspark-streaming-wordcount-java-processor the samples project and created the pom file for the spark-streaming-wordcount-java-processor project and the corresponding test partial stack trace codetitlestacktrace 2015-08-04 093007211 error deploymentspathchildrencache-0 listenlistenercontainer listenercontainerjavarun96 - listener orgspringframeworkxddirtservercontainerdeploymentlistener729c251b threw an exception javalangnoclassdeffounderror orgeclipsejettyutilcomponentaggregatelifecycle javalangclassloaderdefineclass1native method javalangclassloaderdefineclassclassloaderjava760 javasecuritysecureclassloaderdefineclasssecureclassloaderjava142 javaneturlclassloaderdefineclassurlclassloaderjava467 javaneturlclassloaderaccess100urlclassloaderjava73 javaneturlclassloader1runurlclassloaderjava368 javaneturlclassloader1runurlclassloaderjava362 javasecurityaccesscontrollerdoprivilegednative method javaneturlclassloaderfindclassurlclassloaderjava361 javalangclassloaderloadclassclassloaderjava424 sunmisclauncherappclassloaderloadclasslauncherjava331 javalangclassloaderloadclassclassloaderjava357 javalangclassloaderdefineclass1native method javalangclassloaderdefineclassclassloaderjava760 javasecuritysecureclassloaderdefineclasssecureclassloaderjava142 javaneturlclassloaderdefineclassurlclassloaderjava467 javaneturlclassloaderaccess100urlclassloaderjava73 javaneturlclassloader1runurlclassloaderjava368 javaneturlclassloader1runurlclassloaderjava362 javasecurityaccesscontrollerdoprivilegednative method javaneturlclassloaderfindclassurlclassloaderjava361 javalangclassloaderloadclassclassloaderjava424 sunmisclauncherappclassloaderloadclasslauncherjava331 javalangclassloaderloadclassclassloaderjava357 javalangclassloaderdefineclass1native method javalangclassloaderdefineclassclassloaderjava760 javasecuritysecureclassloaderdefineclasssecureclassloaderjava142 javaneturlclassloaderdefineclassurlclassloaderjava467 javaneturlclassloaderaccess100urlclassloaderjava73 javaneturlclassloader1runurlclassloaderjava368 javaneturlclassloader1runurlclassloaderjava362 javasecurityaccesscontrollerdoprivilegednative method javaneturlclassloaderfindclassurlclassloaderjava361 javalangclassloaderloadclassclassloaderjava424 sunmisclauncherappclassloaderloadclasslauncherjava331 javalangclassloaderloadclassclassloaderjava357 javalangclassloaderdefineclass1native method javalangclassloaderdefineclassclassloaderjava760 javasecuritysecureclassloaderdefineclasssecureclassloaderjava142 javaneturlclassloaderdefineclassurlclassloaderjava467 javaneturlclassloaderaccess100urlclassloaderjava73 javaneturlclassloader1runurlclassloaderjava368 javaneturlclassloader1runurlclassloaderjava362 javasecurityaccesscontrollerdoprivilegednative method javaneturlclassloaderfindclassurlclassloaderjava361 javalangclassloaderloadclassclassloaderjava424 sunmisclauncherappclassloaderloadclasslauncherjava331 javalangclassloaderloadclassclassloaderjava357 orgapachesparkhttpserverorgapachesparkhttpserverdostarthttpserverscala74 code when the wordcounttest test is launched the exception is launched is there a problem with the spring-xd-module-parent module are some dependencies left,0
use mocks in shell tests instead of using real moduledeployer try using mocks so that the module deployer downloading the maven co-ordinates from repo can be avoided for module deployment case since module deployer and controllers are tested individually it would be good to focus on shell functionality only for the shell tests,0
investigate need for ui pagination this issue could be more involved proper pagination may not be implemented correctly by the rest controller making the respective service call this would also necessitate some form of improved state management for the ui eg user is on page 5 of the listing of job executions user views details user presses the back-button on the screen the the listing of job executions should be still on page 5,0
upgrade to spring data fowler release spring data gemfire is version 800 in folwer which is the same as in bds should check minor version number in bds atm we are using gemfire 70x,0
jdbc driver classpath issues for custom job modules there is a class-loader issue when defining jdbc driverpool datasource for a custom job module if i use the tomcat datasource it pulls the driver classes from xdlib but if i use a datasource class thats not loaded by the xd runtime like simpledriverdatasource then it pulls the jdbc driver jars from my job modules lib directory which i was expecting since the jdbc drivers im using are not delivered as part of xd the whole class-loading scheme for custom modules needs either better documentation or improvement currently its difficult to tell where classes will be loaded from and what classes are available on the server classpath and which classes have already been loaded,0
we need a kafkasinglenodestreamdeploymentintegrationtests see redissinglenodestreamdeploymentintegrationtests etc,0
package shell binary next to xd-admin and xd-container the shell should be an executable delivered out of the box in much the same way that xd-container and xd-admin are right now if we follow how redismongo distribut the shell it sits side by side with the other binaries,0
need to check the deployment requests in streamscontrollerintegrationtest we should check the actual deployment requests were built correctly for each module in the testcreateundeployanddeleteofstream test currently we just use the anylistof check,0
doc generation accesses httpdocbooksourceforgenet when generating docs the build tries to access httpdocbooksourceforgenetreleaseimagesdraftpng you will observe output like code error with opening url httpdocbooksourceforgenetreleaseimagesdraftpng docbooksourceforgenet background image not available httpdocbooksourceforgenetreleaseimagesdraftpng background image not available httpdocbooksourceforgenetreleaseimagesdraftpng background image not available httpdocbooksourceforgenetreleaseimagesdraftpng background image not available httpdocbooksourceforgenetreleaseimagesdraftpng background image not available httpdocbooksourceforgenetreleaseimagesdraftpng background image not available httpdocbooksourceforgenetreleaseimagesdraftpng code,0
create config support for redis we would like to have redis driven from a config property file under xdhome,0
as a user im trying to load job - modules page in admin-ui but im seeing exceptions in console and the page wouldnt load code failed to convert value of type javalangstring to required type orgspringframeworkclouddataflowcoreartifacttype nested exception is orgspringframeworkcoreconvertconversionfailedexception failed to convert from type javalangstring to type orgspringframeworkwebbindannotationrequestparam orgspringframeworkclouddataflowcoreartifacttype for value job nested exception is javalangillegalargumentexception no enum constant orgspringframeworkclouddataflowcoreartifacttypejob code,2
as a s-c-d developer id like to have module info module list module register and module unregister commands so i can interact with moduleregistry,5
redisaggregatecounterrepository doesnt give proper results back both lukes original code and my refactored pr1 which uses same code snippet seem to behave strangely stored values seem fine but the getcounts method seems phony to test 1 stream create foo --definition timelog 2 tap create bar --definition tapfoo aggregatecounter 3 curl -h applicationjson httplocalhost8080metricsaggregate-countersbar this gives default bucketing hourly but chances are that they are empty,0
rabbitmq source is not ingested the data into jdbc sink i am using spring xd to ingest the data into pivotal hdmy source is log files which is coming from logstash through rabbitmq i could able to ingest the log files in hdfs by using rabbitmq source and hdfs sink however when i try to ingest the data directly into hawq by using jdbc sinkits not working shall we directly load rabbitmq source into any databases like hawq stream create --name pivotalqueue --definition rabbit --hostmy host name jdbc --columnscolum list ---not working i configured jdbc in jdbcproperties there was no issue with jdbc configurationbecause i tested this with simple tail source its working and load the data into hawq stream create --name pivotalqueue --definition tail --nametmpxdoutputtestout jdbc --columnscolumns list,0
web admin app not loading for slow connections when opening manager webapp if the internet connection is slow enough to make one of the biggest javascript dependencies to make requirejs throw a timeout the webapp becomes unusable displaying only the loading gif and showing a javascript error saying uncaught error load timeout for modules angular it typically takes 10 seconds to throw that error,0
update to spring platform 101,0
ui the user should provide usernamepassword to gain access to the ui secure admin ui to challenge users to enter username and password to gain access,0
profile support for modules to allow for groups of beans to be defined or not in the container that runs a module when deploying a stream eg via the rest api it should be possible to also provide profile names then those would apply to any modules within that particular stream deployment,0
reactor environment improvements use a profile or similar to only include the environment conditionally currently in module-commonxml also jon brisbin one thing to keep in mind we talked about having a properties file for xd that configured the ringbuffer et al in a non-default way jon brisbin eg no event loop dispatchersa threadpooldispatcher with a large thread pool size 50 threads 100and maybe even two ringbufferdispatchers input and output jon brisbin so we might want to change from strictly a default environment bean to an environmentfactorybean with a specific configurationthinking about it now i maybe should add a namespace element for the environment,0
remove redis transport headers from tapped stream redis transport headers are not removed in taps,0
move decision logic for directbinding out of bus to deployer as the decision for directbinding may become more complicated see eg xd-2946 move the decision part out of the bus leaving only the application there leveraging a pre-computed property such as directbindtrue the computation of that property is to be moved at the deployer level,0
export of data from hdfs to mongodb based on a single process spring batch job etl of data from hdfs to mongodb,0
as a developer id like to add support for dynamic partition subscription for the kafka source module so i can consume the payload from dynamic partitions,4
create a command to browse the hdfs file system there are existing commands that can be taken from httpsgithubcomspringsourcespring-hadoop-samples or httpsgithubcomspringsourceimpala that can be used for this,0
add documentation for jsonpath functionality with spel based processors see issue httpsjiraspringsourceorgbrowsexd-862 the docs should be updated to include examples that show how to use the standard spel based splitter transformer filters with jsonpath expressions,0
jsonstringtoobject transformer used for gemfire json sink should accept a map should be renamed as well orgspringframeworkintegrationtransformermessagetransformationexception nested exception is orgspringframeworkmessagingmessagehandlingexception nested exception is orgspringframeworkexpressionspelspelevaluationexception el1004epos 8 method call method toobjectjavautillinkedhashmap cannot be found on orgspringframeworkintegrationxgemfirejsonstringtoobjecttransformer type orgspringframeworkintegrationtransformermessagetransforminghandlerhandlerequestmessagemessagetransforminghandlerjava74 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava99 spring-integration-core-415releasejarna orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 spring-integration-core-415releasejarna with 12 release when trying to persist a json payload using the gemfire-json-server sink it works great on 11release and 12 build snapshot 2015-04-23001857 the demo repository is open so i can definitely share it with your developers but wondered if we changed something recently on that sink that could cause an issue,0
release 10 rc1,0
surface the provenance of a default to the user when using value for providing a default value in a module options pojo make it so that the rest api and hence the module info command advertises that 1 the expression was foosomething 2 to the best extent possible value may come from another property source tell which config file it came from introspecting the propertysource annotation,0
remove the tabulation characters should not be used from sonar,0
as a user im trying to setup ha cluster using ambari installed spring xd however im running into issues with the overrides more details herehttpsgithubcomspring-projectsspring-xd-ambariissues6,4
the hdfs sink should support a file naming strategy to distinguish between file currently being written and completed files a file that is in the process of being written to should have a customized suffix added to the name eg temp once the file is closed the suffix is removed and replaced with another value - default value can be dependent on the serialization format used but can be customized,0
add ci job in bamboo to run xd integration tests ci job will run integration tests that are tagged for ci build,0
verify use of jmx managed bean to shutdown cleanly the xd-admin and xd-container servers in both cases there are multiple application contexts that can be running in the process the jmx managed bean should call close on those application contexts the more detailed lifecycle of cleanly shutting down components within those application contexts is another story,0
as a s-c-s-m developer id like to move jdbc module from xd to s-c-s repo so i can use it as sink to build streaming pipeline see also xd-2250,4
cat command doesnt work when same data is listed in file multiple times xd-admin --transport redis xd-container --transport redis xd-container --transport redis xdstream create --name httpstream --definition http file created new stream httpstream xdtap create --name httptap --definition tap httpstream counter created and deployed new tap httptap xdhttp post --target httplocalhost9000 --data helloworld post textplaincharsetutf-8 httplocalhost9000 helloworld 200 ok xd cat tmpxdoutputhttpstreamout command iscat tmpxdoutputhttpstreamout helloworld xdhttp post --target httplocalhost9000 --data helloworld post textplaincharsetutf-8 httplocalhost9000 helloworld 200 ok xd cat tmpxdoutputhttpstreamout command iscat tmpxdoutputhttpstreamout helloworld xd cat tmpxdoutputhttpstreamout command iscat tmpxdoutputhttpstreamout helloworld xdhttp post --target httplocalhost9000 --data helloworld2 post textplaincharsetutf-8 httplocalhost9000 helloworld2 200 ok xd cat tmpxdoutputhttpstreamout command iscat tmpxdoutputhttpstreamout helloworld helloworld2 xdhttp post --target httplocalhost9000 --data helloworld3 post textplaincharsetutf-8 httplocalhost9000 helloworld3 200 ok xd cat tmpxdoutputhttpstreamout command iscat tmpxdoutputhttpstreamout helloworld helloworld2 helloworld3 xdhttp post --target httplocalhost9000 --data helloworld3 post textplaincharsetutf-8 httplocalhost9000 helloworld3 200 ok xd cat tmpxdoutputhttpstreamout command iscat tmpxdoutputhttpstreamout helloworld helloworld2 helloworld3 xd cat tmpxdoutputhttpstreamout command iscat tmpxdoutputhttpstreamout helloworld helloworld2 helloworld3 xdhttp post --target httplocalhost9000 --data helloworld3 post textplaincharsetutf-8 httplocalhost9000 helloworld3 200 ok xdhttp post --target httplocalhost9000 --data helloworld3 post textplaincharsetutf-8 httplocalhost9000 helloworld3 200 ok xdhttp post --target httplocalhost9000 --data helloworld3 post textplaincharsetutf-8 httplocalhost9000 helloworld3 200 ok xd cat tmpxdoutputhttpstreamout command iscat tmpxdoutputhttpstreamout helloworld helloworld2 helloworld3 xdhttp post --target httplocalhost9000 --data helloworld4 post textplaincharsetutf-8 httplocalhost9000 helloworld4 200 ok xd cat tmpxdoutputhttpstreamout command iscat tmpxdoutputhttpstreamout helloworld helloworld2 helloworld3 helloworld4 xdcounter display --name httptap 9 xd however in the regular shell cat tmpxdoutputhttpstreamout helloworld helloworld helloworld2 helloworld3 helloworld3 helloworld3 helloworld3 helloworld3 helloworld4,0
include job-composition flag in rest endpoint as an xd user id like to have a rest endpoint that returns job composition flag so i can use it to differentiate visual representation between parent-child relationship and standalone jobs,0
serialization of spring batch context objects needs some investigation on how the update information from spring batch listeners can be sent as a message across modules in a single node configuration as well as across jvms in a distributed node configuration,0
easily switch between a single process that performs all admin and processing tasks to one that has a dedicated admin processes and distributed processing containers,0
as a s-c-d user id like to deploy data flow on yarn so i can reuse the existing hadoop cluster and leverage data flow features to build streaming or batch pipelines,2
command to delete tap,0
create google doc with instructions on managing ec2 instances logging into your xd account for example https946513944028signinawsamazoncomconsole discuss how to terminate running instances users can terminate all instances using the ui on the ec2 admin page usage monitoring via cloudwatch investigate what metadata in each instance is required so that cloudwatch can track,0
convert current rest servlet to spring mvc,0
as a user id like to use partitionresultstimeout attribute for jobs that inherit singlestep-partitioning strategy but it is not exposed as a metadata attribute in the wiki note the property should be available for all the jobs that import 3 ootb jobs have it imported ref attachment,1
springxds syslog source does not fully support syslog rfc5424 springxds syslog source cannot parse rfc5424 messages into a map for the messages we get in rfc 3164 springxd converts these to a map since the rfc5424 data cannot be interpreted then the map contains just one key called undecoded the result of this is that we get a string that looks like this when we convert the message to a string code undecoded182dec 02 2014 075635 asa-6-113008 aaa transaction status accept user jbloggs code should be something like this note the values below are for illustrative purposes only and should not be used as test data code facility22 severity6 timestamptue dec 02 075635 hostthe-hostname-that-sent-the-data tagasa-6-113008 message code h3 root cause spring integration does not parse these messages there is a jira for si here httpsjiraspringiobrowseint-3450,0
created acceptance ci test environment for 10x create the infrastructure mongo hadoop activemq gemfire mysql etc in ec2 for the 102 acceptance tests retrofit the 102 to use the new infrastructure create a 102 branch for xd-ec2,0
reorganize ootb module list in docs sort alphabetically nest available modules section appropriately optionally move to a whole different part in reference doc,0
support for get of taps,0
sonar build is failing httpsbuildspringsourceorgbrowsexd-sonar-34 caused by javalangclassnotfoundexception orgsonarapiplugin at orgcodehausplexusclassworldsstrategyselffirststrategyloadclassselffirststrategyjava50 at orgcodehausplexusclassworldsrealmclassrealmloadclassclassrealmjava244 at orgcodehausplexusclassworldsrealmclassrealmloadclassclassrealmjava230 94 more,0
investigate setting up performance test environment on cloud providers use a baseline dirt infrastructure to measure throughput ha and scalability for various payload sizes depends on testing infrastructure setup configuration and availability,0
create documentation for how to extend the xd containers httpsjiraspringiobrowsexd-1343 and related issues,0
port load-generator throughput modules to scs-modules migrate load-generator and throughput to scs,0
spark streaming integration module fails to initialize codec xd spark streaming module fails to load caused by orgspringframeworkbeansfactorycannotloadbeanclassexception error loading class orgspringframeworkxdtupleserializerkryotuplecodec for bean with name orgspringframeworkxdtupleserializerkryotuplecodec2e8f5f36 defined in class path resource meta-infspring-xdbuscodecxml problem with class file or dependent class nested exception is javalangillegalaccesserror class orgspringframeworkxdtupleserializerkryotuplecodec cannot access its superclass orgspringframeworkxddirtintegrationbusserializerkryoabstractkryocodec orgspringframeworkbeansfactorysupportabstractbeanfactoryresolvebeanclassabstractbeanfactoryjava1331 orgspringframeworkbeansfactorysupportabstractautowirecapablebeanfactorycreatebeanabstractautowirecapablebeanfactoryjava453 orgspringframeworkbeansfactorysupportbeandefinitionvalueresolverresolveinnerbeanbeandefinitionvalueresolverjava299 67 more caused by javalangillegalaccesserror class orgspringframeworkxdtupleserializerkryotuplecodec cannot access its superclass orgspringframeworkxddirtintegrationbusserializerkryoabstractkryocodec javalangclassloaderdefineclass1native method javalangclassloaderdefineclassclassloaderjava760 javasecuritysecureclassloaderdefineclasssecureclassloaderjava142 javaneturlclassloaderdefineclassurlclassloaderjava455 javaneturlclassloaderaccess100urlclassloaderjava73 javaneturlclassloader1runurlclassloaderjava367 javaneturlclassloader1runurlclassloaderjava361 javasecurityaccesscontrollerdoprivilegednative method javaneturlclassloaderfindclassurlclassloaderjava360 javalangclassloaderloadclassclassloaderjava424 sunmisclauncherappclassloaderloadclasslauncherjava308 javalangclassloaderloadclassclassloaderjava357 orgspringframeworkutilclassutilsfornameclassutilsjava249 orgspringframeworkbeansfactorysupportabstractbeandefinitionresolvebeanclassabstractbeandefinitionjava395 orgspringframeworkbeansfactorysupportabstractbeanfactorydoresolvebeanclassabstractbeanfactoryjava1349 orgspringframeworkbeansfactorysupportabstractbeanfactoryresolvebeanclassabstractbeanfactoryjava1320,0
ui user should be able to get all the job executions on a given job at deployed jobs page on clicking a specific job name in the deployed jobs list we need to redirect the user to show the list of all the job executions on that job user should be able to navigate back to the deployed jobs list,0
rest jobsconfigurations returns 404 if one job has error there is a bug in the deployments rest end-point how to reproduce deploy a batch job success that for example does not all necessary libraries in the class-patch and thus causes a javalangclassnotfoundexception result you cannot retrieve the list of deployments list anymore using httplocalhost9393jobsconfigurations the rest endpoint will now report linkslogrefnosuchbatchjobexceptionmessagebatch job with the name myjob doesnt exist this message is not entirely wrongbut extremely misleading i think we should still return the entire list and rather mark the job as having an error also returning an 404 not found is misleading as well,0
verify module count works on 10 containers this tests should prove that kafka can handle a module count greater than one with the proper concurrency settings load-generator should be used as the foundation for this test with the following settings moduleload-generatorcount10modulethroughputconsumerconcurrency10 an environment should be provisioned to support the containers zookeeper and kafka,0
add property maxmessagesperpoll to all polled sources polled message sources return only one message per poll by default when polling say a file directory with many files files will be emitted once per fixeddelay as a user i need to configure a limit for the number of messages that will be emitted per poll,0
as a spring xd user id like to use redissentinel cluster as the message bus so i could create streams and batch pipelines,5
as a consequence of not fixing xd-1289 we should document keys of the form xdstreamname that are available to users xdstreamjobname and xdcontainer come to mind there may be others, 
as a s-c-d developer id like to create moduleregistry stubs so i can create mock streams by interacting with the registry apis,3
support for listing of modules in the rest api from the cli one should be able to get a listing of modules and be able to specifically ask for jobs sources sinks and processors a brief description of them would also be nice - this might come from adding some metadata into the definition finer grained descriptionimplementation suggestion tbd,0
as a user id like to access sqoop logs so that i can troubleshoot or evaluate the errors or current state respectively we will have to identify how to capture the sqoop logs and stream them to our logging mechanism,4
assess if gemfirejsonserver gemfireserver sinks should close the client cache os - mac xd deployment type - singlenode sha - bb4dd58 required software - xd gemfire sample server description after creating and destroying 3 streams with gemfirejsonserver sink the 4th will fail with this error 44707 refused connection the number of clients 4 exceeded the limit of 3 allowed by the default evaluation license steps to reproduce from your shell execute the following 4 times stream create --name stocks --definition http --port9090 gemfire-json-server --regionnamestocks --hostec2-54-221-32-82compute-1amazonawscom --port40404 --keyexpressionpayloadgetfieldsymbol --deploy stream destroy stocks,0
scs rename xdmessagebus binder properties replace with xdmessagebus prefix with springcloudstreambinder,0
metrics - measure based alerts we would like to experiment with metrics a java library to extract insights of production code this will help understand the behavior of critical components to eventually orchestrate workflows to proactively monitor and notify important contactsgroups as needed website - httpmetricscodahalecom github - httpsgithubcomdropwizardmetrics,0
create documentation for job listeners support,0
as a s-c-s user id like to have my modules addupdate its current state to eureka so i can use the repository to discover the current sate of the module as needed,2
cron jobs stop firing when a named trigger is created and deployed,0
colors on job definition tab are different than other tabs the table background color on the job definition tab is green while the others tabs have a white background they should be consistent,0
xd gemfire modules fail to deploy in yarn 1 admin on slave1 1 container on slave2 gemfire modules fail to deploy with the following exception caused by javaiofilenotfoundexception nullmodulescommongemfire-sinkgroovy this is because the modules require a xdhome environment variable and this is not set by the yarn deployment noformat offending resource url filenullmodulescommongemfire-sinkgroovy nested exception is javaiofilenotfoundexception nullmodulescommongemfire-sinkgroovy no such file or directory orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderloadbeandefinitionsgroovybeandefinitionreaderjava247 orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderloadbeandefinitionsgroovybeandefinitionreaderjava202 orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava178 orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava138 orgspringframeworkbootbeandefinitionloaderloadbeandefinitionloaderjava127 orgspringframeworkbootspringapplicationloadspringapplicationjava620 orgspringframeworkbootspringapplicationrunspringapplicationjava315 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava211 orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava217 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 orgspringframeworkxddirtserverdeploymentlistenerdeploymoduledeploymentlistenerjava363 orgspringframeworkxddirtserverdeploymentlistenerdeploystreammoduledeploymentlistenerjava332 orgspringframeworkxddirtserverdeploymentlisteneronchildaddeddeploymentlistenerjava179 orgspringframeworkxddirtserverdeploymentlistenerchildeventdeploymentlistenerjava147 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 caused by orgspringframeworkbeansfactoryparsingbeandefinitionparsingexception configuration problem error evaluating groovy script nullmodulescommongemfire-sinkgroovy no such file or directory offending resource url filenullmodulescommongemfire-sinkgroovy nested exception is javaiofilenotfoundexception nullmodulescommongemfire-sinkgroovy no such file or directory orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderloadbeandefinitionsgroovybeandefinitionreaderjava247 orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderloadbeandefinitionsgroovybeandefinitionreaderjava202 orgspringframeworkbeansfactorysupportabstractbeandefinitionreaderloadbeandefinitionsabstractbeandefinitionreaderjava181 orgspringframeworkbeansfactorysupportabstractbeandefinitionreaderloadbeandefinitionsabstractbeandefinitionreaderjava217 orgspringframeworkbeansfactorysupportabstractbeandefinitionreaderloadbeandefinitionsabstractbeandefinitionreaderjava188 orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderimportbeansgroovybeandefinitionreaderjava337 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgcodehausgroovyreflectioncachedmethodinvokecachedmethodjava90 groovylangmetamethoddomethodinvokemetamethodjava324 orgcodehausgroovyruntimemetaclassclosuremetaclassinvokemethodclosuremetaclassjava368 groovylangmetaclassimplinvokemethodmetaclassimpljava1016 orgcodehausgroovyruntimecallsitepogometaclasssitecallcurrentpogometaclasssitejava66 orgcodehausgroovyruntimecallsitecallsitearraydefaultcallcurrentcallsitearrayjava49 orgcodehausgroovyruntimecallsiteabstractcallsitecallcurrentabstractcallsitejava133 orgcodehausgroovyruntimecallsiteabstractcallsitecallcurrentabstractcallsitejava141 beansrunclosure1docallbeans4 beansrunclosure1docallbeans sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgcodehausgroovyreflectioncachedmethodinvokecachedmethodjava90 groovylangmetamethoddomethodinvokemetamethodjava324 orgcodehausgroovyruntimemetaclassclosuremetaclassinvokemethodclosuremetaclassjava278 groovylangmetaclassimplinvokemethodmetaclassimpljava1016 groovylangclosurecallclosurejava423 groovylangclosurecallclosurejava417 orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderinvokebeandefiningclosuregroovybeandefinitionreaderjava426 orgspringframeworkbeansfactorygroovygroovybeandefinitionreader1callgroovybeandefinitionreaderjava223 groovylangclosurecallclosurejava439 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgcodehausgroovyreflectioncachedmethodinvokecachedmethodjava90 groovylangmetamethoddomethodinvokemetamethodjava324 groovylangmetaclassimplinvokemethodmetaclassimpljava1207 groovylangmetaclassimplinvokemethodmetaclassimpljava1016 groovylangmetaclassimplinvokepropertyormissingmetaclassimpljava1253 groovylangmetaclassimplinvokemethodmetaclassimpljava1209 groovylangmetaclassimplinvokemethodmetaclassimpljava1016 orgcodehausgroovyruntimecallsitepogometaclasssitecallcurrentpogometaclasssitejava66 orgcodehausgroovyruntimecallsitecallsitearraydefaultcallcurrentcallsitearrayjava49 orgcodehausgroovyruntimecallsiteabstractcallsitecallcurrentabstractcallsitejava133 orgcodehausgroovyruntimecallsiteabstractcallsitecallcurrentabstractcallsitejava141 beansrunbeans1 groovylanggroovyshellevaluategroovyshelljava649 orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderloadbeandefinitionsgroovybeandefinitionreaderjava243 29 more caused by javaiofilenotfoundexception nullmodulescommongemfire-sinkgroovy no such file or directory javaiofileinputstreamopennative method javaiofileinputstreaminitfileinputstreamjava146 javaiofileinputstreaminitfileinputstreamjava101 sunnetwwwprotocolfilefileurlconnectionconnectfileurlconnectionjava90 sunnetwwwprotocolfilefileurlconnectiongetinputstreamfileurlconnectionjava188 orgspringframeworkcoreiourlresourcegetinputstreamurlresourcejava168 orgspringframeworkcoreiosupportencodedresourcegetreaderencodedresourcejava132 orgspringframeworkbeansfactorygroovygroovybeandefinitionreaderloadbeandefinitionsgroovybeandefinitionreaderjava243 79 more noformat,0
inconsistent handling of inherited serversyml properties some modules inherit applicationyml serversyml via a properties file in configmodules others have the values defined in the optionsmetadata classes switch all modules to use the latter technique for consistency,0
add new reactor tcp module a reactor based tcp module that would support some basic codecs should evaluate if this new tcp module would subsume the current reactor-syslog module functionality or if the reactor-syslog module should be enhancedupgradted,0
create custom help command for xd-shell so that hadoopdistro option is listed xd-shell is using the default spring-shell help command need to create a help command specific to xd so that it can list the --hadoopdistro command line option note the hadoopdistro command line option is actually processed by the xd-shell bash script,0
update comjaywayjsonpath to latest version use latest version might need to exclude version from other dependencies eg si in build-commongradle,0
provide more options for the mongodb sink see the so question on the matter httpstackoverflowcomquestions28280206how-can-i-use-authentication-in-mongo-sink,0
placeholder for spring xd lab,0
strip messagebus deliverymode header since the messagebus refactoring we now see noformat 154306379 110m2 warn xdbusfoo0-1 supportdefaultamqpheadermapper - skipping header amqpdeliverymode since it is not of expected type class orgspringframeworkamqpcoremessagedeliverymode it is class orgspringframeworkamqpcoremessagedeliverymode noformat when using a rabbit transport and a rabbit sink the sink spring amqp is in its own classloader,0
update to use compute optimized and standard machine types,0
deploy orphaned jobs to new containers when a container joins the cluster the leader admin will assign modules to it that are unassigned it needs to also check for job modules and deploy them if required,0
file to hdfs batch job fails due to data directory not available in hdfs the batch job for file to hdfs will try to check for the default data directory even if the target directory in hdfs is something else if the data directory isnt there the job will fail this should be fixed so there isnt a check on the directory that isnt the final hdfs target directory and the target directory should be created if it doesnt exist,0
batch job deployment screen only show 10 items the batch jobs deployment screen http9393admin-uijobsdeployments ui screen is only showing 10 items without pagination and prohibiting users from launching their deployed jobs from the ui the jobs can only be launched via the restapi call in release 103 the deployment page has not pagination but grows beyond 10 entries,0
document router processor module for an example see comments here httpsjiraspringsourceorgbrowsexd-671,0
tests sporadically fail when checking send counts with rabbit as transport tests that use verifysendcounts to validate whether data was sent to all the modules in a stream occasionally fail this is because sometimes it takes 2 or more sends to get the data transmitted between modules with the current test structure this is considered a failure is this the correct behavior,0
ui provide fixed version numbers for npm and bower dependencies,0
upgrade to 120 rc1 sik release,0
sftp socket closed error infinite loop having the follow messages poping up on xd log it seems they are being generated indefinitely log files getting huge 2015-05-27 155751039 boot - 2774 info task-scheduler-1 --- jsch kex server ssh-rsassh-dss 2015-05-27 155751039 boot - 2774 info task-scheduler-1 --- jsch kex server aes256-ctraes192-ctraes128-ctrarcfour256 2015-05-27 155751039 boot - 2774 info task-scheduler-1 --- jsch kex server aes256-ctraes192-ctraes128-ctrarcfour256 2015-05-27 155751039 boot - 2774 info task-scheduler-1 --- jsch kex server hmac-sha2-512hmac-sha2-256hmac-sha1hmac-ripemd160 2015-05-27 155751039 boot - 2774 info task-scheduler-1 --- jsch kex server hmac-sha2-512hmac-sha2-256hmac-sha1hmac-ripemd160 2015-05-27 155751039 boot - 2774 info task-scheduler-1 --- jsch kex server nonezlibopensshcom 2015-05-27 155751039 boot - 2774 info task-scheduler-1 --- jsch kex server nonezlibopensshcom 2015-05-27 155751039 boot - 2774 info task-scheduler-1 --- jsch kex server 2015-05-27 155751039 boot - 2774 info task-scheduler-1 --- jsch kex server 2015-05-27 155751040 boot - 2774 info task-scheduler-1 --- jsch kex client diffie-hellman-group1-sha1diffie-hellman-group-exchange-sha1 2015-05-27 155751040 boot - 2774 info task-scheduler-1 --- jsch kex client ssh-rsassh-dss 2015-05-27 155751040 boot - 2774 info task-scheduler-1 --- jsch kex client aes128-ctraes128-cbc3des-ctr3des-cbcblowfish-cbc 2015-05-27 155751040 boot - 2774 info task-scheduler-1 --- jsch kex client aes128-ctraes128-cbc3des-ctr3des-cbcblowfish-cbc 2015-05-27 155751040 boot - 2774 info task-scheduler-1 --- jsch kex client hmac-md5hmac-sha1hmac-sha2-256hmac-sha1-96hmac-md5-96 2015-05-27 155751040 boot - 2774 info task-scheduler-1 --- jsch kex client hmac-md5hmac-sha1hmac-sha2-256hmac-sha1-96hmac-md5-96 2015-05-27 155751040 boot - 2774 info task-scheduler-1 --- jsch kex client none 2015-05-27 155751040 boot - 2774 info task-scheduler-1 --- jsch kex client none 2015-05-27 155751040 boot - 2774 info task-scheduler-1 --- jsch kex client 2015-05-27 155751040 boot - 2774 info task-scheduler-1 --- jsch kex client 2015-05-27 155751040 boot - 2774 info task-scheduler-1 --- jsch kex server-client aes128-ctr hmac-sha1 none 2015-05-27 155751040 boot - 2774 info task-scheduler-1 --- jsch kex client-server aes128-ctr hmac-sha1 none 2015-05-27 155751044 boot - 2774 info task-scheduler-1 --- jsch sshmsgkexdhinit sent 2015-05-27 155751044 boot - 2774 info task-scheduler-1 --- jsch expecting sshmsgkexdhreply 2015-05-27 155751049 boot - 2774 info task-scheduler-1 --- jsch sshrsaverify signature true 2015-05-27 155751049 boot - 2774 info task-scheduler-1 --- jsch host xxxxxxxx is known and mathces the rsa host key 2015-05-27 155751049 boot - 2774 info task-scheduler-1 --- jsch sshmsgnewkeys sent 2015-05-27 155751049 boot - 2774 info task-scheduler-1 --- jsch sshmsgnewkeys received 2015-05-27 155751050 boot - 2774 info task-scheduler-1 --- jsch sshmsgservicerequest sent 2015-05-27 155751050 boot - 2774 info task-scheduler-1 --- jsch sshmsgserviceaccept received 2015-05-27 155751052 boot - 2774 info task-scheduler-1 --- jsch authentications that can continue gssapi-with-micpublickeykeyboard-interactivepassword 2015-05-27 155751052 boot - 2774 info task-scheduler-1 --- jsch next authentication method gssapi-with-mic 2015-05-27 155751054 boot - 2774 info task-scheduler-1 --- jsch authentications that can continue publickeykeyboard-interactivepassword 2015-05-27 155751054 boot - 2774 info task-scheduler-1 --- jsch next authentication method publickey 2015-05-27 155751086 boot - 2774 info task-scheduler-1 --- jsch authentication succeeded publickey 2015-05-27 155751113 boot - 2774 info task-scheduler-1 --- jsch disconnecting from 101001035 port 22 2015-05-27 155751113 boot - 2774 info connect thread xxxxxxxxx session --- jsch caught an exception leaving main loop due to socket closed,0
investigate running camus as a batch job similar to sqoop where we move data from rdbms to hdfs we should look at integrating with camus to load data from kafka to hdfs,0
create xd-yarn script create an xd-yarn script that is more cloud foundry like - xd-yarn push -p path-to-unzipped-yearn-distro xd-yarn start admin xd-yarn start container,0
sparkapp batch job is not running from the latest master i couldnt run sparkapp as batch job the spark application process gets launched and it doesnt complete and there are no errors at the output,0
yarnmapred application class path broke when copying those xml files to spring xd conf spring xd doesnt pickup those classpath correctly those classpath contains stackname stackversion those were processed correctly inside phd3hdp but not in spring xd,0
nullpointerexception while fetching runtime containers in springxd ver 101 runtimecontainers fetches additional runtime modules information for each container when a user queries the runtime containers while a stream is being deploy it throws a nullpointerexception see below 155602829 info deploymentsupervisorcachelistener-0 serverinitialdeploymentlistener - path cache event pathdeploymentsstreamstestcreatehttpstreampostdata1413327352991 typechildadded 155602935 info deployer serverstreamdeploymentlistener - deploying stream streamnametestcreatehttpstreampostdata1413327352991 155605069 error http-nio-9393-exec-9 restrestcontrolleradvice - caught exception while handling a request javalangnullpointerexception orgspringframeworkxddirtmodulestorezookeepermodulemetadatarepositoryupdatedeploymentstatuszookeepermodulemetadatarepositoryjava209 orgspringframeworkxddirtmodulestorezookeepermodulemetadatarepositoryfindallbycontaineridzookeepermodulemetadatarepositoryjava313 orgspringframeworkxddirtcontainerstorezookeepercontainerrepositoryfindallruntimecontainerszookeepercontainerrepositoryjava339 orgspringframeworkxddirtrestcontainerscontrollerlistcontainerscontrollerjava97 sunreflectgeneratedmethodaccessor133invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeinvocablehandlermethodjava215 orgspringframeworkwebmethodsupportinvocablehandlermethodinvokeforrequestinvocablehandlermethodjava132 orgspringframeworkwebservletmvcmethodannotationservletinvocablehandlermethodinvokeandhandleservletinvocablehandlermethodjava104 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterinvokehandlemethodrequestmappinghandleradapterjava749 orgspringframeworkwebservletmvcmethodannotationrequestmappinghandleradapterhandleinternalrequestmappinghandleradapterjava689 orgspringframeworkwebservletmvcmethodabstracthandlermethodadapterhandleabstracthandlermethodadapterjava83 orgspringframeworkwebservletdispatcherservletdodispatchdispatcherservletjava938 orgspringframeworkwebservletdispatcherservletdoservicedispatcherservletjava870 orgspringframeworkwebservletframeworkservletprocessrequestframeworkservletjava961 orgspringframeworkwebservletframeworkservletdogetframeworkservletjava852 javaxservlethttphttpservletservicehttpservletjava620 orgspringframeworkwebservletframeworkservletserviceframeworkservletjava837 javaxservlethttphttpservletservicehttpservletjava727 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava303 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkbootactuatetracewebrequesttracefilterdofilterinternalwebrequesttracefilterjava110 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkbootactuateautoconfigureendpointwebmvcautoconfigurationapplicationcontextheaderfilterdofilterinternalendpointwebmvcautoconfigurationjava280 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworksecuritywebfilterchainproxydofilterinternalfilterchainproxyjava186 orgspringframeworksecuritywebfilterchainproxydofilterfilterchainproxyjava160 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkwebfilterhiddenhttpmethodfilterdofilterinternalhiddenhttpmethodfilterjava77 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkwebfilterhttpputformcontentfilterdofilterinternalhttpputformcontentfilterjava88 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgspringframeworkbootactuateautoconfiguremetricfilterautoconfigurationmetricsfilterdofilterinternalmetricfilterautoconfigurationjava89 orgspringframeworkwebfilteronceperrequestfilterdofilteronceperrequestfilterjava107 orgapachecatalinacoreapplicationfilterchaininternaldofilterapplicationfilterchainjava241 orgapachecatalinacoreapplicationfilterchaindofilterapplicationfilterchainjava208 orgapachecatalinacorestandardwrappervalveinvokestandardwrappervalvejava220 orgapachecatalinacorestandardcontextvalveinvokestandardcontextvalvejava122 orgapachecatalinaauthenticatorauthenticatorbaseinvokeauthenticatorbasejava501 orgapachecatalinacorestandardhostvalveinvokestandardhostvalvejava171 orgapachecatalinavalveserrorreportvalveinvokeerrorreportvalvejava103 orgapachecatalinacorestandardenginevalveinvokestandardenginevalvejava116 orgapachecatalinaconnectorcoyoteadapterservicecoyoteadapterjava408 orgapachecoyotehttp11abstracthttp11processorprocessabstracthttp11processorjava1070 orgapachecoyoteabstractprotocolabstractconnectionhandlerprocessabstractprotocoljava611 orgapachetomcatutilnetnioendpointsocketprocessordorunnioendpointjava1736 orgapachetomcatutilnetnioendpointsocketprocessorrunnioendpointjava1695 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 orgapachetomcatutilthreadstaskthreadwrappingrunnableruntaskthreadjava61 javalangthreadrunthreadjava724,0
bind producer before consumer quote here is the full exception orgspringframeworkmessagingmessagedeliveryexception dispatcher has no subscribers for channel resourceconfiguredmodule namefilter typeprocessor grouprequest-rate index0 58b0f318use-expressiondefaultadminsinglenodehsqldbserver9393output nested exception is orgspringframeworkintegrationmessagedispatchingexception dispatcher has no subscribers and here is that stream topichttpstartstop filter --expressionpayloadgethttpstartstopgetpeertypenameequalsclient requestrateaggregator appmetricssplitter router --expressiontopicapp-request-rate-jsonpathpayloadappid 259 pm gary russell markfisher ilayaperumalgopinathan patrickperalta this looks like another not fixed by the previous fix timing problem with taps when using singlenode the tap is started before the tap stream is deployed but its not clear to me how the filter module could be deployedbound as a consumer before the requestrateaggregator 308 pm gary russell i see the problem abstractmessagebusbinderpluginbindconsumerandproducers binds the consumer before the producer - this is the wrong order for a passive component such as the filter cc davidturanski quote,0
when scheduling a job i cannot provide job parameters add the ability to provide job parameters when scheduling jobs,0
set auto-startup to false in kafka source we have to explicitly set it to false in order to avoid an early start of the poller and the associated distpatcherhasnosubscribersexception,0
running job with time delay non cron launches 2 instances before job is supposed to fire,0
the shell distribution zip is missing hadoop26 libraries the spring-xd-version-shellzip distribution zip doesnt include the libhadoop26 directory and libraries so we get the following exception when starting the shell exception in thread main javalangnoclassdeffounderror orgapachehadoopconfconfiguration,0
as a performance tester id like to rerun baseline benchmarks with batching enabled on rabbit so that i can compare the results with previous performance snapshots note - batchingenabled true - batchingsize 100 default we could also vary default size to compute and record at granular level,3
enable value etc in module options metadata a placeholder to investigate what can be done with spring configuration in module options metadata classes to simplifyenhance property configuration with configuration modules these may now be beans in the module context,0
investigate increased size of xd distribution,0
create rest api for getting information on all steps of a given job execution adopted functionality from spring batch admin should include springmvc test framework style tests get batchjobsexecutionsexecutionidsteps - get information on all steps of a given job execution,0
error deploying stream when admin running and container arrives after stream deployment request steps to reproduce 1 start xd-admin 2 start shell and create and deploy stream time hdfs 3 start container i got 2014-07-10 091029019 boot - 19923info deploymentsupervisorcachelistener-0 --- initialdeploymentlistener path cache event deploymentsstreamstest type childadded 2014-07-10 091029137 boot - 19923info deployer --- streamdeploymentlistener deploying stream streamnametest 2014-07-10 091029146 boot - 19923warn deployer --- streamdeploymentlistener no containers available for deployment of stream test 2014-07-10 091029146 boot - 19923info deployer --- streamdeploymentlistener stream streamnametest deployment attempt complete 2014-07-10 091108003 boot - 19923info deploymentsupervisorcachelistener-0 --- containerlistener path cache event containers007c2bcc-13f4-466e-95d3-bd926bb456ea type childadded 2014-07-10 091108006 boot - 19923info deploymentsupervisorcachelistener-0 --- arrivingcontainermoduleredeployer container arrived 007c2bcc-13f4-466e-95d3-bd926bb456ea 2014-07-10 091108176 boot - 19923 error deploymentsupervisorcachelistener-0 --- pathchildrencache orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsstreamstestmodules at orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava111 at orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 at orgapachezookeeperzookeepergetchildrenzookeeperjava1590 at orgapachecuratorframeworkimpsgetchildrenbuilderimpl3callgetchildrenbuilderimpljava214 at orgapachecuratorframeworkimpsgetchildrenbuilderimpl3callgetchildrenbuilderimpljava203 at orgapachecuratorretryloopcallwithretryretryloopjava107 at orgapachecuratorframeworkimpsgetchildrenbuilderimplpathinforegroundgetchildrenbuilderimpljava199 at orgapachecuratorframeworkimpsgetchildrenbuilderimplforpathgetchildrenbuilderimpljava191 at orgapachecuratorframeworkimpsgetchildrenbuilderimplforpathgetchildrenbuilderimpljava38 at orgspringframeworkxddirtserverarrivingcontainermoduleredeployerdeployunallocatedstreammodulesarrivingcontainermoduleredeployerjava133 at orgspringframeworkxddirtserverarrivingcontainermoduleredeployerdeploymodulesarrivingcontainermoduleredeployerjava106 at orgspringframeworkxddirtservercontainerlistenerchildeventcontainerlistenerjava99 at orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 at orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 at orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 at comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 at orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 at orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 at orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 at orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 at javautilconcurrentfuturetaskrunfuturetaskjava262 at javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 at javautilconcurrentfuturetaskrunfuturetaskjava262 at javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 at javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 at javalangthreadrunthreadjava744,0
remove jmxenabled as a cmdline option and enable jmx by default after some discussion and voting we decided to remove jmxenabled as a command line option and have jmx enabled by default this can be disabled from xd-configyml externally,0
improve stream processing capabilities,0
support named channels when using local transport sending data to an incomplete stream which is created using a named sink channel only works when using redis or rabbit not tested since the in-memory version doesnt use a queue it will fail if you are using xd-singlenode we should use a queue channel with unlimited capacity to allow messages to be sent before the full stream is created,0
restore previous cmdline library to populate options expected benefits are --keyspacevalue as well as --keyvalue on the command line eg xd-1108 nice usage screen,0
create a new kerberos ticket instead of renew the current one running spring-xd singlenode with a kerberized hadoop cluster on cdh 532 with jdk 17 and jce 17 the kerberos ticket policies are expiration 24 hours renew 7 days i need to keep the spring xd server running constantly because my flows are always waiting for incoming files to be ingested into the hdfs but the kerberos session expires if there arent jobs to run before the expiration date the expiration policies cant be changed due internal company policies is there a way which spring xd can generate a new ticket instead of renew the current one when a job or stream start executing the spring xd server has configured the hadoopproperties like use serversyml to change uri for namenode you can add additional properties in this file dfsnamenodekerberosprincipalhdfshostedacompanycom yarnresourcemanagerprincipalyarnhostedacompanycom yarnapplicationclasspathoptclouderaparcelscdhlibhadoopoptclouderaparcelscdhlibhadoopliboptclouderaparcelscdhlibhadoop-hdfsoptclouderaparcelscdhlibhadoop-hdfsliboptclouderaparcelscdhlibhadoop-yarnoptclouderaparcelscdhlibhadoop-yarnliboptclouderaparcelscdhlibhadoop-mapreduceoptclouderaparcelscdhlibhadoop-mapreducelib hadoopsecurityauthorizationtrue hadoopsecurityauthenticationkerberos springhadoopuserkeytabfileexporthomeuseruserkeytab springhadoopuserprincipalusererscompanycom connecting to kerberized hadoop spring xd doc configuration appendix d springhadoopsecurityauthmethodkerberos springhadoopsecurityuserkeytabexporthomeuseruserkeytab springhadoopsecurityuserprincipalusererscompanycom springhadoopsecuritynamenodeprincipalhdfshostedacompanycom springhadoopsecurityrmmanagerprincipalyarnhostedacompanycom,0
strict flag for jdbchdfs h2 narrative as a developer when using jdbchdfss incremental imports i need to be notified that something went wrong in a previous run of the jdbchdfs job so that i can take the appropriate actions based on the data previously imported h2 back story as the incremental import currently works if the job fails half way through there is no check on the next run to see if the last run failed or not and how to address partially imported data,0
as a developer id like to upgrade to si milestonega release so i can synchronize with jmx improvements this is dependent on si milestone and ga release timelines,1
as a developer id like to refer to wiki so that i can configure machines with recommended ulimit setting for xds distributed setup note recommended ulimit setting is 10k under troubleshooting new section exception reason to increase ulimit 82552266 110snap error deploymentspathchildrencache-0 serverdeploymentlistener - exception deploying module javalangillegalstateexception javaiofilenotfoundexception varvcapdatapackagesspringxdee02bd3482eeb620a65862fb54e1f23fcece80221-bd a341640a5de2f922fd3db906ce504b85819c1espring-xd-110build-snapshotxdconfigmodulesmodulesyml too many open files,1
infrastructure for rabbitmq cluster db pre-requisite for rabbit mq benchmarks infrastructure setup configuration changes tool-chain setup,0
update hdfs sink docs options that are not covered --codec --idletimeout --inuseprefix --inusesuffix --inputtype --overwrite options renamed --filename is now --filename,0
provide an --override option to the module upload command when uploading a new version of a module the admin container if there is already an existing module the behavior should be to delete the existing contents of the module directory and replace it with that of the new upload jar this would be an optional parameter,0
create a gauge module spring config for simple gauge plus message handler to process message there is some code common to richgaugehandler to coerce the payload to a double that should be refactored for reuse,0
gradle based multi-project build multi project build - look to spring framework for source of starting point,0
add ftp sink to default sink modules it would be nice to have a simple ftp sink i had to do it for one of my projects therefore the sink already exists i would like to contribute but i dont know how you do the testing part for that kind of module,0
rest make the job execution rest endpoint pagination-aware implement pagination for httplocalhost9393jobsexecutions,0
as a s-c-d developer id like to collaborate with boot engineering team and derive a strategy for module metadata via configurationproperties so i can implement the functionality to support shell autocompletion flo and ascii documentation in spring-cloud-data erics gap analysishttpsdocsgooglecomdocumentd1a-9rpgsnl6sxd61q9ew2yrkrkn3txk09rdkx7ecklxyedit document captures all the specifics in detail,5
tcp-client source module throws classnotfoundexception version xd 11 m1 problem trying to use tcp-client source module and observing an exception while deploying the stream stream definition codexml curl --data namedummy-firehose --data definitiontcp-client --decoderlf --port8080 log --data deploytrue httplocalhost9393streamsdefinitions namedummy-firehosestatusnulldefinitiontcp-client --decoderlf --port8080 loglinksselfhrefhttplocalhost9393streamsdummy-firehose code the same curl command works fine against xd 101 release,0
add additional rest endpoint that return the xml definition of a job,0
create angularjs directive to render deployment statuses in order to minimize code duplication - create an angularjs directive to render deployment statuses we could even color code the various statuses we should also create a 2nd directive for the status-help-popover we should consider to possibly use the angular bootstrap ui popover support,0
add support for phd 21 xd 11 m1 release xd 11 m1 release phd 21 upgrade - action items update to shdp 21m2 add hadoop 25 hadoop25 remove hadoop22 remove phd 10 phd1 change phd 2x from phd20 to phd21 test phd 20 with phd21,0
update base ami to be a hvm,0
as a user id like to have a r processor so i can efficiently perform data computations and statistical analysis in the context of streaming pipeline investigate the right approach that fits spring xd model r java libraries rjavahttprforgenetrjava renjinhttpwwwrenjinorg,5
enhance xd on yarn to use shdp container clustering currently yarn runtime needs two yarn appmaster instancesone for admins one for containers shdps container grouping added functionality to run different type of containers within a same appmaster beyond this container grouping will also give more functionality like ramping containers updown on-demand creating groups with different settings dynamically and restarting failed containers,0
as a s-c-d user id like to have runtime info as shell command so i can use this to list the details about the module such as host port and the like,4
as a s-c-d developer id like to refactor cc spi deployer with cf java-client so i can improve the overall design and performance,5
as a user id like to have the option to compress messages so that i can influence the performance throughput itd be beneficial to have support for gzip zip compression and decompression,3
ui user should be able to view job detail from a specific job execution at job executions page on clicking details link on a job execution row user should see the job details job detail page will show all the information about the job where as the table listing of jobs on the execution tab may have omitted some columns or aggregated values to convey information more easily,0
dead letter is not created on all rabbitmq queues for partionned stream hi if i use the modulenameproducerparitionkeyexpression and the module as also autobinddlg enabled the creates rabbbitmq queues do not have the deadletter policy the first queue has it xdbusstream0-0 but others do not have it xdbusstream0-n thanks mickal,0
create xd shell integration test parser since most of the xdshellitests will do more then one thing deploy a stream start it add a tap add a job stop etc we decided to decouple writing testcases with running it test cases will be written in spring-shell scriptlets scriptlets are json files with command and expectedresult as tokens heres an example code testscript command stream create --definition http file --name http2file result created new stream http2file command stream list result code a parser will parse scriptlets executes it and asserts on expected results,0
as a spring xd developer id like to move twitterstream module from xd to s-c-s repo so i can use it as source modules to build streaming pipeline,2
dynamic router should allow to discard messages currently dynamic router sink has to return a valid queue name this is problematic when the message should be discarded as part of the routing process in this case one have to define a stream with filter router steps where part of the spel is duplicated between filter and router modules instead the dynamic router should allow to return null to discard the message and stop further processing spring integration is already providing resolution-required attribute on router,0
gpfdist may fail to shutdown with backlog in a case where reactors ringbuffer is full and thus handling backpressure by blocking onnext shutdown phase where oncomplete is send will cause a deadlock this is shown by a thread dump during a shutdown this will basically break further deployments for this stream in distributed mode while single node will show more errors during undeployment code pool-7-thread-1 58 prio5 osprio0 tid0x979fe800 nid0x54de runnable 0x986ad000 javalangthreadstate timedwaiting parking sunmiscunsafeparknative method javautilconcurrentlockslocksupportparknanoslocksupportjava338 reactorjarjarcomlmaxdisruptorsingleproducersequencernextsingleproducersequencerjava122 reactorjarjarcomlmaxdisruptorsingleproducersequencernextsingleproducersequencerjava97 reactorjarjarcomlmaxdisruptorringbuffernextringbufferjava246 reactorcoreprocessorutilringbuffersubscriberutilsonnextringbuffersubscriberutilsjava30 reactorcoreprocessorringbufferprocessoronnextringbufferprocessorjava575 code code main-eventthread 19 daemon prio5 osprio0 tid0x9b93a400 nid0x54b1 runnable 0x9aefe000 javalangthreadstate timedwaiting parking sunmiscunsafeparknative method javautilconcurrentlockslocksupportparknanoslocksupportjava338 reactorjarjarcomlmaxdisruptorsingleproducersequencernextsingleproducersequencerjava122 reactorjarjarcomlmaxdisruptorsingleproducersequencernextsingleproducersequencerjava97 reactorjarjarcomlmaxdisruptorringbuffernextringbufferjava246 reactorcoreprocessorutilringbuffersubscriberutilsoncompleteringbuffersubscriberutilsjava54 reactorcoreprocessorringbufferprocessoroncompleteringbufferprocessorjava585 orgspringframeworkxdgreenplumgpfdistgpfdistmessagehandlerdostopgpfdistmessagehandlerjava170 code ive been crafting workaround for this by trying to wait reactor streambuffer to get drained by gpdb and finally as last resort forcing processor in reactor to shutdown,0
jobs are failing to be deployed error started commit 7087dc67e058edd6cbb1630ebd95b52e2c7e21e1 httpsgithubcomspring-projectsspring-xdpull1564 this can be reproduced by running the test with a admin and single container on mac osx issue all jobs fail to deploy with the following exception noformat - -- v -- 120build-snapshot extreme data started adminserverapplication documentation httpsgithubcomspring-projectsspring-xdwiki 2015-04-27 090851082 120snap warn main configintegrationregistrar - the jsonpath spel function cannot be registered the version of json-path found on the classpath is not supported supported json-path version is 091 upgrade to spring integration 42 or later to use json-path 10 or later 2015-04-27 090902767 120snap info main utilxdconfiglogginginitializer - xd home usersglennrenfroprojectspring-xdbuilddistspring-xdxd 2015-04-27 090902768 120snap info main utilxdconfiglogginginitializer - transport redis 2015-04-27 090902768 120snap info main utilxdconfiglogginginitializer - hadoop distro hadoop26 2015-04-27 090902771 120snap info main utilxdconfiglogginginitializer - hadoop version detected from classpath 260 2015-04-27 090902771 120snap info main utilxdconfiglogginginitializer - xd config location fileusersglennrenfroprojectspring-xdbuilddistspring-xdxdconfig 2015-04-27 090902771 120snap info main utilxdconfiglogginginitializer - xd config names serversapplication 2015-04-27 090902772 120snap info leaderselector-0 zkdeploymentsupervisor - leader admin 1723199839393 is watching for streamjob deployment requests 2015-04-27 090902773 120snap info main utilxdconfiglogginginitializer - xd module config location fileusersglennrenfroprojectspring-xdbuilddistspring-xdxdconfigmodules 2015-04-27 090902775 120snap info main utilxdconfiglogginginitializer - xd module config name modules 2015-04-27 090902775 120snap info main utilxdconfiglogginginitializer - admin web ui httpglenns-macbook-prolocal9393admin-ui 2015-04-27 090902775 120snap info main utilxdconfiglogginginitializer - zookeeper at localhost2181 2015-04-27 090902775 120snap info main utilxdconfiglogginginitializer - zookeeper namespace xd 2015-04-27 090902776 120snap info main utilxdconfiglogginginitializer - analytics redis 2015-04-27 090902813 120snap info deploymentsupervisor-0 zkcontainerlistener - path cache event typeinitialized 2015-04-27 090902845 120snap info main adminadminserverapplication - started adminserverapplication in 6777 seconds jvm running for 14213 2015-04-27 090904010 120snap info deploymentsupervisor-0 zkcontainerlistener - path cache event pathcontainersdc7692b1-979b-4fa3-a11a-3f35cdedc319 typechildadded 2015-04-27 090904017 120snap info deploymentsupervisor-0 zkcontainerlistener - container arrived containernamedc7692b1-979b-4fa3-a11a-3f35cdedc319 attributesgroups hostglenns-macbook-prolocal iddc7692b1-979b-4fa3-a11a-3f35cdedc319 managementport9395 ip172319983 pid99669 2015-04-27 090904018 120snap info deploymentsupervisor-0 zkcontainerlistener - scheduling deployments to new containers in 15000 ms 2015-04-27 091035003 120snap info deploymentsupervisor-0 zkzkjobdeploymenthandler - deployment status for job tfphj4ffb45d5-0d6c-4f22-b407-c313ce82b449 deploymentstatusstatefailederrorsorgspringframeworkbeansfactorybeandefinitionstoreexception invalid bean definition with name objectnameproperties defined in null could not resolve placeholder xdstreamname in string value xdstreamname nested exception is javalangillegalargumentexception could not resolve placeholder xdstreamname in string value xdstreamname orgspringframeworkbeansfactoryconfigplaceholderconfigurersupportdoprocesspropertiesplaceholderconfigurersupportjava211 orgspringframeworkcontextsupportpropertysourcesplaceholderconfigurerprocesspropertiespropertysourcesplaceholderconfigurerjava180 orgspringframeworkcontextsupportpropertysourcesplaceholderconfigurerpostprocessbeanfactorypropertysourcesplaceholderconfigurerjava155 orgspringframeworkcontextsupportpostprocessorregistrationdelegateinvokebeanfactorypostprocessorspostprocessorregistrationdelegatejava265 orgspringframeworkcontextsupportpostprocessorregistrationdelegateinvokebeanfactorypostprocessorspostprocessorregistrationdelegatejava162 orgspringframeworkcontextsupportabstractapplicationcontextinvokebeanfactorypostprocessorsabstractapplicationcontextjava606 orgspringframeworkcontextsupportabstractapplicationcontextrefreshabstractapplicationcontextjava462 orgspringframeworkbootspringapplicationrefreshspringapplicationjava691 orgspringframeworkbootspringapplicationrunspringapplicationjava321 orgspringframeworkbootbuilderspringapplicationbuilderrunspringapplicationbuilderjava139 orgspringframeworkxdmodulecoresimplemoduleinitializesimplemodulejava214 orgspringframeworkxddirtmodulemoduledeployerdodeploymoduledeployerjava217 orgspringframeworkxddirtmodulemoduledeployerdeploymoduledeployerjava200 orgspringframeworkxddirtservercontainerdeploymentlistenerdeploymoduledeploymentlistenerjava365 orgspringframeworkxddirtservercontainerdeploymentlistenerdeployjobmoduledeploymentlistenerjava291 orgspringframeworkxddirtservercontainerdeploymentlisteneronchildaddeddeploymentlistenerjava181 orgspringframeworkxddirtservercontainerdeploymentlistenerchildeventdeploymentlistenerjava149 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava509 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava503 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava297 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava500 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache10runpathchildrencachejava762 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 caused by javalangillegalargumentexception could not resolve placeholder xdstreamname in string value xdstreamname orgspringframeworkutilpropertyplaceholderhelperparsestringvaluepropertyplaceholderhelperjava174 orgspringframeworkutilpropertyplaceholderhelperreplaceplaceholderspropertyplaceholderhelperjava126 orgspringframeworkcoreenvabstractpropertyresolverdoresolveplaceholdersabstractpropertyresolverjava204 orgspringframeworkcoreenvabstractpropertyresolverresolverequiredplaceholdersabstractpropertyresolverjava178 orgspringframeworkcontextsupportpropertysourcesplaceholderconfigurer2resolvestringvaluepropertysourcesplaceholderconfigurerjava175 orgspringframeworkbeansfactoryconfigbeandefinitionvisitorresolvestringvaluebeandefinitionvisitorjava282 orgspringframeworkbeansfactoryconfigbeandefinitionvisitorresolvevaluebeandefinitionvisitorjava204 orgspringframeworkbeansfactoryconfigbeandefinitionvisitorvisitmapbeandefinitionvisitorjava262 orgspringframeworkbeansfactoryconfigbeandefinitionvisitorresolvevaluebeandefinitionvisitorjava198 orgspringframeworkbeansfactoryconfigbeandefinitionvisitorvisitpropertyvaluesbeandefinitionvisitorjava141 orgspringframeworkbeansfactoryconfigbeandefinitionvisitorvisitbeandefinitionbeandefinitionvisitorjava82 orgspringframeworkbeansfactoryconfigplaceholderconfigurersupportdoprocesspropertiesplaceholderconfigurersupportjava208 31 more noformat,0
add cloud connector dependencies for spring-cloud-data admin spring-cloud-data admin requires lattice connector and spring-cloud-spring-service-connector dependencies so that the admin controllers get access to any services while running on lattice one example is countercontoller using redis service for metricrepository,0
documentation for reactor-ip source has conflicting information according to the documentation at httpdocsspringiospring-xddocscurrentreferencehtmlreactor-ip one of the options available for this source is transport its listed as having no default but the sample definition doesnt provide it yet appears to default to tcp the two should match up it might also be useful if the possible values for transport were listed i assume tcp and udp,0
support configuring the rabbitmessagebus messagepropertiesconverter longstring limit httpstackoverflowcomquestions34053997passing-headerinformation-as-jsonobject-in-header-in-spring-xd,0
spike investigate distributed deployment of s-c-s modules via yarn spi as an s-c-d developer id like to investigate the distributed deployment of s-c-s modules on yarn so i can experiment the implementation of yarn spi and derive the strategy for yarnmoduledeployer,0
obtain username and password credentials for cloudfoundry as part of moving to a bespoke restoperations application we will need credentials to access cloudfoundry these will need to be supplied from the new xd admin app at runtime,0
add ci acceptance test for 12x need acceptance tests to run on the 12x branch needs to be setup as a child of the publish 12x,0
job definition is deleted after restart the srping xd service in single node mode job definition is deleted after restart the srping xd service in single node mode repro step 1start service as single node 2create a batch module 3create a job based on batch module 4restart service expect result job definition is displayed on the job list actual result job list is empty all job definitions are missed,0
as a user id like to have microbatching capability so that i can ingest based on batch intervals for enhanced performance throughput example http --batchinterval10 log,4
spike for job that exports hdfs csv data to jdbc,0
create ec2 ami for single-node install of hortonworks data platform 13,0
update getting started documentation to use xd-singlenode start script with the new option of starting without requiring redis the getting started documentation should reflect this easier way to start processing data,0
rabbit tests need to use another another account besides guest need to update the rabbit mqtt test to use the acctest account instead of guest as of rabbit 33 the guest account can only accept connections from localhost for now ive setup a loop back so that guest can be accessed from other manchines,0
singlestep-partition-support needs to allow grid size to be configurable h3 narrative as a developer i need to be able to configure a partitioned jobs grid size so that the correct number of partitions are created the current code is hard coded to 1 for the grid size h3 acceptance criteria expose the gridsize attribute of the messagechannelpartitionhandler as an option h3 assumptions existing ootb jobs should not be impacted by this given they dont use the grid size,0
add spring io plugin to xd gradle httpsgithubcomspring-projectsgradle-pluginstreemasterspring-io-plugin allows us to create a springiocheck that will verify the status of xds dependencies as it stands with springio we would need to add the dependencies as show in the document but we would need to add the if projecthaspropertyplatformversion code segment to the configurejavaprojects,0
review critical sonar warning httpssonarspringiodrilldownissuesorgspringframeworkxdspring-xdseveritycritical,0
provide configurable properties for hdfs sink the config file modulessinkhdfsxml has a hardcoded value to locate the namenode hdpconfiguration register-url-handlerfalse fsdefaultnamehdfslocalhost9000 hdpconfiguration the fsdefaultname proprety should be configurable and we should also support loading an external configuration file using hdpconfiguration properties-locationxdhomeconfighadoopproperties hdpconfiguration,0
create subproject spring-xd-machine-learning-analytics-jpmml using the jppml evaluator provide an implementation of the core abstractions in the spring-xd-machine-learning the initial code for this has been developed in a separate github repo and is located here httpsgithubcomthomasdarimontspring-xdtreefeatureadvanced-analytics-supportspring-xd-analytics-jpmmlsrcmainjavaorgspringframeworkxdanalyticsmodeljpmml,0
ui user should be able to launch a job from deployed jobs page from the deployed jobs page user should be able to click on the launch button on a specific job and specify the job parameters as key value pairs in the text box and we will convert that into json string as jobparameters into joblaunch request,0
refactor the module and container repositories all of the following are currently defined in meta-infspring-xdinternalrepositoriesxml among others like streamstreamdefinition and jobjobdefinition repos code combine some of these in repositoriesxml and reconsider the use of repository abstractions everywhere bean idcontainermetadatarepository classorgspringframeworkxddirtcontainerstorezookeepercontainermetadatarepository bean idmodulemetadatarepository classorgspringframeworkxddirtmodulestorezookeepermodulemetadatarepository bean idmoduledependencyrepository classorgspringframeworkxddirtmodulestorezookeepermoduledependencyrepository bean idmoduledefinitionrepository classorgspringframeworkxddirtmodulestorezookeepermoduledefinitionrepository code at the very least the module repositories could be combined and also we should remove moduledefinitionrepositoryutils that provides static utility methods since we no longer need that for reuse across multiple repo impls finally we should reconsider the use of actual repository interfaces for these since in most cases there are only one or two methods being called thus its not necessary to support the full range of crud operations for which those repository interfaces are intended,0
as a developer id like to rerun baseline tuple and serialized payloads so i can compare the differences in performance between 081 and 082 kafka releases note 111 benched against 081 12 benched against 082,5
add rabbitmq source module configurable parameters should include the queue-names and optional binding key pattern connection info such as host and port should also be configurable but with defaults localhost and default port and that should likely fallback to a rabbitproperties file in the xdhomeconfig directory,0
create aggregator module that uses an embedded database stored in the local filesystem similar to xd-1100 si has the jdbc based message store int-jdbcmessage-store idmessagestore data-sourcedatasource table-prefixmyint the configuration of this aggregator would be configured so that it uses an embedded database hsqldb or h2 depending if there is any real perf benefit to one or the other and store the data on the local file system,0
as a developer id like to hostread python script file from hdfs so i can use the shell processor in xd on cf to delegate data science functionality to py runtime and receive the feedback back in xd,5
jmx shouldnt register taps or streams if the creation fails theres a lifecycle problem when a tap creation fails eg because the dsl syntax is wrong subsequent attempts to create the tap will fail with an error linkslogrefmessagehandlingexceptionmessageorgspringframeworkcontextapplicationcontextexception failed to start bean orgspringframeworkintegrationmonitorintegrationmbeanexporter092e27d20-4c48-4131-866c-91b6cb642ca2 nested exception is orgspringframeworkjmxexportunabletoregistermbeanexception unable to register mbean messagechannelmonitor namenullchannel sends0 receives0 with key xdtap1typemessagechannelnamenullchannelindex1modulelog nested exception is javaxmanagementinstancealreadyexistsexception xdtap1typemessagechannelnamenullchannelindex1modulelog disabling jmx solves the issue reproduce create a bad stream definition name bad try to recreate with the same name but correct stream definitions the system will report that the stream already exists,0
as a xd developer id like to explore repository options for composed jobs so i have the leverage to readwrite composed job definitions,4
deploy multiple instances of a module currently we deploy a single instance and ignore the moduledeploymentrequest instances setting it is easy to change this in the moduledeployer but there is no guarantee this will work in the modulelauncher so we hold off until that can be verified,0
dist task failure - unable to access httpwwwoasis-openorgdocbookxml45docbookxdtd the build task gradlew dist fails with the following error 002016976 error orggradlebuildexceptionreporter 52 more 002016976 error orggradlebuildexceptionreporter caused by javaxxmltransformtransformerexception failure reading usersixr303spring-xdbuildreference-workindexxml 002016976 error orggradlebuildexceptionreporter comiclsaxonombuilderbuildbuilderjava267 002016976 error orggradlebuildexceptionreporter comiclsaxoncontrollertransformcontrollerjava936 002016976 error orggradlebuildexceptionreporter comiclsaxoncontrollertransformcallunknown source 002016976 error orggradlebuildexceptionreporter abstractdocbookreferencetasktransformdocbookreferenceplugingroovy146 002016976 error orggradlebuildexceptionreporter orggradleinternalreflectjavamethodinvokejavamethodjava63 002016976 error orggradlebuildexceptionreporter 59 more 002016976 error orggradlebuildexceptionreporter caused by javaioioexception server returned http response code 500 for url httpwwwoasis-openorgdocbookxml45docbookxdtd 002016977 error orggradlebuildexceptionreporter orgapachexercesimplxmlentitymanagersetupcurrententityunknown source 002016977 error orggradlebuildexceptionreporter orgapachexercesimplxmlentitymanagerstartentityunknown source 002016977 error orggradlebuildexceptionreporter orgapachexercesimplxmlentitymanagerstartdtdentityunknown source 002016977 error orggradlebuildexceptionreporter orgapachexercesimplxmldtdscannerimplsetinputsourceunknown source 002016977 error orggradlebuildexceptionreporter orgapachexercesimplxmldocumentscannerimpldtddispatcherdispatchunknown source 002016977 error orggradlebuildexceptionreporter orgapachexercesimplxmldocumentfragmentscannerimplscandocumentunknown source 002016977 error orggradlebuildexceptionreporter orgapachexercesparsersxml11configurationparseunknown source 002016977 error orggradlebuildexceptionreporter orgapachexercesparsersxml11configurationparseunknown source 002016977 error orggradlebuildexceptionreporter orgapachexercesparsersxmlparserparseunknown source 002016977 error orggradlebuildexceptionreporter orgapachexercesparsersabstractsaxparserparseunknown source 002016978 error orggradlebuildexceptionreporter orgapachexercesjaxpsaxparserimpljaxpsaxparserparseunknown source 002016978 error orggradlebuildexceptionreporter comiclsaxonombuilderbuildbuilderjava265 the url httpwwwoasis-openorgdocbookxml45docbookxdtd returns 500 error most of the times tried to circumvent the error by manually getting the did file locally and running again causes unintended relative path issues help is very much appreciated,0
as a spring xd developer id like to port filter module from xd to s-c-s repo so i can use it as processor module to build streaming pipeline,2
http source module should copy content-type header to si messageheaderscontenttype,0
bootstrap xd on yarn 1 how xd yarn application should be packaged and bootstrapped 2 where the code should be within xd itself or separate repo,0
update error message for usage of hadoop rm with --recursive option i had the following interaction with the shell it does work if i do hadoop fs rm xdtweets --recursive either the order shouldnt matter or the doc should be more clear on placement of the option xdhadoop fs rm xdtweets to remove directory please use fs rm --recursive instead xdhadoop fs rm --recursive xdtweets javalangillegalargumentexception failed to convert xdtweets to type boolean for option recursive cannot convert xdtweets to type boolean,0
add single threaded executor service to deploymentsupervisor this will eliminate any race conditions between deployments and containers joiningleaving the cluster,0
clear redis after tests the following keys remain after running the test suite code redis 1270016379 keys 1 containers 2 containersapplication9292 code,0
sample app that can process and analyze network packets create an example application that demonstrates the processing analysis from a stream of network packets a potential scenario could be the detection of ongoing cyber attacks by scanning for tls packets that what to abuse a ssl vulnerability aka heart bleed a library that could help with this is httpjnetpcapcom,0
job execution list should mention jobs that have been deleted create a job execute it a couple of times destroy it and then invoke job execution list the job name column should mention that a job is defunct even though a job with the same name could have been re-created in the interim,0
as a developer id like to move k8s spi to its own repo,4
add support for pivotal hd 21 xd 102 release xd 102 release phd 21 upgrade - action items update to shdp 203 add hadoop 25 hadoop25 change phd 2x from phd20 to phd21 test phd 20 with phd21 document that both phd 21 and phd 20 is supported with phd21,0
as a consequence change gradle script regarding generation of documentation remove pushgenerateddocs task etc remove link rewriting that is no longer needed,5
add hdfs apache hadoop 22 distro acceptance tests,0
investigate failing localsinglenodestreamdeploymentintegrationtests investigate the failing test localsinglenodestreamdeploymentintegrationtestsmodulechannelsregisteredwithmessagebus noformat javalangassertionerror expected3 but was0 orgjunitassertfailassertjava88 orgjunitassertfailnotequalsassertjava743 orgjunitassertassertequalsassertjava118 orgjunitassertassertequalsassertjava555 orgjunitassertassertequalsassertjava542 orgspringframeworkxddirtstreamabstractsinglenodestreamdeploymentintegrationtestsmodulechannelsregisteredwithmessagebusabstractsinglenodestreamdeploymentintegrationtestsjava270 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgjunitrunnersmodelframeworkmethod1runreflectivecallframeworkmethodjava47 orgjunitinternalrunnersmodelreflectivecallablerunreflectivecallablejava12 orgjunitrunnersmodelframeworkmethodinvokeexplosivelyframeworkmethodjava44 orgjunitinternalrunnersstatementsinvokemethodevaluateinvokemethodjava17 orgjunitinternalrunnersstatementsrunaftersevaluaterunaftersjava27 orgjunitrunnersparentrunnerrunleafparentrunnerjava271 noformat this can be most easily reproduced on ubuntu,0
initial work that uses the module architecture from dirt,0
create tcp sink module based off si tcp inbound adapter this will allow for event fowarding,0
improve module deployment distribution when a container joins the xd cluster via zookeeper it triggers streamjob module deployments for modules that need to be deployed if multiple containers are being started at around the same time this can result in the first few containers taking all of the deployments while leaving the rest without any deployments to solve this we will introduce a quiet period where no deployments will be triggered within n seconds of a container joining where n will have a default value perhaps 5 to 10 seconds this value will be configurable,0
npe when a container departs when a container departs the cluster the admin will try to redeploy any modules that container was running if the stream was destroyed and the container exited before it had the chance to clean up its deployments under xddeploymentsmodules for example with kill -9 the following npe occurs noformat javalangnullpointerexception orgspringframeworkxddirtservercontainerlistenerloadstreamcontainerlistenerjava347 orgspringframeworkxddirtservercontainerlisteneronchildleftcontainerlistenerjava403 orgspringframeworkxddirtservercontainerlistenerchildeventcontainerlistenerjava158 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava494 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava488 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava293 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava485 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache11runpathchildrencachejava755 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava724 noformat if the stream was undeployed the following stack appears noformat 151306002 error containerspathchildrencache-0 cachepathchildrencache550 - javalangruntimeexception orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsstreamst0 orgspringframeworkxddirtservercontainerlisteneronchildleftcontainerlistenerjava468 orgspringframeworkxddirtservercontainerlistenerchildeventcontainerlistenerjava159 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava494 orgapachecuratorframeworkrecipescachepathchildrencache5applypathchildrencachejava488 orgapachecuratorframeworklistenlistenercontainer1runlistenercontainerjava92 comgooglecommonutilconcurrentmoreexecutorssamethreadexecutorserviceexecutemoreexecutorsjava293 orgapachecuratorframeworklistenlistenercontainerforeachlistenercontainerjava83 orgapachecuratorframeworkrecipescachepathchildrencachecalllistenerspathchildrencachejava485 orgapachecuratorframeworkrecipescacheeventoperationinvokeeventoperationjava35 orgapachecuratorframeworkrecipescachepathchildrencache11runpathchildrencachejava755 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 javautilconcurrentfuturetaskrunfuturetaskjava266 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava511 javautilconcurrentfuturetaskrunfuturetaskjava266 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1142 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava617 javalangthreadrunthreadjava744 caused by orgapachezookeeperkeeperexceptionnonodeexception keepererrorcode nonode for xddeploymentsstreamst0 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava111 orgapachezookeeperkeeperexceptioncreatekeeperexceptionjava51 orgapachezookeeperzookeepergetdatazookeeperjava1155 orgapachecuratorframeworkimpsgetdatabuilderimpl4callgetdatabuilderimpljava302 orgapachecuratorframeworkimpsgetdatabuilderimpl4callgetdatabuilderimpljava291 orgapachecuratorretryloopcallwithretryretryloopjava107 orgapachecuratorframeworkimpsgetdatabuilderimplpathinforegroundgetdatabuilderimpljava287 orgapachecuratorframeworkimpsgetdatabuilderimplforpathgetdatabuilderimpljava279 orgapachecuratorframeworkimpsgetdatabuilderimplforpathgetdatabuilderimpljava41 orgspringframeworkxddirtservercontainerlistenerloadstreamcontainerlistenerjava358 orgspringframeworkxddirtservercontainerlisteneronchildleftcontainerlistenerjava417 16 more noformat in short this logic makes the assumption that the stream is still present and deployed it needs to take into account the fact that neither assumption can be made,0
update creating a processor module section to use shell commands instead of curl test the deployed module sub-section uses curl,0
document mqtt source and sink,0
create a simple sample application for the jpmml module the sample application should primarily show the round trip that is possible in that offline analysis in r can generate a pmml flle that can be imported and evaluated in an online stream definition the specific use case can be as simple as the iris data set or other existing examples such as the fraud demo the sample application resides in httpsgithubcomspring-projectsspring-xd-samples,0
modify startup script of xdadminxdcontainer to allow specifying hadoop distro to use we need to modify startup script to use hadoop 112 as default or phd1 when specified with --hadoopdistrophd1,0
create xd script for xd-single node this script will launch xd admin along with the module container as part of this implementation we will also remove the embedded options for xd admin container scripts,0
rename create to save in resourcedeployer to be consistent with spring data repository method names,0
update to shdp 211 for fixing hdfs store writer to recover after error writing to hdfs the hdfs sink doesnt recover after error writing to hdfs steps to reproduce - create a stream using hdfs sink with a small rollover code xdstream create --name errtest --definition time hdfs --rollover50 --deploy code stop the datanodes and wait for an exception like code 2015-03-03 104157832 110release error task-scheduler-3 handlerlogginghandler - orgspringframeworkmessagingmessagehandlingexception failed to write message payload to hdfs nested exception is orgapachehadoopipcremoteexceptionjavaioioexception file xderrtesterrtest-7txttmp could only be replicated to 0 nodes instead of minreplication 1 there are 1 datanodes running and 1 nodes are excluded in this operation orgapachehadoophdfsserverblockmanagementblockmanagerchoosetarget4newblockblockmanagerjava1549 orgapachehadoophdfsservernamenodefsnamesystemgetadditionalblockfsnamesystemjava3200 orgapachehadoophdfsservernamenodenamenoderpcserveraddblocknamenoderpcserverjava641 orgapachehadoophdfsprotocolpbclientnamenodeprotocolserversidetranslatorpbaddblockclientnamenodeprotocolserversidetranslatorpbjava482 orgapachehadoophdfsprotocolprotoclientnamenodeprotocolprotosclientnamenodeprotocol2callblockingmethodclientnamenodeprotocolprotosjava orgapachehadoopipcprotobufrpcengineserverprotobufrpcinvokercallprotobufrpcenginejava619 orgapachehadoopipcrpcservercallrpcjava962 orgapachehadoopipcserverhandler1runserverjava2039 orgapachehadoopipcserverhandler1runserverjava2035 javasecurityaccesscontrollerdoprivilegednative method javaxsecurityauthsubjectdoassubjectjava415 orgapachehadoopsecurityusergroupinformationdoasusergroupinformationjava1628 orgapachehadoopipcserverhandlerrunserverjava2033 orgspringframeworkxdintegrationhadoopoutboundhdfsstoremessagehandlerhandlemessageinternalhdfsstoremessagehandlerjava129 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 sunreflectgeneratedmethodaccessor86invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitorsimplemessagehandlermetricshandlemessagesimplemessagehandlermetricsjava107 orgspringframeworkintegrationmonitorsimplemessagehandlermetricsinvokesimplemessagehandlermetricsjava87 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy136handlemessageunknown source orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava239 sunreflectgeneratedmethodaccessor82invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava114 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava98 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava92 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy125sendunknown source orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputabstractmessageproducinghandlerjava248 orgspringframeworkintegrationhandlerabstractmessageproducinghandlerproduceoutputabstractmessageproducinghandlerjava171 orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputsabstractmessageproducinghandlerjava119 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava105 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava239 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputabstractmessageproducinghandlerjava248 orgspringframeworkintegrationhandlerabstractmessageproducinghandlerproduceoutputabstractmessageproducinghandlerjava171 orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputsabstractmessageproducinghandlerjava119 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava105 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava239 sunreflectgeneratedmethodaccessor82invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava114 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava98 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava92 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy137sendunknown source orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 orgspringframeworkintegrationendpointsourcepollingchanneladapterhandlemessagesourcepollingchanneladapterjava130 orgspringframeworkintegrationendpointabstractpollingendpointdopollabstractpollingendpointjava219 orgspringframeworkintegrationendpointabstractpollingendpointaccess000abstractpollingendpointjava55 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava149 orgspringframeworkintegrationendpointabstractpollingendpoint1callabstractpollingendpointjava146 orgspringframeworkintegrationendpointabstractpollingendpointpoller1runabstractpollingendpointjava298 orgspringframeworkintegrationutilerrorhandlingtaskexecutor1runerrorhandlingtaskexecutorjava52 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava50 orgspringframeworkintegrationutilerrorhandlingtaskexecutorexecuteerrorhandlingtaskexecutorjava49 orgspringframeworkintegrationendpointabstractpollingendpointpollerrunabstractpollingendpointjava292 orgspringframeworkschedulingsupportdelegatingerrorhandlingrunnablerundelegatingerrorhandlingrunnablejava54 orgspringframeworkschedulingconcurrentreschedulingrunnablerunreschedulingrunnablejava81 javautilconcurrentexecutorsrunnableadaptercallexecutorsjava471 javautilconcurrentfuturetaskrunfuturetaskjava262 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskaccess201scheduledthreadpoolexecutorjava178 javautilconcurrentscheduledthreadpoolexecutorscheduledfuturetaskrunscheduledthreadpoolexecutorjava292 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava745 caused by orgapachehadoopipcremoteexceptionjavaioioexception file xderrtesterrtest-7txttmp could only be replicated to 0 nodes instead of minreplication 1 there are 1 datanodes running and 1 nodes are excluded in this operation orgapachehadoophdfsserverblockmanagementblockmanagerchoosetarget4newblockblockmanagerjava1549 orgapachehadoophdfsservernamenodefsnamesystemgetadditionalblockfsnamesystemjava3200 orgapachehadoophdfsservernamenodenamenoderpcserveraddblocknamenoderpcserverjava641 orgapachehadoophdfsprotocolpbclientnamenodeprotocolserversidetranslatorpbaddblockclientnamenodeprotocolserversidetranslatorpbjava482 orgapachehadoophdfsprotocolprotoclientnamenodeprotocolprotosclientnamenodeprotocol2callblockingmethodclientnamenodeprotocolprotosjava orgapachehadoopipcprotobufrpcengineserverprotobufrpcinvokercallprotobufrpcenginejava619 orgapachehadoopipcrpcservercallrpcjava962 orgapachehadoopipcserverhandler1runserverjava2039 orgapachehadoopipcserverhandler1runserverjava2035 javasecurityaccesscontrollerdoprivilegednative method javaxsecurityauthsubjectdoassubjectjava415 orgapachehadoopsecurityusergroupinformationdoasusergroupinformationjava1628 orgapachehadoopipcserverhandlerrunserverjava2033 orgapachehadoopipcclientcallclientjava1468 orgapachehadoopipcclientcallclientjava1399 orgapachehadoopipcprotobufrpcengineinvokerinvokeprotobufrpcenginejava232 comsunproxyproxy134addblockunknown source orgapachehadoophdfsprotocolpbclientnamenodeprotocoltranslatorpbaddblockclientnamenodeprotocoltranslatorpbjava399 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgapachehadoopioretryretryinvocationhandlerinvokemethodretryinvocationhandlerjava187 orgapachehadoopioretryretryinvocationhandlerinvokeretryinvocationhandlerjava102 comsunproxyproxy135addblockunknown source orgapachehadoophdfsdfsoutputstreamdatastreamerlocatefollowingblockdfsoutputstreamjava1532 orgapachehadoophdfsdfsoutputstreamdatastreamernextblockoutputstreamdfsoutputstreamjava1349 orgapachehadoophdfsdfsoutputstreamdatastreamerrundfsoutputstreamjava588 code start the datanodes again the sink never recovers and has to be undeployed and redeployed,0
add ability to add custom metricscontrollers to admin context see original report here httpsgithubcomspring-projectsspring-xdissues1300 ive created a module with a custom metric handler and repository patterned after the aggregatecounter but then it appears that there doesnt seem to be a way to add anything to the admin context the diagram at httpsgithubcomspring-projectsspring-xdwikiextending-xd shows the plugin context as a sibling to the admin context which seems to verify my fears it would be convenient to be able to add custom metricscontrollersrepositories into the admin context so that they can be accessed through the same rest api as the other metrics,0
as a data scientist id like to have the option to process data using flink processor so i can take advantage of the streaming machine learning abstractions implemented on top of flink,4
leverage gradle plugin for providedoptional deps see httpsgithubcomspring-projectsgradle-pluginsblobmasterpropdeps-pluginreadmemd this would allow us to reduce the distribution size further maybe,0
ambari plugin doesnt work with securityenabled it seems like springxdshell will pull jhs principal and keytab from mapred-sitexml when springxdshell is installed in edge node amabri returns cant find jhs keytab and failed details herehttpsgithubcomspring-projectsspring-xd-ambariissues8,0
xdconfiglocation doesnt seem to be set for log4j config files starting xd-singlenode and then ctrl-c to shut down produces warn message that should be suppressed according to log4j config setting xdconfiglocation explicitly works for suppressing the message the message i see 2014-07-10 093959786 boot - 58034 warn thread-2 --- mbeanregistry failed to unregister mbean inmemorydatatree 2014-07-10 093959786 boot - 58034 warn thread-2 --- mbeanregistry error during unregister javaxmanagementinstancenotfoundexception orgapachezookeeperservicename0standaloneserverport-1name1inmemorydatatree comsunjmxinterceptordefaultmbeanserverinterceptorgetmbeandefaultmbeanserverinterceptorjava1095 comsunjmxinterceptordefaultmbeanserverinterceptorexclusiveunregistermbeandefaultmbeanserverinterceptorjava427 comsunjmxinterceptordefaultmbeanserverinterceptorunregistermbeandefaultmbeanserverinterceptorjava415 comsunjmxmbeanserverjmxmbeanserverunregistermbeanjmxmbeanserverjava546 orgapachezookeeperjmxmbeanregistryunregistermbeanregistryjava115 orgapachezookeeperjmxmbeanregistryunregistermbeanregistryjava132 orgapachezookeeperserverzookeeperserverunregisterjmxzookeeperserverjava465 orgapachezookeeperserverzookeeperservershutdownzookeeperserverjava458 orgapachezookeeperservernioservercnxnfactoryshutdownnioservercnxnfactoryjava271 orgapachezookeeperserverzookeeperservermainshutdownzookeeperservermainjava132 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkxddirtzookeeperembeddedzookeeperstopembeddedzookeeperjava176 orgspringframeworkxddirtzookeeperembeddedzookeeperstopembeddedzookeeperjava204 orgspringframeworkcontextsupportdefaultlifecycleprocessordostopdefaultlifecycleprocessorjava229 orgspringframeworkcontextsupportdefaultlifecycleprocessoraccess300defaultlifecycleprocessorjava51 orgspringframeworkcontextsupportdefaultlifecycleprocessorlifecyclegroupstopdefaultlifecycleprocessorjava363 orgspringframeworkcontextsupportdefaultlifecycleprocessorstopbeansdefaultlifecycleprocessorjava202 orgspringframeworkcontextsupportdefaultlifecycleprocessoronclosedefaultlifecycleprocessorjava118 orgspringframeworkcontextsupportabstractapplicationcontextdocloseabstractapplicationcontextjava888 orgspringframeworkcontextsupportabstractapplicationcontextcloseabstractapplicationcontextjava841 orgspringframeworkbootbuilderparentcontextcloserapplicationlistenercontextcloserlisteneronapplicationeventparentcontextcloserapplicationlistenerjava100 orgspringframeworkbootbuilderparentcontextcloserapplicationlistenercontextcloserlisteneronapplicationeventparentcontextcloserapplicationlistenerjava84 orgspringframeworkcontexteventsimpleapplicationeventmulticastermulticasteventsimpleapplicationeventmulticasterjava98 orgspringframeworkcontextsupportabstractapplicationcontextpublisheventabstractapplicationcontextjava333 orgspringframeworkcontextsupportabstractapplicationcontextdocloseabstractapplicationcontextjava880 orgspringframeworkcontextsupportabstractapplicationcontext1runabstractapplicationcontextjava809,0
remove mongodb from main dirt classpath mongodb driver is present on dirts classpath while it should not should be present on mongo-related modules though this is blocked by the shortcoming described here httpsgithubcomspring-projectsspring-xdpull1116,0
spark streaming integration with kafka message does not respect offsetstoretopic config option the property xdmessagebuskafkaoffsetstoretopic was added to kafka message bus which is not updated to spark streaming message bus properties that will be transferred to spark cluster for streaming module deployment we also need a better approach to re-use the message bus properties so that we dont have to update the properties in connection property names,0
allow streamservertomcat to chooce free port currently you need to define a port which tomcat will use to bind to if xd is embedded or run in a hadoop it is not possible to know which port should be used current embedded tomcat version is able to use the 0-port trick for it to choose free port real binded port can be asked from a connector using below example orgspringframeworkxddirtstreamstreamserverjava public int getlocalport return thistomcatgetconnectorgetlocalport also i believe streamserver should provide a method to ask what is the real url to connect to or atleast what streamserver thinks what it is this will make life much easier for components empedding spring-xd,0
improvements to executions tab 1 add quick filter 2 the table should have columns for name instance execution id getting the name might require a bit of extra work given some limitations with json serialization and cycles in the current object returned from spring batch 3 the restart action should appear only if the job is restartable and the status was failed,0
adapt springone 2012 ui code from keynote demo of election results to use xd existing code httpsgithubcomghillertspringone2012,0
remotefiletohadooptests fails on 11x this error surfaced recently as a result of a fix to a bug in hostnotwindowsrule which disabled this test in all environments now the test has been reactivated it is failing on the 11x branch the test runs ok on master noformat encountered an error executing step step1-master in job job orgspringframeworkmessagingmessagedeliveryexception failed to send message to channel null nested exception is javalangillegalstateexception threadpooltaskexecutor not initialized orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava292 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava239 orgspringframeworkxddirtintegrationbuslocallocalmessagebus3handlemessagelocalmessagebusjava262 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava239 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputabstractmessageproducinghandlerjava248 orgspringframeworkintegrationhandlerabstractmessageproducinghandlerproduceoutputabstractmessageproducinghandlerjava171 orgspringframeworkintegrationhandlerabstractmessageproducinghandlersendoutputsabstractmessageproducinghandlerjava119 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava105 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava239 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava115 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava45 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava95 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava85 orgspringframeworkbatchintegrationpartitionmessagechannelpartitionhandlerhandlemessagechannelpartitionhandlerjava224 orgspringframeworkbatchcorepartitionsupportpartitionstepdoexecutepartitionstepjava106 orgspringframeworkbatchcorestepabstractstepexecuteabstractstepjava198 orgspringframeworkbatchcorejobsimplestephandlerhandlestepsimplestephandlerjava148 orgspringframeworkbatchcorejobflowjobflowexecutorexecutestepjobflowexecutorjava64 orgspringframeworkbatchcorejobflowsupportstatestepstatehandlestepstatejava67 orgspringframeworkbatchcorejobflowsupportsimpleflowresumesimpleflowjava165 orgspringframeworkbatchcorejobflowsupportsimpleflowstartsimpleflowjava144 orgspringframeworkbatchcorejobflowflowjobdoexecuteflowjobjava134 orgspringframeworkbatchcorejobabstractjobexecuteabstractjobjava304 orgspringframeworkbatchcorelaunchsupportsimplejoblauncher1runsimplejoblauncherjava135 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava50 orgspringframeworkbatchcorelaunchsupportsimplejoblauncherrunsimplejoblauncherjava128 orgspringframeworkbatchintegrationxremotefiletohadoopteststestsimpleremotefiletohadooptestsjava161 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava62 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava483 orgjunitrunnersmodelframeworkmethod1runreflectivecallframeworkmethodjava50 orgjunitinternalrunnersmodelreflectivecallablerunreflectivecallablejava12 orgjunitrunnersmodelframeworkmethodinvokeexplosivelyframeworkmethodjava47 orgjunitinternalrunnersstatementsinvokemethodevaluateinvokemethodjava17 orgjunitinternalrunnersstatementsrunbeforesevaluaterunbeforesjava26 orgspringframeworktestcontextjunit4statementsrunbeforetestmethodcallbacksevaluaterunbeforetestmethodcallbacksjava73 orgjunitinternalrunnersstatementsrunaftersevaluaterunaftersjava27 orgspringframeworktestcontextjunit4statementsrunaftertestmethodcallbacksevaluaterunaftertestmethodcallbacksjava82 orgspringframeworktestcontextjunit4statementsspringrepeatevaluatespringrepeatjava73 orgjunitrunnersparentrunnerrunleafparentrunnerjava325 orgspringframeworktestcontextjunit4springjunit4classrunnerrunchildspringjunit4classrunnerjava217 orgspringframeworktestcontextjunit4springjunit4classrunnerrunchildspringjunit4classrunnerjava83 orgjunitrunnersparentrunner3runparentrunnerjava290 orgjunitrunnersparentrunner1scheduleparentrunnerjava71 orgjunitrunnersparentrunnerrunchildrenparentrunnerjava288 orgjunitrunnersparentrunneraccess000parentrunnerjava58 orgjunitrunnersparentrunner2evaluateparentrunnerjava268 orgspringframeworktestcontextjunit4statementsrunbeforetestclasscallbacksevaluaterunbeforetestclasscallbacksjava61 orgspringframeworktestcontextjunit4statementsrunaftertestclasscallbacksevaluaterunaftertestclasscallbacksjava68 orgspringframeworkxdtesthostnotwindowsrule1evaluatehostnotwindowsrulejava38 orgjunitrulesrunrulesevaluaterunrulesjava20 orgjunitrunnersparentrunnerrunparentrunnerjava363 orgspringframeworktestcontextjunit4springjunit4classrunnerrunspringjunit4classrunnerjava163 orgjunitrunnerjunitcorerunjunitcorejava137 comintellijjunit4junit4ideatestrunnerstartrunnerwithargsjunit4ideatestrunnerjava74 comintellijrtexecutionjunitjunitstarterpreparestreamsandstartjunitstarterjava211 comintellijrtexecutionjunitjunitstartermainjunitstarterjava67 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava62 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava483 comintellijrtexecutionapplicationappmainmainappmainjava134 caused by javalangillegalstateexception threadpooltaskexecutor not initialized orgspringframeworkutilassertstateassertjava385 orgspringframeworkschedulingconcurrentthreadpooltaskexecutorgetthreadpoolexecutorthreadpooltaskexecutorjava221 orgspringframeworkschedulingconcurrentthreadpooltaskexecutorexecutethreadpooltaskexecutorjava252 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava89 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava277 76 more javalangassertionerror expected exitcodecompletedexitdescription actual exitcodefailedexitdescription click to see difference orgjunitassertfailassertjava88 orgjunitassertfailnotequalsassertjava834 orgjunitassertassertequalsassertjava118 orgjunitassertassertequalsassertjava144 orgspringframeworkbatchintegrationxremotefiletohadoopteststestsimpleremotefiletohadooptestsjava162 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava62 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 orgjunitrunnersmodelframeworkmethod1runreflectivecallframeworkmethodjava50 orgjunitinternalrunnersmodelreflectivecallablerunreflectivecallablejava12 orgjunitrunnersmodelframeworkmethodinvokeexplosivelyframeworkmethodjava47 orgjunitinternalrunnersstatementsinvokemethodevaluateinvokemethodjava17 orgjunitinternalrunnersstatementsrunbeforesevaluaterunbeforesjava26 orgspringframeworktestcontextjunit4statementsrunbeforetestmethodcallbacksevaluaterunbeforetestmethodcallbacksjava73 orgjunitinternalrunnersstatementsrunaftersevaluaterunaftersjava27 orgspringframeworktestcontextjunit4statementsrunaftertestmethodcallbacksevaluaterunaftertestmethodcallbacksjava82 orgspringframeworktestcontextjunit4statementsspringrepeatevaluatespringrepeatjava73 orgjunitrunnersparentrunnerrunleafparentrunnerjava325 orgspringframeworktestcontextjunit4springjunit4classrunnerrunchildspringjunit4classrunnerjava217 orgspringframeworktestcontextjunit4springjunit4classrunnerrunchildspringjunit4classrunnerjava83 orgjunitrunnersparentrunner3runparentrunnerjava290 orgjunitrunnersparentrunner1scheduleparentrunnerjava71 orgjunitrunnersparentrunnerrunchildrenparentrunnerjava288 orgjunitrunnersparentrunneraccess000parentrunnerjava58 orgjunitrunnersparentrunner2evaluateparentrunnerjava268 orgspringframeworktestcontextjunit4statementsrunbeforetestclasscallbacksevaluaterunbeforetestclasscallbacksjava61 orgspringframeworktestcontextjunit4statementsrunaftertestclasscallbacksevaluaterunaftertestclasscallbacksjava68 orgspringframeworkxdtesthostnotwindowsrule1evaluatehostnotwindowsrulejava38 orgjunitrulesrunrulesevaluaterunrulesjava20 orgjunitrunnersparentrunnerrunparentrunnerjava363 orgspringframeworktestcontextjunit4springjunit4classrunnerrunspringjunit4classrunnerjava163 orgjunitrunnerjunitcorerunjunitcorejava137 comintellijjunit4junit4ideatestrunnerstartrunnerwithargsjunit4ideatestrunnerjava74 comintellijrtexecutionjunitjunitstarterpreparestreamsandstartjunitstarterjava211 comintellijrtexecutionjunitjunitstartermainjunitstarterjava67 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava62 comintellijrtexecutionapplicationappmainmainappmainjava134 noformat,0
job as a source h2 narrative as an xd developer i need to be able to use a batch job to stream data as a source h2 acceptance criteria implement the ability for a job to be defined as a source in the dsl add the configurations for the batch infrastructure transparently to the user add the ability to specify if the job is stateful picks up where it left off if it stops or restarts at the beginning,0
user wants ability to test processors be able to point to the processor xml file eg modulesprocessorstransformerxml and have access to a source channel that drives messages into the processor and a output channel where output messages are send the outbound channel is queue backed test sending json to a processor module that uses tuples,0
add option to stop all running xd ec2 instances that match a given naming pattern this functionality should be added as a command line option to the main app in the spring-xd-ec2 project,0
job in unknown state after run long sqooptasklet hello guys i hope you are doing good i found a problem when i try run long sqoop imports 4 hours or more for some reason when the sqoop step finish the system is not able to save the meta data for the current sqoop step however the sqoop import finish without problems 2015-10-17t030403-0400 120release error simpleasynctaskexecutor-4 stepabstractstep - encountered an error saving batch meta data for step import-logs in job ingestion-flow this job is now in an unknown state and should not be restarted please see attached log file for more details could you please let me know if you need other details to find what is the problem thanks in advance hctor,0
fix channelregistry cleanup during module undeploy,0
create build infrastructure for angular based ui create a project that includes build and test automation for a new angular based ui this work is independent of calling the ui build step from gradle a super minimal ui just to have some basic code is all that is required this should use grunt jasmine karma bower yuidoc separate story ui components from backbone should be available in the base project,0
ui - launch a job with parameters use a modal dialog to specify runtime parameters there should be a little text are that gives hints as to the spring batch parameter keyvalue conventions eg for type might be a good idea to have a checkbox that lets you select to auto increment job instance number 4 columns key value type identifying and an add parameter button that adds a new row this would appear as a modal dialog box polling of the state of the deployments would be suspended while the job parameter modal dialog box is shown,0
create a shell command processor and sink create processor and sink modules that can execute a shell command using stdin and stdout to stream data,0
as a user id like to evaluate spring boot dependency upgrades so that i can make sure there arent any side effects or impacts to existing functionalities,3
find runtime modules by type andor name we need a way to find the runtime module info by module typesource sink processor job,0
containerlistener to redeploy modules based on stream order when redeploying in the case of a container failure the modules are now redeployed in a random order the list of modules in the failed container needs to be sorted based on its position in a given stream and then redeployed,0
gradle import broken by hadoop pseudo projects when importing spring-xd as a gradle project in sts while building the model we get root exception javalangillegalargumentexception project location doesnt exist spring-xdspring-xd-hadoophadoop11 gradlew eclipse creates these directories but the plugin needs them before running that task the problem seems to be that these projects are not really projects perhaps a quick fix would be to commit these directories with a dummy file,0
as a user id like to have the ootb gpfdist sink module so i can use this module to do ultra fast data movement from various sources into gpdbhawq,5
retrieve description of all registered modules get streamsstreamnamemodules and get streamsstreamnamemodulesmodulename the former returning links to the latter,0
send failing sonar build message to spring-xd mailing list,0
resolve classloading issues for custom hadoop based batch jobs there are several issues making it hard to impossible to create batch jobs that use pig hive hbase or other technologies supported by spring for apache hadoop project we need to make the corresponding dependencies available on the hadoop classpath,0
change module option type from class to string this better aligns with boot moreover using class was a bad design choice one can always get a class from a string modulo knowing which cl to use while to converse is not always easy cl not being available,0
single step partition support on filejdbc module uses modules datasource the filejdbc modules single step partition support configures to use jdbc modules datasource rather than xds batch datasource orgspringframeworkmessagingmessagehandlingexception orgspringframeworkjdbcuncategorizedsqlexception preparedstatementcallback uncategorized sqlexception for sql select jobexecutionid starttime endtime status exitcode exitmessage createtime lastupdated version jobconfigurationlocation from batchjobexecution where jobexecutionid sql state null error code 0 sqliteerror sql error or missing database no such table batchjobexecution nested exception is javasqlsqlexception sqliteerror sql error or missing database no such table batchjobexecution orgspringframeworkintegrationhandlermethodinvokingmessageprocessorprocessmessagemethodinvokingmessageprocessorjava78 orgspringframeworkintegrationhandlerserviceactivatinghandlerhandlerequestmessageserviceactivatinghandlerjava71 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava170 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitorsimplemessagehandlermetricshandlemessagesimplemessagehandlermetricsjava106 orgspringframeworkintegrationmonitorsimplemessagehandlermetricsinvokesimplemessagehandlermetricsjava86 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy117handlemessageunknown source orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 sunreflectgeneratedmethodaccessor107invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava113 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava97 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava91 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy115sendunknown source orgspringframeworkxddirtintegrationbuslocalmessagebus3handlemessagelocalmessagebusjava188 orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcheraccess000unicastingdispatcherjava48 orgspringframeworkintegrationdispatcherunicastingdispatcher1rununicastingdispatcherjava92 javautilconcurrentthreadpoolexecutorrunworkerthreadpoolexecutorjava1145 javautilconcurrentthreadpoolexecutorworkerrunthreadpoolexecutorjava615 javalangthreadrunthreadjava744 caused by orgspringframeworkjdbcuncategorizedsqlexception preparedstatementcallback uncategorized sqlexception for sql select jobexecutionid starttime endtime status exitcode exitmessage createtime lastupdated version jobconfigurationlocation from batchjobexecution where jobexecutionid sql state null error code 0 sqliteerror sql error or missing database no such table batchjobexecution nested exception is javasqlsqlexception sqliteerror sql error or missing database no such table batchjobexecution orgspringframeworkjdbcsupportabstractfallbacksqlexceptiontranslatortranslateabstractfallbacksqlexceptiontranslatorjava84 orgspringframeworkjdbcsupportabstractfallbacksqlexceptiontranslatortranslateabstractfallbacksqlexceptiontranslatorjava81 orgspringframeworkjdbcsupportabstractfallbacksqlexceptiontranslatortranslateabstractfallbacksqlexceptiontranslatorjava81 orgspringframeworkjdbccorejdbctemplateexecutejdbctemplatejava660 orgspringframeworkjdbccorejdbctemplatequeryjdbctemplatejava695 orgspringframeworkjdbccorejdbctemplatequeryjdbctemplatejava727 orgspringframeworkjdbccorejdbctemplatequeryjdbctemplatejava737 orgspringframeworkjdbccorejdbctemplatequeryforobjectjdbctemplatejava811 orgspringframeworkbatchcorerepositorydaojdbcjobexecutiondaogetjobexecutionjdbcjobexecutiondaojava267 orgspringframeworkbatchcoreexploresupportsimplejobexplorergetstepexecutionsimplejobexplorerjava142 orgspringframeworkbatchintegrationpartitionstepexecutionrequesthandlerhandlestepexecutionrequesthandlerjava52 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkexpressionspelsupportreflectivemethodexecutorexecutereflectivemethodexecutorjava63 orgspringframeworkexpressionspelastmethodreferencegetvalueinternalmethodreferencejava122 orgspringframeworkexpressionspelastmethodreferenceaccess000methodreferencejava44 orgspringframeworkexpressionspelastmethodreferencemethodvaluerefgetvaluemethodreferencejava258 orgspringframeworkexpressionspelastcompoundexpressiongetvalueinternalcompoundexpressionjava84 orgspringframeworkexpressionspelastspelnodeimplgettypedvaluespelnodeimpljava114 orgspringframeworkexpressionspelstandardspelexpressiongetvaluespelexpressionjava111 orgspringframeworkintegrationutilabstractexpressionevaluatorevaluateexpressionabstractexpressionevaluatorjava159 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessinternalmessagingmethodinvokerhelperjava268 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessmessagingmethodinvokerhelperjava142 orgspringframeworkintegrationhandlermethodinvokingmessageprocessorprocessmessagemethodinvokingmessageprocessorjava75 41 more caused by javasqlsqlexception sqliteerror sql error or missing database no such table batchjobexecution orgsqlitedbnewsqlexceptiondbjava383 orgsqlitedbnewsqlexceptiondbjava387 orgsqlitedbthrowexdbjava374 orgsqlitenesteddbpreparenesteddbjava134 orgsqlitedbpreparedbjava123 orgsqliteprepstmtinitprepstmtjava42 orgsqliteconnpreparestatementconnjava404 orgsqliteconnpreparestatementconnjava399 orgsqliteconnpreparestatementconnjava383 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgapachetomcatjdbcpoolproxyconnectioninvokeproxyconnectionjava126 orgapachetomcatjdbcpooljdbcinterceptorinvokejdbcinterceptorjava109 orgapachetomcatjdbcpooldisposableconnectionfacadeinvokedisposableconnectionfacadejava80 comsunproxyproxy109preparestatementunknown source orgspringframeworkjdbccorejdbctemplatesimplepreparedstatementcreatorcreatepreparedstatementjdbctemplatejava1557 orgspringframeworkjdbccorejdbctemplateexecutejdbctemplatejava638 63 more 122337941 info main-eventthread servercontainerregistrar254 - undeploying module moduledescriptord192973 modulename filejdbc modulelabel filejdbc group csvjdbcjob0 sourcechannelname null sinkchannelname null sinkchannelname null index 0 type job parameters mapresources - filetmpxdtestjdbcdeleteafterusecsv initializedatabase - true names - col1col2col3 deletefiles - true driverclassname - orgsqlitejdbc url - jdbcsqlitetmpxdtestjdbcjdbcdb children listempty 122337941 info main-eventthread modulemoduledeployer158 - removed simplemodule namefilejdbc typejob groupcsvjdbcjob0 index0 73cc35b5 122337944 error task-scheduler-1 stepabstractstep225 - encountered an error executing step step1-master in job csvjdbcjob0 orgspringframeworkintegrationmessagetimeoutexception timeout occurred before all partitions returned orgspringframeworkbatchintegrationpartitionmessagechannelpartitionhandlerhandlemessagechannelpartitionhandlerjava141 orgspringframeworkbatchcorepartitionsupportpartitionstepdoexecutepartitionstepjava106 orgspringframeworkbatchcorestepabstractstepexecuteabstractstepjava198 orgspringframeworkbatchcorejobsimplestephandlerhandlestepsimplestephandlerjava148 orgspringframeworkbatchcorejobflowjobflowexecutorexecutestepjobflowexecutorjava64 orgspringframeworkbatchcorejobflowsupportstatestepstatehandlestepstatejava67 orgspringframeworkbatchcorejobflowsupportsimpleflowresumesimpleflowjava162 orgspringframeworkbatchcorejobflowsupportsimpleflowstartsimpleflowjava141 orgspringframeworkbatchcorejobflowflowjobdoexecuteflowjobjava134 orgspringframeworkbatchcorejobabstractjobexecuteabstractjobjava304 orgspringframeworkbatchcorelaunchsupportsimplejoblauncher1runsimplejoblauncherjava135 orgspringframeworkcoretasksynctaskexecutorexecutesynctaskexecutorjava50 orgspringframeworkbatchcorelaunchsupportsimplejoblauncherrunsimplejoblauncherjava128 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkbatchcoreconfigurationannotationsimplebatchconfigurationpassthruadviceinvokesimplebatchconfigurationjava127 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy44rununknown source orgspringframeworkbatchintegrationlaunchjoblaunchingmessagehandlerlaunchjoblaunchingmessagehandlerjava50 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkexpressionspelsupportreflectivemethodexecutorexecutereflectivemethodexecutorjava63 orgspringframeworkexpressionspelastmethodreferencegetvalueinternalmethodreferencejava122 orgspringframeworkexpressionspelastmethodreferenceaccess000methodreferencejava44 orgspringframeworkexpressionspelastmethodreferencemethodvaluerefgetvaluemethodreferencejava258 orgspringframeworkexpressionspelastcompoundexpressiongetvalueinternalcompoundexpressionjava84 orgspringframeworkexpressionspelastspelnodeimplgettypedvaluespelnodeimpljava114 orgspringframeworkexpressionspelstandardspelexpressiongetvaluespelexpressionjava111 orgspringframeworkintegrationutilabstractexpressionevaluatorevaluateexpressionabstractexpressionevaluatorjava159 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessinternalmessagingmethodinvokerhelperjava268 orgspringframeworkintegrationutilmessagingmethodinvokerhelperprocessmessagingmethodinvokerhelperjava142 orgspringframeworkintegrationhandlermethodinvokingmessageprocessorprocessmessagemethodinvokingmessageprocessorjava75 orgspringframeworkintegrationhandlerserviceactivatinghandlerhandlerequestmessageserviceactivatinghandlerjava71 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava170 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitorsimplemessagehandlermetricshandlemessagesimplemessagehandlermetricsjava106 orgspringframeworkintegrationmonitorsimplemessagehandlermetricsinvokesimplemessagehandlermetricsjava86 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy117handlemessageunknown source orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava97 orgspringframeworkintegrationchannelabstractsubscribablechanneldosendabstractsubscribablechanneljava77 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava255 orgspringframeworkintegrationchannelabstractmessagechannelsendabstractmessagechanneljava223 sunreflectgeneratedmethodaccessor107invokeunknown source sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitordirectchannelmetricsmonitorsenddirectchannelmetricsjava113 orgspringframeworkintegrationmonitordirectchannelmetricsdoinvokedirectchannelmetricsjava97 orgspringframeworkintegrationmonitordirectchannelmetricsinvokedirectchannelmetricsjava91 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy115sendunknown source orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava109 orgspringframeworkmessagingcoregenericmessagingtemplatedosendgenericmessagingtemplatejava44 orgspringframeworkmessagingcoreabstractmessagesendingtemplatesendabstractmessagesendingtemplatejava94 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendmessageabstractreplyproducingmessagehandlerjava260 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlersendreplymessageabstractreplyproducingmessagehandlerjava241 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerproducereplyabstractreplyproducingmessagehandlerjava205 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandleresultabstractreplyproducingmessagehandlerjava199 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava177 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava78 sunreflectnativemethodaccessorimplinvoke0native method sunreflectnativemethodaccessorimplinvokenativemethodaccessorimpljava57 sunreflectdelegatingmethodaccessorimplinvokedelegatingmethodaccessorimpljava43 javalangreflectmethodinvokemethodjava606 orgspringframeworkaopsupportaoputilsinvokejoinpointusingreflectionaoputilsjava317 orgspringframeworkaopframeworkreflectivemethodinvocationinvokejoinpointreflectivemethodinvocationjava190 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava157 orgspringframeworkintegrationmonitorsimplemessagehandlermetricshandlemessagesimplemessagehandlermetricsjava106 orgspringframeworkintegrationmonitorsimplemessagehandlermetricsinvokesimplemessagehandlermetricsjava86 orgspringframeworkaopframeworkreflectivemethodinvocationproceedreflectivemethodinvocationjava179 orgspringframeworkaopframeworkjdkdynamicaopproxyinvokejdkdynamicaopproxyjava207 comsunproxyproxy117handlemessageunknown source orgspringframeworkintegrationdispatcherabstractdispatchertryoptimizeddispatchabstractdispatcherjava116 orgspringframeworkintegrationdispatcherunicastingdispatcherdodispatchunicastingdispatcherjava101 orgspringframeworkintegrationdispatcherunicastingdispatcherdispatchunicastingdispatcherjava,0
create an ftp tasklet to get remote files and put them in the local file system this is along the lines of what is in this blog post httpcoreyreilwordpresscom20121221spring-batch-creating-an-ftp-tasklet-to-get-remote-files note that there have been some new developments in si to get at the underlying stream for ftp the way to test this is to create a new batch job in xd that has this as its tasklet going forward the target file system will also be hdfs,0
file source should be able to produce file contents or file reference file source should output either the file itself serialized file object or the contents as a byte this option is configured by a parameter --contentstrue the byte may be converted to a string using xd message conversion eg --output textplaincharsetutf-8,0
message conversion support for spark streaming module the spark streaming module needs to support inputtype for both processor and sink module and outputtype for processor module so that message conversion can happen at the messagebusreceiver and messagebussender,0
as a spring xd developer id like to port analytic-pmml module from xd to s-c-s repo so i can use it as processor module to build streaming pipeline,4
update sources twitter search section to use shell commands instead of curl see httpstaticspringsourceorgspring-xddocs100m1referencehtmltwittersearch,0
investigate lack of falling back to originmaster when building docs on a branch when building on a branch the docs should be defaulting to build from originmaster but that doesnt seem to be happening instead an explicit -pwikibranchoriginmaster is required to be specified on the command line,0
clean shutdown of redis in xd-container need to shutdown cleanly no exception messages are shown order of components in the stream should be shut down from first to last opposite of creation,0
improve connection handling in redisaggregatecounterservice this is currently too chatty it should be possible to use a single connection for each increment operation,0
as a user id like to have a redis based aggregation over field-value counters so that i can continuously write the aggregation in redis as we ingest more data scope port specs from previous implementationhttpsgithubcomspring-projectsspring-xdwikiold---aggregate-field-value-counters identify gaps update reference documentation,3
have the rest info about a module advertise enum properties when a moduleoption is backed by an enum change the currently string type representation to be the possible values ie javalangstring - string but trafficlight - red green orange,0
upgrade to jackson 222,0
enable ftphdfstest ftphdfstest was added in httpsgithubcomspring-projectsspring-xdpull1005 but excluded since it will require some changes to run on ec2 including setting up an ftpserver on ec2 with appropriate security etc,0
parameterizable streams,0
use messagebus binding to start underlying endpoint the messagebus implementations upon registration of consumer and producer fromto messagebus the corresponding endpoints start instead of directly calling the start on adapterconsumer we can call the corresponding bindings start which calls the underlying endpoint to start this is in-line with the way the corresponding endpoints are stopped using bindings stop during undeploydestroy,0
add support for hortonworks data platform 20 apologies if a ticket already exists for this but i didnt see one i spun up the hortonworks data platform 20 sandbox but see it isnt supported by spring xd yet how hard would it be to add these distros in is it just a matter of dropping in a lib folder for hadoop22 andor hdp20 and allowing those and options to be passed in via the --hadoopdistro option im currently trying to work through the following tutorial but using the hdp 20 sandbox instead of the 13 sandbox httphortonworkscomhadoop-tutorialusing-spring-xd-to-stream-tweets-to-hadoop-for-sentiment-analysis thanks,0
as a user id like to refer to the documentation so that i can connect to sqoop as recommended and create job definition based on the exposed metadata options,1
shell add named channel list command user shall have the ability to get a listing of available named channels order by name ascending from the shell add support to controllers add tests,0
create documentation for module property configuration describe the algorithm as defined in httpsdocsgooglecomagopivotalcomdocumentd12cboa7nyvvkvxdishlj-68m5f78ayxn14ejlrcljyvgedituspsharing,0
stream destroy fails if stream deploy failed from eric deploying using the following stream fails probably because of issues around quoting stream create foo --definition time filter --expressionpayloadcontains0 log --deploy when you try to destroy the stream the destroy fails which shouldnt happen whether the stream was valid or not,0
admin ui deployment status tooltip should close when the controller scope is lost please refer to httpsgithubcomspring-projectsspring-xdissues1119,0
as a user id like to migrate from 10 to 11 and be able to port my custom modules so that i can operationalize existing data pipelines and also take advantage of latest xd features,2
dsl parser that reads both stream and job definitions from multi line definitions the story xd-2993 addresses the dsl parser to read the multi line stream definitions we need to support adding multi line parser support for with the mixture of both streamjob definitions as a developer i would setup job definition and have a stream definition that triggers the job in the same multi line content,0
add support for creating named cron triggers simple cron based triggers,0
remove l from log4j patternlayout the xd-dirt log4jproperties includes the calling line number l which is not recommended for production httpsloggingapacheorglog4j12apidocsorgapachelog4jpatternlayouthtml warning generating caller location information is extremely slow and should be avoided unless execution speed is not an issue,0
add support for estimating the median value of a data stream often it is useful to have access to the median value for fields of a data stream since they are more robust with respect to outliers the median is defined as the value of a dataset such that when sorted 50 of the data is smaller than the value and 50 of the data is larger then the value ordinarily this is difficult to calculate on a stream because it requires the collection and sorting of all data the median of a data stream can be approximated with a technique called stochastic averaging to approximate the median value of a data stream one could use the following approach given the current estimate of the median m if the next observed value in the stream is larger than m increase the current estimate by r the learning rate if it is smaller decrease the estimate by r when m is close to the median it increases as often as it decreases and therefore it stabilizes the following example shows a primitive implementation of the above mentioned algorithm in groovy to be placed under xdhomemodulesprocessorscripts codegroovy import orgspringframeworkxdtupletuplebuilder import orgspringframeworkxdtupletuple stochastic averaging to compute the median of a data stream to approximate this value using stochastic optimization the value of interest is the current estimate of the median m if the next observed value of the stream is larger than m increase by r if it is smaller decrease the estimate by r when m is close to the median it increases as often as it decreases and therefore stablilizes r denotes the learningrate enum medianestimator instance todo add support for estimating multiple medians the current median value double current doublepositiveinfinity public double updatedouble value double learningrate initialize current with given value ifcurrent doublepositiveinfinity current value ifcurrent value return current move current value towards the median current current current value learningrate -learningrate return current todo make learning rate configurable def learningrate 07 todo add support for dynamic field selection double median medianestimatorinstanceupdatepayloadgetdoublevalue learningrate def fieldnames new arrayliststringpayloadgetfieldnames def fieldvalues new arraylistobjectpayloadgetvalues todo add make median output field configurable fieldnamesaddvaluemedian fieldvaluesaddmedian return the original tuple values extended with the computed median tuplebuildertupleofnamesandvaluesfieldnames fieldvalues code stream definition code xdstream create median --definition http --outputtypeapplicationx-xd-tuple script --locationmedian-estgroovy log --deploy created and deployed new stream median code post some json data code xdhttp post --contenttype applicationjson --data value2 post applicationjsoncharsetutf-8 httplocalhost9000 value2 200 ok code output code 204437829 info pool-35-thread-4 sinkmedian - idcd9719b3-eeff-59c9-fdf1-fdb628c7fbb8timestamp1413139477829value2valuemedian20 code after 15 the median value should stabilize this approach was taken from the book real-time analytics - techniques to analyze and visualize streaming data p 296 byron ellis wiley open points - support for resetting the median value - better state management redis - support median estimation for multiple fields - make learning rate configurable from outside - maybe add this as aggregate-counter aggregation strategy,0
create shell integration tests for tap lifeycle creating taps deleting,0
as a s-c-d user id like to have the option of gemfire as stream repository so i can build data pipelines that are entirely orchestrated within gemfire,5
fix package-infojava warnings,0
make batch job controllers hateoas compliant currently the batchjobscontroller and batchjobexecutionscontroller are not hateoas compliant and we need make them so,0
user would like to see requestresponse details headers urls etc in shell add debug flag for logging globally maybe or else --trace per command,0
add support for update in gpfdist sink currently we can only do plain inserts should follow same logic from native gpfdist sink and add upserts,0
documentation for http gemfire processing put on the guide as a section in an input-stream wiki page,0
create documentation section for the shell create a new section in the docs regaring shell usage in particular how to represent single and double quotes include some discussion of basic commands to manipulate streams jobs and list modules how to pass in a file that can be executed when the shell starts up also point to spring-shell ref docs for extensibility in terms of adding custom commands,0
as a pm id like to have test coverage for both kafka source and sink modules so that we can assert its functionality as part of the ci builds,5
topic in mqtt source was marked as topics changed field back to topic,0
create gemfire integration test scripts,0
upgrade curator to 260 curator 260 was released on july 11 httpsissuesapacheorgjirasecurereleasenotejspaprojectid12314425version12327098,0
as a user i should be able to leverage native websocket sink so that i can take the advantage of full-duplex communications channels over a single tcp connection,5
as a spring xd developer id like to move mail module from xd to s-c-s-m repo so i can use it as source to build streaming pipeline,2
add tasklet to stream from sftp to hdfs,0
support moduleoptions for composed modules with the following semantics assuming http filter transform composition fully qualified names always available eg filterexpression using module type as key or label if ambiguity simple names available if no ambiguity eg here port refers to httpport as per discussion viii use of --expression option in composed module filter filter should not be supported require fqn always should pertain to first filter module always should pertain to all modules with an expression option here both filters should fail if not qualified and ambiguity use labelexpression or typeexpression eg if we had filter transform see vii nesting1nesting2nesting3expression mf viii use of --expression option in composed module http filter --expressionsomething transform should not be supported already valued should pertain to first filter module always should pertain to all modules with an expression option here both filters should fail if not qualified and ambiguity use labelexpression or typeexpression eg if we had filter transform see vii nesting1nesting2nesting3expression mf,0
making an http post with json double quoted will hang the shell was following the now updated directions for gemfire-cq source xd stream create --name stocks --definition http --port9090 gemfire-json-server --regionnamestocks --keyexpressionpayloadgetfieldsymbol xd stream create --name cqtest --definition gemfire-cq --queryselect from stocks where symbolvmw file xd http post --target httplocalhost9090 --data symbolvmw price73 the double quotes were causing a problem with xd-singlenode aug 06 2013 53815 pm orgjbossnettychannelsimplechannelupstreamhandler warning exception please implement orgspringframeworkintegrationxhttpnettyhttpinboundchanneladapterhandlerexceptioncaught for proper handling orgspringframeworkintegrationtransformermessagetransformationexception orgspringframeworkintegrationmessagehandlingexception orgspringframeworkintegrationtransformermessagetransformationexception expected a after a key at 22 character 23 line 1 orgspringframeworkintegrationtransformermessagetransforminghandlerhandlerequestmessagemessagetransforminghandlerjava73 orgspringframeworkintegrationhandlerabstractreplyproducingmessagehandlerhandlemessageinternalabstractreplyproducingmessagehandlerjava137 orgspringframeworkintegrationhandlerabstractmessagehandlerhandlemessageabstractmessagehandlerjava73 using single quotes inside the json brackets worked need to investigate,0
add admin and container memory settings to serversyml we should add an easy way to configure the memory currently we only have the number of yarn containers configurable without diving into spring yarnboot specific config options code xd adminservers 1 containers 1 code proposing we do code xd adminservers 1 adminmemory 512m containers 1 containermemory 512m code,0
add create and deploy methods to jobscontroller see httpsdocsgooglecomagopivotalcomdrawingsd1kcnbvsprbjgc10itf9cskwst8wgcjgg3wgzfkqlcazuedit create the controller if it doesnt exist test with mvctest,0
upgrade to spring boot 13 upgrade dependencies to spring boot 13x,0
